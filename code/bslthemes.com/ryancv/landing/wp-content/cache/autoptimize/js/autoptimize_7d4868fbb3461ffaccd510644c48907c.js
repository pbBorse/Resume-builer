/*! jQuery Migrate v3.4.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined" == typeof jQuery.migrateMute && (jQuery.migrateMute = !0),
    function(t) {
        "use strict";
        "function" == typeof define && define.amd ? define(["jquery"], function(e) {
            return t(e, window)
        }) : "object" == typeof module && module.exports ? module.exports = t(require("jquery"), window) : t(jQuery, window)
    }(function(s, n) {
        "use strict";

        function e(e) {
            return 0 <= function(e, t) {
                for (var r = /^(\d+)\.(\d+)\.(\d+)/, n = r.exec(e) || [], o = r.exec(t) || [], a = 1; a <= 3; a++) {
                    if (+o[a] < +n[a]) return 1;
                    if (+n[a] < +o[a]) return -1
                }
                return 0
            }(s.fn.jquery, e)
        }
        s.migrateVersion = "3.4.1";
        var t = Object.create(null);
        s.migrateDisablePatches = function() {
            for (var e = 0; e < arguments.length; e++) t[arguments[e]] = !0
        }, s.migrateEnablePatches = function() {
            for (var e = 0; e < arguments.length; e++) delete t[arguments[e]]
        }, s.migrateIsPatchEnabled = function(e) {
            return !t[e]
        }, n.console && n.console.log && (s && e("3.0.0") && !e("5.0.0") || n.console.log("JQMIGRATE: jQuery 3.x-4.x REQUIRED"), s.migrateWarnings && n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"), n.console.log("JQMIGRATE: Migrate is installed" + (s.migrateMute ? "" : " with logging active") + ", version " + s.migrateVersion));
        var o = {};

        function u(e, t) {
            var r = n.console;
            !s.migrateIsPatchEnabled(e) || s.migrateDeduplicateWarnings && o[t] || (o[t] = !0, s.migrateWarnings.push(t + " [" + e + "]"), r && r.warn && !s.migrateMute && (r.warn("JQMIGRATE: " + t), s.migrateTrace && r.trace && r.trace()))
        }

        function r(e, t, r, n, o) {
            Object.defineProperty(e, t, {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return u(n, o), r
                },
                set: function(e) {
                    u(n, o), r = e
                }
            })
        }

        function a(e, t, r, n, o) {
            var a = e[t];
            e[t] = function() {
                return o && u(n, o), (s.migrateIsPatchEnabled(n) ? r : a || s.noop).apply(this, arguments)
            }
        }

        function c(e, t, r, n, o) {
            if (!o) throw new Error("No warning message provided");
            return a(e, t, r, n, o), 0
        }

        function i(e, t, r, n) {
            return a(e, t, r, n), 0
        }
        s.migrateDeduplicateWarnings = !0, s.migrateWarnings = [], void 0 === s.migrateTrace && (s.migrateTrace = !0), s.migrateReset = function() {
            o = {}, s.migrateWarnings.length = 0
        }, "BackCompat" === n.document.compatMode && u("quirks", "jQuery is not compatible with Quirks Mode");
        var d, l, p, f = {},
            m = s.fn.init,
            y = s.find,
            h = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,
            g = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,
            v = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
        for (d in i(s.fn, "init", function(e) {
                var t = Array.prototype.slice.call(arguments);
                return s.migrateIsPatchEnabled("selector-empty-id") && "string" == typeof e && "#" === e && (u("selector-empty-id", "jQuery( '#' ) is not a valid selector"), t[0] = []), m.apply(this, t)
            }, "selector-empty-id"), s.fn.init.prototype = s.fn, i(s, "find", function(t) {
                var r = Array.prototype.slice.call(arguments);
                if ("string" == typeof t && h.test(t)) try {
                    n.document.querySelector(t)
                } catch (e) {
                    t = t.replace(g, function(e, t, r, n) {
                        return "[" + t + r + '"' + n + '"]'
                    });
                    try {
                        n.document.querySelector(t), u("selector-hash", "Attribute selector with '#' must be quoted: " + r[0]), r[0] = t
                    } catch (e) {
                        u("selector-hash", "Attribute selector with '#' was not fixed: " + r[0])
                    }
                }
                return y.apply(this, r)
            }, "selector-hash"), y) Object.prototype.hasOwnProperty.call(y, d) && (s.find[d] = y[d]);
        c(s.fn, "size", function() {
            return this.length
        }, "size", "jQuery.fn.size() is deprecated and removed; use the .length property"), c(s, "parseJSON", function() {
            return JSON.parse.apply(null, arguments)
        }, "parseJSON", "jQuery.parseJSON is deprecated; use JSON.parse"), c(s, "holdReady", s.holdReady, "holdReady", "jQuery.holdReady is deprecated"), c(s, "unique", s.uniqueSort, "unique", "jQuery.unique is deprecated; use jQuery.uniqueSort"), r(s.expr, "filters", s.expr.pseudos, "expr-pre-pseudos", "jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"), r(s.expr, ":", s.expr.pseudos, "expr-pre-pseudos", "jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"), e("3.1.1") && c(s, "trim", function(e) {
            return null == e ? "" : (e + "").replace(v, "$1")
        }, "trim", "jQuery.trim is deprecated; use String.prototype.trim"), e("3.2.0") && (c(s, "nodeName", function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        }, "nodeName", "jQuery.nodeName is deprecated"), c(s, "isArray", Array.isArray, "isArray", "jQuery.isArray is deprecated; use Array.isArray")), e("3.3.0") && (c(s, "isNumeric", function(e) {
            var t = typeof e;
            return ("number" == t || "string" == t) && !isNaN(e - parseFloat(e))
        }, "isNumeric", "jQuery.isNumeric() is deprecated"), s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
            f["[object " + t + "]"] = t.toLowerCase()
        }), c(s, "type", function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? f[Object.prototype.toString.call(e)] || "object" : typeof e
        }, "type", "jQuery.type is deprecated"), c(s, "isFunction", function(e) {
            return "function" == typeof e
        }, "isFunction", "jQuery.isFunction() is deprecated"), c(s, "isWindow", function(e) {
            return null != e && e === e.window
        }, "isWindow", "jQuery.isWindow() is deprecated")), s.ajax && (l = s.ajax, p = /(=)\?(?=&|$)|\?\?/, i(s, "ajax", function() {
            var e = l.apply(this, arguments);
            return e.promise && (c(e, "success", e.done, "jqXHR-methods", "jQXHR.success is deprecated and removed"), c(e, "error", e.fail, "jqXHR-methods", "jQXHR.error is deprecated and removed"), c(e, "complete", e.always, "jqXHR-methods", "jQXHR.complete is deprecated and removed")), e
        }, "jqXHR-methods"), e("4.0.0") || s.ajaxPrefilter("+json", function(e) {
            !1 !== e.jsonp && (p.test(e.url) || "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && p.test(e.data)) && u("jsonp-promotion", "JSON-to-JSONP auto-promotion is deprecated")
        }));
        var j = s.fn.removeAttr,
            b = s.fn.toggleClass,
            w = /\S+/g;

        function x(e) {
            return e.replace(/-([a-z])/g, function(e, t) {
                return t.toUpperCase()
            })
        }
        i(s.fn, "removeAttr", function(e) {
            var r = this,
                n = !1;
            return s.each(e.match(w), function(e, t) {
                s.expr.match.bool.test(t) && r.each(function() {
                    if (!1 !== s(this).prop(t)) return !(n = !0)
                }), n && (u("removeAttr-bool", "jQuery.fn.removeAttr no longer sets boolean properties: " + t), r.prop(t, !1))
            }), j.apply(this, arguments)
        }, "removeAttr-bool"), i(s.fn, "toggleClass", function(t) {
            return void 0 !== t && "boolean" != typeof t ? b.apply(this, arguments) : (u("toggleClass-bool", "jQuery.fn.toggleClass( boolean ) is deprecated"), this.each(function() {
                var e = this.getAttribute && this.getAttribute("class") || "";
                e && s.data(this, "__className__", e), this.setAttribute && this.setAttribute("class", !e && !1 !== t && s.data(this, "__className__") || "")
            }))
        }, "toggleClass-bool");
        var Q, A, R = !1,
            C = /^[a-z]/,
            N = /^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;
        s.swap && s.each(["height", "width", "reliableMarginRight"], function(e, t) {
            var r = s.cssHooks[t] && s.cssHooks[t].get;
            r && (s.cssHooks[t].get = function() {
                var e;
                return R = !0, e = r.apply(this, arguments), R = !1, e
            })
        }), i(s, "swap", function(e, t, r, n) {
            var o, a, i = {};
            for (a in R || u("swap", "jQuery.swap() is undocumented and deprecated"), t) i[a] = e.style[a], e.style[a] = t[a];
            for (a in o = r.apply(e, n || []), t) e.style[a] = i[a];
            return o
        }, "swap"), e("3.4.0") && "undefined" != typeof Proxy && (s.cssProps = new Proxy(s.cssProps || {}, {
            set: function() {
                return u("cssProps", "jQuery.cssProps is deprecated"), Reflect.set.apply(this, arguments)
            }
        })), e("4.0.0") ? (A = {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            gridArea: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnStart: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowStart: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        }, "undefined" != typeof Proxy ? s.cssNumber = new Proxy(A, {
            get: function() {
                return u("css-number", "jQuery.cssNumber is deprecated"), Reflect.get.apply(this, arguments)
            },
            set: function() {
                return u("css-number", "jQuery.cssNumber is deprecated"), Reflect.set.apply(this, arguments)
            }
        }) : s.cssNumber = A) : A = s.cssNumber, Q = s.fn.css, i(s.fn, "css", function(e, t) {
            var r, n, o = this;
            return e && "object" == typeof e && !Array.isArray(e) ? (s.each(e, function(e, t) {
                s.fn.css.call(o, e, t)
            }), this) : ("number" == typeof t && (r = x(e), n = r, C.test(n) && N.test(n[0].toUpperCase() + n.slice(1)) || A[r] || u("css-number", 'Number-typed values are deprecated for jQuery.fn.css( "' + e + '", value )')), Q.apply(this, arguments))
        }, "css-number");
        var S, P, k, H, E = s.data;
        i(s, "data", function(e, t, r) {
            var n, o, a;
            if (t && "object" == typeof t && 2 === arguments.length) {
                for (a in n = s.hasData(e) && E.call(this, e), o = {}, t) a !== x(a) ? (u("data-camelCase", "jQuery.data() always sets/gets camelCased names: " + a), n[a] = t[a]) : o[a] = t[a];
                return E.call(this, e, o), t
            }
            return t && "string" == typeof t && t !== x(t) && (n = s.hasData(e) && E.call(this, e)) && t in n ? (u("data-camelCase", "jQuery.data() always sets/gets camelCased names: " + t), 2 < arguments.length && (n[t] = r), n[t]) : E.apply(this, arguments)
        }, "data-camelCase"), s.fx && (k = s.Tween.prototype.run, H = function(e) {
            return e
        }, i(s.Tween.prototype, "run", function() {
            1 < s.easing[this.easing].length && (u("easing-one-arg", "'jQuery.easing." + this.easing.toString() + "' should use only one argument"), s.easing[this.easing] = H), k.apply(this, arguments)
        }, "easing-one-arg"), S = s.fx.interval, P = "jQuery.fx.interval is deprecated", n.requestAnimationFrame && Object.defineProperty(s.fx, "interval", {
            configurable: !0,
            enumerable: !0,
            get: function() {
                return n.document.hidden || u("fx-interval", P), s.migrateIsPatchEnabled("fx-interval") && void 0 === S ? 13 : S
            },
            set: function(e) {
                u("fx-interval", P), S = e
            }
        }));
        var M = s.fn.load,
            q = s.event.add,
            O = s.event.fix;
        s.event.props = [], s.event.fixHooks = {}, r(s.event.props, "concat", s.event.props.concat, "event-old-patch", "jQuery.event.props.concat() is deprecated and removed"), i(s.event, "fix", function(e) {
            var t, r = e.type,
                n = this.fixHooks[r],
                o = s.event.props;
            if (o.length) {
                u("event-old-patch", "jQuery.event.props are deprecated and removed: " + o.join());
                while (o.length) s.event.addProp(o.pop())
            }
            if (n && !n._migrated_ && (n._migrated_ = !0, u("event-old-patch", "jQuery.event.fixHooks are deprecated and removed: " + r), (o = n.props) && o.length))
                while (o.length) s.event.addProp(o.pop());
            return t = O.call(this, e), n && n.filter ? n.filter(t, e) : t
        }, "event-old-patch"), i(s.event, "add", function(e, t) {
            return e === n && "load" === t && "complete" === n.document.readyState && u("load-after-event", "jQuery(window).on('load'...) called after load event occurred"), q.apply(this, arguments)
        }, "load-after-event"), s.each(["load", "unload", "error"], function(e, t) {
            i(s.fn, t, function() {
                var e = Array.prototype.slice.call(arguments, 0);
                return "load" === t && "string" == typeof e[0] ? M.apply(this, e) : (u("shorthand-removed-v3", "jQuery.fn." + t + "() is deprecated"), e.splice(0, 0, t), arguments.length ? this.on.apply(this, e) : (this.triggerHandler.apply(this, e), this))
            }, "shorthand-removed-v3")
        }), s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, r) {
            c(s.fn, r, function(e, t) {
                return 0 < arguments.length ? this.on(r, null, e, t) : this.trigger(r)
            }, "shorthand-deprecated-v3", "jQuery.fn." + r + "() event shorthand is deprecated")
        }), s(function() {
            s(n.document).triggerHandler("ready")
        }), s.event.special.ready = {
            setup: function() {
                this === n.document && u("ready-event", "'ready' event is deprecated")
            }
        }, c(s.fn, "bind", function(e, t, r) {
            return this.on(e, null, t, r)
        }, "pre-on-methods", "jQuery.fn.bind() is deprecated"), c(s.fn, "unbind", function(e, t) {
            return this.off(e, null, t)
        }, "pre-on-methods", "jQuery.fn.unbind() is deprecated"), c(s.fn, "delegate", function(e, t, r, n) {
            return this.on(t, e, r, n)
        }, "pre-on-methods", "jQuery.fn.delegate() is deprecated"), c(s.fn, "undelegate", function(e, t, r) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", r)
        }, "pre-on-methods", "jQuery.fn.undelegate() is deprecated"), c(s.fn, "hover", function(e, t) {
            return this.on("mouseenter", e).on("mouseleave", t || e)
        }, "pre-on-methods", "jQuery.fn.hover() is deprecated");

        function T(e) {
            var t = n.document.implementation.createHTMLDocument("");
            return t.body.innerHTML = e, t.body && t.body.innerHTML
        }
        var F = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi;
        s.UNSAFE_restoreLegacyHtmlPrefilter = function() {
            s.migrateEnablePatches("self-closed-tags")
        }, i(s, "htmlPrefilter", function(e) {
            var t, r;
            return (r = (t = e).replace(F, "<$1></$2>")) !== t && T(t) !== T(r) && u("self-closed-tags", "HTML tags must be properly nested and closed: " + t), e.replace(F, "<$1></$2>")
        }, "self-closed-tags"), s.migrateDisablePatches("self-closed-tags");
        var D, W, _, I = s.fn.offset;
        return i(s.fn, "offset", function() {
            var e = this[0];
            return !e || e.nodeType && e.getBoundingClientRect ? I.apply(this, arguments) : (u("offset-valid-elem", "jQuery.fn.offset() requires a valid DOM element"), arguments.length ? this : void 0)
        }, "offset-valid-elem"), s.ajax && (D = s.param, i(s, "param", function(e, t) {
            var r = s.ajaxSettings && s.ajaxSettings.traditional;
            return void 0 === t && r && (u("param-ajax-traditional", "jQuery.param() no longer uses jQuery.ajaxSettings.traditional"), t = r), D.call(this, e, t)
        }, "param-ajax-traditional")), c(s.fn, "andSelf", s.fn.addBack, "andSelf", "jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"), s.Deferred && (W = s.Deferred, _ = [
            ["resolve", "done", s.Callbacks("once memory"), s.Callbacks("once memory"), "resolved"],
            ["reject", "fail", s.Callbacks("once memory"), s.Callbacks("once memory"), "rejected"],
            ["notify", "progress", s.Callbacks("memory"), s.Callbacks("memory")]
        ], i(s, "Deferred", function(e) {
            var a = W(),
                i = a.promise();

            function t() {
                var o = arguments;
                return s.Deferred(function(n) {
                    s.each(_, function(e, t) {
                        var r = "function" == typeof o[e] && o[e];
                        a[t[1]](function() {
                            var e = r && r.apply(this, arguments);
                            e && "function" == typeof e.promise ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[t[0] + "With"](this === i ? n.promise() : this, r ? [e] : arguments)
                        })
                    }), o = null
                }).promise()
            }
            return c(a, "pipe", t, "deferred-pipe", "deferred.pipe() is deprecated"), c(i, "pipe", t, "deferred-pipe", "deferred.pipe() is deprecated"), e && e.call(a, a), a
        }, "deferred-pipe"), s.Deferred.exceptionHook = W.exceptionHook), s
    });
(function($) {
    "use strict";

    function sliders() {
        var swiper = new Swiper('.tst-main-slider', {
            slidesPerView: 1,
            speed: 800,
            effect: 'fade',
            fadeEffect: {
                crossFade: true
            },
            pagination: {
                el: '.tst-main-pagination',
                clickable: true,
            },
            parallax: true,
            autoplay: false,
            navigation: {
                prevEl: '.tst-main-prev',
                nextEl: '.tst-main-next',
            },
        });
    }
    $(window).on('elementor/frontend/init', function() {
        elementorFrontend.hooks.addAction('frontend/element_ready/kinsley-hero-slider.default', function() {});
        elementorFrontend.hooks.addAction('frontend/element_ready/kinsley-cta.default', function() {
            if ($('.tst-call-to-action').length) {
                var divider_el = $('.tst-call-to-action');
                var divider_sec = divider_el.closest('section');
                if (divider_sec.length) {
                    divider_sec.css('background-color', 'transparent');
                }
            }
        });
        elementorFrontend.hooks.addAction('frontend/element_ready/global', function($scope) {});
        elementorFrontend.hooks.addAction('frontend/element_ready/widget', function($scope) {});
    });
})(jQuery);
(function($) {
    'use strict';
    var isIe = /(trident|msie)/i.test(navigator.userAgent);
    if (isIe && document.getElementById && window.addEventListener) {
        window.addEventListener('hashchange', function() {
            var id = location.hash.substring(1),
                element;
            if (!(/^[A-z0-9_-]+$/.test(id))) {
                return;
            }
            element = document.getElementById(id);
            if (element) {
                if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {
                    element.tabIndex = -1;
                }
                element.focus();
            }
        }, false);
    }
})(jQuery);
! function(t, e, i) {
    ! function() {
        var s, a, n, h = "2.2.3",
            o = "datepicker",
            r = ".datepicker-here",
            c = !1,
            d = '<div class="datepicker"><i class="datepicker--pointer"></i><nav class="datepicker--nav"></nav><div class="datepicker--content"></div></div>',
            l = {
                classes: "",
                inline: !1,
                language: "ru",
                startDate: new Date,
                firstDay: "",
                weekends: [6, 0],
                dateFormat: "",
                altField: "",
                altFieldDateFormat: "@",
                toggleSelected: !0,
                keyboardNav: !0,
                position: "bottom left",
                offset: 12,
                view: "days",
                minView: "days",
                showOtherMonths: !0,
                selectOtherMonths: !0,
                moveToOtherMonthsOnSelect: !0,
                showOtherYears: !0,
                selectOtherYears: !0,
                moveToOtherYearsOnSelect: !0,
                minDate: "",
                maxDate: "",
                disableNavWhenOutOfRange: !0,
                multipleDates: !1,
                multipleDatesSeparator: ",",
                range: !1,
                todayButton: !1,
                clearButton: !1,
                showEvent: "focus",
                autoClose: !1,
                monthsField: "monthsShort",
                prevHtml: '<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',
                nextHtml: '<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',
                navTitles: {
                    days: "MM, <i>yyyy</i>",
                    months: "yyyy",
                    years: "yyyy1 - yyyy2"
                },
                timepicker: !1,
                onlyTimepicker: !1,
                dateTimeSeparator: " ",
                timeFormat: "",
                minHours: 0,
                maxHours: 24,
                minMinutes: 0,
                maxMinutes: 59,
                hoursStep: 1,
                minutesStep: 1,
                onSelect: "",
                onShow: "",
                onHide: "",
                onChangeMonth: "",
                onChangeYear: "",
                onChangeDecade: "",
                onChangeView: "",
                onRenderCell: ""
            },
            u = {
                ctrlRight: [17, 39],
                ctrlUp: [17, 38],
                ctrlLeft: [17, 37],
                ctrlDown: [17, 40],
                shiftRight: [16, 39],
                shiftUp: [16, 38],
                shiftLeft: [16, 37],
                shiftDown: [16, 40],
                altUp: [18, 38],
                altRight: [18, 39],
                altLeft: [18, 37],
                altDown: [18, 40],
                ctrlShiftUp: [16, 17, 38]
            },
            m = function(t, a) {
                this.el = t, this.$el = e(t), this.opts = e.extend(!0, {}, l, a, this.$el.data()), s == i && (s = e("html")), this.opts.startDate || (this.opts.startDate = new Date), "INPUT" == this.el.nodeName && (this.elIsInput = !0), this.opts.altField && (this.$altField = "string" == typeof this.opts.altField ? e(this.opts.altField) : this.opts.altField), this.inited = !1, this.visible = !1, this.silent = !1, this.currentDate = this.opts.startDate, this.currentView = this.opts.view, this._createShortCuts(), this.selectedDates = [], this.views = {}, this.keys = [], this.minRange = "", this.maxRange = "", this._prevOnSelectValue = "", this.init()
            };
        n = m, n.prototype = {
            VERSION: h,
            viewIndexes: ["days", "months", "years"],
            init: function() {
                c || this.opts.inline || !this.elIsInput || this._buildDatepickersContainer(), this._buildBaseHtml(), this._defineLocale(this.opts.language), this._syncWithMinMaxDates(), this.elIsInput && (this.opts.inline || (this._setPositionClasses(this.opts.position), this._bindEvents()), this.opts.keyboardNav && !this.opts.onlyTimepicker && this._bindKeyboardEvents(), this.$datepicker.on("mousedown", this._onMouseDownDatepicker.bind(this)), this.$datepicker.on("mouseup", this._onMouseUpDatepicker.bind(this))), this.opts.classes && this.$datepicker.addClass(this.opts.classes), this.opts.timepicker && (this.timepicker = new e.fn.datepicker.Timepicker(this, this.opts), this._bindTimepickerEvents()), this.opts.onlyTimepicker && this.$datepicker.addClass("-only-timepicker-"), this.views[this.currentView] = new e.fn.datepicker.Body(this, this.currentView, this.opts), this.views[this.currentView].show(), this.nav = new e.fn.datepicker.Navigation(this, this.opts), this.view = this.currentView, this.$el.on("clickCell.adp", this._onClickCell.bind(this)), this.$datepicker.on("mouseenter", ".datepicker--cell", this._onMouseEnterCell.bind(this)), this.$datepicker.on("mouseleave", ".datepicker--cell", this._onMouseLeaveCell.bind(this)), this.inited = !0
            },
            _createShortCuts: function() {
                this.minDate = this.opts.minDate ? this.opts.minDate : new Date(-86399999136e5), this.maxDate = this.opts.maxDate ? this.opts.maxDate : new Date(86399999136e5)
            },
            _bindEvents: function() {
                this.$el.on(this.opts.showEvent + ".adp", this._onShowEvent.bind(this)), this.$el.on("mouseup.adp", this._onMouseUpEl.bind(this)), this.$el.on("blur.adp", this._onBlur.bind(this)), this.$el.on("keyup.adp", this._onKeyUpGeneral.bind(this)), e(t).on("resize.adp", this._onResize.bind(this)), e("body").on("mouseup.adp", this._onMouseUpBody.bind(this))
            },
            _bindKeyboardEvents: function() {
                this.$el.on("keydown.adp", this._onKeyDown.bind(this)), this.$el.on("keyup.adp", this._onKeyUp.bind(this)), this.$el.on("hotKey.adp", this._onHotKey.bind(this))
            },
            _bindTimepickerEvents: function() {
                this.$el.on("timeChange.adp", this._onTimeChange.bind(this))
            },
            isWeekend: function(t) {
                return -1 !== this.opts.weekends.indexOf(t)
            },
            _defineLocale: function(t) {
                "string" == typeof t ? (this.loc = e.fn.datepicker.language[t], this.loc || (console.warn("Can't find language \"" + t + '" in Datepicker.language, will use "ru" instead'), this.loc = e.extend(!0, {}, e.fn.datepicker.language.ru)), this.loc = e.extend(!0, {}, e.fn.datepicker.language.ru, e.fn.datepicker.language[t])) : this.loc = e.extend(!0, {}, e.fn.datepicker.language.ru, t), this.opts.dateFormat && (this.loc.dateFormat = this.opts.dateFormat), this.opts.timeFormat && (this.loc.timeFormat = this.opts.timeFormat), "" !== this.opts.firstDay && (this.loc.firstDay = this.opts.firstDay), this.opts.timepicker && (this.loc.dateFormat = [this.loc.dateFormat, this.loc.timeFormat].join(this.opts.dateTimeSeparator)), this.opts.onlyTimepicker && (this.loc.dateFormat = this.loc.timeFormat);
                var i = this._getWordBoundaryRegExp;
                (this.loc.timeFormat.match(i("aa")) || this.loc.timeFormat.match(i("AA"))) && (this.ampm = !0)
            },
            _buildDatepickersContainer: function() {
                c = !0, s.append('<div class="datepickers-container" id="datepickers-container"></div>'), a = e("#datepickers-container")
            },
            _buildBaseHtml: function() {
                var t, i = e('<div class="datepicker-inline">');
                t = "INPUT" == this.el.nodeName ? this.opts.inline ? i.insertAfter(this.$el) : a : i.appendTo(this.$el), this.$datepicker = e(d).appendTo(t), this.$content = e(".datepicker--content", this.$datepicker), this.$nav = e(".datepicker--nav", this.$datepicker)
            },
            _triggerOnChange: function() {
                if (!this.selectedDates.length) {
                    if ("" === this._prevOnSelectValue) return;
                    return this._prevOnSelectValue = "", this.opts.onSelect("", "", this)
                }
                var t, e = this.selectedDates,
                    i = n.getParsedDate(e[0]),
                    s = this,
                    a = new Date(i.year, i.month, i.date, i.hours, i.minutes);
                t = e.map(function(t) {
                    return s.formatDate(s.loc.dateFormat, t)
                }).join(this.opts.multipleDatesSeparator), (this.opts.multipleDates || this.opts.range) && (a = e.map(function(t) {
                    var e = n.getParsedDate(t);
                    return new Date(e.year, e.month, e.date, e.hours, e.minutes)
                })), this._prevOnSelectValue = t, this.opts.onSelect(t, a, this)
            },
            next: function() {
                var t = this.parsedDate,
                    e = this.opts;
                switch (this.view) {
                    case "days":
                        this.date = new Date(t.year, t.month + 1, 1), e.onChangeMonth && e.onChangeMonth(this.parsedDate.month, this.parsedDate.year);
                        break;
                    case "months":
                        this.date = new Date(t.year + 1, t.month, 1), e.onChangeYear && e.onChangeYear(this.parsedDate.year);
                        break;
                    case "years":
                        this.date = new Date(t.year + 10, 0, 1), e.onChangeDecade && e.onChangeDecade(this.curDecade)
                }
            },
            prev: function() {
                var t = this.parsedDate,
                    e = this.opts;
                switch (this.view) {
                    case "days":
                        this.date = new Date(t.year, t.month - 1, 1), e.onChangeMonth && e.onChangeMonth(this.parsedDate.month, this.parsedDate.year);
                        break;
                    case "months":
                        this.date = new Date(t.year - 1, t.month, 1), e.onChangeYear && e.onChangeYear(this.parsedDate.year);
                        break;
                    case "years":
                        this.date = new Date(t.year - 10, 0, 1), e.onChangeDecade && e.onChangeDecade(this.curDecade)
                }
            },
            formatDate: function(t, e) {
                e = e || this.date;
                var i, s = t,
                    a = this._getWordBoundaryRegExp,
                    h = this.loc,
                    o = n.getLeadingZeroNum,
                    r = n.getDecade(e),
                    c = n.getParsedDate(e),
                    d = c.fullHours,
                    l = c.hours,
                    u = t.match(a("aa")) || t.match(a("AA")),
                    m = "am",
                    p = this._replacer;
                switch (this.opts.timepicker && this.timepicker && u && (i = this.timepicker._getValidHoursFromDate(e, u), d = o(i.hours), l = i.hours, m = i.dayPeriod), !0) {
                    case /@/.test(s):
                        s = s.replace(/@/, e.getTime());
                    case /aa/.test(s):
                        s = p(s, a("aa"), m);
                    case /AA/.test(s):
                        s = p(s, a("AA"), m.toUpperCase());
                    case /dd/.test(s):
                        s = p(s, a("dd"), c.fullDate);
                    case /d/.test(s):
                        s = p(s, a("d"), c.date);
                    case /DD/.test(s):
                        s = p(s, a("DD"), h.days[c.day]);
                    case /D/.test(s):
                        s = p(s, a("D"), h.daysShort[c.day]);
                    case /mm/.test(s):
                        s = p(s, a("mm"), c.fullMonth);
                    case /m/.test(s):
                        s = p(s, a("m"), c.month + 1);
                    case /MM/.test(s):
                        s = p(s, a("MM"), this.loc.months[c.month]);
                    case /M/.test(s):
                        s = p(s, a("M"), h.monthsShort[c.month]);
                    case /ii/.test(s):
                        s = p(s, a("ii"), c.fullMinutes);
                    case /i/.test(s):
                        s = p(s, a("i"), c.minutes);
                    case /hh/.test(s):
                        s = p(s, a("hh"), d);
                    case /h/.test(s):
                        s = p(s, a("h"), l);
                    case /yyyy/.test(s):
                        s = p(s, a("yyyy"), c.year);
                    case /yyyy1/.test(s):
                        s = p(s, a("yyyy1"), r[0]);
                    case /yyyy2/.test(s):
                        s = p(s, a("yyyy2"), r[1]);
                    case /yy/.test(s):
                        s = p(s, a("yy"), c.year.toString().slice(-2))
                }
                return s
            },
            _replacer: function(t, e, i) {
                return t.replace(e, function(t, e, s, a) {
                    return e + i + a
                })
            },
            _getWordBoundaryRegExp: function(t) {
                var e = "\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";
                return new RegExp("(^|>|" + e + ")(" + t + ")($|<|" + e + ")", "g")
            },
            selectDate: function(t) {
                var e = this,
                    i = e.opts,
                    s = e.parsedDate,
                    a = e.selectedDates,
                    h = a.length,
                    o = "";
                if (Array.isArray(t)) return void t.forEach(function(t) {
                    e.selectDate(t)
                });
                if (t instanceof Date) {
                    if (this.lastSelectedDate = t, this.timepicker && this.timepicker._setTime(t), e._trigger("selectDate", t), this.timepicker && (t.setHours(this.timepicker.hours), t.setMinutes(this.timepicker.minutes)), "days" == e.view && t.getMonth() != s.month && i.moveToOtherMonthsOnSelect && (o = new Date(t.getFullYear(), t.getMonth(), 1)), "years" == e.view && t.getFullYear() != s.year && i.moveToOtherYearsOnSelect && (o = new Date(t.getFullYear(), 0, 1)), o && (e.silent = !0, e.date = o, e.silent = !1, e.nav._render()), i.multipleDates && !i.range) {
                        if (h === i.multipleDates) return;
                        e._isSelected(t) || e.selectedDates.push(t)
                    } else i.range ? 2 == h ? (e.selectedDates = [t], e.minRange = t, e.maxRange = "") : 1 == h ? (e.selectedDates.push(t), e.maxRange ? e.minRange = t : e.maxRange = t, n.bigger(e.maxRange, e.minRange) && (e.maxRange = e.minRange, e.minRange = t), e.selectedDates = [e.minRange, e.maxRange]) : (e.selectedDates = [t], e.minRange = t) : e.selectedDates = [t];
                    e._setInputValue(), i.onSelect && e._triggerOnChange(), i.autoClose && !this.timepickerIsActive && (i.multipleDates || i.range ? i.range && 2 == e.selectedDates.length && e.hide() : e.hide()), e.views[this.currentView]._render()
                }
            },
            removeDate: function(t) {
                var e = this.selectedDates,
                    i = this;
                if (t instanceof Date) return e.some(function(s, a) {
                    return n.isSame(s, t) ? (e.splice(a, 1), i.selectedDates.length ? i.lastSelectedDate = i.selectedDates[i.selectedDates.length - 1] : (i.minRange = "", i.maxRange = "", i.lastSelectedDate = ""), i.views[i.currentView]._render(), i._setInputValue(), i.opts.onSelect && i._triggerOnChange(), !0) : void 0
                })
            },
            today: function() {
                this.silent = !0, this.view = this.opts.minView, this.silent = !1, this.date = new Date, this.opts.todayButton instanceof Date && this.selectDate(this.opts.todayButton)
            },
            clear: function() {
                this.selectedDates = [], this.minRange = "", this.maxRange = "", this.views[this.currentView]._render(), this._setInputValue(), this.opts.onSelect && this._triggerOnChange()
            },
            update: function(t, i) {
                var s = arguments.length,
                    a = this.lastSelectedDate;
                return 2 == s ? this.opts[t] = i : 1 == s && "object" == typeof t && (this.opts = e.extend(!0, this.opts, t)), this._createShortCuts(), this._syncWithMinMaxDates(), this._defineLocale(this.opts.language), this.nav._addButtonsIfNeed(), this.opts.onlyTimepicker || this.nav._render(), this.views[this.currentView]._render(), this.elIsInput && !this.opts.inline && (this._setPositionClasses(this.opts.position), this.visible && this.setPosition(this.opts.position)), this.opts.classes && this.$datepicker.addClass(this.opts.classes), this.opts.onlyTimepicker && this.$datepicker.addClass("-only-timepicker-"), this.opts.timepicker && (a && this.timepicker._handleDate(a), this.timepicker._updateRanges(), this.timepicker._updateCurrentTime(), a && (a.setHours(this.timepicker.hours), a.setMinutes(this.timepicker.minutes))), this._setInputValue(), this
            },
            _syncWithMinMaxDates: function() {
                var t = this.date.getTime();
                this.silent = !0, this.minTime > t && (this.date = this.minDate), this.maxTime < t && (this.date = this.maxDate), this.silent = !1
            },
            _isSelected: function(t, e) {
                var i = !1;
                return this.selectedDates.some(function(s) {
                    return n.isSame(s, t, e) ? (i = s, !0) : void 0
                }), i
            },
            _setInputValue: function() {
                var t, e = this,
                    i = e.opts,
                    s = e.loc.dateFormat,
                    a = i.altFieldDateFormat,
                    n = e.selectedDates.map(function(t) {
                        return e.formatDate(s, t)
                    });
                i.altField && e.$altField.length && (t = this.selectedDates.map(function(t) {
                    return e.formatDate(a, t)
                }), t = t.join(this.opts.multipleDatesSeparator), this.$altField.val(t)), n = n.join(this.opts.multipleDatesSeparator), this.$el.val(n)
            },
            _isInRange: function(t, e) {
                var i = t.getTime(),
                    s = n.getParsedDate(t),
                    a = n.getParsedDate(this.minDate),
                    h = n.getParsedDate(this.maxDate),
                    o = new Date(s.year, s.month, a.date).getTime(),
                    r = new Date(s.year, s.month, h.date).getTime(),
                    c = {
                        day: i >= this.minTime && i <= this.maxTime,
                        month: o >= this.minTime && r <= this.maxTime,
                        year: s.year >= a.year && s.year <= h.year
                    };
                return e ? c[e] : c.day
            },
            _getDimensions: function(t) {
                var e = t.offset();
                return {
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    left: e.left,
                    top: e.top
                }
            },
            _getDateFromCell: function(t) {
                var e = this.parsedDate,
                    s = t.data("year") || e.year,
                    a = t.data("month") == i ? e.month : t.data("month"),
                    n = t.data("date") || 1;
                return new Date(s, a, n)
            },
            _setPositionClasses: function(t) {
                t = t.split(" ");
                var e = t[0],
                    i = t[1],
                    s = "datepicker -" + e + "-" + i + "- -from-" + e + "-";
                this.visible && (s += " active"), this.$datepicker.removeAttr("class").addClass(s)
            },
            setPosition: function(t) {
                t = t || this.opts.position;
                var e, i, s = this._getDimensions(this.$el),
                    a = this._getDimensions(this.$datepicker),
                    n = t.split(" "),
                    h = this.opts.offset,
                    o = n[0],
                    r = n[1];
                switch (o) {
                    case "top":
                        e = s.top - a.height - h;
                        break;
                    case "right":
                        i = s.left + s.width + h;
                        break;
                    case "bottom":
                        e = s.top + s.height + h;
                        break;
                    case "left":
                        i = s.left - a.width - h
                }
                switch (r) {
                    case "top":
                        e = s.top;
                        break;
                    case "right":
                        i = s.left + s.width - a.width;
                        break;
                    case "bottom":
                        e = s.top + s.height - a.height;
                        break;
                    case "left":
                        i = s.left;
                        break;
                    case "center":
                        /left|right/.test(o) ? e = s.top + s.height / 2 - a.height / 2 : i = s.left + s.width / 2 - a.width / 2
                }
                this.$datepicker.css({
                    left: i,
                    top: e
                })
            },
            show: function() {
                var t = this.opts.onShow;
                this.setPosition(this.opts.position), this.$datepicker.addClass("active"), this.visible = !0, t && this._bindVisionEvents(t)
            },
            hide: function() {
                var t = this.opts.onHide;
                this.$datepicker.removeClass("active").css({
                    left: "-100000px"
                }), this.focused = "", this.keys = [], this.inFocus = !1, this.visible = !1, this.$el.blur(), t && this._bindVisionEvents(t)
            },
            down: function(t) {
                this._changeView(t, "down")
            },
            up: function(t) {
                this._changeView(t, "up")
            },
            _bindVisionEvents: function(t) {
                this.$datepicker.off("transitionend.dp"), t(this, !1), this.$datepicker.one("transitionend.dp", t.bind(this, this, !0))
            },
            _changeView: function(t, e) {
                t = t || this.focused || this.date;
                var i = "up" == e ? this.viewIndex + 1 : this.viewIndex - 1;
                i > 2 && (i = 2), 0 > i && (i = 0), this.silent = !0, this.date = new Date(t.getFullYear(), t.getMonth(), 1), this.silent = !1, this.view = this.viewIndexes[i]
            },
            _handleHotKey: function(t) {
                var e, i, s, a = n.getParsedDate(this._getFocusedDate()),
                    h = this.opts,
                    o = !1,
                    r = !1,
                    c = !1,
                    d = a.year,
                    l = a.month,
                    u = a.date;
                switch (t) {
                    case "ctrlRight":
                    case "ctrlUp":
                        l += 1, o = !0;
                        break;
                    case "ctrlLeft":
                    case "ctrlDown":
                        l -= 1, o = !0;
                        break;
                    case "shiftRight":
                    case "shiftUp":
                        r = !0, d += 1;
                        break;
                    case "shiftLeft":
                    case "shiftDown":
                        r = !0, d -= 1;
                        break;
                    case "altRight":
                    case "altUp":
                        c = !0, d += 10;
                        break;
                    case "altLeft":
                    case "altDown":
                        c = !0, d -= 10;
                        break;
                    case "ctrlShiftUp":
                        this.up()
                }
                s = n.getDaysCount(new Date(d, l)), i = new Date(d, l, u), u > s && (u = s), i.getTime() < this.minTime ? i = this.minDate : i.getTime() > this.maxTime && (i = this.maxDate), this.focused = i, e = n.getParsedDate(i), o && h.onChangeMonth && h.onChangeMonth(e.month, e.year), r && h.onChangeYear && h.onChangeYear(e.year), c && h.onChangeDecade && h.onChangeDecade(this.curDecade)
            },
            _registerKey: function(t) {
                var e = this.keys.some(function(e) {
                    return e == t
                });
                e || this.keys.push(t)
            },
            _unRegisterKey: function(t) {
                var e = this.keys.indexOf(t);
                this.keys.splice(e, 1)
            },
            _isHotKeyPressed: function() {
                var t, e = !1,
                    i = this,
                    s = this.keys.sort();
                for (var a in u) t = u[a], s.length == t.length && t.every(function(t, e) {
                    return t == s[e]
                }) && (i._trigger("hotKey", a), e = !0);
                return e
            },
            _trigger: function(t, e) {
                this.$el.trigger(t, e)
            },
            _focusNextCell: function(t, e) {
                e = e || this.cellType;
                var i = n.getParsedDate(this._getFocusedDate()),
                    s = i.year,
                    a = i.month,
                    h = i.date;
                if (!this._isHotKeyPressed()) {
                    switch (t) {
                        case 37:
                            "day" == e ? h -= 1 : "", "month" == e ? a -= 1 : "", "year" == e ? s -= 1 : "";
                            break;
                        case 38:
                            "day" == e ? h -= 7 : "", "month" == e ? a -= 3 : "", "year" == e ? s -= 4 : "";
                            break;
                        case 39:
                            "day" == e ? h += 1 : "", "month" == e ? a += 1 : "", "year" == e ? s += 1 : "";
                            break;
                        case 40:
                            "day" == e ? h += 7 : "", "month" == e ? a += 3 : "", "year" == e ? s += 4 : ""
                    }
                    var o = new Date(s, a, h);
                    o.getTime() < this.minTime ? o = this.minDate : o.getTime() > this.maxTime && (o = this.maxDate), this.focused = o
                }
            },
            _getFocusedDate: function() {
                var t = this.focused || this.selectedDates[this.selectedDates.length - 1],
                    e = this.parsedDate;
                if (!t) switch (this.view) {
                    case "days":
                        t = new Date(e.year, e.month, (new Date).getDate());
                        break;
                    case "months":
                        t = new Date(e.year, e.month, 1);
                        break;
                    case "years":
                        t = new Date(e.year, 0, 1)
                }
                return t
            },
            _getCell: function(t, i) {
                i = i || this.cellType;
                var s, a = n.getParsedDate(t),
                    h = '.datepicker--cell[data-year="' + a.year + '"]';
                switch (i) {
                    case "month":
                        h = '[data-month="' + a.month + '"]';
                        break;
                    case "day":
                        h += '[data-month="' + a.month + '"][data-date="' + a.date + '"]'
                }
                return s = this.views[this.currentView].$el.find(h), s.length ? s : e("")
            },
            destroy: function() {
                var t = this;
                t.$el.off(".adp").data("datepicker", ""), t.selectedDates = [], t.focused = "", t.views = {}, t.keys = [], t.minRange = "", t.maxRange = "", t.opts.inline || !t.elIsInput ? t.$datepicker.closest(".datepicker-inline").remove() : t.$datepicker.remove()
            },
            _handleAlreadySelectedDates: function(t, e) {
                this.opts.range ? this.opts.toggleSelected ? this.removeDate(e) : 2 != this.selectedDates.length && this._trigger("clickCell", e) : this.opts.toggleSelected && this.removeDate(e), this.opts.toggleSelected || (this.lastSelectedDate = t, this.opts.timepicker && (this.timepicker._setTime(t), this.timepicker.update()))
            },
            _onShowEvent: function(t) {
                this.visible || this.show()
            },
            _onBlur: function() {
                !this.inFocus && this.visible && this.hide()
            },
            _onMouseDownDatepicker: function(t) {
                this.inFocus = !0
            },
            _onMouseUpDatepicker: function(t) {
                this.inFocus = !1, t.originalEvent.inFocus = !0, t.originalEvent.timepickerFocus || this.$el.focus()
            },
            _onKeyUpGeneral: function(t) {
                var e = this.$el.val();
                e || this.clear()
            },
            _onResize: function() {
                this.visible && this.setPosition()
            },
            _onMouseUpBody: function(t) {
                t.originalEvent.inFocus || this.visible && !this.inFocus && this.hide()
            },
            _onMouseUpEl: function(t) {
                t.originalEvent.inFocus = !0, setTimeout(this._onKeyUpGeneral.bind(this), 4)
            },
            _onKeyDown: function(t) {
                var e = t.which;
                if (this._registerKey(e), e >= 37 && 40 >= e && (t.preventDefault(), this._focusNextCell(e)), 13 == e && this.focused) {
                    if (this._getCell(this.focused).hasClass("-disabled-")) return;
                    if (this.view != this.opts.minView) this.down();
                    else {
                        var i = this._isSelected(this.focused, this.cellType);
                        if (!i) return this.timepicker && (this.focused.setHours(this.timepicker.hours), this.focused.setMinutes(this.timepicker.minutes)), void this.selectDate(this.focused);
                        this._handleAlreadySelectedDates(i, this.focused)
                    }
                }
                27 == e && this.hide()
            },
            _onKeyUp: function(t) {
                var e = t.which;
                this._unRegisterKey(e)
            },
            _onHotKey: function(t, e) {
                this._handleHotKey(e)
            },
            _onMouseEnterCell: function(t) {
                var i = e(t.target).closest(".datepicker--cell"),
                    s = this._getDateFromCell(i);
                this.silent = !0, this.focused && (this.focused = ""), i.addClass("-focus-"), this.focused = s, this.silent = !1, this.opts.range && 1 == this.selectedDates.length && (this.minRange = this.selectedDates[0], this.maxRange = "", n.less(this.minRange, this.focused) && (this.maxRange = this.minRange, this.minRange = ""), this.views[this.currentView]._update())
            },
            _onMouseLeaveCell: function(t) {
                var i = e(t.target).closest(".datepicker--cell");
                i.removeClass("-focus-"), this.silent = !0, this.focused = "", this.silent = !1
            },
            _onTimeChange: function(t, e, i) {
                var s = new Date,
                    a = this.selectedDates,
                    n = !1;
                a.length && (n = !0, s = this.lastSelectedDate), s.setHours(e), s.setMinutes(i), n || this._getCell(s).hasClass("-disabled-") ? (this._setInputValue(), this.opts.onSelect && this._triggerOnChange()) : this.selectDate(s)
            },
            _onClickCell: function(t, e) {
                this.timepicker && (e.setHours(this.timepicker.hours), e.setMinutes(this.timepicker.minutes)), this.selectDate(e)
            },
            set focused(t) {
                if (!t && this.focused) {
                    var e = this._getCell(this.focused);
                    e.length && e.removeClass("-focus-")
                }
                this._focused = t, this.opts.range && 1 == this.selectedDates.length && (this.minRange = this.selectedDates[0], this.maxRange = "", n.less(this.minRange, this._focused) && (this.maxRange = this.minRange, this.minRange = "")), this.silent || (this.date = t)
            },
            get focused() {
                return this._focused
            },
            get parsedDate() {
                return n.getParsedDate(this.date)
            },
            set date(t) {
                return t instanceof Date ? (this.currentDate = t, this.inited && !this.silent && (this.views[this.view]._render(), this.nav._render(), this.visible && this.elIsInput && this.setPosition()), t) : void 0
            },
            get date() {
                return this.currentDate
            },
            set view(t) {
                return this.viewIndex = this.viewIndexes.indexOf(t), this.viewIndex < 0 ? void 0 : (this.prevView = this.currentView, this.currentView = t, this.inited && (this.views[t] ? this.views[t]._render() : this.views[t] = new e.fn.datepicker.Body(this, t, this.opts), this.views[this.prevView].hide(), this.views[t].show(), this.nav._render(), this.opts.onChangeView && this.opts.onChangeView(t), this.elIsInput && this.visible && this.setPosition()), t)
            },
            get view() {
                return this.currentView
            },
            get cellType() {
                return this.view.substring(0, this.view.length - 1)
            },
            get minTime() {
                var t = n.getParsedDate(this.minDate);
                return new Date(t.year, t.month, t.date).getTime()
            },
            get maxTime() {
                var t = n.getParsedDate(this.maxDate);
                return new Date(t.year, t.month, t.date).getTime()
            },
            get curDecade() {
                return n.getDecade(this.date)
            }
        }, n.getDaysCount = function(t) {
            return new Date(t.getFullYear(), t.getMonth() + 1, 0).getDate()
        }, n.getParsedDate = function(t) {
            return {
                year: t.getFullYear(),
                month: t.getMonth(),
                fullMonth: t.getMonth() + 1 < 10 ? "0" + (t.getMonth() + 1) : t.getMonth() + 1,
                date: t.getDate(),
                fullDate: t.getDate() < 10 ? "0" + t.getDate() : t.getDate(),
                day: t.getDay(),
                hours: t.getHours(),
                fullHours: t.getHours() < 10 ? "0" + t.getHours() : t.getHours(),
                minutes: t.getMinutes(),
                fullMinutes: t.getMinutes() < 10 ? "0" + t.getMinutes() : t.getMinutes()
            }
        }, n.getDecade = function(t) {
            var e = 10 * Math.floor(t.getFullYear() / 10);
            return [e, e + 9]
        }, n.template = function(t, e) {
            return t.replace(/#\{([\w]+)\}/g, function(t, i) {
                return e[i] || 0 === e[i] ? e[i] : void 0
            })
        }, n.isSame = function(t, e, i) {
            if (!t || !e) return !1;
            var s = n.getParsedDate(t),
                a = n.getParsedDate(e),
                h = i ? i : "day",
                o = {
                    day: s.date == a.date && s.month == a.month && s.year == a.year,
                    month: s.month == a.month && s.year == a.year,
                    year: s.year == a.year
                };
            return o[h]
        }, n.less = function(t, e, i) {
            return t && e ? e.getTime() < t.getTime() : !1
        }, n.bigger = function(t, e, i) {
            return t && e ? e.getTime() > t.getTime() : !1
        }, n.getLeadingZeroNum = function(t) {
            return parseInt(t) < 10 ? "0" + t : t
        }, n.resetTime = function(t) {
            return "object" == typeof t ? (t = n.getParsedDate(t), new Date(t.year, t.month, t.date)) : void 0
        }, e.fn.datepicker = function(t) {
            return this.each(function() {
                if (e.data(this, o)) {
                    var i = e.data(this, o);
                    i.opts = e.extend(!0, i.opts, t), i.update()
                } else e.data(this, o, new m(this, t))
            })
        }, e.fn.datepicker.Constructor = m, e.fn.datepicker.language = {
            ru: {
                days: ["Воскресенье", "Понедельник", "Вторник", "Среда", "Четверг", "Пятница", "Суббота"],
                daysShort: ["Вос", "Пон", "Вто", "Сре", "Чет", "Пят", "Суб"],
                daysMin: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
                months: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"],
                monthsShort: ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"],
                today: "Сегодня",
                clear: "Очистить",
                dateFormat: "dd.mm.yyyy",
                timeFormat: "hh:ii",
                firstDay: 1
            }
        }, e(function() {
            e(r).datepicker()
        })
    }(),
    function() {
        var t = {
                days: '<div class="datepicker--days datepicker--body"><div class="datepicker--days-names"></div><div class="datepicker--cells datepicker--cells-days"></div></div>',
                months: '<div class="datepicker--months datepicker--body"><div class="datepicker--cells datepicker--cells-months"></div></div>',
                years: '<div class="datepicker--years datepicker--body"><div class="datepicker--cells datepicker--cells-years"></div></div>'
            },
            s = e.fn.datepicker,
            a = s.Constructor;
        s.Body = function(t, i, s) {
            this.d = t, this.type = i, this.opts = s, this.$el = e(""), this.opts.onlyTimepicker || this.init()
        }, s.Body.prototype = {
            init: function() {
                this._buildBaseHtml(), this._render(), this._bindEvents()
            },
            _bindEvents: function() {
                this.$el.on("click", ".datepicker--cell", e.proxy(this._onClickCell, this))
            },
            _buildBaseHtml: function() {
                this.$el = e(t[this.type]).appendTo(this.d.$content), this.$names = e(".datepicker--days-names", this.$el), this.$cells = e(".datepicker--cells", this.$el)
            },
            _getDayNamesHtml: function(t, e, s, a) {
                return e = e != i ? e : t, s = s ? s : "", a = a != i ? a : 0, a > 7 ? s : 7 == e ? this._getDayNamesHtml(t, 0, s, ++a) : (s += '<div class="datepicker--day-name' + (this.d.isWeekend(e) ? " -weekend-" : "") + '">' + this.d.loc.daysMin[e] + "</div>", this._getDayNamesHtml(t, ++e, s, ++a))
            },
            _getCellContents: function(t, e) {
                var i = "datepicker--cell datepicker--cell-" + e,
                    s = new Date,
                    n = this.d,
                    h = a.resetTime(n.minRange),
                    o = a.resetTime(n.maxRange),
                    r = n.opts,
                    c = a.getParsedDate(t),
                    d = {},
                    l = c.date;
                switch (e) {
                    case "day":
                        n.isWeekend(c.day) && (i += " -weekend-"), c.month != this.d.parsedDate.month && (i += " -other-month-", r.selectOtherMonths || (i += " -disabled-"), r.showOtherMonths || (l = ""));
                        break;
                    case "month":
                        l = n.loc[n.opts.monthsField][c.month];
                        break;
                    case "year":
                        var u = n.curDecade;
                        l = c.year, (c.year < u[0] || c.year > u[1]) && (i += " -other-decade-", r.selectOtherYears || (i += " -disabled-"), r.showOtherYears || (l = ""))
                }
                return r.onRenderCell && (d = r.onRenderCell(t, e) || {}, l = d.html ? d.html : l, i += d.classes ? " " + d.classes : ""), r.range && (a.isSame(h, t, e) && (i += " -range-from-"), a.isSame(o, t, e) && (i += " -range-to-"), 1 == n.selectedDates.length && n.focused ? ((a.bigger(h, t) && a.less(n.focused, t) || a.less(o, t) && a.bigger(n.focused, t)) && (i += " -in-range-"), a.less(o, t) && a.isSame(n.focused, t) && (i += " -range-from-"), a.bigger(h, t) && a.isSame(n.focused, t) && (i += " -range-to-")) : 2 == n.selectedDates.length && a.bigger(h, t) && a.less(o, t) && (i += " -in-range-")), a.isSame(s, t, e) && (i += " -current-"), n.focused && a.isSame(t, n.focused, e) && (i += " -focus-"), n._isSelected(t, e) && (i += " -selected-"), (!n._isInRange(t, e) || d.disabled) && (i += " -disabled-"), {
                    html: l,
                    classes: i
                }
            },
            _getDaysHtml: function(t) {
                var e = a.getDaysCount(t),
                    i = new Date(t.getFullYear(), t.getMonth(), 1).getDay(),
                    s = new Date(t.getFullYear(), t.getMonth(), e).getDay(),
                    n = i - this.d.loc.firstDay,
                    h = 6 - s + this.d.loc.firstDay;
                n = 0 > n ? n + 7 : n, h = h > 6 ? h - 7 : h;
                for (var o, r, c = -n + 1, d = "", l = c, u = e + h; u >= l; l++) r = t.getFullYear(), o = t.getMonth(), d += this._getDayHtml(new Date(r, o, l));
                return d
            },
            _getDayHtml: function(t) {
                var e = this._getCellContents(t, "day");
                return '<div class="' + e.classes + '" data-date="' + t.getDate() + '" data-month="' + t.getMonth() + '" data-year="' + t.getFullYear() + '">' + e.html + "</div>"
            },
            _getMonthsHtml: function(t) {
                for (var e = "", i = a.getParsedDate(t), s = 0; 12 > s;) e += this._getMonthHtml(new Date(i.year, s)), s++;
                return e
            },
            _getMonthHtml: function(t) {
                var e = this._getCellContents(t, "month");
                return '<div class="' + e.classes + '" data-month="' + t.getMonth() + '">' + e.html + "</div>"
            },
            _getYearsHtml: function(t) {
                var e = (a.getParsedDate(t), a.getDecade(t)),
                    i = e[0] - 1,
                    s = "",
                    n = i;
                for (n; n <= e[1] + 1; n++) s += this._getYearHtml(new Date(n, 0));
                return s
            },
            _getYearHtml: function(t) {
                var e = this._getCellContents(t, "year");
                return '<div class="' + e.classes + '" data-year="' + t.getFullYear() + '">' + e.html + "</div>"
            },
            _renderTypes: {
                days: function() {
                    var t = this._getDayNamesHtml(this.d.loc.firstDay),
                        e = this._getDaysHtml(this.d.currentDate);
                    this.$cells.html(e), this.$names.html(t)
                },
                months: function() {
                    var t = this._getMonthsHtml(this.d.currentDate);
                    this.$cells.html(t)
                },
                years: function() {
                    var t = this._getYearsHtml(this.d.currentDate);
                    this.$cells.html(t)
                }
            },
            _render: function() {
                this.opts.onlyTimepicker || this._renderTypes[this.type].bind(this)()
            },
            _update: function() {
                var t, i, s, a = e(".datepicker--cell", this.$cells),
                    n = this;
                a.each(function(a, h) {
                    i = e(this), s = n.d._getDateFromCell(e(this)), t = n._getCellContents(s, n.d.cellType), i.attr("class", t.classes)
                })
            },
            show: function() {
                this.opts.onlyTimepicker || (this.$el.addClass("active"), this.acitve = !0)
            },
            hide: function() {
                this.$el.removeClass("active"), this.active = !1
            },
            _handleClick: function(t) {
                var e = t.data("date") || 1,
                    i = t.data("month") || 0,
                    s = t.data("year") || this.d.parsedDate.year,
                    a = this.d;
                if (a.view != this.opts.minView) return void a.down(new Date(s, i, e));
                var n = new Date(s, i, e),
                    h = this.d._isSelected(n, this.d.cellType);
                return h ? void a._handleAlreadySelectedDates.bind(a, h, n)() : void a._trigger("clickCell", n)
            },
            _onClickCell: function(t) {
                var i = e(t.target).closest(".datepicker--cell");
                i.hasClass("-disabled-") || this._handleClick.bind(this)(i)
            }
        }
    }(),
    function() {
        var t = '<div class="datepicker--nav-action" data-action="prev">#{prevHtml}</div><div class="datepicker--nav-title">#{title}</div><div class="datepicker--nav-action" data-action="next">#{nextHtml}</div>',
            i = '<div class="datepicker--buttons"></div>',
            s = '<span class="datepicker--button" data-action="#{action}">#{label}</span>',
            a = e.fn.datepicker,
            n = a.Constructor;
        a.Navigation = function(t, e) {
            this.d = t, this.opts = e, this.$buttonsContainer = "", this.init()
        }, a.Navigation.prototype = {
            init: function() {
                this._buildBaseHtml(), this._bindEvents()
            },
            _bindEvents: function() {
                this.d.$nav.on("click", ".datepicker--nav-action", e.proxy(this._onClickNavButton, this)), this.d.$nav.on("click", ".datepicker--nav-title", e.proxy(this._onClickNavTitle, this)), this.d.$datepicker.on("click", ".datepicker--button", e.proxy(this._onClickNavButton, this))
            },
            _buildBaseHtml: function() {
                this.opts.onlyTimepicker || this._render(), this._addButtonsIfNeed()
            },
            _addButtonsIfNeed: function() {
                this.opts.todayButton && this._addButton("today"), this.opts.clearButton && this._addButton("clear")
            },
            _render: function() {
                var i = this._getTitle(this.d.currentDate),
                    s = n.template(t, e.extend({
                        title: i
                    }, this.opts));
                this.d.$nav.html(s), "years" == this.d.view && e(".datepicker--nav-title", this.d.$nav).addClass("-disabled-"), this.setNavStatus()
            },
            _getTitle: function(t) {
                return this.d.formatDate(this.opts.navTitles[this.d.view], t)
            },
            _addButton: function(t) {
                this.$buttonsContainer.length || this._addButtonsContainer();
                var i = {
                        action: t,
                        label: this.d.loc[t]
                    },
                    a = n.template(s, i);
                e("[data-action=" + t + "]", this.$buttonsContainer).length || this.$buttonsContainer.append(a)
            },
            _addButtonsContainer: function() {
                this.d.$datepicker.append(i), this.$buttonsContainer = e(".datepicker--buttons", this.d.$datepicker)
            },
            setNavStatus: function() {
                if ((this.opts.minDate || this.opts.maxDate) && this.opts.disableNavWhenOutOfRange) {
                    var t = this.d.parsedDate,
                        e = t.month,
                        i = t.year,
                        s = t.date;
                    switch (this.d.view) {
                        case "days":
                            this.d._isInRange(new Date(i, e - 1, 1), "month") || this._disableNav("prev"), this.d._isInRange(new Date(i, e + 1, 1), "month") || this._disableNav("next");
                            break;
                        case "months":
                            this.d._isInRange(new Date(i - 1, e, s), "year") || this._disableNav("prev"), this.d._isInRange(new Date(i + 1, e, s), "year") || this._disableNav("next");
                            break;
                        case "years":
                            var a = n.getDecade(this.d.date);
                            this.d._isInRange(new Date(a[0] - 1, 0, 1), "year") || this._disableNav("prev"), this.d._isInRange(new Date(a[1] + 1, 0, 1), "year") || this._disableNav("next")
                    }
                }
            },
            _disableNav: function(t) {
                e('[data-action="' + t + '"]', this.d.$nav).addClass("-disabled-")
            },
            _activateNav: function(t) {
                e('[data-action="' + t + '"]', this.d.$nav).removeClass("-disabled-")
            },
            _onClickNavButton: function(t) {
                var i = e(t.target).closest("[data-action]"),
                    s = i.data("action");
                this.d[s]()
            },
            _onClickNavTitle: function(t) {
                return e(t.target).hasClass("-disabled-") ? void 0 : "days" == this.d.view ? this.d.view = "months" : void(this.d.view = "years")
            }
        }
    }(),
    function() {
        var t = '<div class="datepicker--time"><div class="datepicker--time-current">   <span class="datepicker--time-current-hours">#{hourVisible}</span>   <span class="datepicker--time-current-colon">:</span>   <span class="datepicker--time-current-minutes">#{minValue}</span></div><div class="datepicker--time-sliders">   <div class="datepicker--time-row">      <input type="range" name="hours" value="#{hourValue}" min="#{hourMin}" max="#{hourMax}" step="#{hourStep}"/>   </div>   <div class="datepicker--time-row">      <input type="range" name="minutes" value="#{minValue}" min="#{minMin}" max="#{minMax}" step="#{minStep}"/>   </div></div></div>',
            i = e.fn.datepicker,
            s = i.Constructor;
        i.Timepicker = function(t, e) {
            this.d = t, this.opts = e, this.init()
        }, i.Timepicker.prototype = {
            init: function() {
                var t = "input";
                this._setTime(this.d.date), this._buildHTML(), navigator.userAgent.match(/trident/gi) && (t = "change"), this.d.$el.on("selectDate", this._onSelectDate.bind(this)), this.$ranges.on(t, this._onChangeRange.bind(this)), this.$ranges.on("mouseup", this._onMouseUpRange.bind(this)), this.$ranges.on("mousemove focus ", this._onMouseEnterRange.bind(this)), this.$ranges.on("mouseout blur", this._onMouseOutRange.bind(this))
            },
            _setTime: function(t) {
                var e = s.getParsedDate(t);
                this._handleDate(t), this.hours = e.hours < this.minHours ? this.minHours : e.hours, this.minutes = e.minutes < this.minMinutes ? this.minMinutes : e.minutes
            },
            _setMinTimeFromDate: function(t) {
                this.minHours = t.getHours(), this.minMinutes = t.getMinutes(), this.d.lastSelectedDate && this.d.lastSelectedDate.getHours() > t.getHours() && (this.minMinutes = this.opts.minMinutes)
            },
            _setMaxTimeFromDate: function(t) {
                this.maxHours = t.getHours(), this.maxMinutes = t.getMinutes(), this.d.lastSelectedDate && this.d.lastSelectedDate.getHours() < t.getHours() && (this.maxMinutes = this.opts.maxMinutes)
            },
            _setDefaultMinMaxTime: function() {
                var t = 23,
                    e = 59,
                    i = this.opts;
                this.minHours = i.minHours < 0 || i.minHours > t ? 0 : i.minHours, this.minMinutes = i.minMinutes < 0 || i.minMinutes > e ? 0 : i.minMinutes, this.maxHours = i.maxHours < 0 || i.maxHours > t ? t : i.maxHours, this.maxMinutes = i.maxMinutes < 0 || i.maxMinutes > e ? e : i.maxMinutes
            },
            _validateHoursMinutes: function(t) {
                this.hours < this.minHours ? this.hours = this.minHours : this.hours > this.maxHours && (this.hours = this.maxHours), this.minutes < this.minMinutes ? this.minutes = this.minMinutes : this.minutes > this.maxMinutes && (this.minutes = this.maxMinutes)
            },
            _buildHTML: function() {
                var i = s.getLeadingZeroNum,
                    a = {
                        hourMin: this.minHours,
                        hourMax: i(this.maxHours),
                        hourStep: this.opts.hoursStep,
                        hourValue: this.hours,
                        hourVisible: i(this.displayHours),
                        minMin: this.minMinutes,
                        minMax: i(this.maxMinutes),
                        minStep: this.opts.minutesStep,
                        minValue: i(this.minutes)
                    },
                    n = s.template(t, a);
                this.$timepicker = e(n).appendTo(this.d.$datepicker), this.$ranges = e('[type="range"]', this.$timepicker), this.$hours = e('[name="hours"]', this.$timepicker), this.$minutes = e('[name="minutes"]', this.$timepicker), this.$hoursText = e(".datepicker--time-current-hours", this.$timepicker), this.$minutesText = e(".datepicker--time-current-minutes", this.$timepicker), this.d.ampm && (this.$ampm = e('<span class="datepicker--time-current-ampm">').appendTo(e(".datepicker--time-current", this.$timepicker)).html(this.dayPeriod), this.$timepicker.addClass("-am-pm-"))
            },
            _updateCurrentTime: function() {
                var t = s.getLeadingZeroNum(this.displayHours),
                    e = s.getLeadingZeroNum(this.minutes);
                this.$hoursText.html(t), this.$minutesText.html(e), this.d.ampm && this.$ampm.html(this.dayPeriod)
            },
            _updateRanges: function() {
                this.$hours.attr({
                    min: this.minHours,
                    max: this.maxHours
                }).val(this.hours), this.$minutes.attr({
                    min: this.minMinutes,
                    max: this.maxMinutes
                }).val(this.minutes)
            },
            _handleDate: function(t) {
                this._setDefaultMinMaxTime(), t && (s.isSame(t, this.d.opts.minDate) ? this._setMinTimeFromDate(this.d.opts.minDate) : s.isSame(t, this.d.opts.maxDate) && this._setMaxTimeFromDate(this.d.opts.maxDate)), this._validateHoursMinutes(t)
            },
            update: function() {
                this._updateRanges(), this._updateCurrentTime()
            },
            _getValidHoursFromDate: function(t, e) {
                var i = t,
                    a = t;
                t instanceof Date && (i = s.getParsedDate(t), a = i.hours);
                var n = e || this.d.ampm,
                    h = "am";
                if (n) switch (!0) {
                    case 0 == a:
                        a = 12;
                        break;
                    case 12 == a:
                        h = "pm";
                        break;
                    case a > 11:
                        a -= 12, h = "pm"
                }
                return {
                    hours: a,
                    dayPeriod: h
                }
            },
            set hours(t) {
                this._hours = t;
                var e = this._getValidHoursFromDate(t);
                this.displayHours = e.hours, this.dayPeriod = e.dayPeriod
            },
            get hours() {
                return this._hours
            },
            _onChangeRange: function(t) {
                var i = e(t.target),
                    s = i.attr("name");
                this.d.timepickerIsActive = !0, this[s] = i.val(), this._updateCurrentTime(), this.d._trigger("timeChange", [this.hours, this.minutes]), this._handleDate(this.d.lastSelectedDate), this.update()
            },
            _onSelectDate: function(t, e) {
                this._handleDate(e), this.update()
            },
            _onMouseEnterRange: function(t) {
                var i = e(t.target).attr("name");
                e(".datepicker--time-current-" + i, this.$timepicker).addClass("-focus-")
            },
            _onMouseOutRange: function(t) {
                var i = e(t.target).attr("name");
                this.d.inFocus || e(".datepicker--time-current-" + i, this.$timepicker).removeClass("-focus-")
            },
            _onMouseUpRange: function(t) {
                this.d.timepickerIsActive = !1
            }
        }
    }();
    (function($) {
        $.fn.datepicker.language['en'] = {
            days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
            daysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            daysMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            today: 'Today',
            clear: 'Clear',
            dateFormat: 'mm/dd/yyyy',
            timeFormat: 'hh:ii aa',
            firstDay: 0
        };
    })(jQuery);
}(window, jQuery);
/*!
 * Bootstrap v4.1.3 (https://getbootstrap.com/)
 * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], e) : e(t.bootstrap = {}, t.jQuery, t.Popper)
}(this, function(t, e, h) {
    "use strict";

    function i(t, e) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n];
            i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
        }
    }

    function s(t, e, n) {
        return e && i(t.prototype, e), n && i(t, n), t
    }

    function l(r) {
        for (var t = 1; t < arguments.length; t++) {
            var o = null != arguments[t] ? arguments[t] : {},
                e = Object.keys(o);
            "function" == typeof Object.getOwnPropertySymbols && (e = e.concat(Object.getOwnPropertySymbols(o).filter(function(t) {
                return Object.getOwnPropertyDescriptor(o, t).enumerable
            }))), e.forEach(function(t) {
                var e, n, i;
                e = r, i = o[n = t], n in e ? Object.defineProperty(e, n, {
                    value: i,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[n] = i
            })
        }
        return r
    }
    e = e && e.hasOwnProperty("default") ? e.default : e, h = h && h.hasOwnProperty("default") ? h.default : h;
    var r, n, o, a, c, u, f, d, g, _, m, p, v, y, E, C, T, b, S, I, A, D, w, N, O, k, P, j, H, L, R, x, W, U, q, F, K, M, Q, B, V, Y, z, J, Z, G, $, X, tt, et, nt, it, rt, ot, st, at, lt, ct, ht, ut, ft, dt, gt, _t, mt, pt, vt, yt, Et, Ct, Tt, bt, St, It, At, Dt, wt, Nt, Ot, kt, Pt, jt, Ht, Lt, Rt, xt, Wt, Ut, qt, Ft, Kt, Mt, Qt, Bt, Vt, Yt, zt, Jt, Zt, Gt, $t, Xt, te, ee, ne, ie, re, oe, se, ae, le, ce, he, ue, fe, de, ge, _e, me, pe, ve, ye, Ee, Ce, Te, be, Se, Ie, Ae, De, we, Ne, Oe, ke, Pe, je, He, Le, Re, xe, We, Ue, qe, Fe, Ke, Me, Qe, Be, Ve, Ye, ze, Je, Ze, Ge, $e, Xe, tn, en, nn, rn, on, sn, an, ln, cn, hn, un, fn, dn, gn, _n, mn, pn, vn, yn, En, Cn, Tn, bn, Sn, In, An, Dn, wn, Nn, On, kn, Pn, jn, Hn, Ln, Rn, xn, Wn, Un, qn, Fn = function(i) {
            var e = "transitionend";

            function t(t) {
                var e = this,
                    n = !1;
                return i(this).one(l.TRANSITION_END, function() {
                    n = !0
                }), setTimeout(function() {
                    n || l.triggerTransitionEnd(e)
                }, t), this
            }
            var l = {
                TRANSITION_END: "bsTransitionEnd",
                getUID: function(t) {
                    for (; t += ~~(1e6 * Math.random()), document.getElementById(t););
                    return t
                },
                getSelectorFromElement: function(t) {
                    var e = t.getAttribute("data-target");
                    e && "#" !== e || (e = t.getAttribute("href") || "");
                    try {
                        return document.querySelector(e) ? e : null
                    } catch (t) {
                        return null
                    }
                },
                getTransitionDurationFromElement: function(t) {
                    if (!t) return 0;
                    var e = i(t).css("transition-duration");
                    return parseFloat(e) ? (e = e.split(",")[0], 1e3 * parseFloat(e)) : 0
                },
                reflow: function(t) {
                    return t.offsetHeight
                },
                triggerTransitionEnd: function(t) {
                    i(t).trigger(e)
                },
                supportsTransitionEnd: function() {
                    return Boolean(e)
                },
                isElement: function(t) {
                    return (t[0] || t).nodeType
                },
                typeCheckConfig: function(t, e, n) {
                    for (var i in n)
                        if (Object.prototype.hasOwnProperty.call(n, i)) {
                            var r = n[i],
                                o = e[i],
                                s = o && l.isElement(o) ? "element" : (a = o, {}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());
                            if (!new RegExp(r).test(s)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + s + '" but expected type "' + r + '".')
                        }
                    var a
                }
            };
            return i.fn.emulateTransitionEnd = t, i.event.special[l.TRANSITION_END] = {
                bindType: e,
                delegateType: e,
                handle: function(t) {
                    if (i(t.target).is(this)) return t.handleObj.handler.apply(this, arguments)
                }
            }, l
        }(e),
        Kn = (n = "alert", a = "." + (o = "bs.alert"), c = (r = e).fn[n], u = {
            CLOSE: "close" + a,
            CLOSED: "closed" + a,
            CLICK_DATA_API: "click" + a + ".data-api"
        }, f = "alert", d = "fade", g = "show", _ = function() {
            function i(t) {
                this._element = t
            }
            var t = i.prototype;
            return t.close = function(t) {
                var e = this._element;
                t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e)
            }, t.dispose = function() {
                r.removeData(this._element, o), this._element = null
            }, t._getRootElement = function(t) {
                var e = Fn.getSelectorFromElement(t),
                    n = !1;
                return e && (n = document.querySelector(e)), n || (n = r(t).closest("." + f)[0]), n
            }, t._triggerCloseEvent = function(t) {
                var e = r.Event(u.CLOSE);
                return r(t).trigger(e), e
            }, t._removeElement = function(e) {
                var n = this;
                if (r(e).removeClass(g), r(e).hasClass(d)) {
                    var t = Fn.getTransitionDurationFromElement(e);
                    r(e).one(Fn.TRANSITION_END, function(t) {
                        return n._destroyElement(e, t)
                    }).emulateTransitionEnd(t)
                } else this._destroyElement(e)
            }, t._destroyElement = function(t) {
                r(t).detach().trigger(u.CLOSED).remove()
            }, i._jQueryInterface = function(n) {
                return this.each(function() {
                    var t = r(this),
                        e = t.data(o);
                    e || (e = new i(this), t.data(o, e)), "close" === n && e[n](this)
                })
            }, i._handleDismiss = function(e) {
                return function(t) {
                    t && t.preventDefault(), e.close(this)
                }
            }, s(i, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }]), i
        }(), r(document).on(u.CLICK_DATA_API, '[data-dismiss="alert"]', _._handleDismiss(new _)), r.fn[n] = _._jQueryInterface, r.fn[n].Constructor = _, r.fn[n].noConflict = function() {
            return r.fn[n] = c, _._jQueryInterface
        }, _),
        Mn = (p = "button", y = "." + (v = "bs.button"), E = ".data-api", C = (m = e).fn[p], T = "active", b = "btn", I = '[data-toggle^="button"]', A = '[data-toggle="buttons"]', D = "input", w = ".active", N = ".btn", O = {
            CLICK_DATA_API: "click" + y + E,
            FOCUS_BLUR_DATA_API: (S = "focus") + y + E + " blur" + y + E
        }, k = function() {
            function n(t) {
                this._element = t
            }
            var t = n.prototype;
            return t.toggle = function() {
                var t = !0,
                    e = !0,
                    n = m(this._element).closest(A)[0];
                if (n) {
                    var i = this._element.querySelector(D);
                    if (i) {
                        if ("radio" === i.type)
                            if (i.checked && this._element.classList.contains(T)) t = !1;
                            else {
                                var r = n.querySelector(w);
                                r && m(r).removeClass(T)
                            }
                        if (t) {
                            if (i.hasAttribute("disabled") || n.hasAttribute("disabled") || i.classList.contains("disabled") || n.classList.contains("disabled")) return;
                            i.checked = !this._element.classList.contains(T), m(i).trigger("change")
                        }
                        i.focus(), e = !1
                    }
                }
                e && this._element.setAttribute("aria-pressed", !this._element.classList.contains(T)), t && m(this._element).toggleClass(T)
            }, t.dispose = function() {
                m.removeData(this._element, v), this._element = null
            }, n._jQueryInterface = function(e) {
                return this.each(function() {
                    var t = m(this).data(v);
                    t || (t = new n(this), m(this).data(v, t)), "toggle" === e && t[e]()
                })
            }, s(n, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }]), n
        }(), m(document).on(O.CLICK_DATA_API, I, function(t) {
            t.preventDefault();
            var e = t.target;
            m(e).hasClass(b) || (e = m(e).closest(N)), k._jQueryInterface.call(m(e), "toggle")
        }).on(O.FOCUS_BLUR_DATA_API, I, function(t) {
            var e = m(t.target).closest(N)[0];
            m(e).toggleClass(S, /^focus(in)?$/.test(t.type))
        }), m.fn[p] = k._jQueryInterface, m.fn[p].Constructor = k, m.fn[p].noConflict = function() {
            return m.fn[p] = C, k._jQueryInterface
        }, k),
        Qn = (j = "carousel", L = "." + (H = "bs.carousel"), R = ".data-api", x = (P = e).fn[j], W = {
            interval: 5e3,
            keyboard: !0,
            slide: !1,
            pause: "hover",
            wrap: !0
        }, U = {
            interval: "(number|boolean)",
            keyboard: "boolean",
            slide: "(boolean|string)",
            pause: "(string|boolean)",
            wrap: "boolean"
        }, q = "next", F = "prev", K = "left", M = "right", Q = {
            SLIDE: "slide" + L,
            SLID: "slid" + L,
            KEYDOWN: "keydown" + L,
            MOUSEENTER: "mouseenter" + L,
            MOUSELEAVE: "mouseleave" + L,
            TOUCHEND: "touchend" + L,
            LOAD_DATA_API: "load" + L + R,
            CLICK_DATA_API: "click" + L + R
        }, B = "carousel", V = "active", Y = "slide", z = "carousel-item-right", J = "carousel-item-left", Z = "carousel-item-next", G = "carousel-item-prev", $ = ".active", X = ".active.carousel-item", tt = ".carousel-item", et = ".carousel-item-next, .carousel-item-prev", nt = ".carousel-indicators", it = "[data-slide], [data-slide-to]", rt = '[data-ride="carousel"]', ot = function() {
            function o(t, e) {
                this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this._config = this._getConfig(e), this._element = P(t)[0], this._indicatorsElement = this._element.querySelector(nt), this._addEventListeners()
            }
            var t = o.prototype;
            return t.next = function() {
                this._isSliding || this._slide(q)
            }, t.nextWhenVisible = function() {
                !document.hidden && P(this._element).is(":visible") && "hidden" !== P(this._element).css("visibility") && this.next()
            }, t.prev = function() {
                this._isSliding || this._slide(F)
            }, t.pause = function(t) {
                t || (this._isPaused = !0), this._element.querySelector(et) && (Fn.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null
            }, t.cycle = function(t) {
                t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval))
            }, t.to = function(t) {
                var e = this;
                this._activeElement = this._element.querySelector(X);
                var n = this._getItemIndex(this._activeElement);
                if (!(t > this._items.length - 1 || t < 0))
                    if (this._isSliding) P(this._element).one(Q.SLID, function() {
                        return e.to(t)
                    });
                    else {
                        if (n === t) return this.pause(), void this.cycle();
                        var i = n < t ? q : F;
                        this._slide(i, this._items[t])
                    }
            }, t.dispose = function() {
                P(this._element).off(L), P.removeData(this._element, H), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null
            }, t._getConfig = function(t) {
                return t = l({}, W, t), Fn.typeCheckConfig(j, t, U), t
            }, t._addEventListeners = function() {
                var e = this;
                this._config.keyboard && P(this._element).on(Q.KEYDOWN, function(t) {
                    return e._keydown(t)
                }), "hover" === this._config.pause && (P(this._element).on(Q.MOUSEENTER, function(t) {
                    return e.pause(t)
                }).on(Q.MOUSELEAVE, function(t) {
                    return e.cycle(t)
                }), "ontouchstart" in document.documentElement && P(this._element).on(Q.TOUCHEND, function() {
                    e.pause(), e.touchTimeout && clearTimeout(e.touchTimeout), e.touchTimeout = setTimeout(function(t) {
                        return e.cycle(t)
                    }, 500 + e._config.interval)
                }))
            }, t._keydown = function(t) {
                if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) {
                    case 37:
                        t.preventDefault(), this.prev();
                        break;
                    case 39:
                        t.preventDefault(), this.next()
                }
            }, t._getItemIndex = function(t) {
                return this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(tt)) : [], this._items.indexOf(t)
            }, t._getItemByDirection = function(t, e) {
                var n = t === q,
                    i = t === F,
                    r = this._getItemIndex(e),
                    o = this._items.length - 1;
                if ((i && 0 === r || n && r === o) && !this._config.wrap) return e;
                var s = (r + (t === F ? -1 : 1)) % this._items.length;
                return -1 === s ? this._items[this._items.length - 1] : this._items[s]
            }, t._triggerSlideEvent = function(t, e) {
                var n = this._getItemIndex(t),
                    i = this._getItemIndex(this._element.querySelector(X)),
                    r = P.Event(Q.SLIDE, {
                        relatedTarget: t,
                        direction: e,
                        from: i,
                        to: n
                    });
                return P(this._element).trigger(r), r
            }, t._setActiveIndicatorElement = function(t) {
                if (this._indicatorsElement) {
                    var e = [].slice.call(this._indicatorsElement.querySelectorAll($));
                    P(e).removeClass(V);
                    var n = this._indicatorsElement.children[this._getItemIndex(t)];
                    n && P(n).addClass(V)
                }
            }, t._slide = function(t, e) {
                var n, i, r, o = this,
                    s = this._element.querySelector(X),
                    a = this._getItemIndex(s),
                    l = e || s && this._getItemByDirection(t, s),
                    c = this._getItemIndex(l),
                    h = Boolean(this._interval);
                if (t === q ? (n = J, i = Z, r = K) : (n = z, i = G, r = M), l && P(l).hasClass(V)) this._isSliding = !1;
                else if (!this._triggerSlideEvent(l, r).isDefaultPrevented() && s && l) {
                    this._isSliding = !0, h && this.pause(), this._setActiveIndicatorElement(l);
                    var u = P.Event(Q.SLID, {
                        relatedTarget: l,
                        direction: r,
                        from: a,
                        to: c
                    });
                    if (P(this._element).hasClass(Y)) {
                        P(l).addClass(i), Fn.reflow(l), P(s).addClass(n), P(l).addClass(n);
                        var f = Fn.getTransitionDurationFromElement(s);
                        P(s).one(Fn.TRANSITION_END, function() {
                            P(l).removeClass(n + " " + i).addClass(V), P(s).removeClass(V + " " + i + " " + n), o._isSliding = !1, setTimeout(function() {
                                return P(o._element).trigger(u)
                            }, 0)
                        }).emulateTransitionEnd(f)
                    } else P(s).removeClass(V), P(l).addClass(V), this._isSliding = !1, P(this._element).trigger(u);
                    h && this.cycle()
                }
            }, o._jQueryInterface = function(i) {
                return this.each(function() {
                    var t = P(this).data(H),
                        e = l({}, W, P(this).data());
                    "object" == typeof i && (e = l({}, e, i));
                    var n = "string" == typeof i ? i : e.slide;
                    if (t || (t = new o(this, e), P(this).data(H, t)), "number" == typeof i) t.to(i);
                    else if ("string" == typeof n) {
                        if ("undefined" == typeof t[n]) throw new TypeError('No method named "' + n + '"');
                        t[n]()
                    } else e.interval && (t.pause(), t.cycle())
                })
            }, o._dataApiClickHandler = function(t) {
                var e = Fn.getSelectorFromElement(this);
                if (e) {
                    var n = P(e)[0];
                    if (n && P(n).hasClass(B)) {
                        var i = l({}, P(n).data(), P(this).data()),
                            r = this.getAttribute("data-slide-to");
                        r && (i.interval = !1), o._jQueryInterface.call(P(n), i), r && P(n).data(H).to(r), t.preventDefault()
                    }
                }
            }, s(o, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return W
                }
            }]), o
        }(), P(document).on(Q.CLICK_DATA_API, it, ot._dataApiClickHandler), P(window).on(Q.LOAD_DATA_API, function() {
            for (var t = [].slice.call(document.querySelectorAll(rt)), e = 0, n = t.length; e < n; e++) {
                var i = P(t[e]);
                ot._jQueryInterface.call(i, i.data())
            }
        }), P.fn[j] = ot._jQueryInterface, P.fn[j].Constructor = ot, P.fn[j].noConflict = function() {
            return P.fn[j] = x, ot._jQueryInterface
        }, ot),
        Bn = (at = "collapse", ct = "." + (lt = "bs.collapse"), ht = (st = e).fn[at], ut = {
            toggle: !0,
            parent: ""
        }, ft = {
            toggle: "boolean",
            parent: "(string|element)"
        }, dt = {
            SHOW: "show" + ct,
            SHOWN: "shown" + ct,
            HIDE: "hide" + ct,
            HIDDEN: "hidden" + ct,
            CLICK_DATA_API: "click" + ct + ".data-api"
        }, gt = "show", _t = "collapse", mt = "collapsing", pt = "collapsed", vt = "width", yt = "height", Et = ".show, .collapsing", Ct = '[data-toggle="collapse"]', Tt = function() {
            function a(e, t) {
                this._isTransitioning = !1, this._element = e, this._config = this._getConfig(t), this._triggerArray = st.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]'));
                for (var n = [].slice.call(document.querySelectorAll(Ct)), i = 0, r = n.length; i < r; i++) {
                    var o = n[i],
                        s = Fn.getSelectorFromElement(o),
                        a = [].slice.call(document.querySelectorAll(s)).filter(function(t) {
                            return t === e
                        });
                    null !== s && 0 < a.length && (this._selector = s, this._triggerArray.push(o))
                }
                this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle()
            }
            var t = a.prototype;
            return t.toggle = function() {
                st(this._element).hasClass(gt) ? this.hide() : this.show()
            }, t.show = function() {
                var t, e, n = this;
                if (!this._isTransitioning && !st(this._element).hasClass(gt) && (this._parent && 0 === (t = [].slice.call(this._parent.querySelectorAll(Et)).filter(function(t) {
                        return t.getAttribute("data-parent") === n._config.parent
                    })).length && (t = null), !(t && (e = st(t).not(this._selector).data(lt)) && e._isTransitioning))) {
                    var i = st.Event(dt.SHOW);
                    if (st(this._element).trigger(i), !i.isDefaultPrevented()) {
                        t && (a._jQueryInterface.call(st(t).not(this._selector), "hide"), e || st(t).data(lt, null));
                        var r = this._getDimension();
                        st(this._element).removeClass(_t).addClass(mt), this._element.style[r] = 0, this._triggerArray.length && st(this._triggerArray).removeClass(pt).attr("aria-expanded", !0), this.setTransitioning(!0);
                        var o = "scroll" + (r[0].toUpperCase() + r.slice(1)),
                            s = Fn.getTransitionDurationFromElement(this._element);
                        st(this._element).one(Fn.TRANSITION_END, function() {
                            st(n._element).removeClass(mt).addClass(_t).addClass(gt), n._element.style[r] = "", n.setTransitioning(!1), st(n._element).trigger(dt.SHOWN)
                        }).emulateTransitionEnd(s), this._element.style[r] = this._element[o] + "px"
                    }
                }
            }, t.hide = function() {
                var t = this;
                if (!this._isTransitioning && st(this._element).hasClass(gt)) {
                    var e = st.Event(dt.HIDE);
                    if (st(this._element).trigger(e), !e.isDefaultPrevented()) {
                        var n = this._getDimension();
                        this._element.style[n] = this._element.getBoundingClientRect()[n] + "px", Fn.reflow(this._element), st(this._element).addClass(mt).removeClass(_t).removeClass(gt);
                        var i = this._triggerArray.length;
                        if (0 < i)
                            for (var r = 0; r < i; r++) {
                                var o = this._triggerArray[r],
                                    s = Fn.getSelectorFromElement(o);
                                if (null !== s) st([].slice.call(document.querySelectorAll(s))).hasClass(gt) || st(o).addClass(pt).attr("aria-expanded", !1)
                            }
                        this.setTransitioning(!0);
                        this._element.style[n] = "";
                        var a = Fn.getTransitionDurationFromElement(this._element);
                        st(this._element).one(Fn.TRANSITION_END, function() {
                            t.setTransitioning(!1), st(t._element).removeClass(mt).addClass(_t).trigger(dt.HIDDEN)
                        }).emulateTransitionEnd(a)
                    }
                }
            }, t.setTransitioning = function(t) {
                this._isTransitioning = t
            }, t.dispose = function() {
                st.removeData(this._element, lt), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null
            }, t._getConfig = function(t) {
                return (t = l({}, ut, t)).toggle = Boolean(t.toggle), Fn.typeCheckConfig(at, t, ft), t
            }, t._getDimension = function() {
                return st(this._element).hasClass(vt) ? vt : yt
            }, t._getParent = function() {
                var n = this,
                    t = null;
                Fn.isElement(this._config.parent) ? (t = this._config.parent, "undefined" != typeof this._config.parent.jquery && (t = this._config.parent[0])) : t = document.querySelector(this._config.parent);
                var e = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]',
                    i = [].slice.call(t.querySelectorAll(e));
                return st(i).each(function(t, e) {
                    n._addAriaAndCollapsedClass(a._getTargetFromElement(e), [e])
                }), t
            }, t._addAriaAndCollapsedClass = function(t, e) {
                if (t) {
                    var n = st(t).hasClass(gt);
                    e.length && st(e).toggleClass(pt, !n).attr("aria-expanded", n)
                }
            }, a._getTargetFromElement = function(t) {
                var e = Fn.getSelectorFromElement(t);
                return e ? document.querySelector(e) : null
            }, a._jQueryInterface = function(i) {
                return this.each(function() {
                    var t = st(this),
                        e = t.data(lt),
                        n = l({}, ut, t.data(), "object" == typeof i && i ? i : {});
                    if (!e && n.toggle && /show|hide/.test(i) && (n.toggle = !1), e || (e = new a(this, n), t.data(lt, e)), "string" == typeof i) {
                        if ("undefined" == typeof e[i]) throw new TypeError('No method named "' + i + '"');
                        e[i]()
                    }
                })
            }, s(a, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return ut
                }
            }]), a
        }(), st(document).on(dt.CLICK_DATA_API, Ct, function(t) {
            "A" === t.currentTarget.tagName && t.preventDefault();
            var n = st(this),
                e = Fn.getSelectorFromElement(this),
                i = [].slice.call(document.querySelectorAll(e));
            st(i).each(function() {
                var t = st(this),
                    e = t.data(lt) ? "toggle" : n.data();
                Tt._jQueryInterface.call(t, e)
            })
        }), st.fn[at] = Tt._jQueryInterface, st.fn[at].Constructor = Tt, st.fn[at].noConflict = function() {
            return st.fn[at] = ht, Tt._jQueryInterface
        }, Tt),
        Vn = (St = "dropdown", At = "." + (It = "bs.dropdown"), Dt = ".data-api", wt = (bt = e).fn[St], Nt = new RegExp("38|40|27"), Ot = {
            HIDE: "hide" + At,
            HIDDEN: "hidden" + At,
            SHOW: "show" + At,
            SHOWN: "shown" + At,
            CLICK: "click" + At,
            CLICK_DATA_API: "click" + At + Dt,
            KEYDOWN_DATA_API: "keydown" + At + Dt,
            KEYUP_DATA_API: "keyup" + At + Dt
        }, kt = "disabled", Pt = "show", jt = "dropup", Ht = "dropright", Lt = "dropleft", Rt = "dropdown-menu-right", xt = "position-static", Wt = '[data-toggle="dropdown"]', Ut = ".dropdown form", qt = ".dropdown-menu", Ft = ".navbar-nav", Kt = ".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)", Mt = "top-start", Qt = "top-end", Bt = "bottom-start", Vt = "bottom-end", Yt = "right-start", zt = "left-start", Jt = {
            offset: 0,
            flip: !0,
            boundary: "scrollParent",
            reference: "toggle",
            display: "dynamic"
        }, Zt = {
            offset: "(number|string|function)",
            flip: "boolean",
            boundary: "(string|element)",
            reference: "(string|element)",
            display: "string"
        }, Gt = function() {
            function c(t, e) {
                this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners()
            }
            var t = c.prototype;
            return t.toggle = function() {
                if (!this._element.disabled && !bt(this._element).hasClass(kt)) {
                    var t = c._getParentFromElement(this._element),
                        e = bt(this._menu).hasClass(Pt);
                    if (c._clearMenus(), !e) {
                        var n = {
                                relatedTarget: this._element
                            },
                            i = bt.Event(Ot.SHOW, n);
                        if (bt(t).trigger(i), !i.isDefaultPrevented()) {
                            if (!this._inNavbar) {
                                if ("undefined" == typeof h) throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");
                                var r = this._element;
                                "parent" === this._config.reference ? r = t : Fn.isElement(this._config.reference) && (r = this._config.reference, "undefined" != typeof this._config.reference.jquery && (r = this._config.reference[0])), "scrollParent" !== this._config.boundary && bt(t).addClass(xt), this._popper = new h(r, this._menu, this._getPopperConfig())
                            }
                            "ontouchstart" in document.documentElement && 0 === bt(t).closest(Ft).length && bt(document.body).children().on("mouseover", null, bt.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), bt(this._menu).toggleClass(Pt), bt(t).toggleClass(Pt).trigger(bt.Event(Ot.SHOWN, n))
                        }
                    }
                }
            }, t.dispose = function() {
                bt.removeData(this._element, It), bt(this._element).off(At), this._element = null, (this._menu = null) !== this._popper && (this._popper.destroy(), this._popper = null)
            }, t.update = function() {
                this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate()
            }, t._addEventListeners = function() {
                var e = this;
                bt(this._element).on(Ot.CLICK, function(t) {
                    t.preventDefault(), t.stopPropagation(), e.toggle()
                })
            }, t._getConfig = function(t) {
                return t = l({}, this.constructor.Default, bt(this._element).data(), t), Fn.typeCheckConfig(St, t, this.constructor.DefaultType), t
            }, t._getMenuElement = function() {
                if (!this._menu) {
                    var t = c._getParentFromElement(this._element);
                    t && (this._menu = t.querySelector(qt))
                }
                return this._menu
            }, t._getPlacement = function() {
                var t = bt(this._element.parentNode),
                    e = Bt;
                return t.hasClass(jt) ? (e = Mt, bt(this._menu).hasClass(Rt) && (e = Qt)) : t.hasClass(Ht) ? e = Yt : t.hasClass(Lt) ? e = zt : bt(this._menu).hasClass(Rt) && (e = Vt), e
            }, t._detectNavbar = function() {
                return 0 < bt(this._element).closest(".navbar").length
            }, t._getPopperConfig = function() {
                var e = this,
                    t = {};
                "function" == typeof this._config.offset ? t.fn = function(t) {
                    return t.offsets = l({}, t.offsets, e._config.offset(t.offsets) || {}), t
                } : t.offset = this._config.offset;
                var n = {
                    placement: this._getPlacement(),
                    modifiers: {
                        offset: t,
                        flip: {
                            enabled: this._config.flip
                        },
                        preventOverflow: {
                            boundariesElement: this._config.boundary
                        }
                    }
                };
                return "static" === this._config.display && (n.modifiers.applyStyle = {
                    enabled: !1
                }), n
            }, c._jQueryInterface = function(e) {
                return this.each(function() {
                    var t = bt(this).data(It);
                    if (t || (t = new c(this, "object" == typeof e ? e : null), bt(this).data(It, t)), "string" == typeof e) {
                        if ("undefined" == typeof t[e]) throw new TypeError('No method named "' + e + '"');
                        t[e]()
                    }
                })
            }, c._clearMenus = function(t) {
                if (!t || 3 !== t.which && ("keyup" !== t.type || 9 === t.which))
                    for (var e = [].slice.call(document.querySelectorAll(Wt)), n = 0, i = e.length; n < i; n++) {
                        var r = c._getParentFromElement(e[n]),
                            o = bt(e[n]).data(It),
                            s = {
                                relatedTarget: e[n]
                            };
                        if (t && "click" === t.type && (s.clickEvent = t), o) {
                            var a = o._menu;
                            if (bt(r).hasClass(Pt) && !(t && ("click" === t.type && /input|textarea/i.test(t.target.tagName) || "keyup" === t.type && 9 === t.which) && bt.contains(r, t.target))) {
                                var l = bt.Event(Ot.HIDE, s);
                                bt(r).trigger(l), l.isDefaultPrevented() || ("ontouchstart" in document.documentElement && bt(document.body).children().off("mouseover", null, bt.noop), e[n].setAttribute("aria-expanded", "false"), bt(a).removeClass(Pt), bt(r).removeClass(Pt).trigger(bt.Event(Ot.HIDDEN, s)))
                            }
                        }
                    }
            }, c._getParentFromElement = function(t) {
                var e, n = Fn.getSelectorFromElement(t);
                return n && (e = document.querySelector(n)), e || t.parentNode
            }, c._dataApiKeydownHandler = function(t) {
                if ((/input|textarea/i.test(t.target.tagName) ? !(32 === t.which || 27 !== t.which && (40 !== t.which && 38 !== t.which || bt(t.target).closest(qt).length)) : Nt.test(t.which)) && (t.preventDefault(), t.stopPropagation(), !this.disabled && !bt(this).hasClass(kt))) {
                    var e = c._getParentFromElement(this),
                        n = bt(e).hasClass(Pt);
                    if ((n || 27 === t.which && 32 === t.which) && (!n || 27 !== t.which && 32 !== t.which)) {
                        var i = [].slice.call(e.querySelectorAll(Kt));
                        if (0 !== i.length) {
                            var r = i.indexOf(t.target);
                            38 === t.which && 0 < r && r--, 40 === t.which && r < i.length - 1 && r++, r < 0 && (r = 0), i[r].focus()
                        }
                    } else {
                        if (27 === t.which) {
                            var o = e.querySelector(Wt);
                            bt(o).trigger("focus")
                        }
                        bt(this).trigger("click")
                    }
                }
            }, s(c, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return Jt
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return Zt
                }
            }]), c
        }(), bt(document).on(Ot.KEYDOWN_DATA_API, Wt, Gt._dataApiKeydownHandler).on(Ot.KEYDOWN_DATA_API, qt, Gt._dataApiKeydownHandler).on(Ot.CLICK_DATA_API + " " + Ot.KEYUP_DATA_API, Gt._clearMenus).on(Ot.CLICK_DATA_API, Wt, function(t) {
            t.preventDefault(), t.stopPropagation(), Gt._jQueryInterface.call(bt(this), "toggle")
        }).on(Ot.CLICK_DATA_API, Ut, function(t) {
            t.stopPropagation()
        }), bt.fn[St] = Gt._jQueryInterface, bt.fn[St].Constructor = Gt, bt.fn[St].noConflict = function() {
            return bt.fn[St] = wt, Gt._jQueryInterface
        }, Gt),
        Yn = (Xt = "modal", ee = "." + (te = "bs.modal"), ne = ($t = e).fn[Xt], ie = {
            backdrop: !0,
            keyboard: !0,
            focus: !0,
            show: !0
        }, re = {
            backdrop: "(boolean|string)",
            keyboard: "boolean",
            focus: "boolean",
            show: "boolean"
        }, oe = {
            HIDE: "hide" + ee,
            HIDDEN: "hidden" + ee,
            SHOW: "show" + ee,
            SHOWN: "shown" + ee,
            FOCUSIN: "focusin" + ee,
            RESIZE: "resize" + ee,
            CLICK_DISMISS: "click.dismiss" + ee,
            KEYDOWN_DISMISS: "keydown.dismiss" + ee,
            MOUSEUP_DISMISS: "mouseup.dismiss" + ee,
            MOUSEDOWN_DISMISS: "mousedown.dismiss" + ee,
            CLICK_DATA_API: "click" + ee + ".data-api"
        }, se = "modal-scrollbar-measure", ae = "modal-backdrop", le = "modal-open", ce = "fade", he = "show", ue = ".modal-dialog", fe = '[data-toggle="modal"]', de = '[data-dismiss="modal"]', ge = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", _e = ".sticky-top", me = function() {
            function r(t, e) {
                this._config = this._getConfig(e), this._element = t, this._dialog = t.querySelector(ue), this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._scrollbarWidth = 0
            }
            var t = r.prototype;
            return t.toggle = function(t) {
                return this._isShown ? this.hide() : this.show(t)
            }, t.show = function(t) {
                var e = this;
                if (!this._isTransitioning && !this._isShown) {
                    $t(this._element).hasClass(ce) && (this._isTransitioning = !0);
                    var n = $t.Event(oe.SHOW, {
                        relatedTarget: t
                    });
                    $t(this._element).trigger(n), this._isShown || n.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), $t(document.body).addClass(le), this._setEscapeEvent(), this._setResizeEvent(), $t(this._element).on(oe.CLICK_DISMISS, de, function(t) {
                        return e.hide(t)
                    }), $t(this._dialog).on(oe.MOUSEDOWN_DISMISS, function() {
                        $t(e._element).one(oe.MOUSEUP_DISMISS, function(t) {
                            $t(t.target).is(e._element) && (e._ignoreBackdropClick = !0)
                        })
                    }), this._showBackdrop(function() {
                        return e._showElement(t)
                    }))
                }
            }, t.hide = function(t) {
                var e = this;
                if (t && t.preventDefault(), !this._isTransitioning && this._isShown) {
                    var n = $t.Event(oe.HIDE);
                    if ($t(this._element).trigger(n), this._isShown && !n.isDefaultPrevented()) {
                        this._isShown = !1;
                        var i = $t(this._element).hasClass(ce);
                        if (i && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), $t(document).off(oe.FOCUSIN), $t(this._element).removeClass(he), $t(this._element).off(oe.CLICK_DISMISS), $t(this._dialog).off(oe.MOUSEDOWN_DISMISS), i) {
                            var r = Fn.getTransitionDurationFromElement(this._element);
                            $t(this._element).one(Fn.TRANSITION_END, function(t) {
                                return e._hideModal(t)
                            }).emulateTransitionEnd(r)
                        } else this._hideModal()
                    }
                }
            }, t.dispose = function() {
                $t.removeData(this._element, te), $t(window, document, this._element, this._backdrop).off(ee), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._scrollbarWidth = null
            }, t.handleUpdate = function() {
                this._adjustDialog()
            }, t._getConfig = function(t) {
                return t = l({}, ie, t), Fn.typeCheckConfig(Xt, t, re), t
            }, t._showElement = function(t) {
                var e = this,
                    n = $t(this._element).hasClass(ce);
                this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.scrollTop = 0, n && Fn.reflow(this._element), $t(this._element).addClass(he), this._config.focus && this._enforceFocus();
                var i = $t.Event(oe.SHOWN, {
                        relatedTarget: t
                    }),
                    r = function() {
                        e._config.focus && e._element.focus(), e._isTransitioning = !1, $t(e._element).trigger(i)
                    };
                if (n) {
                    var o = Fn.getTransitionDurationFromElement(this._element);
                    $t(this._dialog).one(Fn.TRANSITION_END, r).emulateTransitionEnd(o)
                } else r()
            }, t._enforceFocus = function() {
                var e = this;
                $t(document).off(oe.FOCUSIN).on(oe.FOCUSIN, function(t) {
                    document !== t.target && e._element !== t.target && 0 === $t(e._element).has(t.target).length && e._element.focus()
                })
            }, t._setEscapeEvent = function() {
                var e = this;
                this._isShown && this._config.keyboard ? $t(this._element).on(oe.KEYDOWN_DISMISS, function(t) {
                    27 === t.which && (t.preventDefault(), e.hide())
                }) : this._isShown || $t(this._element).off(oe.KEYDOWN_DISMISS)
            }, t._setResizeEvent = function() {
                var e = this;
                this._isShown ? $t(window).on(oe.RESIZE, function(t) {
                    return e.handleUpdate(t)
                }) : $t(window).off(oe.RESIZE)
            }, t._hideModal = function() {
                var t = this;
                this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._isTransitioning = !1, this._showBackdrop(function() {
                    $t(document.body).removeClass(le), t._resetAdjustments(), t._resetScrollbar(), $t(t._element).trigger(oe.HIDDEN)
                })
            }, t._removeBackdrop = function() {
                this._backdrop && ($t(this._backdrop).remove(), this._backdrop = null)
            }, t._showBackdrop = function(t) {
                var e = this,
                    n = $t(this._element).hasClass(ce) ? ce : "";
                if (this._isShown && this._config.backdrop) {
                    if (this._backdrop = document.createElement("div"), this._backdrop.className = ae, n && this._backdrop.classList.add(n), $t(this._backdrop).appendTo(document.body), $t(this._element).on(oe.CLICK_DISMISS, function(t) {
                            e._ignoreBackdropClick ? e._ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" === e._config.backdrop ? e._element.focus() : e.hide())
                        }), n && Fn.reflow(this._backdrop), $t(this._backdrop).addClass(he), !t) return;
                    if (!n) return void t();
                    var i = Fn.getTransitionDurationFromElement(this._backdrop);
                    $t(this._backdrop).one(Fn.TRANSITION_END, t).emulateTransitionEnd(i)
                } else if (!this._isShown && this._backdrop) {
                    $t(this._backdrop).removeClass(he);
                    var r = function() {
                        e._removeBackdrop(), t && t()
                    };
                    if ($t(this._element).hasClass(ce)) {
                        var o = Fn.getTransitionDurationFromElement(this._backdrop);
                        $t(this._backdrop).one(Fn.TRANSITION_END, r).emulateTransitionEnd(o)
                    } else r()
                } else t && t()
            }, t._adjustDialog = function() {
                var t = this._element.scrollHeight > document.documentElement.clientHeight;
                !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px")
            }, t._resetAdjustments = function() {
                this._element.style.paddingLeft = "", this._element.style.paddingRight = ""
            }, t._checkScrollbar = function() {
                var t = document.body.getBoundingClientRect();
                this._isBodyOverflowing = t.left + t.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth()
            }, t._setScrollbar = function() {
                var r = this;
                if (this._isBodyOverflowing) {
                    var t = [].slice.call(document.querySelectorAll(ge)),
                        e = [].slice.call(document.querySelectorAll(_e));
                    $t(t).each(function(t, e) {
                        var n = e.style.paddingRight,
                            i = $t(e).css("padding-right");
                        $t(e).data("padding-right", n).css("padding-right", parseFloat(i) + r._scrollbarWidth + "px")
                    }), $t(e).each(function(t, e) {
                        var n = e.style.marginRight,
                            i = $t(e).css("margin-right");
                        $t(e).data("margin-right", n).css("margin-right", parseFloat(i) - r._scrollbarWidth + "px")
                    });
                    var n = document.body.style.paddingRight,
                        i = $t(document.body).css("padding-right");
                    $t(document.body).data("padding-right", n).css("padding-right", parseFloat(i) + this._scrollbarWidth + "px")
                }
            }, t._resetScrollbar = function() {
                var t = [].slice.call(document.querySelectorAll(ge));
                $t(t).each(function(t, e) {
                    var n = $t(e).data("padding-right");
                    $t(e).removeData("padding-right"), e.style.paddingRight = n || ""
                });
                var e = [].slice.call(document.querySelectorAll("" + _e));
                $t(e).each(function(t, e) {
                    var n = $t(e).data("margin-right");
                    "undefined" != typeof n && $t(e).css("margin-right", n).removeData("margin-right")
                });
                var n = $t(document.body).data("padding-right");
                $t(document.body).removeData("padding-right"), document.body.style.paddingRight = n || ""
            }, t._getScrollbarWidth = function() {
                var t = document.createElement("div");
                t.className = se, document.body.appendChild(t);
                var e = t.getBoundingClientRect().width - t.clientWidth;
                return document.body.removeChild(t), e
            }, r._jQueryInterface = function(n, i) {
                return this.each(function() {
                    var t = $t(this).data(te),
                        e = l({}, ie, $t(this).data(), "object" == typeof n && n ? n : {});
                    if (t || (t = new r(this, e), $t(this).data(te, t)), "string" == typeof n) {
                        if ("undefined" == typeof t[n]) throw new TypeError('No method named "' + n + '"');
                        t[n](i)
                    } else e.show && t.show(i)
                })
            }, s(r, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return ie
                }
            }]), r
        }(), $t(document).on(oe.CLICK_DATA_API, fe, function(t) {
            var e, n = this,
                i = Fn.getSelectorFromElement(this);
            i && (e = document.querySelector(i));
            var r = $t(e).data(te) ? "toggle" : l({}, $t(e).data(), $t(this).data());
            "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault();
            var o = $t(e).one(oe.SHOW, function(t) {
                t.isDefaultPrevented() || o.one(oe.HIDDEN, function() {
                    $t(n).is(":visible") && n.focus()
                })
            });
            me._jQueryInterface.call($t(e), r, this)
        }), $t.fn[Xt] = me._jQueryInterface, $t.fn[Xt].Constructor = me, $t.fn[Xt].noConflict = function() {
            return $t.fn[Xt] = ne, me._jQueryInterface
        }, me),
        zn = (ve = "tooltip", Ee = "." + (ye = "bs.tooltip"), Ce = (pe = e).fn[ve], Te = "bs-tooltip", be = new RegExp("(^|\\s)" + Te + "\\S+", "g"), Ae = {
            animation: !0,
            template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',
            trigger: "hover focus",
            title: "",
            delay: 0,
            html: !(Ie = {
                AUTO: "auto",
                TOP: "top",
                RIGHT: "right",
                BOTTOM: "bottom",
                LEFT: "left"
            }),
            selector: !(Se = {
                animation: "boolean",
                template: "string",
                title: "(string|element|function)",
                trigger: "string",
                delay: "(number|object)",
                html: "boolean",
                selector: "(string|boolean)",
                placement: "(string|function)",
                offset: "(number|string)",
                container: "(string|element|boolean)",
                fallbackPlacement: "(string|array)",
                boundary: "(string|element)"
            }),
            placement: "top",
            offset: 0,
            container: !1,
            fallbackPlacement: "flip",
            boundary: "scrollParent"
        }, we = "out", Ne = {
            HIDE: "hide" + Ee,
            HIDDEN: "hidden" + Ee,
            SHOW: (De = "show") + Ee,
            SHOWN: "shown" + Ee,
            INSERTED: "inserted" + Ee,
            CLICK: "click" + Ee,
            FOCUSIN: "focusin" + Ee,
            FOCUSOUT: "focusout" + Ee,
            MOUSEENTER: "mouseenter" + Ee,
            MOUSELEAVE: "mouseleave" + Ee
        }, Oe = "fade", ke = "show", Pe = ".tooltip-inner", je = ".arrow", He = "hover", Le = "focus", Re = "click", xe = "manual", We = function() {
            function i(t, e) {
                if ("undefined" == typeof h) throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");
                this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners()
            }
            var t = i.prototype;
            return t.enable = function() {
                this._isEnabled = !0
            }, t.disable = function() {
                this._isEnabled = !1
            }, t.toggleEnabled = function() {
                this._isEnabled = !this._isEnabled
            }, t.toggle = function(t) {
                if (this._isEnabled)
                    if (t) {
                        var e = this.constructor.DATA_KEY,
                            n = pe(t.currentTarget).data(e);
                        n || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), pe(t.currentTarget).data(e, n)), n._activeTrigger.click = !n._activeTrigger.click, n._isWithActiveTrigger() ? n._enter(null, n) : n._leave(null, n)
                    } else {
                        if (pe(this.getTipElement()).hasClass(ke)) return void this._leave(null, this);
                        this._enter(null, this)
                    }
            }, t.dispose = function() {
                clearTimeout(this._timeout), pe.removeData(this.element, this.constructor.DATA_KEY), pe(this.element).off(this.constructor.EVENT_KEY), pe(this.element).closest(".modal").off("hide.bs.modal"), this.tip && pe(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, (this._activeTrigger = null) !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null
            }, t.show = function() {
                var e = this;
                if ("none" === pe(this.element).css("display")) throw new Error("Please use show on visible elements");
                var t = pe.Event(this.constructor.Event.SHOW);
                if (this.isWithContent() && this._isEnabled) {
                    pe(this.element).trigger(t);
                    var n = pe.contains(this.element.ownerDocument.documentElement, this.element);
                    if (t.isDefaultPrevented() || !n) return;
                    var i = this.getTipElement(),
                        r = Fn.getUID(this.constructor.NAME);
                    i.setAttribute("id", r), this.element.setAttribute("aria-describedby", r), this.setContent(), this.config.animation && pe(i).addClass(Oe);
                    var o = "function" == typeof this.config.placement ? this.config.placement.call(this, i, this.element) : this.config.placement,
                        s = this._getAttachment(o);
                    this.addAttachmentClass(s);
                    var a = !1 === this.config.container ? document.body : pe(document).find(this.config.container);
                    pe(i).data(this.constructor.DATA_KEY, this), pe.contains(this.element.ownerDocument.documentElement, this.tip) || pe(i).appendTo(a), pe(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new h(this.element, i, {
                        placement: s,
                        modifiers: {
                            offset: {
                                offset: this.config.offset
                            },
                            flip: {
                                behavior: this.config.fallbackPlacement
                            },
                            arrow: {
                                element: je
                            },
                            preventOverflow: {
                                boundariesElement: this.config.boundary
                            }
                        },
                        onCreate: function(t) {
                            t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t)
                        },
                        onUpdate: function(t) {
                            e._handlePopperPlacementChange(t)
                        }
                    }), pe(i).addClass(ke), "ontouchstart" in document.documentElement && pe(document.body).children().on("mouseover", null, pe.noop);
                    var l = function() {
                        e.config.animation && e._fixTransition();
                        var t = e._hoverState;
                        e._hoverState = null, pe(e.element).trigger(e.constructor.Event.SHOWN), t === we && e._leave(null, e)
                    };
                    if (pe(this.tip).hasClass(Oe)) {
                        var c = Fn.getTransitionDurationFromElement(this.tip);
                        pe(this.tip).one(Fn.TRANSITION_END, l).emulateTransitionEnd(c)
                    } else l()
                }
            }, t.hide = function(t) {
                var e = this,
                    n = this.getTipElement(),
                    i = pe.Event(this.constructor.Event.HIDE),
                    r = function() {
                        e._hoverState !== De && n.parentNode && n.parentNode.removeChild(n), e._cleanTipClass(), e.element.removeAttribute("aria-describedby"), pe(e.element).trigger(e.constructor.Event.HIDDEN), null !== e._popper && e._popper.destroy(), t && t()
                    };
                if (pe(this.element).trigger(i), !i.isDefaultPrevented()) {
                    if (pe(n).removeClass(ke), "ontouchstart" in document.documentElement && pe(document.body).children().off("mouseover", null, pe.noop), this._activeTrigger[Re] = !1, this._activeTrigger[Le] = !1, this._activeTrigger[He] = !1, pe(this.tip).hasClass(Oe)) {
                        var o = Fn.getTransitionDurationFromElement(n);
                        pe(n).one(Fn.TRANSITION_END, r).emulateTransitionEnd(o)
                    } else r();
                    this._hoverState = ""
                }
            }, t.update = function() {
                null !== this._popper && this._popper.scheduleUpdate()
            }, t.isWithContent = function() {
                return Boolean(this.getTitle())
            }, t.addAttachmentClass = function(t) {
                pe(this.getTipElement()).addClass(Te + "-" + t)
            }, t.getTipElement = function() {
                return this.tip = this.tip || pe(this.config.template)[0], this.tip
            }, t.setContent = function() {
                var t = this.getTipElement();
                this.setElementContent(pe(t.querySelectorAll(Pe)), this.getTitle()), pe(t).removeClass(Oe + " " + ke)
            }, t.setElementContent = function(t, e) {
                var n = this.config.html;
                "object" == typeof e && (e.nodeType || e.jquery) ? n ? pe(e).parent().is(t) || t.empty().append(e) : t.text(pe(e).text()) : t[n ? "html" : "text"](e)
            }, t.getTitle = function() {
                var t = this.element.getAttribute("data-original-title");
                return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t
            }, t._getAttachment = function(t) {
                return Ie[t.toUpperCase()]
            }, t._setListeners = function() {
                var i = this;
                this.config.trigger.split(" ").forEach(function(t) {
                    if ("click" === t) pe(i.element).on(i.constructor.Event.CLICK, i.config.selector, function(t) {
                        return i.toggle(t)
                    });
                    else if (t !== xe) {
                        var e = t === He ? i.constructor.Event.MOUSEENTER : i.constructor.Event.FOCUSIN,
                            n = t === He ? i.constructor.Event.MOUSELEAVE : i.constructor.Event.FOCUSOUT;
                        pe(i.element).on(e, i.config.selector, function(t) {
                            return i._enter(t)
                        }).on(n, i.config.selector, function(t) {
                            return i._leave(t)
                        })
                    }
                    pe(i.element).closest(".modal").on("hide.bs.modal", function() {
                        return i.hide()
                    })
                }), this.config.selector ? this.config = l({}, this.config, {
                    trigger: "manual",
                    selector: ""
                }) : this._fixTitle()
            }, t._fixTitle = function() {
                var t = typeof this.element.getAttribute("data-original-title");
                (this.element.getAttribute("title") || "string" !== t) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", ""))
            }, t._enter = function(t, e) {
                var n = this.constructor.DATA_KEY;
                (e = e || pe(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), pe(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusin" === t.type ? Le : He] = !0), pe(e.getTipElement()).hasClass(ke) || e._hoverState === De ? e._hoverState = De : (clearTimeout(e._timeout), e._hoverState = De, e.config.delay && e.config.delay.show ? e._timeout = setTimeout(function() {
                    e._hoverState === De && e.show()
                }, e.config.delay.show) : e.show())
            }, t._leave = function(t, e) {
                var n = this.constructor.DATA_KEY;
                (e = e || pe(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), pe(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusout" === t.type ? Le : He] = !1), e._isWithActiveTrigger() || (clearTimeout(e._timeout), e._hoverState = we, e.config.delay && e.config.delay.hide ? e._timeout = setTimeout(function() {
                    e._hoverState === we && e.hide()
                }, e.config.delay.hide) : e.hide())
            }, t._isWithActiveTrigger = function() {
                for (var t in this._activeTrigger)
                    if (this._activeTrigger[t]) return !0;
                return !1
            }, t._getConfig = function(t) {
                return "number" == typeof(t = l({}, this.constructor.Default, pe(this.element).data(), "object" == typeof t && t ? t : {})).delay && (t.delay = {
                    show: t.delay,
                    hide: t.delay
                }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), Fn.typeCheckConfig(ve, t, this.constructor.DefaultType), t
            }, t._getDelegateConfig = function() {
                var t = {};
                if (this.config)
                    for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]);
                return t
            }, t._cleanTipClass = function() {
                var t = pe(this.getTipElement()),
                    e = t.attr("class").match(be);
                null !== e && e.length && t.removeClass(e.join(""))
            }, t._handlePopperPlacementChange = function(t) {
                var e = t.instance;
                this.tip = e.popper, this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement))
            }, t._fixTransition = function() {
                var t = this.getTipElement(),
                    e = this.config.animation;
                null === t.getAttribute("x-placement") && (pe(t).removeClass(Oe), this.config.animation = !1, this.hide(), this.show(), this.config.animation = e)
            }, i._jQueryInterface = function(n) {
                return this.each(function() {
                    var t = pe(this).data(ye),
                        e = "object" == typeof n && n;
                    if ((t || !/dispose|hide/.test(n)) && (t || (t = new i(this, e), pe(this).data(ye, t)), "string" == typeof n)) {
                        if ("undefined" == typeof t[n]) throw new TypeError('No method named "' + n + '"');
                        t[n]()
                    }
                })
            }, s(i, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return Ae
                }
            }, {
                key: "NAME",
                get: function() {
                    return ve
                }
            }, {
                key: "DATA_KEY",
                get: function() {
                    return ye
                }
            }, {
                key: "Event",
                get: function() {
                    return Ne
                }
            }, {
                key: "EVENT_KEY",
                get: function() {
                    return Ee
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return Se
                }
            }]), i
        }(), pe.fn[ve] = We._jQueryInterface, pe.fn[ve].Constructor = We, pe.fn[ve].noConflict = function() {
            return pe.fn[ve] = Ce, We._jQueryInterface
        }, We),
        Jn = (qe = "popover", Ke = "." + (Fe = "bs.popover"), Me = (Ue = e).fn[qe], Qe = "bs-popover", Be = new RegExp("(^|\\s)" + Qe + "\\S+", "g"), Ve = l({}, zn.Default, {
            placement: "right",
            trigger: "click",
            content: "",
            template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'
        }), Ye = l({}, zn.DefaultType, {
            content: "(string|element|function)"
        }), ze = "fade", Ze = ".popover-header", Ge = ".popover-body", $e = {
            HIDE: "hide" + Ke,
            HIDDEN: "hidden" + Ke,
            SHOW: (Je = "show") + Ke,
            SHOWN: "shown" + Ke,
            INSERTED: "inserted" + Ke,
            CLICK: "click" + Ke,
            FOCUSIN: "focusin" + Ke,
            FOCUSOUT: "focusout" + Ke,
            MOUSEENTER: "mouseenter" + Ke,
            MOUSELEAVE: "mouseleave" + Ke
        }, Xe = function(t) {
            var e, n;

            function i() {
                return t.apply(this, arguments) || this
            }
            n = t, (e = i).prototype = Object.create(n.prototype), (e.prototype.constructor = e).__proto__ = n;
            var r = i.prototype;
            return r.isWithContent = function() {
                return this.getTitle() || this._getContent()
            }, r.addAttachmentClass = function(t) {
                Ue(this.getTipElement()).addClass(Qe + "-" + t)
            }, r.getTipElement = function() {
                return this.tip = this.tip || Ue(this.config.template)[0], this.tip
            }, r.setContent = function() {
                var t = Ue(this.getTipElement());
                this.setElementContent(t.find(Ze), this.getTitle());
                var e = this._getContent();
                "function" == typeof e && (e = e.call(this.element)), this.setElementContent(t.find(Ge), e), t.removeClass(ze + " " + Je)
            }, r._getContent = function() {
                return this.element.getAttribute("data-content") || this.config.content
            }, r._cleanTipClass = function() {
                var t = Ue(this.getTipElement()),
                    e = t.attr("class").match(Be);
                null !== e && 0 < e.length && t.removeClass(e.join(""))
            }, i._jQueryInterface = function(n) {
                return this.each(function() {
                    var t = Ue(this).data(Fe),
                        e = "object" == typeof n ? n : null;
                    if ((t || !/destroy|hide/.test(n)) && (t || (t = new i(this, e), Ue(this).data(Fe, t)), "string" == typeof n)) {
                        if ("undefined" == typeof t[n]) throw new TypeError('No method named "' + n + '"');
                        t[n]()
                    }
                })
            }, s(i, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return Ve
                }
            }, {
                key: "NAME",
                get: function() {
                    return qe
                }
            }, {
                key: "DATA_KEY",
                get: function() {
                    return Fe
                }
            }, {
                key: "Event",
                get: function() {
                    return $e
                }
            }, {
                key: "EVENT_KEY",
                get: function() {
                    return Ke
                }
            }, {
                key: "DefaultType",
                get: function() {
                    return Ye
                }
            }]), i
        }(zn), Ue.fn[qe] = Xe._jQueryInterface, Ue.fn[qe].Constructor = Xe, Ue.fn[qe].noConflict = function() {
            return Ue.fn[qe] = Me, Xe._jQueryInterface
        }, Xe),
        Zn = (en = "scrollspy", rn = "." + (nn = "bs.scrollspy"), on = (tn = e).fn[en], sn = {
            offset: 10,
            method: "auto",
            target: ""
        }, an = {
            offset: "number",
            method: "string",
            target: "(string|element)"
        }, ln = {
            ACTIVATE: "activate" + rn,
            SCROLL: "scroll" + rn,
            LOAD_DATA_API: "load" + rn + ".data-api"
        }, cn = "dropdown-item", hn = "active", un = '[data-spy="scroll"]', fn = ".active", dn = ".nav, .list-group", gn = ".nav-link", _n = ".nav-item", mn = ".list-group-item", pn = ".dropdown", vn = ".dropdown-item", yn = ".dropdown-toggle", En = "offset", Cn = "position", Tn = function() {
            function n(t, e) {
                var n = this;
                this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(e), this._selector = this._config.target + " " + gn + "," + this._config.target + " " + mn + "," + this._config.target + " " + vn, this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, tn(this._scrollElement).on(ln.SCROLL, function(t) {
                    return n._process(t)
                }), this.refresh(), this._process()
            }
            var t = n.prototype;
            return t.refresh = function() {
                var e = this,
                    t = this._scrollElement === this._scrollElement.window ? En : Cn,
                    r = "auto" === this._config.method ? t : this._config.method,
                    o = r === Cn ? this._getScrollTop() : 0;
                this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), [].slice.call(document.querySelectorAll(this._selector)).map(function(t) {
                    var e, n = Fn.getSelectorFromElement(t);
                    if (n && (e = document.querySelector(n)), e) {
                        var i = e.getBoundingClientRect();
                        if (i.width || i.height) return [tn(e)[r]().top + o, n]
                    }
                    return null
                }).filter(function(t) {
                    return t
                }).sort(function(t, e) {
                    return t[0] - e[0]
                }).forEach(function(t) {
                    e._offsets.push(t[0]), e._targets.push(t[1])
                })
            }, t.dispose = function() {
                tn.removeData(this._element, nn), tn(this._scrollElement).off(rn), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null
            }, t._getConfig = function(t) {
                if ("string" != typeof(t = l({}, sn, "object" == typeof t && t ? t : {})).target) {
                    var e = tn(t.target).attr("id");
                    e || (e = Fn.getUID(en), tn(t.target).attr("id", e)), t.target = "#" + e
                }
                return Fn.typeCheckConfig(en, t, an), t
            }, t._getScrollTop = function() {
                return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop
            }, t._getScrollHeight = function() {
                return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight)
            }, t._getOffsetHeight = function() {
                return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height
            }, t._process = function() {
                var t = this._getScrollTop() + this._config.offset,
                    e = this._getScrollHeight(),
                    n = this._config.offset + e - this._getOffsetHeight();
                if (this._scrollHeight !== e && this.refresh(), n <= t) {
                    var i = this._targets[this._targets.length - 1];
                    this._activeTarget !== i && this._activate(i)
                } else {
                    if (this._activeTarget && t < this._offsets[0] && 0 < this._offsets[0]) return this._activeTarget = null, void this._clear();
                    for (var r = this._offsets.length; r--;) {
                        this._activeTarget !== this._targets[r] && t >= this._offsets[r] && ("undefined" == typeof this._offsets[r + 1] || t < this._offsets[r + 1]) && this._activate(this._targets[r])
                    }
                }
            }, t._activate = function(e) {
                this._activeTarget = e, this._clear();
                var t = this._selector.split(",");
                t = t.map(function(t) {
                    return t + '[data-target="' + e + '"],' + t + '[href="' + e + '"]'
                });
                var n = tn([].slice.call(document.querySelectorAll(t.join(","))));
                n.hasClass(cn) ? (n.closest(pn).find(yn).addClass(hn), n.addClass(hn)) : (n.addClass(hn), n.parents(dn).prev(gn + ", " + mn).addClass(hn), n.parents(dn).prev(_n).children(gn).addClass(hn)), tn(this._scrollElement).trigger(ln.ACTIVATE, {
                    relatedTarget: e
                })
            }, t._clear = function() {
                var t = [].slice.call(document.querySelectorAll(this._selector));
                tn(t).filter(fn).removeClass(hn)
            }, n._jQueryInterface = function(e) {
                return this.each(function() {
                    var t = tn(this).data(nn);
                    if (t || (t = new n(this, "object" == typeof e && e), tn(this).data(nn, t)), "string" == typeof e) {
                        if ("undefined" == typeof t[e]) throw new TypeError('No method named "' + e + '"');
                        t[e]()
                    }
                })
            }, s(n, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }, {
                key: "Default",
                get: function() {
                    return sn
                }
            }]), n
        }(), tn(window).on(ln.LOAD_DATA_API, function() {
            for (var t = [].slice.call(document.querySelectorAll(un)), e = t.length; e--;) {
                var n = tn(t[e]);
                Tn._jQueryInterface.call(n, n.data())
            }
        }), tn.fn[en] = Tn._jQueryInterface, tn.fn[en].Constructor = Tn, tn.fn[en].noConflict = function() {
            return tn.fn[en] = on, Tn._jQueryInterface
        }, Tn),
        Gn = (In = "." + (Sn = "bs.tab"), An = (bn = e).fn.tab, Dn = {
            HIDE: "hide" + In,
            HIDDEN: "hidden" + In,
            SHOW: "show" + In,
            SHOWN: "shown" + In,
            CLICK_DATA_API: "click" + In + ".data-api"
        }, wn = "dropdown-menu", Nn = "active", On = "disabled", kn = "fade", Pn = "show", jn = ".dropdown", Hn = ".nav, .list-group", Ln = ".active", Rn = "> li > .active", xn = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', Wn = ".dropdown-toggle", Un = "> .dropdown-menu .active", qn = function() {
            function i(t) {
                this._element = t
            }
            var t = i.prototype;
            return t.show = function() {
                var n = this;
                if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && bn(this._element).hasClass(Nn) || bn(this._element).hasClass(On))) {
                    var t, i, e = bn(this._element).closest(Hn)[0],
                        r = Fn.getSelectorFromElement(this._element);
                    if (e) {
                        var o = "UL" === e.nodeName ? Rn : Ln;
                        i = (i = bn.makeArray(bn(e).find(o)))[i.length - 1]
                    }
                    var s = bn.Event(Dn.HIDE, {
                            relatedTarget: this._element
                        }),
                        a = bn.Event(Dn.SHOW, {
                            relatedTarget: i
                        });
                    if (i && bn(i).trigger(s), bn(this._element).trigger(a), !a.isDefaultPrevented() && !s.isDefaultPrevented()) {
                        r && (t = document.querySelector(r)), this._activate(this._element, e);
                        var l = function() {
                            var t = bn.Event(Dn.HIDDEN, {
                                    relatedTarget: n._element
                                }),
                                e = bn.Event(Dn.SHOWN, {
                                    relatedTarget: i
                                });
                            bn(i).trigger(t), bn(n._element).trigger(e)
                        };
                        t ? this._activate(t, t.parentNode, l) : l()
                    }
                }
            }, t.dispose = function() {
                bn.removeData(this._element, Sn), this._element = null
            }, t._activate = function(t, e, n) {
                var i = this,
                    r = ("UL" === e.nodeName ? bn(e).find(Rn) : bn(e).children(Ln))[0],
                    o = n && r && bn(r).hasClass(kn),
                    s = function() {
                        return i._transitionComplete(t, r, n)
                    };
                if (r && o) {
                    var a = Fn.getTransitionDurationFromElement(r);
                    bn(r).one(Fn.TRANSITION_END, s).emulateTransitionEnd(a)
                } else s()
            }, t._transitionComplete = function(t, e, n) {
                if (e) {
                    bn(e).removeClass(Pn + " " + Nn);
                    var i = bn(e.parentNode).find(Un)[0];
                    i && bn(i).removeClass(Nn), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !1)
                }
                if (bn(t).addClass(Nn), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), Fn.reflow(t), bn(t).addClass(Pn), t.parentNode && bn(t.parentNode).hasClass(wn)) {
                    var r = bn(t).closest(jn)[0];
                    if (r) {
                        var o = [].slice.call(r.querySelectorAll(Wn));
                        bn(o).addClass(Nn)
                    }
                    t.setAttribute("aria-expanded", !0)
                }
                n && n()
            }, i._jQueryInterface = function(n) {
                return this.each(function() {
                    var t = bn(this),
                        e = t.data(Sn);
                    if (e || (e = new i(this), t.data(Sn, e)), "string" == typeof n) {
                        if ("undefined" == typeof e[n]) throw new TypeError('No method named "' + n + '"');
                        e[n]()
                    }
                })
            }, s(i, null, [{
                key: "VERSION",
                get: function() {
                    return "4.1.3"
                }
            }]), i
        }(), bn(document).on(Dn.CLICK_DATA_API, xn, function(t) {
            t.preventDefault(), qn._jQueryInterface.call(bn(this), "show")
        }), bn.fn.tab = qn._jQueryInterface, bn.fn.tab.Constructor = qn, bn.fn.tab.noConflict = function() {
            return bn.fn.tab = An, qn._jQueryInterface
        }, qn);
    ! function(t) {
        if ("undefined" == typeof t) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");
        var e = t.fn.jquery.split(" ")[0].split(".");
        if (e[0] < 2 && e[1] < 9 || 1 === e[0] && 9 === e[1] && e[2] < 1 || 4 <= e[0]) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")
    }(e), t.Util = Fn, t.Alert = Kn, t.Button = Mn, t.Carousel = Qn, t.Collapse = Bn, t.Dropdown = Vn, t.Modal = Yn, t.Popover = Jn, t.Scrollspy = Zn, t.Tab = Gn, t.Tooltip = zn, Object.defineProperty(t, "__esModule", {
        value: !0
    })
});
/*! Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */
! function(n) {
    "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function(e, t) {
        return void 0 === t && (t = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), n(t), t
    } : n(jQuery)
}(function(t) {
    var e, n, s, p, r, o, h, f, g, m, y, v, i, a, _, s = (t && t.fn && t.fn.select2 && t.fn.select2.amd && (u = t.fn.select2.amd), u && u.requirejs || (u ? n = u : u = {}, g = {}, m = {}, y = {}, v = {}, i = Object.prototype.hasOwnProperty, a = [].slice, _ = /\.js$/, h = function(e, t) {
        var n, s, i = c(e),
            r = i[0],
            t = t[1];
        return e = i[1], r && (n = x(r = l(r, t))), r ? e = n && n.normalize ? n.normalize(e, (s = t, function(e) {
            return l(e, s)
        })) : l(e, t) : (r = (i = c(e = l(e, t)))[0], e = i[1], r && (n = x(r))), {
            f: r ? r + "!" + e : e,
            n: e,
            pr: r,
            p: n
        }
    }, f = {
        require: function(e) {
            return w(e)
        },
        exports: function(e) {
            var t = g[e];
            return void 0 !== t ? t : g[e] = {}
        },
        module: function(e) {
            return {
                id: e,
                uri: "",
                exports: g[e],
                config: (t = e, function() {
                    return y && y.config && y.config[t] || {}
                })
            };
            var t
        }
    }, r = function(e, t, n, s) {
        var i, r, o, a, l, c = [],
            u = typeof n,
            d = A(s = s || e);
        if ("undefined" == u || "function" == u) {
            for (t = !t.length && n.length ? ["require", "exports", "module"] : t, a = 0; a < t.length; a += 1)
                if ("require" === (r = (o = h(t[a], d)).f)) c[a] = f.require(e);
                else if ("exports" === r) c[a] = f.exports(e), l = !0;
            else if ("module" === r) i = c[a] = f.module(e);
            else if (b(g, r) || b(m, r) || b(v, r)) c[a] = x(r);
            else {
                if (!o.p) throw new Error(e + " missing " + r);
                o.p.load(o.n, w(s, !0), function(t) {
                    return function(e) {
                        g[t] = e
                    }
                }(r), {}), c[a] = g[r]
            }
            u = n ? n.apply(g[e], c) : void 0, e && (i && i.exports !== p && i.exports !== g[e] ? g[e] = i.exports : u === p && l || (g[e] = u))
        } else e && (g[e] = n)
    }, e = n = o = function(e, t, n, s, i) {
        if ("string" == typeof e) return f[e] ? f[e](t) : x(h(e, A(t)).f);
        if (!e.splice) {
            if ((y = e).deps && o(y.deps, y.callback), !t) return;
            t.splice ? (e = t, t = n, n = null) : e = p
        }
        return t = t || function() {}, "function" == typeof n && (n = s, s = i), s ? r(p, e, t, n) : setTimeout(function() {
            r(p, e, t, n)
        }, 4), o
    }, o.config = function(e) {
        return o(e)
    }, e._defined = g, (s = function(e, t, n) {
        if ("string" != typeof e) throw new Error("See almond README: incorrect module build, no module name");
        t.splice || (n = t, t = []), b(g, e) || b(m, e) || (m[e] = [e, t, n])
    }).amd = {
        jQuery: !0
    }, u.requirejs = e, u.require = n, u.define = s), u.define("almond", function() {}), u.define("jquery", [], function() {
        var e = t || $;
        return null == e && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), e
    }), u.define("select2/utils", ["jquery"], function(r) {
        var s = {};

        function c(e) {
            var t, n = e.prototype,
                s = [];
            for (t in n) "function" == typeof n[t] && "constructor" !== t && s.push(t);
            return s
        }
        s.Extend = function(e, t) {
            var n, s = {}.hasOwnProperty;

            function i() {
                this.constructor = e
            }
            for (n in t) s.call(t, n) && (e[n] = t[n]);
            return i.prototype = t.prototype, e.prototype = new i, e.__super__ = t.prototype, e
        }, s.Decorate = function(s, i) {
            var e = c(i),
                t = c(s);

            function r() {
                var e = Array.prototype.unshift,
                    t = i.prototype.constructor.length,
                    n = s.prototype.constructor;
                0 < t && (e.call(arguments, s.prototype.constructor), n = i.prototype.constructor), n.apply(this, arguments)
            }
            i.displayName = s.displayName, r.prototype = new function() {
                this.constructor = r
            };
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                r.prototype[o] = s.prototype[o]
            }
            for (var a = 0; a < e.length; a++) {
                var l = e[a];
                r.prototype[l] = function(e) {
                    var t = function() {};
                    e in r.prototype && (t = r.prototype[e]);
                    var n = i.prototype[e];
                    return function() {
                        return Array.prototype.unshift.call(arguments, t), n.apply(this, arguments)
                    }
                }(l)
            }
            return r
        };

        function e() {
            this.listeners = {}
        }
        e.prototype.on = function(e, t) {
            this.listeners = this.listeners || {}, e in this.listeners ? this.listeners[e].push(t) : this.listeners[e] = [t]
        }, e.prototype.trigger = function(e) {
            var t = Array.prototype.slice,
                n = t.call(arguments, 1);
            this.listeners = this.listeners || {}, null == n && (n = []), 0 === n.length && n.push({}), (n[0]._type = e) in this.listeners && this.invoke(this.listeners[e], t.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments)
        }, e.prototype.invoke = function(e, t) {
            for (var n = 0, s = e.length; n < s; n++) e[n].apply(this, t)
        }, s.Observable = e, s.generateChars = function(e) {
            for (var t = "", n = 0; n < e; n++) t += Math.floor(36 * Math.random()).toString(36);
            return t
        }, s.bind = function(e, t) {
            return function() {
                e.apply(t, arguments)
            }
        }, s._convertData = function(e) {
            for (var t in e) {
                var n = t.split("-"),
                    s = e;
                if (1 !== n.length) {
                    for (var i = 0; i < n.length; i++) {
                        var r = n[i];
                        (r = r.substring(0, 1).toLowerCase() + r.substring(1)) in s || (s[r] = {}), i == n.length - 1 && (s[r] = e[t]), s = s[r]
                    }
                    delete e[t]
                }
            }
            return e
        }, s.hasScroll = function(e, t) {
            var n = r(t),
                s = t.style.overflowX,
                i = t.style.overflowY;
            return (s !== i || "hidden" !== i && "visible" !== i) && ("scroll" === s || "scroll" === i || (n.innerHeight() < t.scrollHeight || n.innerWidth() < t.scrollWidth))
        }, s.escapeMarkup = function(e) {
            var t = {
                "\\": "&#92;",
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "/": "&#47;"
            };
            return "string" != typeof e ? e : String(e).replace(/[&<>"'\/\\]/g, function(e) {
                return t[e]
            })
        }, s.__cache = {};
        var n = 0;
        return s.GetUniqueElementId = function(e) {
            var t = e.getAttribute("data-select2-id");
            return null != t || (t = e.id ? "select2-data-" + e.id : "select2-data-" + (++n).toString() + "-" + s.generateChars(4), e.setAttribute("data-select2-id", t)), t
        }, s.StoreData = function(e, t, n) {
            e = s.GetUniqueElementId(e);
            s.__cache[e] || (s.__cache[e] = {}), s.__cache[e][t] = n
        }, s.GetData = function(e, t) {
            var n = s.GetUniqueElementId(e);
            return t ? s.__cache[n] && null != s.__cache[n][t] ? s.__cache[n][t] : r(e).data(t) : s.__cache[n]
        }, s.RemoveData = function(e) {
            var t = s.GetUniqueElementId(e);
            null != s.__cache[t] && delete s.__cache[t], e.removeAttribute("data-select2-id")
        }, s.copyNonInternalCssClasses = function(e, t) {
            var n = (n = e.getAttribute("class").trim().split(/\s+/)).filter(function(e) {
                    return 0 === e.indexOf("select2-")
                }),
                t = (t = t.getAttribute("class").trim().split(/\s+/)).filter(function(e) {
                    return 0 !== e.indexOf("select2-")
                }),
                t = n.concat(t);
            e.setAttribute("class", t.join(" "))
        }, s
    }), u.define("select2/results", ["jquery", "./utils"], function(d, p) {
        function s(e, t, n) {
            this.$element = e, this.data = n, this.options = t, s.__super__.constructor.call(this)
        }
        return p.Extend(s, p.Observable), s.prototype.render = function() {
            var e = d('<ul class="select2-results__options" role="listbox"></ul>');
            return this.options.get("multiple") && e.attr("aria-multiselectable", "true"), this.$results = e
        }, s.prototype.clear = function() {
            this.$results.empty()
        }, s.prototype.displayMessage = function(e) {
            var t = this.options.get("escapeMarkup");
            this.clear(), this.hideLoading();
            var n = d('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),
                s = this.options.get("translations").get(e.message);
            n.append(t(s(e.args))), n[0].className += " select2-results__message", this.$results.append(n)
        }, s.prototype.hideMessages = function() {
            this.$results.find(".select2-results__message").remove()
        }, s.prototype.append = function(e) {
            this.hideLoading();
            var t = [];
            if (null != e.results && 0 !== e.results.length) {
                e.results = this.sort(e.results);
                for (var n = 0; n < e.results.length; n++) {
                    var s = e.results[n],
                        s = this.option(s);
                    t.push(s)
                }
                this.$results.append(t)
            } else 0 === this.$results.children().length && this.trigger("results:message", {
                message: "noResults"
            })
        }, s.prototype.position = function(e, t) {
            t.find(".select2-results").append(e)
        }, s.prototype.sort = function(e) {
            return this.options.get("sorter")(e)
        }, s.prototype.highlightFirstItem = function() {
            var e = this.$results.find(".select2-results__option--selectable"),
                t = e.filter(".select2-results__option--selected");
            (0 < t.length ? t : e).first().trigger("mouseenter"), this.ensureHighlightVisible()
        }, s.prototype.setClasses = function() {
            var t = this;
            this.data.current(function(e) {
                var s = e.map(function(e) {
                    return e.id.toString()
                });
                t.$results.find(".select2-results__option--selectable").each(function() {
                    var e = d(this),
                        t = p.GetData(this, "data"),
                        n = "" + t.id;
                    null != t.element && t.element.selected || null == t.element && -1 < s.indexOf(n) ? (this.classList.add("select2-results__option--selected"), e.attr("aria-selected", "true")) : (this.classList.remove("select2-results__option--selected"), e.attr("aria-selected", "false"))
                })
            })
        }, s.prototype.showLoading = function(e) {
            this.hideLoading();
            e = {
                disabled: !0,
                loading: !0,
                text: this.options.get("translations").get("searching")(e)
            }, e = this.option(e);
            e.className += " loading-results", this.$results.prepend(e)
        }, s.prototype.hideLoading = function() {
            this.$results.find(".loading-results").remove()
        }, s.prototype.option = function(e) {
            var t = document.createElement("li");
            t.classList.add("select2-results__option"), t.classList.add("select2-results__option--selectable");
            var n, s = {
                    role: "option"
                },
                i = window.Element.prototype.matches || window.Element.prototype.msMatchesSelector || window.Element.prototype.webkitMatchesSelector;
            for (n in (null != e.element && i.call(e.element, ":disabled") || null == e.element && e.disabled) && (s["aria-disabled"] = "true", t.classList.remove("select2-results__option--selectable"), t.classList.add("select2-results__option--disabled")), null == e.id && t.classList.remove("select2-results__option--selectable"), null != e._resultId && (t.id = e._resultId), e.title && (t.title = e.title), e.children && (s.role = "group", s["aria-label"] = e.text, t.classList.remove("select2-results__option--selectable"), t.classList.add("select2-results__option--group")), s) {
                var r = s[n];
                t.setAttribute(n, r)
            }
            if (e.children) {
                var o = d(t),
                    a = document.createElement("strong");
                a.className = "select2-results__group", this.template(e, a);
                for (var l = [], c = 0; c < e.children.length; c++) {
                    var u = e.children[c],
                        u = this.option(u);
                    l.push(u)
                }
                i = d("<ul></ul>", {
                    class: "select2-results__options select2-results__options--nested",
                    role: "none"
                });
                i.append(l), o.append(a), o.append(i)
            } else this.template(e, t);
            return p.StoreData(t, "data", e), t
        }, s.prototype.bind = function(t, e) {
            var i = this,
                n = t.id + "-results";
            this.$results.attr("id", n), t.on("results:all", function(e) {
                i.clear(), i.append(e.data), t.isOpen() && (i.setClasses(), i.highlightFirstItem())
            }), t.on("results:append", function(e) {
                i.append(e.data), t.isOpen() && i.setClasses()
            }), t.on("query", function(e) {
                i.hideMessages(), i.showLoading(e)
            }), t.on("select", function() {
                t.isOpen() && (i.setClasses(), i.options.get("scrollAfterSelect") && i.highlightFirstItem())
            }), t.on("unselect", function() {
                t.isOpen() && (i.setClasses(), i.options.get("scrollAfterSelect") && i.highlightFirstItem())
            }), t.on("open", function() {
                i.$results.attr("aria-expanded", "true"), i.$results.attr("aria-hidden", "false"), i.setClasses(), i.ensureHighlightVisible()
            }), t.on("close", function() {
                i.$results.attr("aria-expanded", "false"), i.$results.attr("aria-hidden", "true"), i.$results.removeAttr("aria-activedescendant")
            }), t.on("results:toggle", function() {
                var e = i.getHighlightedResults();
                0 !== e.length && e.trigger("mouseup")
            }), t.on("results:select", function() {
                var e, t = i.getHighlightedResults();
                0 !== t.length && (e = p.GetData(t[0], "data"), t.hasClass("select2-results__option--selected") ? i.trigger("close", {}) : i.trigger("select", {
                    data: e
                }))
            }), t.on("results:previous", function() {
                var e, t = i.getHighlightedResults(),
                    n = i.$results.find(".select2-results__option--selectable"),
                    s = n.index(t);
                s <= 0 || (e = s - 1, 0 === t.length && (e = 0), (s = n.eq(e)).trigger("mouseenter"), t = i.$results.offset().top, n = s.offset().top, s = i.$results.scrollTop() + (n - t), 0 === e ? i.$results.scrollTop(0) : n - t < 0 && i.$results.scrollTop(s))
            }), t.on("results:next", function() {
                var e, t = i.getHighlightedResults(),
                    n = i.$results.find(".select2-results__option--selectable"),
                    s = n.index(t) + 1;
                s >= n.length || ((e = n.eq(s)).trigger("mouseenter"), t = i.$results.offset().top + i.$results.outerHeight(!1), n = e.offset().top + e.outerHeight(!1), e = i.$results.scrollTop() + n - t, 0 === s ? i.$results.scrollTop(0) : t < n && i.$results.scrollTop(e))
            }), t.on("results:focus", function(e) {
                e.element[0].classList.add("select2-results__option--highlighted"), e.element[0].setAttribute("aria-selected", "true")
            }), t.on("results:message", function(e) {
                i.displayMessage(e)
            }), d.fn.mousewheel && this.$results.on("mousewheel", function(e) {
                var t = i.$results.scrollTop(),
                    n = i.$results.get(0).scrollHeight - t + e.deltaY,
                    t = 0 < e.deltaY && t - e.deltaY <= 0,
                    n = e.deltaY < 0 && n <= i.$results.height();
                t ? (i.$results.scrollTop(0), e.preventDefault(), e.stopPropagation()) : n && (i.$results.scrollTop(i.$results.get(0).scrollHeight - i.$results.height()), e.preventDefault(), e.stopPropagation())
            }), this.$results.on("mouseup", ".select2-results__option--selectable", function(e) {
                var t = d(this),
                    n = p.GetData(this, "data");
                t.hasClass("select2-results__option--selected") ? i.options.get("multiple") ? i.trigger("unselect", {
                    originalEvent: e,
                    data: n
                }) : i.trigger("close", {}) : i.trigger("select", {
                    originalEvent: e,
                    data: n
                })
            }), this.$results.on("mouseenter", ".select2-results__option--selectable", function(e) {
                var t = p.GetData(this, "data");
                i.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected", "false"), i.trigger("results:focus", {
                    data: t,
                    element: d(this)
                })
            })
        }, s.prototype.getHighlightedResults = function() {
            return this.$results.find(".select2-results__option--highlighted")
        }, s.prototype.destroy = function() {
            this.$results.remove()
        }, s.prototype.ensureHighlightVisible = function() {
            var e, t, n, s, i = this.getHighlightedResults();
            0 !== i.length && (e = this.$results.find(".select2-results__option--selectable").index(i), s = this.$results.offset().top, t = i.offset().top, n = this.$results.scrollTop() + (t - s), s = t - s, n -= 2 * i.outerHeight(!1), e <= 2 ? this.$results.scrollTop(0) : (s > this.$results.outerHeight() || s < 0) && this.$results.scrollTop(n))
        }, s.prototype.template = function(e, t) {
            var n = this.options.get("templateResult"),
                s = this.options.get("escapeMarkup"),
                e = n(e, t);
            null == e ? t.style.display = "none" : "string" == typeof e ? t.innerHTML = s(e) : d(t).append(e)
        }, s
    }), u.define("select2/keys", [], function() {
        return {
            BACKSPACE: 8,
            TAB: 9,
            ENTER: 13,
            SHIFT: 16,
            CTRL: 17,
            ALT: 18,
            ESC: 27,
            SPACE: 32,
            PAGE_UP: 33,
            PAGE_DOWN: 34,
            END: 35,
            HOME: 36,
            LEFT: 37,
            UP: 38,
            RIGHT: 39,
            DOWN: 40,
            DELETE: 46
        }
    }), u.define("select2/selection/base", ["jquery", "../utils", "../keys"], function(n, s, i) {
        function r(e, t) {
            this.$element = e, this.options = t, r.__super__.constructor.call(this)
        }
        return s.Extend(r, s.Observable), r.prototype.render = function() {
            var e = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');
            return this._tabindex = 0, null != s.GetData(this.$element[0], "old-tabindex") ? this._tabindex = s.GetData(this.$element[0], "old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), e.attr("title", this.$element.attr("title")), e.attr("tabindex", this._tabindex), e.attr("aria-disabled", "false"), this.$selection = e
        }, r.prototype.bind = function(e, t) {
            var n = this,
                s = e.id + "-results";
            this.container = e, this.$selection.on("focus", function(e) {
                n.trigger("focus", e)
            }), this.$selection.on("blur", function(e) {
                n._handleBlur(e)
            }), this.$selection.on("keydown", function(e) {
                n.trigger("keypress", e), e.which === i.SPACE && e.preventDefault()
            }), e.on("results:focus", function(e) {
                n.$selection.attr("aria-activedescendant", e.data._resultId)
            }), e.on("selection:update", function(e) {
                n.update(e.data)
            }), e.on("open", function() {
                n.$selection.attr("aria-expanded", "true"), n.$selection.attr("aria-owns", s), n._attachCloseHandler(e)
            }), e.on("close", function() {
                n.$selection.attr("aria-expanded", "false"), n.$selection.removeAttr("aria-activedescendant"), n.$selection.removeAttr("aria-owns"), n.$selection.trigger("focus"), n._detachCloseHandler(e)
            }), e.on("enable", function() {
                n.$selection.attr("tabindex", n._tabindex), n.$selection.attr("aria-disabled", "false")
            }), e.on("disable", function() {
                n.$selection.attr("tabindex", "-1"), n.$selection.attr("aria-disabled", "true")
            })
        }, r.prototype._handleBlur = function(e) {
            var t = this;
            window.setTimeout(function() {
                document.activeElement == t.$selection[0] || n.contains(t.$selection[0], document.activeElement) || t.trigger("blur", e)
            }, 1)
        }, r.prototype._attachCloseHandler = function(e) {
            n(document.body).on("mousedown.select2." + e.id, function(e) {
                var t = n(e.target).closest(".select2");
                n(".select2.select2-container--open").each(function() {
                    this != t[0] && s.GetData(this, "element").select2("close")
                })
            })
        }, r.prototype._detachCloseHandler = function(e) {
            n(document.body).off("mousedown.select2." + e.id)
        }, r.prototype.position = function(e, t) {
            t.find(".selection").append(e)
        }, r.prototype.destroy = function() {
            this._detachCloseHandler(this.container)
        }, r.prototype.update = function(e) {
            throw new Error("The `update` method must be defined in child classes.")
        }, r.prototype.isEnabled = function() {
            return !this.isDisabled()
        }, r.prototype.isDisabled = function() {
            return this.options.get("disabled")
        }, r
    }), u.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function(e, t, n, s) {
        function i() {
            i.__super__.constructor.apply(this, arguments)
        }
        return n.Extend(i, t), i.prototype.render = function() {
            var e = i.__super__.render.call(this);
            return e[0].classList.add("select2-selection--single"), e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), e
        }, i.prototype.bind = function(t, e) {
            var n = this;
            i.__super__.bind.apply(this, arguments);
            var s = t.id + "-container";
            this.$selection.find(".select2-selection__rendered").attr("id", s).attr("role", "textbox").attr("aria-readonly", "true"), this.$selection.attr("aria-labelledby", s), this.$selection.attr("aria-controls", s), this.$selection.on("mousedown", function(e) {
                1 === e.which && n.trigger("toggle", {
                    originalEvent: e
                })
            }), this.$selection.on("focus", function(e) {}), this.$selection.on("blur", function(e) {}), t.on("focus", function(e) {
                t.isOpen() || n.$selection.trigger("focus")
            })
        }, i.prototype.clear = function() {
            var e = this.$selection.find(".select2-selection__rendered");
            e.empty(), e.removeAttr("title")
        }, i.prototype.display = function(e, t) {
            var n = this.options.get("templateSelection");
            return this.options.get("escapeMarkup")(n(e, t))
        }, i.prototype.selectionContainer = function() {
            return e("<span></span>")
        }, i.prototype.update = function(e) {
            var t, n;
            0 !== e.length ? (n = e[0], t = this.$selection.find(".select2-selection__rendered"), e = this.display(n, t), t.empty().append(e), (n = n.title || n.text) ? t.attr("title", n) : t.removeAttr("title")) : this.clear()
        }, i
    }), u.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function(i, e, c) {
        function r(e, t) {
            r.__super__.constructor.apply(this, arguments)
        }
        return c.Extend(r, e), r.prototype.render = function() {
            var e = r.__super__.render.call(this);
            return e[0].classList.add("select2-selection--multiple"), e.html('<ul class="select2-selection__rendered"></ul>'), e
        }, r.prototype.bind = function(e, t) {
            var n = this;
            r.__super__.bind.apply(this, arguments);
            var s = e.id + "-container";
            this.$selection.find(".select2-selection__rendered").attr("id", s), this.$selection.on("click", function(e) {
                n.trigger("toggle", {
                    originalEvent: e
                })
            }), this.$selection.on("click", ".select2-selection__choice__remove", function(e) {
                var t;
                n.isDisabled() || (t = i(this).parent(), t = c.GetData(t[0], "data"), n.trigger("unselect", {
                    originalEvent: e,
                    data: t
                }))
            }), this.$selection.on("keydown", ".select2-selection__choice__remove", function(e) {
                n.isDisabled() || e.stopPropagation()
            })
        }, r.prototype.clear = function() {
            var e = this.$selection.find(".select2-selection__rendered");
            e.empty(), e.removeAttr("title")
        }, r.prototype.display = function(e, t) {
            var n = this.options.get("templateSelection");
            return this.options.get("escapeMarkup")(n(e, t))
        }, r.prototype.selectionContainer = function() {
            return i('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')
        }, r.prototype.update = function(e) {
            if (this.clear(), 0 !== e.length) {
                for (var t = [], n = this.$selection.find(".select2-selection__rendered").attr("id") + "-choice-", s = 0; s < e.length; s++) {
                    var i = e[s],
                        r = this.selectionContainer(),
                        o = this.display(i, r),
                        a = n + c.generateChars(4) + "-";
                    i.id ? a += i.id : a += c.generateChars(4), r.find(".select2-selection__choice__display").append(o).attr("id", a);
                    var l = i.title || i.text;
                    l && r.attr("title", l);
                    o = this.options.get("translations").get("removeItem"), l = r.find(".select2-selection__choice__remove");
                    l.attr("title", o()), l.attr("aria-label", o()), l.attr("aria-describedby", a), c.StoreData(r[0], "data", i), t.push(r)
                }
                this.$selection.find(".select2-selection__rendered").append(t)
            }
        }, r
    }), u.define("select2/selection/placeholder", [], function() {
        function e(e, t, n) {
            this.placeholder = this.normalizePlaceholder(n.get("placeholder")), e.call(this, t, n)
        }
        return e.prototype.normalizePlaceholder = function(e, t) {
            return "string" == typeof t && (t = {
                id: "",
                text: t
            }), t
        }, e.prototype.createPlaceholder = function(e, t) {
            var n = this.selectionContainer();
            n.html(this.display(t)), n[0].classList.add("select2-selection__placeholder"), n[0].classList.remove("select2-selection__choice");
            t = t.title || t.text || n.text();
            return this.$selection.find(".select2-selection__rendered").attr("title", t), n
        }, e.prototype.update = function(e, t) {
            var n = 1 == t.length && t[0].id != this.placeholder.id;
            if (1 < t.length || n) return e.call(this, t);
            this.clear();
            t = this.createPlaceholder(this.placeholder);
            this.$selection.find(".select2-selection__rendered").append(t)
        }, e
    }), u.define("select2/selection/allowClear", ["jquery", "../keys", "../utils"], function(i, s, a) {
        function e() {}
        return e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function(e) {
                s._handleClear(e)
            }), t.on("keypress", function(e) {
                s._handleKeyboardClear(e, t)
            })
        }, e.prototype._handleClear = function(e, t) {
            if (!this.isDisabled()) {
                var n = this.$selection.find(".select2-selection__clear");
                if (0 !== n.length) {
                    t.stopPropagation();
                    var s = a.GetData(n[0], "data"),
                        i = this.$element.val();
                    this.$element.val(this.placeholder.id);
                    var r = {
                        data: s
                    };
                    if (this.trigger("clear", r), r.prevented) this.$element.val(i);
                    else {
                        for (var o = 0; o < s.length; o++)
                            if (r = {
                                    data: s[o]
                                }, this.trigger("unselect", r), r.prevented) return void this.$element.val(i);
                        this.$element.trigger("input").trigger("change"), this.trigger("toggle", {})
                    }
                }
            }
        }, e.prototype._handleKeyboardClear = function(e, t, n) {
            n.isOpen() || t.which != s.DELETE && t.which != s.BACKSPACE || this._handleClear(t)
        }, e.prototype.update = function(e, t) {
            var n, s;
            e.call(this, t), this.$selection.find(".select2-selection__clear").remove(), this.$selection[0].classList.remove("select2-selection--clearable"), 0 < this.$selection.find(".select2-selection__placeholder").length || 0 === t.length || (n = this.$selection.find(".select2-selection__rendered").attr("id"), s = this.options.get("translations").get("removeAllItems"), (e = i('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title", s()), e.attr("aria-label", s()), e.attr("aria-describedby", n), a.StoreData(e[0], "data", t), this.$selection.prepend(e), this.$selection[0].classList.add("select2-selection--clearable"))
        }, e
    }), u.define("select2/selection/search", ["jquery", "../utils", "../keys"], function(s, a, l) {
        function e(e, t, n) {
            e.call(this, t, n)
        }
        return e.prototype.render = function(e) {
            var t = this.options.get("translations").get("search"),
                n = s('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');
            this.$searchContainer = n, this.$search = n.find("textarea"), this.$search.prop("autocomplete", this.options.get("autocomplete")), this.$search.attr("aria-label", t());
            e = e.call(this);
            return this._transferTabIndex(), e.append(this.$searchContainer), e
        }, e.prototype.bind = function(e, t, n) {
            var s = this,
                i = t.id + "-results",
                r = t.id + "-container";
            e.call(this, t, n), s.$search.attr("aria-describedby", r), t.on("open", function() {
                s.$search.attr("aria-controls", i), s.$search.trigger("focus")
            }), t.on("close", function() {
                s.$search.val(""), s.resizeSearch(), s.$search.removeAttr("aria-controls"), s.$search.removeAttr("aria-activedescendant"), s.$search.trigger("focus")
            }), t.on("enable", function() {
                s.$search.prop("disabled", !1), s._transferTabIndex()
            }), t.on("disable", function() {
                s.$search.prop("disabled", !0)
            }), t.on("focus", function(e) {
                s.$search.trigger("focus")
            }), t.on("results:focus", function(e) {
                e.data._resultId ? s.$search.attr("aria-activedescendant", e.data._resultId) : s.$search.removeAttr("aria-activedescendant")
            }), this.$selection.on("focusin", ".select2-search--inline", function(e) {
                s.trigger("focus", e)
            }), this.$selection.on("focusout", ".select2-search--inline", function(e) {
                s._handleBlur(e)
            }), this.$selection.on("keydown", ".select2-search--inline", function(e) {
                var t;
                e.stopPropagation(), s.trigger("keypress", e), s._keyUpPrevented = e.isDefaultPrevented(), e.which !== l.BACKSPACE || "" !== s.$search.val() || 0 < (t = s.$selection.find(".select2-selection__choice").last()).length && (t = a.GetData(t[0], "data"), s.searchRemoveChoice(t), e.preventDefault())
            }), this.$selection.on("click", ".select2-search--inline", function(e) {
                s.$search.val() && e.stopPropagation()
            });
            var t = document.documentMode,
                o = t && t <= 11;
            this.$selection.on("input.searchcheck", ".select2-search--inline", function(e) {
                o ? s.$selection.off("input.search input.searchcheck") : s.$selection.off("keyup.search")
            }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function(e) {
                var t;
                o && "input" === e.type ? s.$selection.off("input.search input.searchcheck") : (t = e.which) != l.SHIFT && t != l.CTRL && t != l.ALT && t != l.TAB && s.handleSearch(e)
            })
        }, e.prototype._transferTabIndex = function(e) {
            this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1")
        }, e.prototype.createPlaceholder = function(e, t) {
            this.$search.attr("placeholder", t.text)
        }, e.prototype.update = function(e, t) {
            var n = this.$search[0] == document.activeElement;
            this.$search.attr("placeholder", ""), e.call(this, t), this.resizeSearch(), n && this.$search.trigger("focus")
        }, e.prototype.handleSearch = function() {
            var e;
            this.resizeSearch(), this._keyUpPrevented || (e = this.$search.val(), this.trigger("query", {
                term: e
            })), this._keyUpPrevented = !1
        }, e.prototype.searchRemoveChoice = function(e, t) {
            this.trigger("unselect", {
                data: t
            }), this.$search.val(t.text), this.handleSearch()
        }, e.prototype.resizeSearch = function() {
            this.$search.css("width", "25px");
            var e = "100%";
            "" === this.$search.attr("placeholder") && (e = .75 * (this.$search.val().length + 1) + "em"), this.$search.css("width", e)
        }, e
    }), u.define("select2/selection/selectionCss", ["../utils"], function(n) {
        function e() {}
        return e.prototype.render = function(e) {
            var t = e.call(this),
                e = this.options.get("selectionCssClass") || "";
            return -1 !== e.indexOf(":all:") && (e = e.replace(":all:", ""), n.copyNonInternalCssClasses(t[0], this.$element[0])), t.addClass(e), t
        }, e
    }), u.define("select2/selection/eventRelay", ["jquery"], function(o) {
        function e() {}
        return e.prototype.bind = function(e, t, n) {
            var s = this,
                i = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting", "clear", "clearing"],
                r = ["opening", "closing", "selecting", "unselecting", "clearing"];
            e.call(this, t, n), t.on("*", function(e, t) {
                var n; - 1 !== i.indexOf(e) && (t = t || {}, n = o.Event("select2:" + e, {
                    params: t
                }), s.$element.trigger(n), -1 !== r.indexOf(e) && (t.prevented = n.isDefaultPrevented()))
            })
        }, e
    }), u.define("select2/translation", ["jquery", "require"], function(t, n) {
        function s(e) {
            this.dict = e || {}
        }
        return s.prototype.all = function() {
            return this.dict
        }, s.prototype.get = function(e) {
            return this.dict[e]
        }, s.prototype.extend = function(e) {
            this.dict = t.extend({}, e.all(), this.dict)
        }, s._cache = {}, s.loadPath = function(e) {
            var t;
            return e in s._cache || (t = n(e), s._cache[e] = t), new s(s._cache[e])
        }, s
    }), u.define("select2/diacritics", [], function() {
        return {
            "Ⓐ": "A",
            "Ａ": "A",
            "À": "A",
            "Á": "A",
            "Â": "A",
            "Ầ": "A",
            "Ấ": "A",
            "Ẫ": "A",
            "Ẩ": "A",
            "Ã": "A",
            "Ā": "A",
            "Ă": "A",
            "Ằ": "A",
            "Ắ": "A",
            "Ẵ": "A",
            "Ẳ": "A",
            "Ȧ": "A",
            "Ǡ": "A",
            "Ä": "A",
            "Ǟ": "A",
            "Ả": "A",
            "Å": "A",
            "Ǻ": "A",
            "Ǎ": "A",
            "Ȁ": "A",
            "Ȃ": "A",
            "Ạ": "A",
            "Ậ": "A",
            "Ặ": "A",
            "Ḁ": "A",
            "Ą": "A",
            "Ⱥ": "A",
            "Ɐ": "A",
            "Ꜳ": "AA",
            "Æ": "AE",
            "Ǽ": "AE",
            "Ǣ": "AE",
            "Ꜵ": "AO",
            "Ꜷ": "AU",
            "Ꜹ": "AV",
            "Ꜻ": "AV",
            "Ꜽ": "AY",
            "Ⓑ": "B",
            "Ｂ": "B",
            "Ḃ": "B",
            "Ḅ": "B",
            "Ḇ": "B",
            "Ƀ": "B",
            "Ƃ": "B",
            "Ɓ": "B",
            "Ⓒ": "C",
            "Ｃ": "C",
            "Ć": "C",
            "Ĉ": "C",
            "Ċ": "C",
            "Č": "C",
            "Ç": "C",
            "Ḉ": "C",
            "Ƈ": "C",
            "Ȼ": "C",
            "Ꜿ": "C",
            "Ⓓ": "D",
            "Ｄ": "D",
            "Ḋ": "D",
            "Ď": "D",
            "Ḍ": "D",
            "Ḑ": "D",
            "Ḓ": "D",
            "Ḏ": "D",
            "Đ": "D",
            "Ƌ": "D",
            "Ɗ": "D",
            "Ɖ": "D",
            "Ꝺ": "D",
            "Ǳ": "DZ",
            "Ǆ": "DZ",
            "ǲ": "Dz",
            "ǅ": "Dz",
            "Ⓔ": "E",
            "Ｅ": "E",
            "È": "E",
            "É": "E",
            "Ê": "E",
            "Ề": "E",
            "Ế": "E",
            "Ễ": "E",
            "Ể": "E",
            "Ẽ": "E",
            "Ē": "E",
            "Ḕ": "E",
            "Ḗ": "E",
            "Ĕ": "E",
            "Ė": "E",
            "Ë": "E",
            "Ẻ": "E",
            "Ě": "E",
            "Ȅ": "E",
            "Ȇ": "E",
            "Ẹ": "E",
            "Ệ": "E",
            "Ȩ": "E",
            "Ḝ": "E",
            "Ę": "E",
            "Ḙ": "E",
            "Ḛ": "E",
            "Ɛ": "E",
            "Ǝ": "E",
            "Ⓕ": "F",
            "Ｆ": "F",
            "Ḟ": "F",
            "Ƒ": "F",
            "Ꝼ": "F",
            "Ⓖ": "G",
            "Ｇ": "G",
            "Ǵ": "G",
            "Ĝ": "G",
            "Ḡ": "G",
            "Ğ": "G",
            "Ġ": "G",
            "Ǧ": "G",
            "Ģ": "G",
            "Ǥ": "G",
            "Ɠ": "G",
            "Ꞡ": "G",
            "Ᵹ": "G",
            "Ꝿ": "G",
            "Ⓗ": "H",
            "Ｈ": "H",
            "Ĥ": "H",
            "Ḣ": "H",
            "Ḧ": "H",
            "Ȟ": "H",
            "Ḥ": "H",
            "Ḩ": "H",
            "Ḫ": "H",
            "Ħ": "H",
            "Ⱨ": "H",
            "Ⱶ": "H",
            "Ɥ": "H",
            "Ⓘ": "I",
            "Ｉ": "I",
            "Ì": "I",
            "Í": "I",
            "Î": "I",
            "Ĩ": "I",
            "Ī": "I",
            "Ĭ": "I",
            "İ": "I",
            "Ï": "I",
            "Ḯ": "I",
            "Ỉ": "I",
            "Ǐ": "I",
            "Ȉ": "I",
            "Ȋ": "I",
            "Ị": "I",
            "Į": "I",
            "Ḭ": "I",
            "Ɨ": "I",
            "Ⓙ": "J",
            "Ｊ": "J",
            "Ĵ": "J",
            "Ɉ": "J",
            "Ⓚ": "K",
            "Ｋ": "K",
            "Ḱ": "K",
            "Ǩ": "K",
            "Ḳ": "K",
            "Ķ": "K",
            "Ḵ": "K",
            "Ƙ": "K",
            "Ⱪ": "K",
            "Ꝁ": "K",
            "Ꝃ": "K",
            "Ꝅ": "K",
            "Ꞣ": "K",
            "Ⓛ": "L",
            "Ｌ": "L",
            "Ŀ": "L",
            "Ĺ": "L",
            "Ľ": "L",
            "Ḷ": "L",
            "Ḹ": "L",
            "Ļ": "L",
            "Ḽ": "L",
            "Ḻ": "L",
            "Ł": "L",
            "Ƚ": "L",
            "Ɫ": "L",
            "Ⱡ": "L",
            "Ꝉ": "L",
            "Ꝇ": "L",
            "Ꞁ": "L",
            "Ǉ": "LJ",
            "ǈ": "Lj",
            "Ⓜ": "M",
            "Ｍ": "M",
            "Ḿ": "M",
            "Ṁ": "M",
            "Ṃ": "M",
            "Ɱ": "M",
            "Ɯ": "M",
            "Ⓝ": "N",
            "Ｎ": "N",
            "Ǹ": "N",
            "Ń": "N",
            "Ñ": "N",
            "Ṅ": "N",
            "Ň": "N",
            "Ṇ": "N",
            "Ņ": "N",
            "Ṋ": "N",
            "Ṉ": "N",
            "Ƞ": "N",
            "Ɲ": "N",
            "Ꞑ": "N",
            "Ꞥ": "N",
            "Ǌ": "NJ",
            "ǋ": "Nj",
            "Ⓞ": "O",
            "Ｏ": "O",
            "Ò": "O",
            "Ó": "O",
            "Ô": "O",
            "Ồ": "O",
            "Ố": "O",
            "Ỗ": "O",
            "Ổ": "O",
            "Õ": "O",
            "Ṍ": "O",
            "Ȭ": "O",
            "Ṏ": "O",
            "Ō": "O",
            "Ṑ": "O",
            "Ṓ": "O",
            "Ŏ": "O",
            "Ȯ": "O",
            "Ȱ": "O",
            "Ö": "O",
            "Ȫ": "O",
            "Ỏ": "O",
            "Ő": "O",
            "Ǒ": "O",
            "Ȍ": "O",
            "Ȏ": "O",
            "Ơ": "O",
            "Ờ": "O",
            "Ớ": "O",
            "Ỡ": "O",
            "Ở": "O",
            "Ợ": "O",
            "Ọ": "O",
            "Ộ": "O",
            "Ǫ": "O",
            "Ǭ": "O",
            "Ø": "O",
            "Ǿ": "O",
            "Ɔ": "O",
            "Ɵ": "O",
            "Ꝋ": "O",
            "Ꝍ": "O",
            "Œ": "OE",
            "Ƣ": "OI",
            "Ꝏ": "OO",
            "Ȣ": "OU",
            "Ⓟ": "P",
            "Ｐ": "P",
            "Ṕ": "P",
            "Ṗ": "P",
            "Ƥ": "P",
            "Ᵽ": "P",
            "Ꝑ": "P",
            "Ꝓ": "P",
            "Ꝕ": "P",
            "Ⓠ": "Q",
            "Ｑ": "Q",
            "Ꝗ": "Q",
            "Ꝙ": "Q",
            "Ɋ": "Q",
            "Ⓡ": "R",
            "Ｒ": "R",
            "Ŕ": "R",
            "Ṙ": "R",
            "Ř": "R",
            "Ȑ": "R",
            "Ȓ": "R",
            "Ṛ": "R",
            "Ṝ": "R",
            "Ŗ": "R",
            "Ṟ": "R",
            "Ɍ": "R",
            "Ɽ": "R",
            "Ꝛ": "R",
            "Ꞧ": "R",
            "Ꞃ": "R",
            "Ⓢ": "S",
            "Ｓ": "S",
            "ẞ": "S",
            "Ś": "S",
            "Ṥ": "S",
            "Ŝ": "S",
            "Ṡ": "S",
            "Š": "S",
            "Ṧ": "S",
            "Ṣ": "S",
            "Ṩ": "S",
            "Ș": "S",
            "Ş": "S",
            "Ȿ": "S",
            "Ꞩ": "S",
            "Ꞅ": "S",
            "Ⓣ": "T",
            "Ｔ": "T",
            "Ṫ": "T",
            "Ť": "T",
            "Ṭ": "T",
            "Ț": "T",
            "Ţ": "T",
            "Ṱ": "T",
            "Ṯ": "T",
            "Ŧ": "T",
            "Ƭ": "T",
            "Ʈ": "T",
            "Ⱦ": "T",
            "Ꞇ": "T",
            "Ꜩ": "TZ",
            "Ⓤ": "U",
            "Ｕ": "U",
            "Ù": "U",
            "Ú": "U",
            "Û": "U",
            "Ũ": "U",
            "Ṹ": "U",
            "Ū": "U",
            "Ṻ": "U",
            "Ŭ": "U",
            "Ü": "U",
            "Ǜ": "U",
            "Ǘ": "U",
            "Ǖ": "U",
            "Ǚ": "U",
            "Ủ": "U",
            "Ů": "U",
            "Ű": "U",
            "Ǔ": "U",
            "Ȕ": "U",
            "Ȗ": "U",
            "Ư": "U",
            "Ừ": "U",
            "Ứ": "U",
            "Ữ": "U",
            "Ử": "U",
            "Ự": "U",
            "Ụ": "U",
            "Ṳ": "U",
            "Ų": "U",
            "Ṷ": "U",
            "Ṵ": "U",
            "Ʉ": "U",
            "Ⓥ": "V",
            "Ｖ": "V",
            "Ṽ": "V",
            "Ṿ": "V",
            "Ʋ": "V",
            "Ꝟ": "V",
            "Ʌ": "V",
            "Ꝡ": "VY",
            "Ⓦ": "W",
            "Ｗ": "W",
            "Ẁ": "W",
            "Ẃ": "W",
            "Ŵ": "W",
            "Ẇ": "W",
            "Ẅ": "W",
            "Ẉ": "W",
            "Ⱳ": "W",
            "Ⓧ": "X",
            "Ｘ": "X",
            "Ẋ": "X",
            "Ẍ": "X",
            "Ⓨ": "Y",
            "Ｙ": "Y",
            "Ỳ": "Y",
            "Ý": "Y",
            "Ŷ": "Y",
            "Ỹ": "Y",
            "Ȳ": "Y",
            "Ẏ": "Y",
            "Ÿ": "Y",
            "Ỷ": "Y",
            "Ỵ": "Y",
            "Ƴ": "Y",
            "Ɏ": "Y",
            "Ỿ": "Y",
            "Ⓩ": "Z",
            "Ｚ": "Z",
            "Ź": "Z",
            "Ẑ": "Z",
            "Ż": "Z",
            "Ž": "Z",
            "Ẓ": "Z",
            "Ẕ": "Z",
            "Ƶ": "Z",
            "Ȥ": "Z",
            "Ɀ": "Z",
            "Ⱬ": "Z",
            "Ꝣ": "Z",
            "ⓐ": "a",
            "ａ": "a",
            "ẚ": "a",
            "à": "a",
            "á": "a",
            "â": "a",
            "ầ": "a",
            "ấ": "a",
            "ẫ": "a",
            "ẩ": "a",
            "ã": "a",
            "ā": "a",
            "ă": "a",
            "ằ": "a",
            "ắ": "a",
            "ẵ": "a",
            "ẳ": "a",
            "ȧ": "a",
            "ǡ": "a",
            "ä": "a",
            "ǟ": "a",
            "ả": "a",
            "å": "a",
            "ǻ": "a",
            "ǎ": "a",
            "ȁ": "a",
            "ȃ": "a",
            "ạ": "a",
            "ậ": "a",
            "ặ": "a",
            "ḁ": "a",
            "ą": "a",
            "ⱥ": "a",
            "ɐ": "a",
            "ꜳ": "aa",
            "æ": "ae",
            "ǽ": "ae",
            "ǣ": "ae",
            "ꜵ": "ao",
            "ꜷ": "au",
            "ꜹ": "av",
            "ꜻ": "av",
            "ꜽ": "ay",
            "ⓑ": "b",
            "ｂ": "b",
            "ḃ": "b",
            "ḅ": "b",
            "ḇ": "b",
            "ƀ": "b",
            "ƃ": "b",
            "ɓ": "b",
            "ⓒ": "c",
            "ｃ": "c",
            "ć": "c",
            "ĉ": "c",
            "ċ": "c",
            "č": "c",
            "ç": "c",
            "ḉ": "c",
            "ƈ": "c",
            "ȼ": "c",
            "ꜿ": "c",
            "ↄ": "c",
            "ⓓ": "d",
            "ｄ": "d",
            "ḋ": "d",
            "ď": "d",
            "ḍ": "d",
            "ḑ": "d",
            "ḓ": "d",
            "ḏ": "d",
            "đ": "d",
            "ƌ": "d",
            "ɖ": "d",
            "ɗ": "d",
            "ꝺ": "d",
            "ǳ": "dz",
            "ǆ": "dz",
            "ⓔ": "e",
            "ｅ": "e",
            "è": "e",
            "é": "e",
            "ê": "e",
            "ề": "e",
            "ế": "e",
            "ễ": "e",
            "ể": "e",
            "ẽ": "e",
            "ē": "e",
            "ḕ": "e",
            "ḗ": "e",
            "ĕ": "e",
            "ė": "e",
            "ë": "e",
            "ẻ": "e",
            "ě": "e",
            "ȅ": "e",
            "ȇ": "e",
            "ẹ": "e",
            "ệ": "e",
            "ȩ": "e",
            "ḝ": "e",
            "ę": "e",
            "ḙ": "e",
            "ḛ": "e",
            "ɇ": "e",
            "ɛ": "e",
            "ǝ": "e",
            "ⓕ": "f",
            "ｆ": "f",
            "ḟ": "f",
            "ƒ": "f",
            "ꝼ": "f",
            "ⓖ": "g",
            "ｇ": "g",
            "ǵ": "g",
            "ĝ": "g",
            "ḡ": "g",
            "ğ": "g",
            "ġ": "g",
            "ǧ": "g",
            "ģ": "g",
            "ǥ": "g",
            "ɠ": "g",
            "ꞡ": "g",
            "ᵹ": "g",
            "ꝿ": "g",
            "ⓗ": "h",
            "ｈ": "h",
            "ĥ": "h",
            "ḣ": "h",
            "ḧ": "h",
            "ȟ": "h",
            "ḥ": "h",
            "ḩ": "h",
            "ḫ": "h",
            "ẖ": "h",
            "ħ": "h",
            "ⱨ": "h",
            "ⱶ": "h",
            "ɥ": "h",
            "ƕ": "hv",
            "ⓘ": "i",
            "ｉ": "i",
            "ì": "i",
            "í": "i",
            "î": "i",
            "ĩ": "i",
            "ī": "i",
            "ĭ": "i",
            "ï": "i",
            "ḯ": "i",
            "ỉ": "i",
            "ǐ": "i",
            "ȉ": "i",
            "ȋ": "i",
            "ị": "i",
            "į": "i",
            "ḭ": "i",
            "ɨ": "i",
            "ı": "i",
            "ⓙ": "j",
            "ｊ": "j",
            "ĵ": "j",
            "ǰ": "j",
            "ɉ": "j",
            "ⓚ": "k",
            "ｋ": "k",
            "ḱ": "k",
            "ǩ": "k",
            "ḳ": "k",
            "ķ": "k",
            "ḵ": "k",
            "ƙ": "k",
            "ⱪ": "k",
            "ꝁ": "k",
            "ꝃ": "k",
            "ꝅ": "k",
            "ꞣ": "k",
            "ⓛ": "l",
            "ｌ": "l",
            "ŀ": "l",
            "ĺ": "l",
            "ľ": "l",
            "ḷ": "l",
            "ḹ": "l",
            "ļ": "l",
            "ḽ": "l",
            "ḻ": "l",
            "ſ": "l",
            "ł": "l",
            "ƚ": "l",
            "ɫ": "l",
            "ⱡ": "l",
            "ꝉ": "l",
            "ꞁ": "l",
            "ꝇ": "l",
            "ǉ": "lj",
            "ⓜ": "m",
            "ｍ": "m",
            "ḿ": "m",
            "ṁ": "m",
            "ṃ": "m",
            "ɱ": "m",
            "ɯ": "m",
            "ⓝ": "n",
            "ｎ": "n",
            "ǹ": "n",
            "ń": "n",
            "ñ": "n",
            "ṅ": "n",
            "ň": "n",
            "ṇ": "n",
            "ņ": "n",
            "ṋ": "n",
            "ṉ": "n",
            "ƞ": "n",
            "ɲ": "n",
            "ŉ": "n",
            "ꞑ": "n",
            "ꞥ": "n",
            "ǌ": "nj",
            "ⓞ": "o",
            "ｏ": "o",
            "ò": "o",
            "ó": "o",
            "ô": "o",
            "ồ": "o",
            "ố": "o",
            "ỗ": "o",
            "ổ": "o",
            "õ": "o",
            "ṍ": "o",
            "ȭ": "o",
            "ṏ": "o",
            "ō": "o",
            "ṑ": "o",
            "ṓ": "o",
            "ŏ": "o",
            "ȯ": "o",
            "ȱ": "o",
            "ö": "o",
            "ȫ": "o",
            "ỏ": "o",
            "ő": "o",
            "ǒ": "o",
            "ȍ": "o",
            "ȏ": "o",
            "ơ": "o",
            "ờ": "o",
            "ớ": "o",
            "ỡ": "o",
            "ở": "o",
            "ợ": "o",
            "ọ": "o",
            "ộ": "o",
            "ǫ": "o",
            "ǭ": "o",
            "ø": "o",
            "ǿ": "o",
            "ɔ": "o",
            "ꝋ": "o",
            "ꝍ": "o",
            "ɵ": "o",
            "œ": "oe",
            "ƣ": "oi",
            "ȣ": "ou",
            "ꝏ": "oo",
            "ⓟ": "p",
            "ｐ": "p",
            "ṕ": "p",
            "ṗ": "p",
            "ƥ": "p",
            "ᵽ": "p",
            "ꝑ": "p",
            "ꝓ": "p",
            "ꝕ": "p",
            "ⓠ": "q",
            "ｑ": "q",
            "ɋ": "q",
            "ꝗ": "q",
            "ꝙ": "q",
            "ⓡ": "r",
            "ｒ": "r",
            "ŕ": "r",
            "ṙ": "r",
            "ř": "r",
            "ȑ": "r",
            "ȓ": "r",
            "ṛ": "r",
            "ṝ": "r",
            "ŗ": "r",
            "ṟ": "r",
            "ɍ": "r",
            "ɽ": "r",
            "ꝛ": "r",
            "ꞧ": "r",
            "ꞃ": "r",
            "ⓢ": "s",
            "ｓ": "s",
            "ß": "s",
            "ś": "s",
            "ṥ": "s",
            "ŝ": "s",
            "ṡ": "s",
            "š": "s",
            "ṧ": "s",
            "ṣ": "s",
            "ṩ": "s",
            "ș": "s",
            "ş": "s",
            "ȿ": "s",
            "ꞩ": "s",
            "ꞅ": "s",
            "ẛ": "s",
            "ⓣ": "t",
            "ｔ": "t",
            "ṫ": "t",
            "ẗ": "t",
            "ť": "t",
            "ṭ": "t",
            "ț": "t",
            "ţ": "t",
            "ṱ": "t",
            "ṯ": "t",
            "ŧ": "t",
            "ƭ": "t",
            "ʈ": "t",
            "ⱦ": "t",
            "ꞇ": "t",
            "ꜩ": "tz",
            "ⓤ": "u",
            "ｕ": "u",
            "ù": "u",
            "ú": "u",
            "û": "u",
            "ũ": "u",
            "ṹ": "u",
            "ū": "u",
            "ṻ": "u",
            "ŭ": "u",
            "ü": "u",
            "ǜ": "u",
            "ǘ": "u",
            "ǖ": "u",
            "ǚ": "u",
            "ủ": "u",
            "ů": "u",
            "ű": "u",
            "ǔ": "u",
            "ȕ": "u",
            "ȗ": "u",
            "ư": "u",
            "ừ": "u",
            "ứ": "u",
            "ữ": "u",
            "ử": "u",
            "ự": "u",
            "ụ": "u",
            "ṳ": "u",
            "ų": "u",
            "ṷ": "u",
            "ṵ": "u",
            "ʉ": "u",
            "ⓥ": "v",
            "ｖ": "v",
            "ṽ": "v",
            "ṿ": "v",
            "ʋ": "v",
            "ꝟ": "v",
            "ʌ": "v",
            "ꝡ": "vy",
            "ⓦ": "w",
            "ｗ": "w",
            "ẁ": "w",
            "ẃ": "w",
            "ŵ": "w",
            "ẇ": "w",
            "ẅ": "w",
            "ẘ": "w",
            "ẉ": "w",
            "ⱳ": "w",
            "ⓧ": "x",
            "ｘ": "x",
            "ẋ": "x",
            "ẍ": "x",
            "ⓨ": "y",
            "ｙ": "y",
            "ỳ": "y",
            "ý": "y",
            "ŷ": "y",
            "ỹ": "y",
            "ȳ": "y",
            "ẏ": "y",
            "ÿ": "y",
            "ỷ": "y",
            "ẙ": "y",
            "ỵ": "y",
            "ƴ": "y",
            "ɏ": "y",
            "ỿ": "y",
            "ⓩ": "z",
            "ｚ": "z",
            "ź": "z",
            "ẑ": "z",
            "ż": "z",
            "ž": "z",
            "ẓ": "z",
            "ẕ": "z",
            "ƶ": "z",
            "ȥ": "z",
            "ɀ": "z",
            "ⱬ": "z",
            "ꝣ": "z",
            "Ά": "Α",
            "Έ": "Ε",
            "Ή": "Η",
            "Ί": "Ι",
            "Ϊ": "Ι",
            "Ό": "Ο",
            "Ύ": "Υ",
            "Ϋ": "Υ",
            "Ώ": "Ω",
            "ά": "α",
            "έ": "ε",
            "ή": "η",
            "ί": "ι",
            "ϊ": "ι",
            "ΐ": "ι",
            "ό": "ο",
            "ύ": "υ",
            "ϋ": "υ",
            "ΰ": "υ",
            "ώ": "ω",
            "ς": "σ",
            "’": "'"
        }
    }), u.define("select2/data/base", ["../utils"], function(n) {
        function s(e, t) {
            s.__super__.constructor.call(this)
        }
        return n.Extend(s, n.Observable), s.prototype.current = function(e) {
            throw new Error("The `current` method must be defined in child classes.")
        }, s.prototype.query = function(e, t) {
            throw new Error("The `query` method must be defined in child classes.")
        }, s.prototype.bind = function(e, t) {}, s.prototype.destroy = function() {}, s.prototype.generateResultId = function(e, t) {
            e = e.id + "-result-";
            return e += n.generateChars(4), null != t.id ? e += "-" + t.id.toString() : e += "-" + n.generateChars(4), e
        }, s
    }), u.define("select2/data/select", ["./base", "../utils", "jquery"], function(e, a, l) {
        function n(e, t) {
            this.$element = e, this.options = t, n.__super__.constructor.call(this)
        }
        return a.Extend(n, e), n.prototype.current = function(e) {
            var t = this;
            e(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"), function(e) {
                return t.item(l(e))
            }))
        }, n.prototype.select = function(i) {
            var e, r = this;
            if (i.selected = !0, null != i.element && "option" === i.element.tagName.toLowerCase()) return i.element.selected = !0, void this.$element.trigger("input").trigger("change");
            this.$element.prop("multiple") ? this.current(function(e) {
                var t = [];
                (i = [i]).push.apply(i, e);
                for (var n = 0; n < i.length; n++) {
                    var s = i[n].id; - 1 === t.indexOf(s) && t.push(s)
                }
                r.$element.val(t), r.$element.trigger("input").trigger("change")
            }) : (e = i.id, this.$element.val(e), this.$element.trigger("input").trigger("change"))
        }, n.prototype.unselect = function(i) {
            var r = this;
            if (this.$element.prop("multiple")) {
                if (i.selected = !1, null != i.element && "option" === i.element.tagName.toLowerCase()) return i.element.selected = !1, void this.$element.trigger("input").trigger("change");
                this.current(function(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var s = e[n].id;
                        s !== i.id && -1 === t.indexOf(s) && t.push(s)
                    }
                    r.$element.val(t), r.$element.trigger("input").trigger("change")
                })
            }
        }, n.prototype.bind = function(e, t) {
            var n = this;
            (this.container = e).on("select", function(e) {
                n.select(e.data)
            }), e.on("unselect", function(e) {
                n.unselect(e.data)
            })
        }, n.prototype.destroy = function() {
            this.$element.find("*").each(function() {
                a.RemoveData(this)
            })
        }, n.prototype.query = function(t, e) {
            var n = [],
                s = this;
            this.$element.children().each(function() {
                var e;
                "option" !== this.tagName.toLowerCase() && "optgroup" !== this.tagName.toLowerCase() || (e = l(this), e = s.item(e), null !== (e = s.matches(t, e)) && n.push(e))
            }), e({
                results: n
            })
        }, n.prototype.addOptions = function(e) {
            this.$element.append(e)
        }, n.prototype.option = function(e) {
            var t;
            e.children ? (t = document.createElement("optgroup")).label = e.text : void 0 !== (t = document.createElement("option")).textContent ? t.textContent = e.text : t.innerText = e.text, void 0 !== e.id && (t.value = e.id), e.disabled && (t.disabled = !0), e.selected && (t.selected = !0), e.title && (t.title = e.title);
            e = this._normalizeItem(e);
            return e.element = t, a.StoreData(t, "data", e), l(t)
        }, n.prototype.item = function(e) {
            var t = {};
            if (null != (t = a.GetData(e[0], "data"))) return t;
            var n = e[0];
            if ("option" === n.tagName.toLowerCase()) t = {
                id: e.val(),
                text: e.text(),
                disabled: e.prop("disabled"),
                selected: e.prop("selected"),
                title: e.prop("title")
            };
            else if ("optgroup" === n.tagName.toLowerCase()) {
                t = {
                    text: e.prop("label"),
                    children: [],
                    title: e.prop("title")
                };
                for (var s = e.children("option"), i = [], r = 0; r < s.length; r++) {
                    var o = l(s[r]),
                        o = this.item(o);
                    i.push(o)
                }
                t.children = i
            }
            return (t = this._normalizeItem(t)).element = e[0], a.StoreData(e[0], "data", t), t
        }, n.prototype._normalizeItem = function(e) {
            e !== Object(e) && (e = {
                id: e,
                text: e
            });
            return null != (e = l.extend({}, {
                text: ""
            }, e)).id && (e.id = e.id.toString()), null != e.text && (e.text = e.text.toString()), null == e._resultId && e.id && null != this.container && (e._resultId = this.generateResultId(this.container, e)), l.extend({}, {
                selected: !1,
                disabled: !1
            }, e)
        }, n.prototype.matches = function(e, t) {
            return this.options.get("matcher")(e, t)
        }, n
    }), u.define("select2/data/array", ["./select", "../utils", "jquery"], function(e, t, c) {
        function s(e, t) {
            this._dataToConvert = t.get("data") || [], s.__super__.constructor.call(this, e, t)
        }
        return t.Extend(s, e), s.prototype.bind = function(e, t) {
            s.__super__.bind.call(this, e, t), this.addOptions(this.convertToOptions(this._dataToConvert))
        }, s.prototype.select = function(n) {
            var e = this.$element.find("option").filter(function(e, t) {
                return t.value == n.id.toString()
            });
            0 === e.length && (e = this.option(n), this.addOptions(e)), s.__super__.select.call(this, n)
        }, s.prototype.convertToOptions = function(e) {
            var t = this,
                n = this.$element.find("option"),
                s = n.map(function() {
                    return t.item(c(this)).id
                }).get(),
                i = [];
            for (var r = 0; r < e.length; r++) {
                var o, a, l = this._normalizeItem(e[r]);
                0 <= s.indexOf(l.id) ? (o = n.filter(function(e) {
                    return function() {
                        return c(this).val() == e.id
                    }
                }(l)), a = this.item(o), a = c.extend(!0, {}, l, a), a = this.option(a), o.replaceWith(a)) : (a = this.option(l), l.children && (l = this.convertToOptions(l.children), a.append(l)), i.push(a))
            }
            return i
        }, s
    }), u.define("select2/data/ajax", ["./array", "../utils", "jquery"], function(e, t, r) {
        function n(e, t) {
            this.ajaxOptions = this._applyDefaults(t.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), n.__super__.constructor.call(this, e, t)
        }
        return t.Extend(n, e), n.prototype._applyDefaults = function(e) {
            var t = {
                data: function(e) {
                    return r.extend({}, e, {
                        q: e.term
                    })
                },
                transport: function(e, t, n) {
                    e = r.ajax(e);
                    return e.then(t), e.fail(n), e
                }
            };
            return r.extend({}, t, e, !0)
        }, n.prototype.processResults = function(e) {
            return e
        }, n.prototype.query = function(t, n) {
            var s = this;
            null != this._request && ("function" == typeof this._request.abort && this._request.abort(), this._request = null);
            var i = r.extend({
                type: "GET"
            }, this.ajaxOptions);

            function e() {
                var e = i.transport(i, function(e) {
                    e = s.processResults(e, t);
                    s.options.get("debug") && window.console && console.error && (e && e.results && Array.isArray(e.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), n(e)
                }, function() {
                    "status" in e && (0 === e.status || "0" === e.status) || s.trigger("results:message", {
                        message: "errorLoading"
                    })
                });
                s._request = e
            }
            "function" == typeof i.url && (i.url = i.url.call(this.$element, t)), "function" == typeof i.data && (i.data = i.data.call(this.$element, t)), this.ajaxOptions.delay && null != t.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(e, this.ajaxOptions.delay)) : e()
        }, n
    }), u.define("select2/data/tags", ["jquery"], function(t) {
        function e(e, t, n) {
            var s = n.get("tags"),
                i = n.get("createTag");
            void 0 !== i && (this.createTag = i);
            i = n.get("insertTag");
            if (void 0 !== i && (this.insertTag = i), e.call(this, t, n), Array.isArray(s))
                for (var r = 0; r < s.length; r++) {
                    var o = s[r],
                        o = this._normalizeItem(o),
                        o = this.option(o);
                    this.$element.append(o)
                }
        }
        return e.prototype.query = function(e, c, u) {
            var d = this;
            this._removeOldTags(), null != c.term && null == c.page ? e.call(this, c, function e(t, n) {
                for (var s = t.results, i = 0; i < s.length; i++) {
                    var r = s[i],
                        o = null != r.children && !e({
                            results: r.children
                        }, !0);
                    if ((r.text || "").toUpperCase() === (c.term || "").toUpperCase() || o) return !n && (t.data = s, void u(t))
                }
                if (n) return !0;
                var a, l = d.createTag(c);
                null != l && ((a = d.option(l)).attr("data-select2-tag", "true"), d.addOptions([a]), d.insertTag(s, l)), t.results = s, u(t)
            }) : e.call(this, c, u)
        }, e.prototype.createTag = function(e, t) {
            if (null == t.term) return null;
            t = t.term.trim();
            return "" === t ? null : {
                id: t,
                text: t
            }
        }, e.prototype.insertTag = function(e, t, n) {
            t.unshift(n)
        }, e.prototype._removeOldTags = function(e) {
            this.$element.find("option[data-select2-tag]").each(function() {
                this.selected || t(this).remove()
            })
        }, e
    }), u.define("select2/data/tokenizer", ["jquery"], function(c) {
        function e(e, t, n) {
            var s = n.get("tokenizer");
            void 0 !== s && (this.tokenizer = s), e.call(this, t, n)
        }
        return e.prototype.bind = function(e, t, n) {
            e.call(this, t, n), this.$search = t.dropdown.$search || t.selection.$search || n.find(".select2-search__field")
        }, e.prototype.query = function(e, t, n) {
            var s = this;
            t.term = t.term || "";
            var i = this.tokenizer(t, this.options, function(e) {
                var t, n = s._normalizeItem(e);
                s.$element.find("option").filter(function() {
                    return c(this).val() === n.id
                }).length || ((t = s.option(n)).attr("data-select2-tag", !0), s._removeOldTags(), s.addOptions([t])), t = n, s.trigger("select", {
                    data: t
                })
            });
            i.term !== t.term && (this.$search.length && (this.$search.val(i.term), this.$search.trigger("focus")), t.term = i.term), e.call(this, t, n)
        }, e.prototype.tokenizer = function(e, t, n, s) {
            for (var i = n.get("tokenSeparators") || [], r = t.term, o = 0, a = this.createTag || function(e) {
                    return {
                        id: e.term,
                        text: e.term
                    }
                }; o < r.length;) {
                var l = r[o]; - 1 !== i.indexOf(l) ? (l = r.substr(0, o), null != (l = a(c.extend({}, t, {
                    term: l
                }))) ? (s(l), r = r.substr(o + 1) || "", o = 0) : o++) : o++
            }
            return {
                term: r
            }
        }, e
    }), u.define("select2/data/minimumInputLength", [], function() {
        function e(e, t, n) {
            this.minimumInputLength = n.get("minimumInputLength"), e.call(this, t, n)
        }
        return e.prototype.query = function(e, t, n) {
            t.term = t.term || "", t.term.length < this.minimumInputLength ? this.trigger("results:message", {
                message: "inputTooShort",
                args: {
                    minimum: this.minimumInputLength,
                    input: t.term,
                    params: t
                }
            }) : e.call(this, t, n)
        }, e
    }), u.define("select2/data/maximumInputLength", [], function() {
        function e(e, t, n) {
            this.maximumInputLength = n.get("maximumInputLength"), e.call(this, t, n)
        }
        return e.prototype.query = function(e, t, n) {
            t.term = t.term || "", 0 < this.maximumInputLength && t.term.length > this.maximumInputLength ? this.trigger("results:message", {
                message: "inputTooLong",
                args: {
                    maximum: this.maximumInputLength,
                    input: t.term,
                    params: t
                }
            }) : e.call(this, t, n)
        }, e
    }), u.define("select2/data/maximumSelectionLength", [], function() {
        function e(e, t, n) {
            this.maximumSelectionLength = n.get("maximumSelectionLength"), e.call(this, t, n)
        }
        return e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), t.on("select", function() {
                s._checkIfMaximumSelected()
            })
        }, e.prototype.query = function(e, t, n) {
            var s = this;
            this._checkIfMaximumSelected(function() {
                e.call(s, t, n)
            })
        }, e.prototype._checkIfMaximumSelected = function(e, t) {
            var n = this;
            this.current(function(e) {
                e = null != e ? e.length : 0;
                0 < n.maximumSelectionLength && e >= n.maximumSelectionLength ? n.trigger("results:message", {
                    message: "maximumSelected",
                    args: {
                        maximum: n.maximumSelectionLength
                    }
                }) : t && t()
            })
        }, e
    }), u.define("select2/dropdown", ["jquery", "./utils"], function(t, e) {
        function n(e, t) {
            this.$element = e, this.options = t, n.__super__.constructor.call(this)
        }
        return e.Extend(n, e.Observable), n.prototype.render = function() {
            var e = t('<span class="select2-dropdown"><span class="select2-results"></span></span>');
            return e.attr("dir", this.options.get("dir")), this.$dropdown = e
        }, n.prototype.bind = function() {}, n.prototype.position = function(e, t) {}, n.prototype.destroy = function() {
            this.$dropdown.remove()
        }, n
    }), u.define("select2/dropdown/search", ["jquery"], function(r) {
        function e() {}
        return e.prototype.render = function(e) {
            var t = e.call(this),
                n = this.options.get("translations").get("search"),
                e = r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');
            return this.$searchContainer = e, this.$search = e.find("input"), this.$search.prop("autocomplete", this.options.get("autocomplete")), this.$search.attr("aria-label", n()), t.prepend(e), t
        }, e.prototype.bind = function(e, t, n) {
            var s = this,
                i = t.id + "-results";
            e.call(this, t, n), this.$search.on("keydown", function(e) {
                s.trigger("keypress", e), s._keyUpPrevented = e.isDefaultPrevented()
            }), this.$search.on("input", function(e) {
                r(this).off("keyup")
            }), this.$search.on("keyup input", function(e) {
                s.handleSearch(e)
            }), t.on("open", function() {
                s.$search.attr("tabindex", 0), s.$search.attr("aria-controls", i), s.$search.trigger("focus"), window.setTimeout(function() {
                    s.$search.trigger("focus")
                }, 0)
            }), t.on("close", function() {
                s.$search.attr("tabindex", -1), s.$search.removeAttr("aria-controls"), s.$search.removeAttr("aria-activedescendant"), s.$search.val(""), s.$search.trigger("blur")
            }), t.on("focus", function() {
                t.isOpen() || s.$search.trigger("focus")
            }), t.on("results:all", function(e) {
                null != e.query.term && "" !== e.query.term || (s.showSearch(e) ? s.$searchContainer[0].classList.remove("select2-search--hide") : s.$searchContainer[0].classList.add("select2-search--hide"))
            }), t.on("results:focus", function(e) {
                e.data._resultId ? s.$search.attr("aria-activedescendant", e.data._resultId) : s.$search.removeAttr("aria-activedescendant")
            })
        }, e.prototype.handleSearch = function(e) {
            var t;
            this._keyUpPrevented || (t = this.$search.val(), this.trigger("query", {
                term: t
            })), this._keyUpPrevented = !1
        }, e.prototype.showSearch = function(e, t) {
            return !0
        }, e
    }), u.define("select2/dropdown/hidePlaceholder", [], function() {
        function e(e, t, n, s) {
            this.placeholder = this.normalizePlaceholder(n.get("placeholder")), e.call(this, t, n, s)
        }
        return e.prototype.append = function(e, t) {
            t.results = this.removePlaceholder(t.results), e.call(this, t)
        }, e.prototype.normalizePlaceholder = function(e, t) {
            return "string" == typeof t && (t = {
                id: "",
                text: t
            }), t
        }, e.prototype.removePlaceholder = function(e, t) {
            for (var n = t.slice(0), s = t.length - 1; 0 <= s; s--) {
                var i = t[s];
                this.placeholder.id === i.id && n.splice(s, 1)
            }
            return n
        }, e
    }), u.define("select2/dropdown/infiniteScroll", ["jquery"], function(n) {
        function e(e, t, n, s) {
            this.lastParams = {}, e.call(this, t, n, s), this.$loadingMore = this.createLoadingMore(), this.loading = !1
        }
        return e.prototype.append = function(e, t) {
            this.$loadingMore.remove(), this.loading = !1, e.call(this, t), this.showLoadingMore(t) && (this.$results.append(this.$loadingMore), this.loadMoreIfNeeded())
        }, e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), t.on("query", function(e) {
                s.lastParams = e, s.loading = !0
            }), t.on("query:append", function(e) {
                s.lastParams = e, s.loading = !0
            }), this.$results.on("scroll", this.loadMoreIfNeeded.bind(this))
        }, e.prototype.loadMoreIfNeeded = function() {
            var e = n.contains(document.documentElement, this.$loadingMore[0]);
            !this.loading && e && (e = this.$results.offset().top + this.$results.outerHeight(!1), this.$loadingMore.offset().top + this.$loadingMore.outerHeight(!1) <= e + 50 && this.loadMore())
        }, e.prototype.loadMore = function() {
            this.loading = !0;
            var e = n.extend({}, {
                page: 1
            }, this.lastParams);
            e.page++, this.trigger("query:append", e)
        }, e.prototype.showLoadingMore = function(e, t) {
            return t.pagination && t.pagination.more
        }, e.prototype.createLoadingMore = function() {
            var e = n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),
                t = this.options.get("translations").get("loadingMore");
            return e.html(t(this.lastParams)), e
        }, e
    }), u.define("select2/dropdown/attachBody", ["jquery", "../utils"], function(u, o) {
        function e(e, t, n) {
            this.$dropdownParent = u(n.get("dropdownParent") || document.body), e.call(this, t, n)
        }
        return e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), t.on("open", function() {
                s._showDropdown(), s._attachPositioningHandler(t), s._bindContainerResultHandlers(t)
            }), t.on("close", function() {
                s._hideDropdown(), s._detachPositioningHandler(t)
            }), this.$dropdownContainer.on("mousedown", function(e) {
                e.stopPropagation()
            })
        }, e.prototype.destroy = function(e) {
            e.call(this), this.$dropdownContainer.remove()
        }, e.prototype.position = function(e, t, n) {
            t.attr("class", n.attr("class")), t[0].classList.remove("select2"), t[0].classList.add("select2-container--open"), t.css({
                position: "absolute",
                top: -999999
            }), this.$container = n
        }, e.prototype.render = function(e) {
            var t = u("<span></span>"),
                e = e.call(this);
            return t.append(e), this.$dropdownContainer = t
        }, e.prototype._hideDropdown = function(e) {
            this.$dropdownContainer.detach()
        }, e.prototype._bindContainerResultHandlers = function(e, t) {
            var n;
            this._containerResultsHandlersBound || (n = this, t.on("results:all", function() {
                n._positionDropdown(), n._resizeDropdown()
            }), t.on("results:append", function() {
                n._positionDropdown(), n._resizeDropdown()
            }), t.on("results:message", function() {
                n._positionDropdown(), n._resizeDropdown()
            }), t.on("select", function() {
                n._positionDropdown(), n._resizeDropdown()
            }), t.on("unselect", function() {
                n._positionDropdown(), n._resizeDropdown()
            }), this._containerResultsHandlersBound = !0)
        }, e.prototype._attachPositioningHandler = function(e, t) {
            var n = this,
                s = "scroll.select2." + t.id,
                i = "resize.select2." + t.id,
                r = "orientationchange.select2." + t.id,
                t = this.$container.parents().filter(o.hasScroll);
            t.each(function() {
                o.StoreData(this, "select2-scroll-position", {
                    x: u(this).scrollLeft(),
                    y: u(this).scrollTop()
                })
            }), t.on(s, function(e) {
                var t = o.GetData(this, "select2-scroll-position");
                u(this).scrollTop(t.y)
            }), u(window).on(s + " " + i + " " + r, function(e) {
                n._positionDropdown(), n._resizeDropdown()
            })
        }, e.prototype._detachPositioningHandler = function(e, t) {
            var n = "scroll.select2." + t.id,
                s = "resize.select2." + t.id,
                t = "orientationchange.select2." + t.id;
            this.$container.parents().filter(o.hasScroll).off(n), u(window).off(n + " " + s + " " + t)
        }, e.prototype._positionDropdown = function() {
            var e = u(window),
                t = this.$dropdown[0].classList.contains("select2-dropdown--above"),
                n = this.$dropdown[0].classList.contains("select2-dropdown--below"),
                s = null,
                i = this.$container.offset();
            i.bottom = i.top + this.$container.outerHeight(!1);
            var r = {
                height: this.$container.outerHeight(!1)
            };
            r.top = i.top, r.bottom = i.top + r.height;
            var o = this.$dropdown.outerHeight(!1),
                a = e.scrollTop(),
                l = e.scrollTop() + e.height(),
                c = a < i.top - o,
                e = l > i.bottom + o,
                a = {
                    left: i.left,
                    top: r.bottom
                },
                l = this.$dropdownParent;
            "static" === l.css("position") && (l = l.offsetParent());
            i = {
                top: 0,
                left: 0
            };
            (u.contains(document.body, l[0]) || l[0].isConnected) && (i = l.offset()), a.top -= i.top, a.left -= i.left, t || n || (s = "below"), e || !c || t ? !c && e && t && (s = "below") : s = "above", ("above" == s || t && "below" !== s) && (a.top = r.top - i.top - o), null != s && (this.$dropdown[0].classList.remove("select2-dropdown--below"), this.$dropdown[0].classList.remove("select2-dropdown--above"), this.$dropdown[0].classList.add("select2-dropdown--" + s), this.$container[0].classList.remove("select2-container--below"), this.$container[0].classList.remove("select2-container--above"), this.$container[0].classList.add("select2-container--" + s)), this.$dropdownContainer.css(a)
        }, e.prototype._resizeDropdown = function() {
            var e = {
                width: this.$container.outerWidth(!1) + "px"
            };
            this.options.get("dropdownAutoWidth") && (e.minWidth = e.width, e.position = "relative", e.width = "auto"), this.$dropdown.css(e)
        }, e.prototype._showDropdown = function(e) {
            this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown()
        }, e
    }), u.define("select2/dropdown/minimumResultsForSearch", [], function() {
        function e(e, t, n, s) {
            this.minimumResultsForSearch = n.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), e.call(this, t, n, s)
        }
        return e.prototype.showSearch = function(e, t) {
            return !(function e(t) {
                for (var n = 0, s = 0; s < t.length; s++) {
                    var i = t[s];
                    i.children ? n += e(i.children) : n++
                }
                return n
            }(t.data.results) < this.minimumResultsForSearch) && e.call(this, t)
        }, e
    }), u.define("select2/dropdown/selectOnClose", ["../utils"], function(s) {
        function e() {}
        return e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), t.on("close", function(e) {
                s._handleSelectOnClose(e)
            })
        }, e.prototype._handleSelectOnClose = function(e, t) {
            if (t && null != t.originalSelect2Event) {
                var n = t.originalSelect2Event;
                if ("select" === n._type || "unselect" === n._type) return
            }
            n = this.getHighlightedResults();
            n.length < 1 || (null != (n = s.GetData(n[0], "data")).element && n.element.selected || null == n.element && n.selected || this.trigger("select", {
                data: n
            }))
        }, e
    }), u.define("select2/dropdown/closeOnSelect", [], function() {
        function e() {}
        return e.prototype.bind = function(e, t, n) {
            var s = this;
            e.call(this, t, n), t.on("select", function(e) {
                s._selectTriggered(e)
            }), t.on("unselect", function(e) {
                s._selectTriggered(e)
            })
        }, e.prototype._selectTriggered = function(e, t) {
            var n = t.originalEvent;
            n && (n.ctrlKey || n.metaKey) || this.trigger("close", {
                originalEvent: n,
                originalSelect2Event: t
            })
        }, e
    }), u.define("select2/dropdown/dropdownCss", ["../utils"], function(n) {
        function e() {}
        return e.prototype.render = function(e) {
            var t = e.call(this),
                e = this.options.get("dropdownCssClass") || "";
            return -1 !== e.indexOf(":all:") && (e = e.replace(":all:", ""), n.copyNonInternalCssClasses(t[0], this.$element[0])), t.addClass(e), t
        }, e
    }), u.define("select2/dropdown/tagsSearchHighlight", ["../utils"], function(s) {
        function e() {}
        return e.prototype.highlightFirstItem = function(e) {
            var t = this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");
            if (0 < t.length) {
                var n = t.first(),
                    t = s.GetData(n[0], "data").element;
                if (t && t.getAttribute && "true" === t.getAttribute("data-select2-tag")) return void n.trigger("mouseenter")
            }
            e.call(this)
        }, e
    }), u.define("select2/i18n/en", [], function() {
        return {
            errorLoading: function() {
                return "The results could not be loaded."
            },
            inputTooLong: function(e) {
                var t = e.input.length - e.maximum,
                    e = "Please delete " + t + " character";
                return 1 != t && (e += "s"), e
            },
            inputTooShort: function(e) {
                return "Please enter " + (e.minimum - e.input.length) + " or more characters"
            },
            loadingMore: function() {
                return "Loading more results…"
            },
            maximumSelected: function(e) {
                var t = "You can only select " + e.maximum + " item";
                return 1 != e.maximum && (t += "s"), t
            },
            noResults: function() {
                return "No results found"
            },
            searching: function() {
                return "Searching…"
            },
            removeAllItems: function() {
                return "Remove all items"
            },
            removeItem: function() {
                return "Remove item"
            },
            search: function() {
                return "Search"
            }
        }
    }), u.define("select2/defaults", ["jquery", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/selectionCss", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./dropdown/dropdownCss", "./dropdown/tagsSearchHighlight", "./i18n/en"], function(l, r, o, a, c, u, d, p, h, f, g, t, m, y, v, _, b, $, w, x, A, D, S, E, O, C, L, T, q, I, e) {
        function n() {
            this.reset()
        }
        return n.prototype.apply = function(e) {
            var t;
            null == (e = l.extend(!0, {}, this.defaults, e)).dataAdapter && (null != e.ajax ? e.dataAdapter = v : null != e.data ? e.dataAdapter = y : e.dataAdapter = m, 0 < e.minimumInputLength && (e.dataAdapter = f.Decorate(e.dataAdapter, $)), 0 < e.maximumInputLength && (e.dataAdapter = f.Decorate(e.dataAdapter, w)), 0 < e.maximumSelectionLength && (e.dataAdapter = f.Decorate(e.dataAdapter, x)), e.tags && (e.dataAdapter = f.Decorate(e.dataAdapter, _)), null == e.tokenSeparators && null == e.tokenizer || (e.dataAdapter = f.Decorate(e.dataAdapter, b))), null == e.resultsAdapter && (e.resultsAdapter = r, null != e.ajax && (e.resultsAdapter = f.Decorate(e.resultsAdapter, E)), null != e.placeholder && (e.resultsAdapter = f.Decorate(e.resultsAdapter, S)), e.selectOnClose && (e.resultsAdapter = f.Decorate(e.resultsAdapter, L)), e.tags && (e.resultsAdapter = f.Decorate(e.resultsAdapter, I))), null == e.dropdownAdapter && (e.multiple ? e.dropdownAdapter = A : (t = f.Decorate(A, D), e.dropdownAdapter = t), 0 !== e.minimumResultsForSearch && (e.dropdownAdapter = f.Decorate(e.dropdownAdapter, C)), e.closeOnSelect && (e.dropdownAdapter = f.Decorate(e.dropdownAdapter, T)), null != e.dropdownCssClass && (e.dropdownAdapter = f.Decorate(e.dropdownAdapter, q)), e.dropdownAdapter = f.Decorate(e.dropdownAdapter, O)), null == e.selectionAdapter && (e.multiple ? e.selectionAdapter = a : e.selectionAdapter = o, null != e.placeholder && (e.selectionAdapter = f.Decorate(e.selectionAdapter, c)), e.allowClear && (e.selectionAdapter = f.Decorate(e.selectionAdapter, u)), e.multiple && (e.selectionAdapter = f.Decorate(e.selectionAdapter, d)), null != e.selectionCssClass && (e.selectionAdapter = f.Decorate(e.selectionAdapter, p)), e.selectionAdapter = f.Decorate(e.selectionAdapter, h)), e.language = this._resolveLanguage(e.language), e.language.push("en");
            for (var n = [], s = 0; s < e.language.length; s++) {
                var i = e.language[s]; - 1 === n.indexOf(i) && n.push(i)
            }
            return e.language = n, e.translations = this._processTranslations(e.language, e.debug), e
        }, n.prototype.reset = function() {
            function a(e) {
                return e.replace(/[^\u0000-\u007E]/g, function(e) {
                    return t[e] || e
                })
            }
            this.defaults = {
                amdLanguageBase: "./i18n/",
                autocomplete: "off",
                closeOnSelect: !0,
                debug: !1,
                dropdownAutoWidth: !1,
                escapeMarkup: f.escapeMarkup,
                language: {},
                matcher: function e(t, n) {
                    if (null == t.term || "" === t.term.trim()) return n;
                    if (n.children && 0 < n.children.length) {
                        for (var s = l.extend(!0, {}, n), i = n.children.length - 1; 0 <= i; i--) null == e(t, n.children[i]) && s.children.splice(i, 1);
                        return 0 < s.children.length ? s : e(t, s)
                    }
                    var r = a(n.text).toUpperCase(),
                        o = a(t.term).toUpperCase();
                    return -1 < r.indexOf(o) ? n : null
                },
                minimumInputLength: 0,
                maximumInputLength: 0,
                maximumSelectionLength: 0,
                minimumResultsForSearch: 0,
                selectOnClose: !1,
                scrollAfterSelect: !1,
                sorter: function(e) {
                    return e
                },
                templateResult: function(e) {
                    return e.text
                },
                templateSelection: function(e) {
                    return e.text
                },
                theme: "default",
                width: "resolve"
            }
        }, n.prototype.applyFromElement = function(e, t) {
            var n = e.language,
                s = this.defaults.language,
                i = t.prop("lang"),
                t = t.closest("[lang]").prop("lang"),
                t = Array.prototype.concat.call(this._resolveLanguage(i), this._resolveLanguage(n), this._resolveLanguage(s), this._resolveLanguage(t));
            return e.language = t, e
        }, n.prototype._resolveLanguage = function(e) {
            if (!e) return [];
            if (l.isEmptyObject(e)) return [];
            if (l.isPlainObject(e)) return [e];
            for (var t, n = Array.isArray(e) ? e : [e], s = [], i = 0; i < n.length; i++) s.push(n[i]), "string" == typeof n[i] && 0 < n[i].indexOf("-") && (t = n[i].split("-")[0], s.push(t));
            return s
        }, n.prototype._processTranslations = function(e, t) {
            for (var n = new g, s = 0; s < e.length; s++) {
                var i = new g,
                    r = e[s];
                if ("string" == typeof r) try {
                    i = g.loadPath(r)
                } catch (e) {
                    try {
                        r = this.defaults.amdLanguageBase + r, i = g.loadPath(r)
                    } catch (e) {
                        t && window.console && console.warn && console.warn('Select2: The language file for "' + r + '" could not be automatically loaded. A fallback will be used instead.')
                    }
                } else i = l.isPlainObject(r) ? new g(r) : r;
                n.extend(i)
            }
            return n
        }, n.prototype.set = function(e, t) {
            var n = {};
            n[l.camelCase(e)] = t;
            n = f._convertData(n);
            l.extend(!0, this.defaults, n)
        }, new n
    }), u.define("select2/options", ["jquery", "./defaults", "./utils"], function(c, n, u) {
        function e(e, t) {
            this.options = e, null != t && this.fromElement(t), null != t && (this.options = n.applyFromElement(this.options, t)), this.options = n.apply(this.options)
        }
        return e.prototype.fromElement = function(e) {
            var t = ["select2"];
            null == this.options.multiple && (this.options.multiple = e.prop("multiple")), null == this.options.disabled && (this.options.disabled = e.prop("disabled")), null == this.options.autocomplete && e.prop("autocomplete") && (this.options.autocomplete = e.prop("autocomplete")), null == this.options.dir && (e.prop("dir") ? this.options.dir = e.prop("dir") : e.closest("[dir]").prop("dir") ? this.options.dir = e.closest("[dir]").prop("dir") : this.options.dir = "ltr"), e.prop("disabled", this.options.disabled), e.prop("multiple", this.options.multiple), u.GetData(e[0], "select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), u.StoreData(e[0], "data", u.GetData(e[0], "select2Tags")), u.StoreData(e[0], "tags", !0)), u.GetData(e[0], "ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), e.attr("ajax--url", u.GetData(e[0], "ajaxUrl")), u.StoreData(e[0], "ajax-Url", u.GetData(e[0], "ajaxUrl")));
            var n = {};

            function s(e, t) {
                return t.toUpperCase()
            }
            for (var i = 0; i < e[0].attributes.length; i++) {
                var r = e[0].attributes[i].name,
                    o = "data-";
                r.substr(0, o.length) == o && (r = r.substring(o.length), o = u.GetData(e[0], r), n[r.replace(/-([a-z])/g, s)] = o)
            }
            c.fn.jquery && "1." == c.fn.jquery.substr(0, 2) && e[0].dataset && (n = c.extend(!0, {}, e[0].dataset, n));
            var a, l = c.extend(!0, {}, u.GetData(e[0]), n);
            for (a in l = u._convertData(l)) - 1 < t.indexOf(a) || (c.isPlainObject(this.options[a]) ? c.extend(this.options[a], l[a]) : this.options[a] = l[a]);
            return this
        }, e.prototype.get = function(e) {
            return this.options[e]
        }, e.prototype.set = function(e, t) {
            this.options[e] = t
        }, e
    }), u.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function(t, i, r, s) {
        var o = function(e, t) {
            null != r.GetData(e[0], "select2") && r.GetData(e[0], "select2").destroy(), this.$element = e, this.id = this._generateId(e), t = t || {}, this.options = new i(t, e), o.__super__.constructor.call(this);
            var n = e.attr("tabindex") || 0;
            r.StoreData(e[0], "old-tabindex", n), e.attr("tabindex", "-1");
            t = this.options.get("dataAdapter");
            this.dataAdapter = new t(e, this.options);
            n = this.render();
            this._placeContainer(n);
            t = this.options.get("selectionAdapter");
            this.selection = new t(e, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, n);
            t = this.options.get("dropdownAdapter");
            this.dropdown = new t(e, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, n);
            n = this.options.get("resultsAdapter");
            this.results = new n(e, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown);
            var s = this;
            this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function(e) {
                s.trigger("selection:update", {
                    data: e
                })
            }), e[0].classList.add("select2-hidden-accessible"), e.attr("aria-hidden", "true"), this._syncAttributes(), r.StoreData(e[0], "select2", this), e.data("select2", this)
        };
        return r.Extend(o, r.Observable), o.prototype._generateId = function(e) {
            return "select2-" + (null != e.attr("id") ? e.attr("id") : null != e.attr("name") ? e.attr("name") + "-" + r.generateChars(2) : r.generateChars(4)).replace(/(:|\.|\[|\]|,)/g, "")
        }, o.prototype._placeContainer = function(e) {
            e.insertAfter(this.$element);
            var t = this._resolveWidth(this.$element, this.options.get("width"));
            null != t && e.css("width", t)
        }, o.prototype._resolveWidth = function(e, t) {
            var n = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;
            if ("resolve" == t) {
                var s = this._resolveWidth(e, "style");
                return null != s ? s : this._resolveWidth(e, "element")
            }
            if ("element" == t) {
                s = e.outerWidth(!1);
                return s <= 0 ? "auto" : s + "px"
            }
            if ("style" != t) return "computedstyle" != t ? t : window.getComputedStyle(e[0]).width;
            e = e.attr("style");
            if ("string" != typeof e) return null;
            for (var i = e.split(";"), r = 0, o = i.length; r < o; r += 1) {
                var a = i[r].replace(/\s/g, "").match(n);
                if (null !== a && 1 <= a.length) return a[1]
            }
            return null
        }, o.prototype._bindAdapters = function() {
            this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container)
        }, o.prototype._registerDomEvents = function() {
            var t = this;
            this.$element.on("change.select2", function() {
                t.dataAdapter.current(function(e) {
                    t.trigger("selection:update", {
                        data: e
                    })
                })
            }), this.$element.on("focus.select2", function(e) {
                t.trigger("focus", e)
            }), this._syncA = r.bind(this._syncAttributes, this), this._syncS = r.bind(this._syncSubtree, this), this._observer = new window.MutationObserver(function(e) {
                t._syncA(), t._syncS(e)
            }), this._observer.observe(this.$element[0], {
                attributes: !0,
                childList: !0,
                subtree: !1
            })
        }, o.prototype._registerDataEvents = function() {
            var n = this;
            this.dataAdapter.on("*", function(e, t) {
                n.trigger(e, t)
            })
        }, o.prototype._registerSelectionEvents = function() {
            var n = this,
                s = ["toggle", "focus"];
            this.selection.on("toggle", function() {
                n.toggleDropdown()
            }), this.selection.on("focus", function(e) {
                n.focus(e)
            }), this.selection.on("*", function(e, t) {
                -1 === s.indexOf(e) && n.trigger(e, t)
            })
        }, o.prototype._registerDropdownEvents = function() {
            var n = this;
            this.dropdown.on("*", function(e, t) {
                n.trigger(e, t)
            })
        }, o.prototype._registerResultsEvents = function() {
            var n = this;
            this.results.on("*", function(e, t) {
                n.trigger(e, t)
            })
        }, o.prototype._registerEvents = function() {
            var n = this;
            this.on("open", function() {
                n.$container[0].classList.add("select2-container--open")
            }), this.on("close", function() {
                n.$container[0].classList.remove("select2-container--open")
            }), this.on("enable", function() {
                n.$container[0].classList.remove("select2-container--disabled")
            }), this.on("disable", function() {
                n.$container[0].classList.add("select2-container--disabled")
            }), this.on("blur", function() {
                n.$container[0].classList.remove("select2-container--focus")
            }), this.on("query", function(t) {
                n.isOpen() || n.trigger("open", {}), this.dataAdapter.query(t, function(e) {
                    n.trigger("results:all", {
                        data: e,
                        query: t
                    })
                })
            }), this.on("query:append", function(t) {
                this.dataAdapter.query(t, function(e) {
                    n.trigger("results:append", {
                        data: e,
                        query: t
                    })
                })
            }), this.on("keypress", function(e) {
                var t = e.which;
                n.isOpen() ? t === s.ESC || t === s.UP && e.altKey ? (n.close(e), e.preventDefault()) : t === s.ENTER || t === s.TAB ? (n.trigger("results:select", {}), e.preventDefault()) : t === s.SPACE && e.ctrlKey ? (n.trigger("results:toggle", {}), e.preventDefault()) : t === s.UP ? (n.trigger("results:previous", {}), e.preventDefault()) : t === s.DOWN && (n.trigger("results:next", {}), e.preventDefault()) : (t === s.ENTER || t === s.SPACE || t === s.DOWN && e.altKey) && (n.open(), e.preventDefault())
            })
        }, o.prototype._syncAttributes = function() {
            this.options.set("disabled", this.$element.prop("disabled")), this.isDisabled() ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {})
        }, o.prototype._isChangeMutation = function(e) {
            var t = this;
            if (e.addedNodes && 0 < e.addedNodes.length) {
                for (var n = 0; n < e.addedNodes.length; n++)
                    if (e.addedNodes[n].selected) return !0
            } else {
                if (e.removedNodes && 0 < e.removedNodes.length) return !0;
                if (Array.isArray(e)) return e.some(function(e) {
                    return t._isChangeMutation(e)
                })
            }
            return !1
        }, o.prototype._syncSubtree = function(e) {
            var e = this._isChangeMutation(e),
                t = this;
            e && this.dataAdapter.current(function(e) {
                t.trigger("selection:update", {
                    data: e
                })
            })
        }, o.prototype.trigger = function(e, t) {
            var n = o.__super__.trigger,
                s = {
                    open: "opening",
                    close: "closing",
                    select: "selecting",
                    unselect: "unselecting",
                    clear: "clearing"
                };
            if (void 0 === t && (t = {}), e in s) {
                var i = s[e],
                    s = {
                        prevented: !1,
                        name: e,
                        args: t
                    };
                if (n.call(this, i, s), s.prevented) return void(t.prevented = !0)
            }
            n.call(this, e, t)
        }, o.prototype.toggleDropdown = function() {
            this.isDisabled() || (this.isOpen() ? this.close() : this.open())
        }, o.prototype.open = function() {
            this.isOpen() || this.isDisabled() || this.trigger("query", {})
        }, o.prototype.close = function(e) {
            this.isOpen() && this.trigger("close", {
                originalEvent: e
            })
        }, o.prototype.isEnabled = function() {
            return !this.isDisabled()
        }, o.prototype.isDisabled = function() {
            return this.options.get("disabled")
        }, o.prototype.isOpen = function() {
            return this.$container[0].classList.contains("select2-container--open")
        }, o.prototype.hasFocus = function() {
            return this.$container[0].classList.contains("select2-container--focus")
        }, o.prototype.focus = function(e) {
            this.hasFocus() || (this.$container[0].classList.add("select2-container--focus"), this.trigger("focus", {}))
        }, o.prototype.enable = function(e) {
            this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), null != e && 0 !== e.length || (e = [!0]);
            e = !e[0];
            this.$element.prop("disabled", e)
        }, o.prototype.data = function() {
            this.options.get("debug") && 0 < arguments.length && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');
            var t = [];
            return this.dataAdapter.current(function(e) {
                t = e
            }), t
        }, o.prototype.val = function(e) {
            if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == e || 0 === e.length) return this.$element.val();
            e = e[0];
            Array.isArray(e) && (e = e.map(function(e) {
                return e.toString()
            })), this.$element.val(e).trigger("input").trigger("change")
        }, o.prototype.destroy = function() {
            r.RemoveData(this.$container[0]), this.$container.remove(), this._observer.disconnect(), this._observer = null, this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", r.GetData(this.$element[0], "old-tabindex")), this.$element[0].classList.remove("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), r.RemoveData(this.$element[0]), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null
        }, o.prototype.render = function() {
            var e = t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');
            return e.attr("dir", this.options.get("dir")), this.$container = e, this.$container[0].classList.add("select2-container--" + this.options.get("theme")), r.StoreData(e[0], "element", this.$element), e
        }, o
    }), u.define("jquery-mousewheel", ["jquery"], function(e) {
        return e
    }), u.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults", "./select2/utils"], function(i, e, r, t, o) {
        var a;
        return null == i.fn.select2 && (a = ["open", "close", "destroy"], i.fn.select2 = function(t) {
            if ("object" == typeof(t = t || {})) return this.each(function() {
                var e = i.extend(!0, {}, t);
                new r(i(this), e)
            }), this;
            if ("string" != typeof t) throw new Error("Invalid arguments for Select2: " + t);
            var n, s = Array.prototype.slice.call(arguments, 1);
            return this.each(function() {
                var e = o.GetData(this, "select2");
                null == e && window.console && console.error && console.error("The select2('" + t + "') method was called on an element that is not using Select2."), n = e[t].apply(e, s)
            }), -1 < a.indexOf(t) ? this : n
        }), null == i.fn.select2.defaults && (i.fn.select2.defaults = t), r
    }), {
        define: u.define,
        require: u.require
    });

    function b(e, t) {
        return i.call(e, t)
    }

    function l(e, t) {
        var n, s, i, r, o, a, l, c, u, d, p = t && t.split("/"),
            h = y.map,
            f = h && h["*"] || {};
        if (e) {
            for (t = (e = e.split("/")).length - 1, y.nodeIdCompat && _.test(e[t]) && (e[t] = e[t].replace(_, "")), "." === e[0].charAt(0) && p && (e = p.slice(0, p.length - 1).concat(e)), c = 0; c < e.length; c++) "." === (d = e[c]) ? (e.splice(c, 1), --c) : ".." === d && (0 === c || 1 === c && ".." === e[2] || ".." === e[c - 1] || 0 < c && (e.splice(c - 1, 2), c -= 2));
            e = e.join("/")
        }
        if ((p || f) && h) {
            for (c = (n = e.split("/")).length; 0 < c; --c) {
                if (s = n.slice(0, c).join("/"), p)
                    for (u = p.length; 0 < u; --u)
                        if (i = h[p.slice(0, u).join("/")], i = i && i[s]) {
                            r = i, o = c;
                            break
                        }
                if (r) break;
                !a && f && f[s] && (a = f[s], l = c)
            }!r && a && (r = a, o = l), r && (n.splice(0, o, r), e = n.join("/"))
        }
        return e
    }

    function w(t, n) {
        return function() {
            var e = a.call(arguments, 0);
            return "string" != typeof e[0] && 1 === e.length && e.push(null), o.apply(p, e.concat([t, n]))
        }
    }

    function x(e) {
        var t;
        if (b(m, e) && (t = m[e], delete m[e], v[e] = !0, r.apply(p, t)), !b(g, e) && !b(v, e)) throw new Error("No " + e);
        return g[e]
    }

    function c(e) {
        var t, n = e ? e.indexOf("!") : -1;
        return -1 < n && (t = e.substring(0, n), e = e.substring(n + 1, e.length)), [t, e]
    }

    function A(e) {
        return e ? c(e) : []
    }
    var u = s.require("jquery.select2");
    return t.fn.select2.amd = s, u
});
(function(global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.mapboxgl = factory());
}(this, (function() {
    'use strict';
    var shared, worker, mapboxgl;

    function define(_, chunk) {
        if (!shared) {
            shared = chunk;
        } else if (!worker) {
            worker = chunk;
        } else {
            var workerBundleString = 'var sharedChunk = {}; (' + shared + ')(sharedChunk); (' + worker + ')(sharedChunk);'
            var sharedChunk = {};
            shared(sharedChunk);
            mapboxgl = chunk(sharedChunk);
            if (typeof window !== 'undefined') {
                mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], {
                    type: 'text/javascript'
                }));
            }
        }
    }
    define(["exports"], (function(t) {
        "use strict";

        function e(t, e) {
            return t(e = {
                exports: {}
            }, e.exports), e.exports
        }
        var r = n;

        function n(t, e, r, n) {
            this.cx = 3 * t, this.bx = 3 * (r - t) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * e, this.by = 3 * (n - e) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = t, this.p1y = n, this.p2x = r, this.p2y = n;
        }
        n.prototype.sampleCurveX = function(t) {
            return ((this.ax * t + this.bx) * t + this.cx) * t
        }, n.prototype.sampleCurveY = function(t) {
            return ((this.ay * t + this.by) * t + this.cy) * t
        }, n.prototype.sampleCurveDerivativeX = function(t) {
            return (3 * this.ax * t + 2 * this.bx) * t + this.cx
        }, n.prototype.solveCurveX = function(t, e) {
            var r, n, i, a, o;
            for (void 0 === e && (e = 1e-6), i = t, o = 0; o < 8; o++) {
                if (a = this.sampleCurveX(i) - t, Math.abs(a) < e) return i;
                var s = this.sampleCurveDerivativeX(i);
                if (Math.abs(s) < 1e-6) break;
                i -= a / s;
            }
            if ((i = t) < (r = 0)) return r;
            if (i > (n = 1)) return n;
            for (; r < n;) {
                if (a = this.sampleCurveX(i), Math.abs(a - t) < e) return i;
                t > a ? r = i : n = i, i = .5 * (n - r) + r;
            }
            return i
        }, n.prototype.solve = function(t, e) {
            return this.sampleCurveY(this.solveCurveX(t, e))
        };
        var i = a;

        function a(t, e) {
            this.x = t, this.y = e;
        }
        a.prototype = {
            clone: function() {
                return new a(this.x, this.y)
            },
            add: function(t) {
                return this.clone()._add(t)
            },
            sub: function(t) {
                return this.clone()._sub(t)
            },
            multByPoint: function(t) {
                return this.clone()._multByPoint(t)
            },
            divByPoint: function(t) {
                return this.clone()._divByPoint(t)
            },
            mult: function(t) {
                return this.clone()._mult(t)
            },
            div: function(t) {
                return this.clone()._div(t)
            },
            rotate: function(t) {
                return this.clone()._rotate(t)
            },
            rotateAround: function(t, e) {
                return this.clone()._rotateAround(t, e)
            },
            matMult: function(t) {
                return this.clone()._matMult(t)
            },
            unit: function() {
                return this.clone()._unit()
            },
            perp: function() {
                return this.clone()._perp()
            },
            round: function() {
                return this.clone()._round()
            },
            mag: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            equals: function(t) {
                return this.x === t.x && this.y === t.y
            },
            dist: function(t) {
                return Math.sqrt(this.distSqr(t))
            },
            distSqr: function(t) {
                var e = t.x - this.x,
                    r = t.y - this.y;
                return e * e + r * r
            },
            angle: function() {
                return Math.atan2(this.y, this.x)
            },
            angleTo: function(t) {
                return Math.atan2(this.y - t.y, this.x - t.x)
            },
            angleWith: function(t) {
                return this.angleWithSep(t.x, t.y)
            },
            angleWithSep: function(t, e) {
                return Math.atan2(this.x * e - this.y * t, this.x * t + this.y * e)
            },
            _matMult: function(t) {
                var e = t[2] * this.x + t[3] * this.y;
                return this.x = t[0] * this.x + t[1] * this.y, this.y = e, this
            },
            _add: function(t) {
                return this.x += t.x, this.y += t.y, this
            },
            _sub: function(t) {
                return this.x -= t.x, this.y -= t.y, this
            },
            _mult: function(t) {
                return this.x *= t, this.y *= t, this
            },
            _div: function(t) {
                return this.x /= t, this.y /= t, this
            },
            _multByPoint: function(t) {
                return this.x *= t.x, this.y *= t.y, this
            },
            _divByPoint: function(t) {
                return this.x /= t.x, this.y /= t.y, this
            },
            _unit: function() {
                return this._div(this.mag()), this
            },
            _perp: function() {
                var t = this.y;
                return this.y = this.x, this.x = -t, this
            },
            _rotate: function(t) {
                var e = Math.cos(t),
                    r = Math.sin(t),
                    n = r * this.x + e * this.y;
                return this.x = e * this.x - r * this.y, this.y = n, this
            },
            _rotateAround: function(t, e) {
                var r = Math.cos(t),
                    n = Math.sin(t),
                    i = e.y + n * (this.x - e.x) + r * (this.y - e.y);
                return this.x = e.x + r * (this.x - e.x) - n * (this.y - e.y), this.y = i, this
            },
            _round: function() {
                return this.x = Math.round(this.x), this.y = Math.round(this.y), this
            }
        }, a.convert = function(t) {
            return t instanceof a ? t : Array.isArray(t) ? new a(t[0], t[1]) : t
        };
        var o = "undefined" != typeof self ? self : {},
            s = Math.pow(2, 53) - 1;

        function u(t, e, n, i) {
            var a = new r(t, e, n, i);
            return function(t) {
                return a.solve(t)
            }
        }
        var l = u(.25, .1, .25, 1);

        function p(t, e, r) {
            return Math.min(r, Math.max(e, t))
        }

        function c(t, e, r) {
            var n = r - e,
                i = ((t - e) % n + n) % n + e;
            return i === e ? r : i
        }

        function h(t) {
            for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
            for (var n = 0, i = e; n < i.length; n += 1) {
                var a = i[n];
                for (var o in a) t[o] = a[o];
            }
            return t
        }
        var f = 1;

        function y() {
            return f++
        }

        function d() {
            return function t(e) {
                return e ? (e ^ 16 * Math.random() >> e / 4).toString(16) : ([1e7] + -[1e3] + -4e3 + -8e3 + -1e11).replace(/[018]/g, t)
            }()
        }

        function m(t) {
            return !!t && /^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)
        }

        function v(t, e) {
            t.forEach((function(t) {
                e[t] && (e[t] = e[t].bind(e));
            }));
        }

        function g(t, e) {
            return -1 !== t.indexOf(e, t.length - e.length)
        }

        function x(t, e, r) {
            var n = {};
            for (var i in t) n[i] = e.call(r || this, t[i], i, t);
            return n
        }

        function b(t, e, r) {
            var n = {};
            for (var i in t) e.call(r || this, t[i], i, t) && (n[i] = t[i]);
            return n
        }

        function w(t) {
            return Array.isArray(t) ? t.map(w) : "object" == typeof t && t ? x(t, w) : t
        }
        var _ = {};

        function A(t) {
            _[t] || ("undefined" != typeof console && console.warn(t), _[t] = !0);
        }

        function S(t, e, r) {
            return (r.y - t.y) * (e.x - t.x) > (e.y - t.y) * (r.x - t.x)
        }

        function k(t) {
            for (var e = 0, r = 0, n = t.length, i = n - 1, a = void 0, o = void 0; r < n; i = r++) e += ((o = t[i]).x - (a = t[r]).x) * (a.y + o.y);
            return e
        }

        function I() {
            return "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope
        }

        function z(t) {
            var e = {};
            if (t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g, (function(t, r, n, i) {
                    var a = n || i;
                    return e[r] = !a || a.toLowerCase(), ""
                })), e["max-age"]) {
                var r = parseInt(e["max-age"], 10);
                isNaN(r) ? delete e["max-age"] : e["max-age"] = r;
            }
            return e
        }
        var C = null;

        function E(t) {
            if (null == C) {
                var e = t.navigator ? t.navigator.userAgent : null;
                C = !!t.safari || !(!e || !(/\b(iPad|iPhone|iPod)\b/.test(e) || e.match("Safari") && !e.match("Chrome")));
            }
            return C
        }

        function P(t) {
            try {
                var e = o[t];
                return e.setItem("_mapbox_test_", 1), e.removeItem("_mapbox_test_"), !0
            } catch (t) {
                return !1
            }
        }
        var M, B, T, V, F = o.performance && o.performance.now ? o.performance.now.bind(o.performance) : Date.now.bind(Date),
            D = o.requestAnimationFrame || o.mozRequestAnimationFrame || o.webkitRequestAnimationFrame || o.msRequestAnimationFrame,
            L = o.cancelAnimationFrame || o.mozCancelAnimationFrame || o.webkitCancelAnimationFrame || o.msCancelAnimationFrame,
            R = {
                now: F,
                frame: function(t) {
                    var e = D(t);
                    return {
                        cancel: function() {
                            return L(e)
                        }
                    }
                },
                getImageData: function(t, e) {
                    void 0 === e && (e = 0);
                    var r = o.document.createElement("canvas"),
                        n = r.getContext("2d");
                    if (!n) throw new Error("failed to create canvas 2d context");
                    return r.width = t.width, r.height = t.height, n.drawImage(t, 0, 0, t.width, t.height), n.getImageData(-e, -e, t.width + 2 * e, t.height + 2 * e)
                },
                resolveURL: function(t) {
                    return M || (M = o.document.createElement("a")), M.href = t, M.href
                },
                hardwareConcurrency: o.navigator && o.navigator.hardwareConcurrency || 4,
                get devicePixelRatio() {
                    return o.devicePixelRatio
                },
                get prefersReducedMotion() {
                    return !!o.matchMedia && (null == B && (B = o.matchMedia("(prefers-reduced-motion: reduce)")), B.matches)
                }
            },
            O = {
                API_URL: "https://api.mapbox.com",
                get EVENTS_URL() {
                    return this.API_URL ? 0 === this.API_URL.indexOf("https://api.mapbox.cn") ? "https://events.mapbox.cn/events/v2" : 0 === this.API_URL.indexOf("https://api.mapbox.com") ? "https://events.mapbox.com/events/v2" : null : null
                },
                FEEDBACK_URL: "https://apps.mapbox.com/feedback",
                REQUIRE_ACCESS_TOKEN: !0,
                ACCESS_TOKEN: null,
                MAX_PARALLEL_IMAGE_REQUESTS: 16
            },
            U = {
                supported: !1,
                testSupport: function(t) {
                    !j && V && (q ? N(t) : T = t);
                }
            },
            j = !1,
            q = !1;

        function N(t) {
            var e = t.createTexture();
            t.bindTexture(t.TEXTURE_2D, e);
            try {
                if (t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, t.RGBA, t.UNSIGNED_BYTE, V), t.isContextLost()) return;
                U.supported = !0;
            } catch (t) {}
            t.deleteTexture(e), j = !0;
        }
        o.document && ((V = o.document.createElement("img")).onload = function() {
            T && N(T), T = null, q = !0;
        }, V.onerror = function() {
            j = !0, T = null;
        }, V.src = "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");
        var K = "01",
            G = function(t, e) {
                this._transformRequestFn = t, this._customAccessToken = e, this._createSkuToken();
            };

        function Z(t) {
            return 0 === t.indexOf("mapbox:")
        }
        G.prototype._createSkuToken = function() {
            var t = function() {
                for (var t = "", e = 0; e < 10; e++) t += "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ" [Math.floor(62 * Math.random())];
                return {
                    token: ["1", K, t].join(""),
                    tokenExpiresAt: Date.now() + 432e5
                }
            }();
            this._skuToken = t.token, this._skuTokenExpiresAt = t.tokenExpiresAt;
        }, G.prototype._isSkuTokenExpired = function() {
            return Date.now() > this._skuTokenExpiresAt
        }, G.prototype.transformRequest = function(t, e) {
            return this._transformRequestFn && this._transformRequestFn(t, e) || {
                url: t
            }
        }, G.prototype.normalizeStyleURL = function(t, e) {
            if (!Z(t)) return t;
            var r = Y(t);
            return r.path = "/styles/v1" + r.path, this._makeAPIURL(r, this._customAccessToken || e)
        }, G.prototype.normalizeGlyphsURL = function(t, e) {
            if (!Z(t)) return t;
            var r = Y(t);
            return r.path = "/fonts/v1" + r.path, this._makeAPIURL(r, this._customAccessToken || e)
        }, G.prototype.normalizeSourceURL = function(t, e) {
            if (!Z(t)) return t;
            var r = Y(t);
            return r.path = "/v4/" + r.authority + ".json", r.params.push("secure"), this._makeAPIURL(r, this._customAccessToken || e)
        }, G.prototype.normalizeSpriteURL = function(t, e, r, n) {
            var i = Y(t);
            return Z(t) ? (i.path = "/styles/v1" + i.path + "/sprite" + e + r, this._makeAPIURL(i, this._customAccessToken || n)) : (i.path += "" + e + r, $(i))
        }, G.prototype.normalizeTileURL = function(t, e) {
            if (this._isSkuTokenExpired() && this._createSkuToken(), t && !Z(t)) return t;
            var r = Y(t);
            r.path = r.path.replace(/(\.(png|jpg)\d*)(?=$)/, (R.devicePixelRatio >= 2 || 512 === e ? "@2x" : "") + (U.supported ? ".webp" : "$1")), r.path = r.path.replace(/^.+\/v4\//, "/"), r.path = "/v4" + r.path;
            var n = this._customAccessToken || function(t) {
                for (var e = 0, r = t; e < r.length; e += 1) {
                    var n = r[e].match(/^access_token=(.*)$/);
                    if (n) return n[1]
                }
                return null
            }(r.params) || O.ACCESS_TOKEN;
            return O.REQUIRE_ACCESS_TOKEN && n && this._skuToken && r.params.push("sku=" + this._skuToken), this._makeAPIURL(r, n)
        }, G.prototype.canonicalizeTileURL = function(t, e) {
            var r = Y(t);
            if (!r.path.match(/(^\/v4\/)/) || !r.path.match(/\.[\w]+$/)) return t;
            var n = "mapbox://tiles/";
            n += r.path.replace("/v4/", "");
            var i = r.params;
            return e && (i = i.filter((function(t) {
                return !t.match(/^access_token=/)
            }))), i.length && (n += "?" + i.join("&")), n
        }, G.prototype.canonicalizeTileset = function(t, e) {
            for (var r = !!e && Z(e), n = [], i = 0, a = t.tiles || []; i < a.length; i += 1) {
                var o = a[i];
                J(o) ? n.push(this.canonicalizeTileURL(o, r)) : n.push(o);
            }
            return n
        }, G.prototype._makeAPIURL = function(t, e) {
            var r = "See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",
                n = Y(O.API_URL);
            if (t.protocol = n.protocol, t.authority = n.authority, "/" !== n.path && (t.path = "" + n.path + t.path), !O.REQUIRE_ACCESS_TOKEN) return $(t);
            if (!(e = e || O.ACCESS_TOKEN)) throw new Error("An API access token is required to use Mapbox GL. " + r);
            if ("s" === e[0]) throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). " + r);
            return t.params = t.params.filter((function(t) {
                return -1 === t.indexOf("access_token")
            })), t.params.push("access_token=" + e), $(t)
        };
        var X = /^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;

        function J(t) {
            return X.test(t)
        }
        var H = /^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;

        function Y(t) {
            var e = t.match(H);
            if (!e) throw new Error("Unable to parse URL object");
            return {
                protocol: e[1],
                authority: e[2],
                path: e[3] || "/",
                params: e[4] ? e[4].split("&") : []
            }
        }

        function $(t) {
            var e = t.params.length ? "?" + t.params.join("&") : "";
            return t.protocol + "://" + t.authority + t.path + e
        }

        function W(t) {
            if (!t) return null;
            var e = t.split(".");
            if (!e || 3 !== e.length) return null;
            try {
                return JSON.parse(decodeURIComponent(o.atob(e[1]).split("").map((function(t) {
                    return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
                })).join("")))
            } catch (t) {
                return null
            }
        }
        var Q = function(t) {
            this.type = t, this.anonId = null, this.eventData = {}, this.queue = [], this.pendingRequest = null;
        };
        Q.prototype.getStorageKey = function(t) {
            var e, r = W(O.ACCESS_TOKEN);
            return e = r && r.u ? o.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g, (function(t, e) {
                return String.fromCharCode(Number("0x" + e))
            }))) : O.ACCESS_TOKEN || "", t ? "mapbox.eventData." + t + ":" + e : "mapbox.eventData:" + e
        }, Q.prototype.fetchEventData = function() {
            var t = P("localStorage"),
                e = this.getStorageKey(),
                r = this.getStorageKey("uuid");
            if (t) try {
                var n = o.localStorage.getItem(e);
                n && (this.eventData = JSON.parse(n));
                var i = o.localStorage.getItem(r);
                i && (this.anonId = i);
            } catch (t) {
                A("Unable to read from LocalStorage");
            }
        }, Q.prototype.saveEventData = function() {
            var t = P("localStorage"),
                e = this.getStorageKey(),
                r = this.getStorageKey("uuid");
            if (t) try {
                o.localStorage.setItem(r, this.anonId), Object.keys(this.eventData).length >= 1 && o.localStorage.setItem(e, JSON.stringify(this.eventData));
            } catch (t) {
                A("Unable to write to LocalStorage");
            }
        }, Q.prototype.processRequests = function(t) {}, Q.prototype.postEvent = function(t, e, r, n) {
            var i = this;
            if (O.EVENTS_URL) {
                var a = Y(O.EVENTS_URL);
                a.params.push("access_token=" + (n || O.ACCESS_TOKEN || ""));
                var o = {
                        event: this.type,
                        created: new Date(t).toISOString(),
                        sdkIdentifier: "mapbox-gl-js",
                        sdkVersion: "1.12.0",
                        skuId: K,
                        userId: this.anonId
                    },
                    s = e ? h(o, e) : o,
                    u = {
                        url: $(a),
                        headers: {
                            "Content-Type": "text/plain"
                        },
                        body: JSON.stringify([s])
                    };
                this.pendingRequest = wt(u, (function(t) {
                    i.pendingRequest = null, r(t), i.saveEventData(), i.processRequests(n);
                }));
            }
        }, Q.prototype.queueRequest = function(t, e) {
            this.queue.push(t), this.processRequests(e);
        };
        var tt, et, rt = function(t) {
                function e() {
                    t.call(this, "map.load"), this.success = {}, this.skuToken = "";
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.postMapLoadEvent = function(t, e, r, n) {
                    this.skuToken = r, (O.EVENTS_URL && n || O.ACCESS_TOKEN && Array.isArray(t) && t.some((function(t) {
                        return Z(t) || J(t)
                    }))) && this.queueRequest({
                        id: e,
                        timestamp: Date.now()
                    }, n);
                }, e.prototype.processRequests = function(t) {
                    var e = this;
                    if (!this.pendingRequest && 0 !== this.queue.length) {
                        var r = this.queue.shift(),
                            n = r.id,
                            i = r.timestamp;
                        n && this.success[n] || (this.anonId || this.fetchEventData(), m(this.anonId) || (this.anonId = d()), this.postEvent(i, {
                            skuToken: this.skuToken
                        }, (function(t) {
                            t || n && (e.success[n] = !0);
                        }), t));
                    }
                }, e
            }(Q),
            nt = new(function(t) {
                function e(e) {
                    t.call(this, "appUserTurnstile"), this._customAccessToken = e;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.postTurnstileEvent = function(t, e) {
                    O.EVENTS_URL && O.ACCESS_TOKEN && Array.isArray(t) && t.some((function(t) {
                        return Z(t) || J(t)
                    })) && this.queueRequest(Date.now(), e);
                }, e.prototype.processRequests = function(t) {
                    var e = this;
                    if (!this.pendingRequest && 0 !== this.queue.length) {
                        this.anonId && this.eventData.lastSuccess && this.eventData.tokenU || this.fetchEventData();
                        var r = W(O.ACCESS_TOKEN),
                            n = r ? r.u : O.ACCESS_TOKEN,
                            i = n !== this.eventData.tokenU;
                        m(this.anonId) || (this.anonId = d(), i = !0);
                        var a = this.queue.shift();
                        if (this.eventData.lastSuccess) {
                            var o = new Date(this.eventData.lastSuccess),
                                s = new Date(a),
                                u = (a - this.eventData.lastSuccess) / 864e5;
                            i = i || u >= 1 || u < -1 || o.getDate() !== s.getDate();
                        } else i = !0;
                        if (!i) return this.processRequests();
                        this.postEvent(a, {
                            "enabled.telemetry": !1
                        }, (function(t) {
                            t || (e.eventData.lastSuccess = a, e.eventData.tokenU = n);
                        }), t);
                    }
                }, e
            }(Q)),
            it = nt.postTurnstileEvent.bind(nt),
            at = new rt,
            ot = at.postMapLoadEvent.bind(at),
            st = 500,
            ut = 50;

        function lt() {
            o.caches && !tt && (tt = o.caches.open("mapbox-tiles"));
        }

        function pt(t) {
            var e = t.indexOf("?");
            return e < 0 ? t : t.slice(0, e)
        }
        var ct, ht = 1 / 0;

        function ft() {
            return null == ct && (ct = o.OffscreenCanvas && new o.OffscreenCanvas(1, 1).getContext("2d") && "function" == typeof o.createImageBitmap), ct
        }
        var yt = {
            Unknown: "Unknown",
            Style: "Style",
            Source: "Source",
            Tile: "Tile",
            Glyphs: "Glyphs",
            SpriteImage: "SpriteImage",
            SpriteJSON: "SpriteJSON",
            Image: "Image"
        };
        "function" == typeof Object.freeze && Object.freeze(yt);
        var dt = function(t) {
                function e(e, r, n) {
                    401 === r && J(n) && (e += ": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"), t.call(this, e), this.status = r, this.url = n, this.name = this.constructor.name, this.message = e;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.toString = function() {
                    return this.name + ": " + this.message + " (" + this.status + "): " + this.url
                }, e
            }(Error),
            mt = I() ? function() {
                return self.worker && self.worker.referrer
            } : function() {
                return ("blob:" === o.location.protocol ? o.parent : o).location.href
            };
        var vt, gt, xt = function(t, e) {
                if (!(/^file:/.test(r = t.url) || /^file:/.test(mt()) && !/^\w+:/.test(r))) {
                    if (o.fetch && o.Request && o.AbortController && o.Request.prototype.hasOwnProperty("signal")) return function(t, e) {
                        var r, n = new o.AbortController,
                            i = new o.Request(t.url, {
                                method: t.method || "GET",
                                body: t.body,
                                credentials: t.credentials,
                                headers: t.headers,
                                referrer: mt(),
                                signal: n.signal
                            }),
                            a = !1,
                            s = !1,
                            u = (r = i.url).indexOf("sku=") > 0 && J(r);
                        "json" === t.type && i.headers.set("Accept", "application/json");
                        var l = function(r, n, a) {
                                if (!s) {
                                    if (r && "SecurityError" !== r.message && A(r), n && a) return p(n);
                                    var l = Date.now();
                                    o.fetch(i).then((function(r) {
                                        if (r.ok) {
                                            var n = u ? r.clone() : null;
                                            return p(r, n, l)
                                        }
                                        return e(new dt(r.statusText, r.status, t.url))
                                    })).catch((function(t) {
                                        20 !== t.code && e(new Error(t.message));
                                    }));
                                }
                            },
                            p = function(r, n, u) {
                                ("arrayBuffer" === t.type ? r.arrayBuffer() : "json" === t.type ? r.json() : r.text()).then((function(t) {
                                    s || (n && u && function(t, e, r) {
                                        if (lt(), tt) {
                                            var n = {
                                                status: e.status,
                                                statusText: e.statusText,
                                                headers: new o.Headers
                                            };
                                            e.headers.forEach((function(t, e) {
                                                return n.headers.set(e, t)
                                            }));
                                            var i = z(e.headers.get("Cache-Control") || "");
                                            i["no-store"] || (i["max-age"] && n.headers.set("Expires", new Date(r + 1e3 * i["max-age"]).toUTCString()), new Date(n.headers.get("Expires")).getTime() - r < 42e4 || function(t, e) {
                                                if (void 0 === et) try {
                                                    new Response(new ReadableStream), et = !0;
                                                } catch (t) {
                                                    et = !1;
                                                }
                                                et ? e(t.body) : t.blob().then(e);
                                            }(e, (function(e) {
                                                var r = new o.Response(e, n);
                                                lt(), tt && tt.then((function(e) {
                                                    return e.put(pt(t.url), r)
                                                })).catch((function(t) {
                                                    return A(t.message)
                                                }));
                                            })));
                                        }
                                    }(i, n, u), a = !0, e(null, t, r.headers.get("Cache-Control"), r.headers.get("Expires")));
                                })).catch((function(t) {
                                    s || e(new Error(t.message));
                                }));
                            };
                        return u ? function(t, e) {
                            if (lt(), !tt) return e(null);
                            var r = pt(t.url);
                            tt.then((function(t) {
                                t.match(r).then((function(n) {
                                    var i = function(t) {
                                        if (!t) return !1;
                                        var e = new Date(t.headers.get("Expires") || 0),
                                            r = z(t.headers.get("Cache-Control") || "");
                                        return e > Date.now() && !r["no-cache"]
                                    }(n);
                                    t.delete(r), i && t.put(r, n.clone()), e(null, n, i);
                                })).catch(e);
                            })).catch(e);
                        }(i, l) : l(null, null), {
                            cancel: function() {
                                s = !0, a || n.abort();
                            }
                        }
                    }(t, e);
                    if (I() && self.worker && self.worker.actor) return self.worker.actor.send("getResource", t, e, void 0, !0)
                }
                var r;
                return function(t, e) {
                    var r = new o.XMLHttpRequest;
                    for (var n in r.open(t.method || "GET", t.url, !0), "arrayBuffer" === t.type && (r.responseType = "arraybuffer"), t.headers) r.setRequestHeader(n, t.headers[n]);
                    return "json" === t.type && (r.responseType = "text", r.setRequestHeader("Accept", "application/json")), r.withCredentials = "include" === t.credentials, r.onerror = function() {
                        e(new Error(r.statusText));
                    }, r.onload = function() {
                        if ((r.status >= 200 && r.status < 300 || 0 === r.status) && null !== r.response) {
                            var n = r.response;
                            if ("json" === t.type) try {
                                n = JSON.parse(r.response);
                            } catch (t) {
                                return e(t)
                            }
                            e(null, n, r.getResponseHeader("Cache-Control"), r.getResponseHeader("Expires"));
                        } else e(new dt(r.statusText, r.status, t.url));
                    }, r.send(t.body), {
                        cancel: function() {
                            return r.abort()
                        }
                    }
                }(t, e)
            },
            bt = function(t, e) {
                return xt(h(t, {
                    type: "arrayBuffer"
                }), e)
            },
            wt = function(t, e) {
                return xt(h(t, {
                    method: "POST"
                }), e)
            };
        vt = [], gt = 0;
        var _t = function(t, e) {
            if (U.supported && (t.headers || (t.headers = {}), t.headers.accept = "image/webp,*/*"), gt >= O.MAX_PARALLEL_IMAGE_REQUESTS) {
                var r = {
                    requestParameters: t,
                    callback: e,
                    cancelled: !1,
                    cancel: function() {
                        this.cancelled = !0;
                    }
                };
                return vt.push(r), r
            }
            gt++;
            var n = !1,
                i = function() {
                    if (!n)
                        for (n = !0, gt--; vt.length && gt < O.MAX_PARALLEL_IMAGE_REQUESTS;) {
                            var t = vt.shift();
                            t.cancelled || (t.cancel = _t(t.requestParameters, t.callback).cancel);
                        }
                },
                a = bt(t, (function(t, r, n, a) {
                    i(), t ? e(t) : r && (ft() ? function(t, e) {
                        var r = new o.Blob([new Uint8Array(t)], {
                            type: "image/png"
                        });
                        o.createImageBitmap(r).then((function(t) {
                            e(null, t);
                        })).catch((function(t) {
                            e(new Error("Could not load image because of " + t.message + ". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));
                        }));
                    }(r, e) : function(t, e, r, n) {
                        var i = new o.Image,
                            a = o.URL;
                        i.onload = function() {
                            e(null, i), a.revokeObjectURL(i.src);
                        }, i.onerror = function() {
                            return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))
                        };
                        var s = new o.Blob([new Uint8Array(t)], {
                            type: "image/png"
                        });
                        i.cacheControl = r, i.expires = n, i.src = t.byteLength ? a.createObjectURL(s) : "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";
                    }(r, e, n, a));
                }));
            return {
                cancel: function() {
                    a.cancel(), i();
                }
            }
        };

        function At(t, e, r) {
            r[t] && -1 !== r[t].indexOf(e) || (r[t] = r[t] || [], r[t].push(e));
        }

        function St(t, e, r) {
            if (r && r[t]) {
                var n = r[t].indexOf(e); - 1 !== n && r[t].splice(n, 1);
            }
        }
        var kt = function(t, e) {
                void 0 === e && (e = {}), h(this, e), this.type = t;
            },
            It = function(t) {
                function e(e, r) {
                    void 0 === r && (r = {}), t.call(this, "error", h({
                        error: e
                    }, r));
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(kt),
            zt = function() {};
        zt.prototype.on = function(t, e) {
            return this._listeners = this._listeners || {}, At(t, e, this._listeners), this
        }, zt.prototype.off = function(t, e) {
            return St(t, e, this._listeners), St(t, e, this._oneTimeListeners), this
        }, zt.prototype.once = function(t, e) {
            return this._oneTimeListeners = this._oneTimeListeners || {}, At(t, e, this._oneTimeListeners), this
        }, zt.prototype.fire = function(t, e) {
            "string" == typeof t && (t = new kt(t, e || {}));
            var r = t.type;
            if (this.listens(r)) {
                t.target = this;
                for (var n = 0, i = this._listeners && this._listeners[r] ? this._listeners[r].slice() : []; n < i.length; n += 1) i[n].call(this, t);
                for (var a = 0, o = this._oneTimeListeners && this._oneTimeListeners[r] ? this._oneTimeListeners[r].slice() : []; a < o.length; a += 1) {
                    var s = o[a];
                    St(r, s, this._oneTimeListeners), s.call(this, t);
                }
                var u = this._eventedParent;
                u && (h(t, "function" == typeof this._eventedParentData ? this._eventedParentData() : this._eventedParentData), u.fire(t));
            } else t instanceof It && console.error(t.error);
            return this
        }, zt.prototype.listens = function(t) {
            return this._listeners && this._listeners[t] && this._listeners[t].length > 0 || this._oneTimeListeners && this._oneTimeListeners[t] && this._oneTimeListeners[t].length > 0 || this._eventedParent && this._eventedParent.listens(t)
        }, zt.prototype.setEventedParent = function(t, e) {
            return this._eventedParent = t, this._eventedParentData = e, this
        };
        var Ct = {
                $version: 8,
                $root: {
                    version: {
                        required: !0,
                        type: "enum",
                        values: [8]
                    },
                    name: {
                        type: "string"
                    },
                    metadata: {
                        type: "*"
                    },
                    center: {
                        type: "array",
                        value: "number"
                    },
                    zoom: {
                        type: "number"
                    },
                    bearing: {
                        type: "number",
                        default: 0,
                        period: 360,
                        units: "degrees"
                    },
                    pitch: {
                        type: "number",
                        default: 0,
                        units: "degrees"
                    },
                    light: {
                        type: "light"
                    },
                    sources: {
                        required: !0,
                        type: "sources"
                    },
                    sprite: {
                        type: "string"
                    },
                    glyphs: {
                        type: "string"
                    },
                    transition: {
                        type: "transition"
                    },
                    layers: {
                        required: !0,
                        type: "array",
                        value: "layer"
                    }
                },
                sources: {
                    "*": {
                        type: "source"
                    }
                },
                source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"],
                source_vector: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            vector: {}
                        }
                    },
                    url: {
                        type: "string"
                    },
                    tiles: {
                        type: "array",
                        value: "string"
                    },
                    bounds: {
                        type: "array",
                        value: "number",
                        length: 4,
                        default: [-180, -85.051129, 180, 85.051129]
                    },
                    scheme: {
                        type: "enum",
                        values: {
                            xyz: {},
                            tms: {}
                        },
                        default: "xyz"
                    },
                    minzoom: {
                        type: "number",
                        default: 0
                    },
                    maxzoom: {
                        type: "number",
                        default: 22
                    },
                    attribution: {
                        type: "string"
                    },
                    promoteId: {
                        type: "promoteId"
                    },
                    volatile: {
                        type: "boolean",
                        default: !1
                    },
                    "*": {
                        type: "*"
                    }
                },
                source_raster: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            raster: {}
                        }
                    },
                    url: {
                        type: "string"
                    },
                    tiles: {
                        type: "array",
                        value: "string"
                    },
                    bounds: {
                        type: "array",
                        value: "number",
                        length: 4,
                        default: [-180, -85.051129, 180, 85.051129]
                    },
                    minzoom: {
                        type: "number",
                        default: 0
                    },
                    maxzoom: {
                        type: "number",
                        default: 22
                    },
                    tileSize: {
                        type: "number",
                        default: 512,
                        units: "pixels"
                    },
                    scheme: {
                        type: "enum",
                        values: {
                            xyz: {},
                            tms: {}
                        },
                        default: "xyz"
                    },
                    attribution: {
                        type: "string"
                    },
                    volatile: {
                        type: "boolean",
                        default: !1
                    },
                    "*": {
                        type: "*"
                    }
                },
                source_raster_dem: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            "raster-dem": {}
                        }
                    },
                    url: {
                        type: "string"
                    },
                    tiles: {
                        type: "array",
                        value: "string"
                    },
                    bounds: {
                        type: "array",
                        value: "number",
                        length: 4,
                        default: [-180, -85.051129, 180, 85.051129]
                    },
                    minzoom: {
                        type: "number",
                        default: 0
                    },
                    maxzoom: {
                        type: "number",
                        default: 22
                    },
                    tileSize: {
                        type: "number",
                        default: 512,
                        units: "pixels"
                    },
                    attribution: {
                        type: "string"
                    },
                    encoding: {
                        type: "enum",
                        values: {
                            terrarium: {},
                            mapbox: {}
                        },
                        default: "mapbox"
                    },
                    volatile: {
                        type: "boolean",
                        default: !1
                    },
                    "*": {
                        type: "*"
                    }
                },
                source_geojson: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            geojson: {}
                        }
                    },
                    data: {
                        type: "*"
                    },
                    maxzoom: {
                        type: "number",
                        default: 18
                    },
                    attribution: {
                        type: "string"
                    },
                    buffer: {
                        type: "number",
                        default: 128,
                        maximum: 512,
                        minimum: 0
                    },
                    filter: {
                        type: "*"
                    },
                    tolerance: {
                        type: "number",
                        default: .375
                    },
                    cluster: {
                        type: "boolean",
                        default: !1
                    },
                    clusterRadius: {
                        type: "number",
                        default: 50,
                        minimum: 0
                    },
                    clusterMaxZoom: {
                        type: "number"
                    },
                    clusterMinPoints: {
                        type: "number"
                    },
                    clusterProperties: {
                        type: "*"
                    },
                    lineMetrics: {
                        type: "boolean",
                        default: !1
                    },
                    generateId: {
                        type: "boolean",
                        default: !1
                    },
                    promoteId: {
                        type: "promoteId"
                    }
                },
                source_video: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            video: {}
                        }
                    },
                    urls: {
                        required: !0,
                        type: "array",
                        value: "string"
                    },
                    coordinates: {
                        required: !0,
                        type: "array",
                        length: 4,
                        value: {
                            type: "array",
                            length: 2,
                            value: "number"
                        }
                    }
                },
                source_image: {
                    type: {
                        required: !0,
                        type: "enum",
                        values: {
                            image: {}
                        }
                    },
                    url: {
                        required: !0,
                        type: "string"
                    },
                    coordinates: {
                        required: !0,
                        type: "array",
                        length: 4,
                        value: {
                            type: "array",
                            length: 2,
                            value: "number"
                        }
                    }
                },
                layer: {
                    id: {
                        type: "string",
                        required: !0
                    },
                    type: {
                        type: "enum",
                        values: {
                            fill: {},
                            line: {},
                            symbol: {},
                            circle: {},
                            heatmap: {},
                            "fill-extrusion": {},
                            raster: {},
                            hillshade: {},
                            background: {}
                        },
                        required: !0
                    },
                    metadata: {
                        type: "*"
                    },
                    source: {
                        type: "string"
                    },
                    "source-layer": {
                        type: "string"
                    },
                    minzoom: {
                        type: "number",
                        minimum: 0,
                        maximum: 24
                    },
                    maxzoom: {
                        type: "number",
                        minimum: 0,
                        maximum: 24
                    },
                    filter: {
                        type: "filter"
                    },
                    layout: {
                        type: "layout"
                    },
                    paint: {
                        type: "paint"
                    }
                },
                layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background"],
                layout_background: {
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_fill: {
                    "fill-sort-key": {
                        type: "number",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_circle: {
                    "circle-sort-key": {
                        type: "number",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_heatmap: {
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                "layout_fill-extrusion": {
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_line: {
                    "line-cap": {
                        type: "enum",
                        values: {
                            butt: {},
                            round: {},
                            square: {}
                        },
                        default: "butt",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "line-join": {
                        type: "enum",
                        values: {
                            bevel: {},
                            round: {},
                            miter: {}
                        },
                        default: "miter",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-miter-limit": {
                        type: "number",
                        default: 2,
                        requires: [{
                            "line-join": "miter"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "line-round-limit": {
                        type: "number",
                        default: 1.05,
                        requires: [{
                            "line-join": "round"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "line-sort-key": {
                        type: "number",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_symbol: {
                    "symbol-placement": {
                        type: "enum",
                        values: {
                            point: {},
                            line: {},
                            "line-center": {}
                        },
                        default: "point",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "symbol-spacing": {
                        type: "number",
                        default: 250,
                        minimum: 1,
                        units: "pixels",
                        requires: [{
                            "symbol-placement": "line"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "symbol-avoid-edges": {
                        type: "boolean",
                        default: !1,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "symbol-sort-key": {
                        type: "number",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "symbol-z-order": {
                        type: "enum",
                        values: {
                            auto: {},
                            "viewport-y": {},
                            source: {}
                        },
                        default: "auto",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-allow-overlap": {
                        type: "boolean",
                        default: !1,
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-ignore-placement": {
                        type: "boolean",
                        default: !1,
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-optional": {
                        type: "boolean",
                        default: !1,
                        requires: ["icon-image", "text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-rotation-alignment": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {},
                            auto: {}
                        },
                        default: "auto",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-size": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        units: "factor of the original icon size",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-text-fit": {
                        type: "enum",
                        values: {
                            none: {},
                            width: {},
                            height: {},
                            both: {}
                        },
                        default: "none",
                        requires: ["icon-image", "text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-text-fit-padding": {
                        type: "array",
                        value: "number",
                        length: 4,
                        default: [0, 0, 0, 0],
                        units: "pixels",
                        requires: ["icon-image", "text-field", {
                            "icon-text-fit": ["both", "width", "height"]
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-image": {
                        type: "resolvedImage",
                        tokens: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-rotate": {
                        type: "number",
                        default: 0,
                        period: 360,
                        units: "degrees",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-padding": {
                        type: "number",
                        default: 2,
                        minimum: 0,
                        units: "pixels",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-keep-upright": {
                        type: "boolean",
                        default: !1,
                        requires: ["icon-image", {
                            "icon-rotation-alignment": "map"
                        }, {
                            "symbol-placement": ["line", "line-center"]
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-offset": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-anchor": {
                        type: "enum",
                        values: {
                            center: {},
                            left: {},
                            right: {},
                            top: {},
                            bottom: {},
                            "top-left": {},
                            "top-right": {},
                            "bottom-left": {},
                            "bottom-right": {}
                        },
                        default: "center",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-pitch-alignment": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {},
                            auto: {}
                        },
                        default: "auto",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-pitch-alignment": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {},
                            auto: {}
                        },
                        default: "auto",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-rotation-alignment": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {},
                            auto: {}
                        },
                        default: "auto",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-field": {
                        type: "formatted",
                        default: "",
                        tokens: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-font": {
                        type: "array",
                        value: "string",
                        default: ["Open Sans Regular", "Arial Unicode MS Regular"],
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-size": {
                        type: "number",
                        default: 16,
                        minimum: 0,
                        units: "pixels",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-max-width": {
                        type: "number",
                        default: 10,
                        minimum: 0,
                        units: "ems",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-line-height": {
                        type: "number",
                        default: 1.2,
                        units: "ems",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-letter-spacing": {
                        type: "number",
                        default: 0,
                        units: "ems",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-justify": {
                        type: "enum",
                        values: {
                            auto: {},
                            left: {},
                            center: {},
                            right: {}
                        },
                        default: "center",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-radial-offset": {
                        type: "number",
                        units: "ems",
                        default: 0,
                        requires: ["text-field"],
                        "property-type": "data-driven",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        }
                    },
                    "text-variable-anchor": {
                        type: "array",
                        value: "enum",
                        values: {
                            center: {},
                            left: {},
                            right: {},
                            top: {},
                            bottom: {},
                            "top-left": {},
                            "top-right": {},
                            "bottom-left": {},
                            "bottom-right": {}
                        },
                        requires: ["text-field", {
                            "symbol-placement": ["point"]
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-anchor": {
                        type: "enum",
                        values: {
                            center: {},
                            left: {},
                            right: {},
                            top: {},
                            bottom: {},
                            "top-left": {},
                            "top-right": {},
                            "bottom-left": {},
                            "bottom-right": {}
                        },
                        default: "center",
                        requires: ["text-field", {
                            "!": "text-variable-anchor"
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-max-angle": {
                        type: "number",
                        default: 45,
                        units: "degrees",
                        requires: ["text-field", {
                            "symbol-placement": ["line", "line-center"]
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-writing-mode": {
                        type: "array",
                        value: "enum",
                        values: {
                            horizontal: {},
                            vertical: {}
                        },
                        requires: ["text-field", {
                            "symbol-placement": ["point"]
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-rotate": {
                        type: "number",
                        default: 0,
                        period: 360,
                        units: "degrees",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-padding": {
                        type: "number",
                        default: 2,
                        minimum: 0,
                        units: "pixels",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-keep-upright": {
                        type: "boolean",
                        default: !0,
                        requires: ["text-field", {
                            "text-rotation-alignment": "map"
                        }, {
                            "symbol-placement": ["line", "line-center"]
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-transform": {
                        type: "enum",
                        values: {
                            none: {},
                            uppercase: {},
                            lowercase: {}
                        },
                        default: "none",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-offset": {
                        type: "array",
                        value: "number",
                        units: "ems",
                        length: 2,
                        default: [0, 0],
                        requires: ["text-field", {
                            "!": "text-radial-offset"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-allow-overlap": {
                        type: "boolean",
                        default: !1,
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-ignore-placement": {
                        type: "boolean",
                        default: !1,
                        requires: ["text-field"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-optional": {
                        type: "boolean",
                        default: !1,
                        requires: ["text-field", "icon-image"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_raster: {
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                layout_hillshade: {
                    visibility: {
                        type: "enum",
                        values: {
                            visible: {},
                            none: {}
                        },
                        default: "visible",
                        "property-type": "constant"
                    }
                },
                filter: {
                    type: "array",
                    value: "*"
                },
                filter_operator: {
                    type: "enum",
                    values: {
                        "==": {},
                        "!=": {},
                        ">": {},
                        ">=": {},
                        "<": {},
                        "<=": {},
                        in: {},
                        "!in": {},
                        all: {},
                        any: {},
                        none: {},
                        has: {},
                        "!has": {},
                        within: {}
                    }
                },
                geometry_type: {
                    type: "enum",
                    values: {
                        Point: {},
                        LineString: {},
                        Polygon: {}
                    }
                },
                function: {
                    expression: {
                        type: "expression"
                    },
                    stops: {
                        type: "array",
                        value: "function_stop"
                    },
                    base: {
                        type: "number",
                        default: 1,
                        minimum: 0
                    },
                    property: {
                        type: "string",
                        default: "$zoom"
                    },
                    type: {
                        type: "enum",
                        values: {
                            identity: {},
                            exponential: {},
                            interval: {},
                            categorical: {}
                        },
                        default: "exponential"
                    },
                    colorSpace: {
                        type: "enum",
                        values: {
                            rgb: {},
                            lab: {},
                            hcl: {}
                        },
                        default: "rgb"
                    },
                    default: {
                        type: "*",
                        required: !1
                    }
                },
                function_stop: {
                    type: "array",
                    minimum: 0,
                    maximum: 24,
                    value: ["number", "color"],
                    length: 2
                },
                expression: {
                    type: "array",
                    value: "*",
                    minimum: 1
                },
                light: {
                    anchor: {
                        type: "enum",
                        default: "viewport",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        "property-type": "data-constant",
                        transition: !1,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        }
                    },
                    position: {
                        type: "array",
                        default: [1.15, 210, 30],
                        length: 3,
                        value: "number",
                        "property-type": "data-constant",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        }
                    },
                    color: {
                        type: "color",
                        "property-type": "data-constant",
                        default: "#ffffff",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        transition: !0
                    },
                    intensity: {
                        type: "number",
                        "property-type": "data-constant",
                        default: .5,
                        minimum: 0,
                        maximum: 1,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        transition: !0
                    }
                },
                paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background"],
                paint_fill: {
                    "fill-antialias": {
                        type: "boolean",
                        default: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        requires: [{
                            "!": "fill-pattern"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-outline-color": {
                        type: "color",
                        transition: !0,
                        requires: [{
                            "!": "fill-pattern"
                        }, {
                            "fill-antialias": !0
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["fill-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-pattern": {
                        type: "resolvedImage",
                        transition: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "cross-faded-data-driven"
                    }
                },
                "paint_fill-extrusion": {
                    "fill-extrusion-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-extrusion-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        requires: [{
                            "!": "fill-extrusion-pattern"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-extrusion-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-extrusion-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["fill-extrusion-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "fill-extrusion-pattern": {
                        type: "resolvedImage",
                        transition: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "cross-faded-data-driven"
                    },
                    "fill-extrusion-height": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        units: "meters",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-extrusion-base": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        units: "meters",
                        transition: !0,
                        requires: ["fill-extrusion-height"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "fill-extrusion-vertical-gradient": {
                        type: "boolean",
                        default: !0,
                        transition: !1,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                paint_line: {
                    "line-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        requires: [{
                            "!": "line-pattern"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "line-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["line-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "line-width": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-gap-width": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-offset": {
                        type: "number",
                        default: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-blur": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "line-dasharray": {
                        type: "array",
                        value: "number",
                        minimum: 0,
                        transition: !0,
                        units: "line widths",
                        requires: [{
                            "!": "line-pattern"
                        }],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "cross-faded"
                    },
                    "line-pattern": {
                        type: "resolvedImage",
                        transition: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom", "feature"]
                        },
                        "property-type": "cross-faded-data-driven"
                    },
                    "line-gradient": {
                        type: "color",
                        transition: !1,
                        requires: [{
                            "!": "line-dasharray"
                        }, {
                            "!": "line-pattern"
                        }, {
                            source: "geojson",
                            has: {
                                lineMetrics: !0
                            }
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["line-progress"]
                        },
                        "property-type": "color-ramp"
                    }
                },
                paint_circle: {
                    "circle-radius": {
                        type: "number",
                        default: 5,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-blur": {
                        type: "number",
                        default: 0,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "circle-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["circle-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "circle-pitch-scale": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "circle-pitch-alignment": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "viewport",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "circle-stroke-width": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-stroke-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "circle-stroke-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    }
                },
                paint_heatmap: {
                    "heatmap-radius": {
                        type: "number",
                        default: 30,
                        minimum: 1,
                        transition: !0,
                        units: "pixels",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "heatmap-weight": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        transition: !1,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "heatmap-intensity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "heatmap-color": {
                        type: "color",
                        default: ["interpolate", ["linear"],
                            ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", .1, "royalblue", .3, "cyan", .5, "lime", .7, "yellow", 1, "red"
                        ],
                        transition: !1,
                        expression: {
                            interpolated: !0,
                            parameters: ["heatmap-density"]
                        },
                        "property-type": "color-ramp"
                    },
                    "heatmap-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                paint_symbol: {
                    "icon-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-halo-color": {
                        type: "color",
                        default: "rgba(0, 0, 0, 0)",
                        transition: !0,
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-halo-width": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-halo-blur": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "icon-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        requires: ["icon-image"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "icon-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["icon-image", "icon-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        overridable: !0,
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-halo-color": {
                        type: "color",
                        default: "rgba(0, 0, 0, 0)",
                        transition: !0,
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-halo-width": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-halo-blur": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        transition: !0,
                        units: "pixels",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom", "feature", "feature-state"]
                        },
                        "property-type": "data-driven"
                    },
                    "text-translate": {
                        type: "array",
                        value: "number",
                        length: 2,
                        default: [0, 0],
                        transition: !0,
                        units: "pixels",
                        requires: ["text-field"],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "text-translate-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "map",
                        requires: ["text-field", "text-translate"],
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                paint_raster: {
                    "raster-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-hue-rotate": {
                        type: "number",
                        default: 0,
                        period: 360,
                        transition: !0,
                        units: "degrees",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-brightness-min": {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-brightness-max": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-saturation": {
                        type: "number",
                        default: 0,
                        minimum: -1,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-contrast": {
                        type: "number",
                        default: 0,
                        minimum: -1,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-resampling": {
                        type: "enum",
                        values: {
                            linear: {},
                            nearest: {}
                        },
                        default: "linear",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "raster-fade-duration": {
                        type: "number",
                        default: 300,
                        minimum: 0,
                        transition: !1,
                        units: "milliseconds",
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                paint_hillshade: {
                    "hillshade-illumination-direction": {
                        type: "number",
                        default: 335,
                        minimum: 0,
                        maximum: 359,
                        transition: !1,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "hillshade-illumination-anchor": {
                        type: "enum",
                        values: {
                            map: {},
                            viewport: {}
                        },
                        default: "viewport",
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "hillshade-exaggeration": {
                        type: "number",
                        default: .5,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "hillshade-shadow-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "hillshade-highlight-color": {
                        type: "color",
                        default: "#FFFFFF",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "hillshade-accent-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                paint_background: {
                    "background-color": {
                        type: "color",
                        default: "#000000",
                        transition: !0,
                        requires: [{
                            "!": "background-pattern"
                        }],
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    },
                    "background-pattern": {
                        type: "resolvedImage",
                        transition: !0,
                        expression: {
                            interpolated: !1,
                            parameters: ["zoom"]
                        },
                        "property-type": "cross-faded"
                    },
                    "background-opacity": {
                        type: "number",
                        default: 1,
                        minimum: 0,
                        maximum: 1,
                        transition: !0,
                        expression: {
                            interpolated: !0,
                            parameters: ["zoom"]
                        },
                        "property-type": "data-constant"
                    }
                },
                transition: {
                    duration: {
                        type: "number",
                        default: 300,
                        minimum: 0,
                        units: "milliseconds"
                    },
                    delay: {
                        type: "number",
                        default: 0,
                        minimum: 0,
                        units: "milliseconds"
                    }
                },
                "property-type": {
                    "data-driven": {
                        type: "property-type"
                    },
                    "cross-faded": {
                        type: "property-type"
                    },
                    "cross-faded-data-driven": {
                        type: "property-type"
                    },
                    "color-ramp": {
                        type: "property-type"
                    },
                    "data-constant": {
                        type: "property-type"
                    },
                    constant: {
                        type: "property-type"
                    }
                },
                promoteId: {
                    "*": {
                        type: "string"
                    }
                }
            },
            Et = function(t, e, r, n) {
                this.message = (t ? t + ": " : "") + r, n && (this.identifier = n), null != e && e.__line__ && (this.line = e.__line__);
            };

        function Pt(t) {
            var e = t.value;
            return e ? [new Et(t.key, e, "constants have been deprecated as of v8")] : []
        }

        function Mt(t) {
            for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
            for (var n = 0, i = e; n < i.length; n += 1) {
                var a = i[n];
                for (var o in a) t[o] = a[o];
            }
            return t
        }

        function Bt(t) {
            return t instanceof Number || t instanceof String || t instanceof Boolean ? t.valueOf() : t
        }

        function Tt(t) {
            if (Array.isArray(t)) return t.map(Tt);
            if (t instanceof Object && !(t instanceof Number || t instanceof String || t instanceof Boolean)) {
                var e = {};
                for (var r in t) e[r] = Tt(t[r]);
                return e
            }
            return Bt(t)
        }
        var Vt = function(t) {
                function e(e, r) {
                    t.call(this, r), this.message = r, this.key = e;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(Error),
            Ft = function(t, e) {
                void 0 === e && (e = []), this.parent = t, this.bindings = {};
                for (var r = 0, n = e; r < n.length; r += 1) {
                    var i = n[r];
                    this.bindings[i[0]] = i[1];
                }
            };
        Ft.prototype.concat = function(t) {
            return new Ft(this, t)
        }, Ft.prototype.get = function(t) {
            if (this.bindings[t]) return this.bindings[t];
            if (this.parent) return this.parent.get(t);
            throw new Error(t + " not found in scope.")
        }, Ft.prototype.has = function(t) {
            return !!this.bindings[t] || !!this.parent && this.parent.has(t)
        };
        var Dt = {
                kind: "null"
            },
            Lt = {
                kind: "number"
            },
            Rt = {
                kind: "string"
            },
            Ot = {
                kind: "boolean"
            },
            Ut = {
                kind: "color"
            },
            jt = {
                kind: "object"
            },
            qt = {
                kind: "value"
            },
            Nt = {
                kind: "collator"
            },
            Kt = {
                kind: "formatted"
            },
            Gt = {
                kind: "resolvedImage"
            };

        function Zt(t, e) {
            return {
                kind: "array",
                itemType: t,
                N: e
            }
        }

        function Xt(t) {
            if ("array" === t.kind) {
                var e = Xt(t.itemType);
                return "number" == typeof t.N ? "array<" + e + ", " + t.N + ">" : "value" === t.itemType.kind ? "array" : "array<" + e + ">"
            }
            return t.kind
        }
        var Jt = [Dt, Lt, Rt, Ot, Ut, Kt, jt, Zt(qt), Gt];

        function Ht(t, e) {
            if ("error" === e.kind) return null;
            if ("array" === t.kind) {
                if ("array" === e.kind && (0 === e.N && "value" === e.itemType.kind || !Ht(t.itemType, e.itemType)) && ("number" != typeof t.N || t.N === e.N)) return null
            } else {
                if (t.kind === e.kind) return null;
                if ("value" === t.kind)
                    for (var r = 0, n = Jt; r < n.length; r += 1)
                        if (!Ht(n[r], e)) return null
            }
            return "Expected " + Xt(t) + " but found " + Xt(e) + " instead."
        }

        function Yt(t, e) {
            return e.some((function(e) {
                return e.kind === t.kind
            }))
        }

        function $t(t, e) {
            return e.some((function(e) {
                return "null" === e ? null === t : "array" === e ? Array.isArray(t) : "object" === e ? t && !Array.isArray(t) && "object" == typeof t : e === typeof t
            }))
        }
        var Wt = e((function(t, e) {
                var r = {
                    transparent: [0, 0, 0, 0],
                    aliceblue: [240, 248, 255, 1],
                    antiquewhite: [250, 235, 215, 1],
                    aqua: [0, 255, 255, 1],
                    aquamarine: [127, 255, 212, 1],
                    azure: [240, 255, 255, 1],
                    beige: [245, 245, 220, 1],
                    bisque: [255, 228, 196, 1],
                    black: [0, 0, 0, 1],
                    blanchedalmond: [255, 235, 205, 1],
                    blue: [0, 0, 255, 1],
                    blueviolet: [138, 43, 226, 1],
                    brown: [165, 42, 42, 1],
                    burlywood: [222, 184, 135, 1],
                    cadetblue: [95, 158, 160, 1],
                    chartreuse: [127, 255, 0, 1],
                    chocolate: [210, 105, 30, 1],
                    coral: [255, 127, 80, 1],
                    cornflowerblue: [100, 149, 237, 1],
                    cornsilk: [255, 248, 220, 1],
                    crimson: [220, 20, 60, 1],
                    cyan: [0, 255, 255, 1],
                    darkblue: [0, 0, 139, 1],
                    darkcyan: [0, 139, 139, 1],
                    darkgoldenrod: [184, 134, 11, 1],
                    darkgray: [169, 169, 169, 1],
                    darkgreen: [0, 100, 0, 1],
                    darkgrey: [169, 169, 169, 1],
                    darkkhaki: [189, 183, 107, 1],
                    darkmagenta: [139, 0, 139, 1],
                    darkolivegreen: [85, 107, 47, 1],
                    darkorange: [255, 140, 0, 1],
                    darkorchid: [153, 50, 204, 1],
                    darkred: [139, 0, 0, 1],
                    darksalmon: [233, 150, 122, 1],
                    darkseagreen: [143, 188, 143, 1],
                    darkslateblue: [72, 61, 139, 1],
                    darkslategray: [47, 79, 79, 1],
                    darkslategrey: [47, 79, 79, 1],
                    darkturquoise: [0, 206, 209, 1],
                    darkviolet: [148, 0, 211, 1],
                    deeppink: [255, 20, 147, 1],
                    deepskyblue: [0, 191, 255, 1],
                    dimgray: [105, 105, 105, 1],
                    dimgrey: [105, 105, 105, 1],
                    dodgerblue: [30, 144, 255, 1],
                    firebrick: [178, 34, 34, 1],
                    floralwhite: [255, 250, 240, 1],
                    forestgreen: [34, 139, 34, 1],
                    fuchsia: [255, 0, 255, 1],
                    gainsboro: [220, 220, 220, 1],
                    ghostwhite: [248, 248, 255, 1],
                    gold: [255, 215, 0, 1],
                    goldenrod: [218, 165, 32, 1],
                    gray: [128, 128, 128, 1],
                    green: [0, 128, 0, 1],
                    greenyellow: [173, 255, 47, 1],
                    grey: [128, 128, 128, 1],
                    honeydew: [240, 255, 240, 1],
                    hotpink: [255, 105, 180, 1],
                    indianred: [205, 92, 92, 1],
                    indigo: [75, 0, 130, 1],
                    ivory: [255, 255, 240, 1],
                    khaki: [240, 230, 140, 1],
                    lavender: [230, 230, 250, 1],
                    lavenderblush: [255, 240, 245, 1],
                    lawngreen: [124, 252, 0, 1],
                    lemonchiffon: [255, 250, 205, 1],
                    lightblue: [173, 216, 230, 1],
                    lightcoral: [240, 128, 128, 1],
                    lightcyan: [224, 255, 255, 1],
                    lightgoldenrodyellow: [250, 250, 210, 1],
                    lightgray: [211, 211, 211, 1],
                    lightgreen: [144, 238, 144, 1],
                    lightgrey: [211, 211, 211, 1],
                    lightpink: [255, 182, 193, 1],
                    lightsalmon: [255, 160, 122, 1],
                    lightseagreen: [32, 178, 170, 1],
                    lightskyblue: [135, 206, 250, 1],
                    lightslategray: [119, 136, 153, 1],
                    lightslategrey: [119, 136, 153, 1],
                    lightsteelblue: [176, 196, 222, 1],
                    lightyellow: [255, 255, 224, 1],
                    lime: [0, 255, 0, 1],
                    limegreen: [50, 205, 50, 1],
                    linen: [250, 240, 230, 1],
                    magenta: [255, 0, 255, 1],
                    maroon: [128, 0, 0, 1],
                    mediumaquamarine: [102, 205, 170, 1],
                    mediumblue: [0, 0, 205, 1],
                    mediumorchid: [186, 85, 211, 1],
                    mediumpurple: [147, 112, 219, 1],
                    mediumseagreen: [60, 179, 113, 1],
                    mediumslateblue: [123, 104, 238, 1],
                    mediumspringgreen: [0, 250, 154, 1],
                    mediumturquoise: [72, 209, 204, 1],
                    mediumvioletred: [199, 21, 133, 1],
                    midnightblue: [25, 25, 112, 1],
                    mintcream: [245, 255, 250, 1],
                    mistyrose: [255, 228, 225, 1],
                    moccasin: [255, 228, 181, 1],
                    navajowhite: [255, 222, 173, 1],
                    navy: [0, 0, 128, 1],
                    oldlace: [253, 245, 230, 1],
                    olive: [128, 128, 0, 1],
                    olivedrab: [107, 142, 35, 1],
                    orange: [255, 165, 0, 1],
                    orangered: [255, 69, 0, 1],
                    orchid: [218, 112, 214, 1],
                    palegoldenrod: [238, 232, 170, 1],
                    palegreen: [152, 251, 152, 1],
                    paleturquoise: [175, 238, 238, 1],
                    palevioletred: [219, 112, 147, 1],
                    papayawhip: [255, 239, 213, 1],
                    peachpuff: [255, 218, 185, 1],
                    peru: [205, 133, 63, 1],
                    pink: [255, 192, 203, 1],
                    plum: [221, 160, 221, 1],
                    powderblue: [176, 224, 230, 1],
                    purple: [128, 0, 128, 1],
                    rebeccapurple: [102, 51, 153, 1],
                    red: [255, 0, 0, 1],
                    rosybrown: [188, 143, 143, 1],
                    royalblue: [65, 105, 225, 1],
                    saddlebrown: [139, 69, 19, 1],
                    salmon: [250, 128, 114, 1],
                    sandybrown: [244, 164, 96, 1],
                    seagreen: [46, 139, 87, 1],
                    seashell: [255, 245, 238, 1],
                    sienna: [160, 82, 45, 1],
                    silver: [192, 192, 192, 1],
                    skyblue: [135, 206, 235, 1],
                    slateblue: [106, 90, 205, 1],
                    slategray: [112, 128, 144, 1],
                    slategrey: [112, 128, 144, 1],
                    snow: [255, 250, 250, 1],
                    springgreen: [0, 255, 127, 1],
                    steelblue: [70, 130, 180, 1],
                    tan: [210, 180, 140, 1],
                    teal: [0, 128, 128, 1],
                    thistle: [216, 191, 216, 1],
                    tomato: [255, 99, 71, 1],
                    turquoise: [64, 224, 208, 1],
                    violet: [238, 130, 238, 1],
                    wheat: [245, 222, 179, 1],
                    white: [255, 255, 255, 1],
                    whitesmoke: [245, 245, 245, 1],
                    yellow: [255, 255, 0, 1],
                    yellowgreen: [154, 205, 50, 1]
                };

                function n(t) {
                    return (t = Math.round(t)) < 0 ? 0 : t > 255 ? 255 : t
                }

                function i(t) {
                    return n("%" === t[t.length - 1] ? parseFloat(t) / 100 * 255 : parseInt(t))
                }

                function a(t) {
                    return (e = "%" === t[t.length - 1] ? parseFloat(t) / 100 : parseFloat(t)) < 0 ? 0 : e > 1 ? 1 : e;
                    var e;
                }

                function o(t, e, r) {
                    return r < 0 ? r += 1 : r > 1 && (r -= 1), 6 * r < 1 ? t + (e - t) * r * 6 : 2 * r < 1 ? e : 3 * r < 2 ? t + (e - t) * (2 / 3 - r) * 6 : t
                }
                try {
                    e.parseCSSColor = function(t) {
                        var e, s = t.replace(/ /g, "").toLowerCase();
                        if (s in r) return r[s].slice();
                        if ("#" === s[0]) return 4 === s.length ? (e = parseInt(s.substr(1), 16)) >= 0 && e <= 4095 ? [(3840 & e) >> 4 | (3840 & e) >> 8, 240 & e | (240 & e) >> 4, 15 & e | (15 & e) << 4, 1] : null : 7 === s.length && (e = parseInt(s.substr(1), 16)) >= 0 && e <= 16777215 ? [(16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 1] : null;
                        var u = s.indexOf("("),
                            l = s.indexOf(")");
                        if (-1 !== u && l + 1 === s.length) {
                            var p = s.substr(0, u),
                                c = s.substr(u + 1, l - (u + 1)).split(","),
                                h = 1;
                            switch (p) {
                                case "rgba":
                                    if (4 !== c.length) return null;
                                    h = a(c.pop());
                                case "rgb":
                                    return 3 !== c.length ? null : [i(c[0]), i(c[1]), i(c[2]), h];
                                case "hsla":
                                    if (4 !== c.length) return null;
                                    h = a(c.pop());
                                case "hsl":
                                    if (3 !== c.length) return null;
                                    var f = (parseFloat(c[0]) % 360 + 360) % 360 / 360,
                                        y = a(c[1]),
                                        d = a(c[2]),
                                        m = d <= .5 ? d * (y + 1) : d + y - d * y,
                                        v = 2 * d - m;
                                    return [n(255 * o(v, m, f + 1 / 3)), n(255 * o(v, m, f)), n(255 * o(v, m, f - 1 / 3)), h];
                                default:
                                    return null
                            }
                        }
                        return null
                    };
                } catch (t) {}
            })).parseCSSColor,
            Qt = function(t, e, r, n) {
                void 0 === n && (n = 1), this.r = t, this.g = e, this.b = r, this.a = n;
            };
        Qt.parse = function(t) {
            if (t) {
                if (t instanceof Qt) return t;
                if ("string" == typeof t) {
                    var e = Wt(t);
                    if (e) return new Qt(e[0] / 255 * e[3], e[1] / 255 * e[3], e[2] / 255 * e[3], e[3])
                }
            }
        }, Qt.prototype.toString = function() {
            var t = this.toArray(),
                e = t[1],
                r = t[2],
                n = t[3];
            return "rgba(" + Math.round(t[0]) + "," + Math.round(e) + "," + Math.round(r) + "," + n + ")"
        }, Qt.prototype.toArray = function() {
            var t = this.a;
            return 0 === t ? [0, 0, 0, 0] : [255 * this.r / t, 255 * this.g / t, 255 * this.b / t, t]
        }, Qt.black = new Qt(0, 0, 0, 1), Qt.white = new Qt(1, 1, 1, 1), Qt.transparent = new Qt(0, 0, 0, 0), Qt.red = new Qt(1, 0, 0, 1);
        var te = function(t, e, r) {
            this.sensitivity = t ? e ? "variant" : "case" : e ? "accent" : "base", this.locale = r, this.collator = new Intl.Collator(this.locale ? this.locale : [], {
                sensitivity: this.sensitivity,
                usage: "search"
            });
        };
        te.prototype.compare = function(t, e) {
            return this.collator.compare(t, e)
        }, te.prototype.resolvedLocale = function() {
            return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale
        };
        var ee = function(t, e, r, n, i) {
                this.text = t, this.image = e, this.scale = r, this.fontStack = n, this.textColor = i;
            },
            re = function(t) {
                this.sections = t;
            };
        re.fromString = function(t) {
            return new re([new ee(t, null, null, null, null)])
        }, re.prototype.isEmpty = function() {
            return 0 === this.sections.length || !this.sections.some((function(t) {
                return 0 !== t.text.length || t.image && 0 !== t.image.name.length
            }))
        }, re.factory = function(t) {
            return t instanceof re ? t : re.fromString(t)
        }, re.prototype.toString = function() {
            return 0 === this.sections.length ? "" : this.sections.map((function(t) {
                return t.text
            })).join("")
        }, re.prototype.serialize = function() {
            for (var t = ["format"], e = 0, r = this.sections; e < r.length; e += 1) {
                var n = r[e];
                if (n.image) t.push(["image", n.image.name]);
                else {
                    t.push(n.text);
                    var i = {};
                    n.fontStack && (i["text-font"] = ["literal", n.fontStack.split(",")]), n.scale && (i["font-scale"] = n.scale), n.textColor && (i["text-color"] = ["rgba"].concat(n.textColor.toArray())), t.push(i);
                }
            }
            return t
        };
        var ne = function(t) {
            this.name = t.name, this.available = t.available;
        };

        function ie(t, e, r, n) {
            return "number" == typeof t && t >= 0 && t <= 255 && "number" == typeof e && e >= 0 && e <= 255 && "number" == typeof r && r >= 0 && r <= 255 ? void 0 === n || "number" == typeof n && n >= 0 && n <= 1 ? null : "Invalid rgba value [" + [t, e, r, n].join(", ") + "]: 'a' must be between 0 and 1." : "Invalid rgba value [" + ("number" == typeof n ? [t, e, r, n] : [t, e, r]).join(", ") + "]: 'r', 'g', and 'b' must be between 0 and 255."
        }

        function ae(t) {
            if (null === t) return !0;
            if ("string" == typeof t) return !0;
            if ("boolean" == typeof t) return !0;
            if ("number" == typeof t) return !0;
            if (t instanceof Qt) return !0;
            if (t instanceof te) return !0;
            if (t instanceof re) return !0;
            if (t instanceof ne) return !0;
            if (Array.isArray(t)) {
                for (var e = 0, r = t; e < r.length; e += 1)
                    if (!ae(r[e])) return !1;
                return !0
            }
            if ("object" == typeof t) {
                for (var n in t)
                    if (!ae(t[n])) return !1;
                return !0
            }
            return !1
        }

        function oe(t) {
            if (null === t) return Dt;
            if ("string" == typeof t) return Rt;
            if ("boolean" == typeof t) return Ot;
            if ("number" == typeof t) return Lt;
            if (t instanceof Qt) return Ut;
            if (t instanceof te) return Nt;
            if (t instanceof re) return Kt;
            if (t instanceof ne) return Gt;
            if (Array.isArray(t)) {
                for (var e, r = t.length, n = 0, i = t; n < i.length; n += 1) {
                    var a = oe(i[n]);
                    if (e) {
                        if (e === a) continue;
                        e = qt;
                        break
                    }
                    e = a;
                }
                return Zt(e || qt, r)
            }
            return jt
        }

        function se(t) {
            var e = typeof t;
            return null === t ? "" : "string" === e || "number" === e || "boolean" === e ? String(t) : t instanceof Qt || t instanceof re || t instanceof ne ? t.toString() : JSON.stringify(t)
        }
        ne.prototype.toString = function() {
            return this.name
        }, ne.fromString = function(t) {
            return t ? new ne({
                name: t,
                available: !1
            }) : null
        }, ne.prototype.serialize = function() {
            return ["image", this.name]
        };
        var ue = function(t, e) {
            this.type = t, this.value = e;
        };
        ue.parse = function(t, e) {
            if (2 !== t.length) return e.error("'literal' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
            if (!ae(t[1])) return e.error("invalid value");
            var r = t[1],
                n = oe(r),
                i = e.expectedType;
            return "array" !== n.kind || 0 !== n.N || !i || "array" !== i.kind || "number" == typeof i.N && 0 !== i.N || (n = i), new ue(n, r)
        }, ue.prototype.evaluate = function() {
            return this.value
        }, ue.prototype.eachChild = function() {}, ue.prototype.outputDefined = function() {
            return !0
        }, ue.prototype.serialize = function() {
            return "array" === this.type.kind || "object" === this.type.kind ? ["literal", this.value] : this.value instanceof Qt ? ["rgba"].concat(this.value.toArray()) : this.value instanceof re ? this.value.serialize() : this.value
        };
        var le = function(t) {
            this.name = "ExpressionEvaluationError", this.message = t;
        };
        le.prototype.toJSON = function() {
            return this.message
        };
        var pe = {
                string: Rt,
                number: Lt,
                boolean: Ot,
                object: jt
            },
            ce = function(t, e) {
                this.type = t, this.args = e;
            };
        ce.parse = function(t, e) {
            if (t.length < 2) return e.error("Expected at least one argument.");
            var r, n = 1,
                i = t[0];
            if ("array" === i) {
                var a, o;
                if (t.length > 2) {
                    var s = t[1];
                    if ("string" != typeof s || !(s in pe) || "object" === s) return e.error('The item type argument of "array" must be one of string, number, boolean', 1);
                    a = pe[s], n++;
                } else a = qt;
                if (t.length > 3) {
                    if (null !== t[2] && ("number" != typeof t[2] || t[2] < 0 || t[2] !== Math.floor(t[2]))) return e.error('The length argument to "array" must be a positive integer literal', 2);
                    o = t[2], n++;
                }
                r = Zt(a, o);
            } else r = pe[i];
            for (var u = []; n < t.length; n++) {
                var l = e.parse(t[n], n, qt);
                if (!l) return null;
                u.push(l);
            }
            return new ce(r, u)
        }, ce.prototype.evaluate = function(t) {
            for (var e = 0; e < this.args.length; e++) {
                var r = this.args[e].evaluate(t);
                if (!Ht(this.type, oe(r))) return r;
                if (e === this.args.length - 1) throw new le("Expected value to be of type " + Xt(this.type) + ", but found " + Xt(oe(r)) + " instead.")
            }
            return null
        }, ce.prototype.eachChild = function(t) {
            this.args.forEach(t);
        }, ce.prototype.outputDefined = function() {
            return this.args.every((function(t) {
                return t.outputDefined()
            }))
        }, ce.prototype.serialize = function() {
            var t = this.type,
                e = [t.kind];
            if ("array" === t.kind) {
                var r = t.itemType;
                if ("string" === r.kind || "number" === r.kind || "boolean" === r.kind) {
                    e.push(r.kind);
                    var n = t.N;
                    ("number" == typeof n || this.args.length > 1) && e.push(n);
                }
            }
            return e.concat(this.args.map((function(t) {
                return t.serialize()
            })))
        };
        var he = function(t) {
            this.type = Kt, this.sections = t;
        };
        he.parse = function(t, e) {
            if (t.length < 2) return e.error("Expected at least one argument.");
            var r = t[1];
            if (!Array.isArray(r) && "object" == typeof r) return e.error("First argument must be an image or text section.");
            for (var n = [], i = !1, a = 1; a <= t.length - 1; ++a) {
                var o = t[a];
                if (i && "object" == typeof o && !Array.isArray(o)) {
                    i = !1;
                    var s = null;
                    if (o["font-scale"] && !(s = e.parse(o["font-scale"], 1, Lt))) return null;
                    var u = null;
                    if (o["text-font"] && !(u = e.parse(o["text-font"], 1, Zt(Rt)))) return null;
                    var l = null;
                    if (o["text-color"] && !(l = e.parse(o["text-color"], 1, Ut))) return null;
                    var p = n[n.length - 1];
                    p.scale = s, p.font = u, p.textColor = l;
                } else {
                    var c = e.parse(t[a], 1, qt);
                    if (!c) return null;
                    var h = c.type.kind;
                    if ("string" !== h && "value" !== h && "null" !== h && "resolvedImage" !== h) return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
                    i = !0, n.push({
                        content: c,
                        scale: null,
                        font: null,
                        textColor: null
                    });
                }
            }
            return new he(n)
        }, he.prototype.evaluate = function(t) {
            return new re(this.sections.map((function(e) {
                var r = e.content.evaluate(t);
                return oe(r) === Gt ? new ee("", r, null, null, null) : new ee(se(r), null, e.scale ? e.scale.evaluate(t) : null, e.font ? e.font.evaluate(t).join(",") : null, e.textColor ? e.textColor.evaluate(t) : null)
            })))
        }, he.prototype.eachChild = function(t) {
            for (var e = 0, r = this.sections; e < r.length; e += 1) {
                var n = r[e];
                t(n.content), n.scale && t(n.scale), n.font && t(n.font), n.textColor && t(n.textColor);
            }
        }, he.prototype.outputDefined = function() {
            return !1
        }, he.prototype.serialize = function() {
            for (var t = ["format"], e = 0, r = this.sections; e < r.length; e += 1) {
                var n = r[e];
                t.push(n.content.serialize());
                var i = {};
                n.scale && (i["font-scale"] = n.scale.serialize()), n.font && (i["text-font"] = n.font.serialize()), n.textColor && (i["text-color"] = n.textColor.serialize()), t.push(i);
            }
            return t
        };
        var fe = function(t) {
            this.type = Gt, this.input = t;
        };
        fe.parse = function(t, e) {
            if (2 !== t.length) return e.error("Expected two arguments.");
            var r = e.parse(t[1], 1, Rt);
            return r ? new fe(r) : e.error("No image name provided.")
        }, fe.prototype.evaluate = function(t) {
            var e = this.input.evaluate(t),
                r = ne.fromString(e);
            return r && t.availableImages && (r.available = t.availableImages.indexOf(e) > -1), r
        }, fe.prototype.eachChild = function(t) {
            t(this.input);
        }, fe.prototype.outputDefined = function() {
            return !1
        }, fe.prototype.serialize = function() {
            return ["image", this.input.serialize()]
        };
        var ye = {
                "to-boolean": Ot,
                "to-color": Ut,
                "to-number": Lt,
                "to-string": Rt
            },
            de = function(t, e) {
                this.type = t, this.args = e;
            };
        de.parse = function(t, e) {
            if (t.length < 2) return e.error("Expected at least one argument.");
            var r = t[0];
            if (("to-boolean" === r || "to-string" === r) && 2 !== t.length) return e.error("Expected one argument.");
            for (var n = ye[r], i = [], a = 1; a < t.length; a++) {
                var o = e.parse(t[a], a, qt);
                if (!o) return null;
                i.push(o);
            }
            return new de(n, i)
        }, de.prototype.evaluate = function(t) {
            if ("boolean" === this.type.kind) return Boolean(this.args[0].evaluate(t));
            if ("color" === this.type.kind) {
                for (var e, r, n = 0, i = this.args; n < i.length; n += 1) {
                    if (r = null, (e = i[n].evaluate(t)) instanceof Qt) return e;
                    if ("string" == typeof e) {
                        var a = t.parseColor(e);
                        if (a) return a
                    } else if (Array.isArray(e) && !(r = e.length < 3 || e.length > 4 ? "Invalid rbga value " + JSON.stringify(e) + ": expected an array containing either three or four numeric values." : ie(e[0], e[1], e[2], e[3]))) return new Qt(e[0] / 255, e[1] / 255, e[2] / 255, e[3])
                }
                throw new le(r || "Could not parse color from value '" + ("string" == typeof e ? e : String(JSON.stringify(e))) + "'")
            }
            if ("number" === this.type.kind) {
                for (var o = null, s = 0, u = this.args; s < u.length; s += 1) {
                    if (null === (o = u[s].evaluate(t))) return 0;
                    var l = Number(o);
                    if (!isNaN(l)) return l
                }
                throw new le("Could not convert " + JSON.stringify(o) + " to number.")
            }
            return "formatted" === this.type.kind ? re.fromString(se(this.args[0].evaluate(t))) : "resolvedImage" === this.type.kind ? ne.fromString(se(this.args[0].evaluate(t))) : se(this.args[0].evaluate(t))
        }, de.prototype.eachChild = function(t) {
            this.args.forEach(t);
        }, de.prototype.outputDefined = function() {
            return this.args.every((function(t) {
                return t.outputDefined()
            }))
        }, de.prototype.serialize = function() {
            if ("formatted" === this.type.kind) return new he([{
                content: this.args[0],
                scale: null,
                font: null,
                textColor: null
            }]).serialize();
            if ("resolvedImage" === this.type.kind) return new fe(this.args[0]).serialize();
            var t = ["to-" + this.type.kind];
            return this.eachChild((function(e) {
                t.push(e.serialize());
            })), t
        };
        var me = ["Unknown", "Point", "LineString", "Polygon"],
            ve = function() {
                this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null;
            };
        ve.prototype.id = function() {
            return this.feature && "id" in this.feature ? this.feature.id : null
        }, ve.prototype.geometryType = function() {
            return this.feature ? "number" == typeof this.feature.type ? me[this.feature.type] : this.feature.type : null
        }, ve.prototype.geometry = function() {
            return this.feature && "geometry" in this.feature ? this.feature.geometry : null
        }, ve.prototype.canonicalID = function() {
            return this.canonical
        }, ve.prototype.properties = function() {
            return this.feature && this.feature.properties || {}
        }, ve.prototype.parseColor = function(t) {
            var e = this._parseColorCache[t];
            return e || (e = this._parseColorCache[t] = Qt.parse(t)), e
        };
        var ge = function(t, e, r, n) {
            this.name = t, this.type = e, this._evaluate = r, this.args = n;
        };
        ge.prototype.evaluate = function(t) {
            return this._evaluate(t, this.args)
        }, ge.prototype.eachChild = function(t) {
            this.args.forEach(t);
        }, ge.prototype.outputDefined = function() {
            return !1
        }, ge.prototype.serialize = function() {
            return [this.name].concat(this.args.map((function(t) {
                return t.serialize()
            })))
        }, ge.parse = function(t, e) {
            var r, n = t[0],
                i = ge.definitions[n];
            if (!i) return e.error('Unknown expression "' + n + '". If you wanted a literal array, use ["literal", [...]].', 0);
            for (var a = Array.isArray(i) ? i[0] : i.type, o = Array.isArray(i) ? [
                    [i[1], i[2]]
                ] : i.overloads, s = o.filter((function(e) {
                    var r = e[0];
                    return !Array.isArray(r) || r.length === t.length - 1
                })), u = null, l = 0, p = s; l < p.length; l += 1) {
                var c = p[l],
                    h = c[0],
                    f = c[1];
                u = new Ue(e.registry, e.path, null, e.scope);
                for (var y = [], d = !1, m = 1; m < t.length; m++) {
                    var v = t[m],
                        g = Array.isArray(h) ? h[m - 1] : h.type,
                        x = u.parse(v, 1 + y.length, g);
                    if (!x) {
                        d = !0;
                        break
                    }
                    y.push(x);
                }
                if (!d)
                    if (Array.isArray(h) && h.length !== y.length) u.error("Expected " + h.length + " arguments, but found " + y.length + " instead.");
                    else {
                        for (var b = 0; b < y.length; b++) {
                            var w = Array.isArray(h) ? h[b] : h.type,
                                _ = y[b];
                            u.concat(b + 1).checkSubtype(w, _.type);
                        }
                        if (0 === u.errors.length) return new ge(n, a, f, y)
                    }
            }
            if (1 === s.length)(r = e.errors).push.apply(r, u.errors);
            else {
                for (var A = (s.length ? s : o).map((function(t) {
                        var e;
                        return e = t[0], Array.isArray(e) ? "(" + e.map(Xt).join(", ") + ")" : "(" + Xt(e.type) + "...)"
                    })).join(" | "), S = [], k = 1; k < t.length; k++) {
                    var I = e.parse(t[k], 1 + S.length);
                    if (!I) return null;
                    S.push(Xt(I.type));
                }
                e.error("Expected arguments of type " + A + ", but found (" + S.join(", ") + ") instead.");
            }
            return null
        }, ge.register = function(t, e) {
            for (var r in ge.definitions = e, e) t[r] = ge;
        };
        var xe = function(t, e, r) {
            this.type = Nt, this.locale = r, this.caseSensitive = t, this.diacriticSensitive = e;
        };

        function be(t, e) {
            t[0] = Math.min(t[0], e[0]), t[1] = Math.min(t[1], e[1]), t[2] = Math.max(t[2], e[0]), t[3] = Math.max(t[3], e[1]);
        }

        function we(t, e) {
            return !(t[0] <= e[0] || t[2] >= e[2] || t[1] <= e[1] || t[3] >= e[3])
        }

        function _e(t, e) {
            var r = (180 + t[0]) / 360,
                n = (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t[1] * Math.PI / 360))) / 360,
                i = Math.pow(2, e.z);
            return [Math.round(r * i * 8192), Math.round(n * i * 8192)]
        }

        function Ae(t, e, r) {
            return e[1] > t[1] != r[1] > t[1] && t[0] < (r[0] - e[0]) * (t[1] - e[1]) / (r[1] - e[1]) + e[0]
        }

        function Se(t, e) {
            for (var r, n, i, a, o, s, u, l = !1, p = 0, c = e.length; p < c; p++)
                for (var h = e[p], f = 0, y = h.length; f < y - 1; f++) {
                    if ((a = (r = t)[0] - (n = h[f])[0]) * (u = r[1] - (i = h[f + 1])[1]) - (s = r[0] - i[0]) * (o = r[1] - n[1]) == 0 && a * s <= 0 && o * u <= 0) return !1;
                    Ae(t, h[f], h[f + 1]) && (l = !l);
                }
            return l
        }

        function ke(t, e) {
            for (var r = 0; r < e.length; r++)
                if (Se(t, e[r])) return !0;
            return !1
        }

        function Ie(t, e, r, n) {
            var i = n[0] - r[0],
                a = n[1] - r[1],
                o = (t[0] - r[0]) * a - i * (t[1] - r[1]),
                s = (e[0] - r[0]) * a - i * (e[1] - r[1]);
            return o > 0 && s < 0 || o < 0 && s > 0
        }

        function ze(t, e, r) {
            for (var n = 0, i = r; n < i.length; n += 1)
                for (var a = i[n], o = 0; o < a.length - 1; ++o)
                    if (0 != (c = [(p = a[o + 1])[0] - (l = a[o])[0], p[1] - l[1]])[0] * (h = [(u = e)[0] - (s = t)[0], u[1] - s[1]])[1] - c[1] * h[0] && Ie(s, u, l, p) && Ie(l, p, s, u)) return !0;
            var s, u, l, p, c, h;
            return !1
        }

        function Ce(t, e) {
            for (var r = 0; r < t.length; ++r)
                if (!Se(t[r], e)) return !1;
            for (var n = 0; n < t.length - 1; ++n)
                if (ze(t[n], t[n + 1], e)) return !1;
            return !0
        }

        function Ee(t, e) {
            for (var r = 0; r < e.length; r++)
                if (Ce(t, e[r])) return !0;
            return !1
        }

        function Pe(t, e, r) {
            for (var n = [], i = 0; i < t.length; i++) {
                for (var a = [], o = 0; o < t[i].length; o++) {
                    var s = _e(t[i][o], r);
                    be(e, s), a.push(s);
                }
                n.push(a);
            }
            return n
        }

        function Me(t, e, r) {
            for (var n = [], i = 0; i < t.length; i++) {
                var a = Pe(t[i], e, r);
                n.push(a);
            }
            return n
        }

        function Be(t, e, r, n) {
            if (t[0] < r[0] || t[0] > r[2]) {
                var i = .5 * n,
                    a = t[0] - r[0] > i ? -n : r[0] - t[0] > i ? n : 0;
                0 === a && (a = t[0] - r[2] > i ? -n : r[2] - t[0] > i ? n : 0), t[0] += a;
            }
            be(e, t);
        }

        function Te(t, e, r, n) {
            for (var i = 8192 * Math.pow(2, n.z), a = [8192 * n.x, 8192 * n.y], o = [], s = 0, u = t; s < u.length; s += 1)
                for (var l = 0, p = u[s]; l < p.length; l += 1) {
                    var c = p[l],
                        h = [c.x + a[0], c.y + a[1]];
                    Be(h, e, r, i), o.push(h);
                }
            return o
        }

        function Ve(t, e, r, n) {
            for (var i, a = 8192 * Math.pow(2, n.z), o = [8192 * n.x, 8192 * n.y], s = [], u = 0, l = t; u < l.length; u += 1) {
                for (var p = [], c = 0, h = l[u]; c < h.length; c += 1) {
                    var f = h[c],
                        y = [f.x + o[0], f.y + o[1]];
                    be(e, y), p.push(y);
                }
                s.push(p);
            }
            if (e[2] - e[0] <= a / 2) {
                (i = e)[0] = i[1] = 1 / 0, i[2] = i[3] = -1 / 0;
                for (var d = 0, m = s; d < m.length; d += 1)
                    for (var v = 0, g = m[d]; v < g.length; v += 1) Be(g[v], e, r, a);
            }
            return s
        }
        xe.parse = function(t, e) {
            if (2 !== t.length) return e.error("Expected one argument.");
            var r = t[1];
            if ("object" != typeof r || Array.isArray(r)) return e.error("Collator options argument must be an object.");
            var n = e.parse(void 0 !== r["case-sensitive"] && r["case-sensitive"], 1, Ot);
            if (!n) return null;
            var i = e.parse(void 0 !== r["diacritic-sensitive"] && r["diacritic-sensitive"], 1, Ot);
            if (!i) return null;
            var a = null;
            return r.locale && !(a = e.parse(r.locale, 1, Rt)) ? null : new xe(n, i, a)
        }, xe.prototype.evaluate = function(t) {
            return new te(this.caseSensitive.evaluate(t), this.diacriticSensitive.evaluate(t), this.locale ? this.locale.evaluate(t) : null)
        }, xe.prototype.eachChild = function(t) {
            t(this.caseSensitive), t(this.diacriticSensitive), this.locale && t(this.locale);
        }, xe.prototype.outputDefined = function() {
            return !1
        }, xe.prototype.serialize = function() {
            var t = {};
            return t["case-sensitive"] = this.caseSensitive.serialize(), t["diacritic-sensitive"] = this.diacriticSensitive.serialize(), this.locale && (t.locale = this.locale.serialize()), ["collator", t]
        };
        var Fe = function(t, e) {
            this.type = Ot, this.geojson = t, this.geometries = e;
        };

        function De(t) {
            if (t instanceof ge) {
                if ("get" === t.name && 1 === t.args.length) return !1;
                if ("feature-state" === t.name) return !1;
                if ("has" === t.name && 1 === t.args.length) return !1;
                if ("properties" === t.name || "geometry-type" === t.name || "id" === t.name) return !1;
                if (/^filter-/.test(t.name)) return !1
            }
            if (t instanceof Fe) return !1;
            var e = !0;
            return t.eachChild((function(t) {
                e && !De(t) && (e = !1);
            })), e
        }

        function Le(t) {
            if (t instanceof ge && "feature-state" === t.name) return !1;
            var e = !0;
            return t.eachChild((function(t) {
                e && !Le(t) && (e = !1);
            })), e
        }

        function Re(t, e) {
            if (t instanceof ge && e.indexOf(t.name) >= 0) return !1;
            var r = !0;
            return t.eachChild((function(t) {
                r && !Re(t, e) && (r = !1);
            })), r
        }
        Fe.parse = function(t, e) {
            if (2 !== t.length) return e.error("'within' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
            if (ae(t[1])) {
                var r = t[1];
                if ("FeatureCollection" === r.type)
                    for (var n = 0; n < r.features.length; ++n) {
                        var i = r.features[n].geometry.type;
                        if ("Polygon" === i || "MultiPolygon" === i) return new Fe(r, r.features[n].geometry)
                    } else if ("Feature" === r.type) {
                        var a = r.geometry.type;
                        if ("Polygon" === a || "MultiPolygon" === a) return new Fe(r, r.geometry)
                    } else if ("Polygon" === r.type || "MultiPolygon" === r.type) return new Fe(r, r)
            }
            return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")
        }, Fe.prototype.evaluate = function(t) {
            if (null != t.geometry() && null != t.canonicalID()) {
                if ("Point" === t.geometryType()) return function(t, e) {
                    var r = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                        n = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                        i = t.canonicalID();
                    if ("Polygon" === e.type) {
                        var a = Pe(e.coordinates, n, i),
                            o = Te(t.geometry(), r, n, i);
                        if (!we(r, n)) return !1;
                        for (var s = 0, u = o; s < u.length; s += 1)
                            if (!Se(u[s], a)) return !1
                    }
                    if ("MultiPolygon" === e.type) {
                        var l = Me(e.coordinates, n, i),
                            p = Te(t.geometry(), r, n, i);
                        if (!we(r, n)) return !1;
                        for (var c = 0, h = p; c < h.length; c += 1)
                            if (!ke(h[c], l)) return !1
                    }
                    return !0
                }(t, this.geometries);
                if ("LineString" === t.geometryType()) return function(t, e) {
                    var r = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                        n = [1 / 0, 1 / 0, -1 / 0, -1 / 0],
                        i = t.canonicalID();
                    if ("Polygon" === e.type) {
                        var a = Pe(e.coordinates, n, i),
                            o = Ve(t.geometry(), r, n, i);
                        if (!we(r, n)) return !1;
                        for (var s = 0, u = o; s < u.length; s += 1)
                            if (!Ce(u[s], a)) return !1
                    }
                    if ("MultiPolygon" === e.type) {
                        var l = Me(e.coordinates, n, i),
                            p = Ve(t.geometry(), r, n, i);
                        if (!we(r, n)) return !1;
                        for (var c = 0, h = p; c < h.length; c += 1)
                            if (!Ee(h[c], l)) return !1
                    }
                    return !0
                }(t, this.geometries)
            }
            return !1
        }, Fe.prototype.eachChild = function() {}, Fe.prototype.outputDefined = function() {
            return !0
        }, Fe.prototype.serialize = function() {
            return ["within", this.geojson]
        };
        var Oe = function(t, e) {
            this.type = e.type, this.name = t, this.boundExpression = e;
        };
        Oe.parse = function(t, e) {
            if (2 !== t.length || "string" != typeof t[1]) return e.error("'var' expression requires exactly one string literal argument.");
            var r = t[1];
            return e.scope.has(r) ? new Oe(r, e.scope.get(r)) : e.error('Unknown variable "' + r + '". Make sure "' + r + '" has been bound in an enclosing "let" expression before using it.', 1)
        }, Oe.prototype.evaluate = function(t) {
            return this.boundExpression.evaluate(t)
        }, Oe.prototype.eachChild = function() {}, Oe.prototype.outputDefined = function() {
            return !1
        }, Oe.prototype.serialize = function() {
            return ["var", this.name]
        };
        var Ue = function(t, e, r, n, i) {
            void 0 === e && (e = []), void 0 === n && (n = new Ft), void 0 === i && (i = []), this.registry = t, this.path = e, this.key = e.map((function(t) {
                return "[" + t + "]"
            })).join(""), this.scope = n, this.errors = i, this.expectedType = r;
        };

        function je(t, e) {
            for (var r, n = t.length - 1, i = 0, a = n, o = 0; i <= a;)
                if ((r = t[o = Math.floor((i + a) / 2)]) <= e) {
                    if (o === n || e < t[o + 1]) return o;
                    i = o + 1;
                } else {
                    if (!(r > e)) throw new le("Input is not a number.");
                    a = o - 1;
                }
            return 0
        }
        Ue.prototype.parse = function(t, e, r, n, i) {
            return void 0 === i && (i = {}), e ? this.concat(e, r, n)._parse(t, i) : this._parse(t, i)
        }, Ue.prototype._parse = function(t, e) {
            function r(t, e, r) {
                return "assert" === r ? new ce(e, [t]) : "coerce" === r ? new de(e, [t]) : t
            }
            if (null !== t && "string" != typeof t && "boolean" != typeof t && "number" != typeof t || (t = ["literal", t]), Array.isArray(t)) {
                if (0 === t.length) return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
                var n = t[0];
                if ("string" != typeof n) return this.error("Expression name must be a string, but found " + typeof n + ' instead. If you wanted a literal array, use ["literal", [...]].', 0), null;
                var i = this.registry[n];
                if (i) {
                    var a = i.parse(t, this);
                    if (!a) return null;
                    if (this.expectedType) {
                        var o = this.expectedType,
                            s = a.type;
                        if ("string" !== o.kind && "number" !== o.kind && "boolean" !== o.kind && "object" !== o.kind && "array" !== o.kind || "value" !== s.kind)
                            if ("color" !== o.kind && "formatted" !== o.kind && "resolvedImage" !== o.kind || "value" !== s.kind && "string" !== s.kind) {
                                if (this.checkSubtype(o, s)) return null
                            } else a = r(a, o, e.typeAnnotation || "coerce");
                        else a = r(a, o, e.typeAnnotation || "assert");
                    }
                    if (!(a instanceof ue) && "resolvedImage" !== a.type.kind && function t(e) {
                            if (e instanceof Oe) return t(e.boundExpression);
                            if (e instanceof ge && "error" === e.name) return !1;
                            if (e instanceof xe) return !1;
                            if (e instanceof Fe) return !1;
                            var r = e instanceof de || e instanceof ce,
                                n = !0;
                            return e.eachChild((function(e) {
                                n = r ? n && t(e) : n && e instanceof ue;
                            })), !!n && De(e) && Re(e, ["zoom", "heatmap-density", "line-progress", "accumulated", "is-supported-script"])
                        }(a)) {
                        var u = new ve;
                        try {
                            a = new ue(a.type, a.evaluate(u));
                        } catch (t) {
                            return this.error(t.message), null
                        }
                    }
                    return a
                }
                return this.error('Unknown expression "' + n + '". If you wanted a literal array, use ["literal", [...]].', 0)
            }
            return this.error(void 0 === t ? "'undefined' value invalid. Use null instead." : "object" == typeof t ? 'Bare objects invalid. Use ["literal", {...}] instead.' : "Expected an array, but found " + typeof t + " instead.")
        }, Ue.prototype.concat = function(t, e, r) {
            var n = "number" == typeof t ? this.path.concat(t) : this.path,
                i = r ? this.scope.concat(r) : this.scope;
            return new Ue(this.registry, n, e || null, i, this.errors)
        }, Ue.prototype.error = function(t) {
            for (var e = [], r = arguments.length - 1; r-- > 0;) e[r] = arguments[r + 1];
            var n = "" + this.key + e.map((function(t) {
                return "[" + t + "]"
            })).join("");
            this.errors.push(new Vt(n, t));
        }, Ue.prototype.checkSubtype = function(t, e) {
            var r = Ht(t, e);
            return r && this.error(r), r
        };
        var qe = function(t, e, r) {
            this.type = t, this.input = e, this.labels = [], this.outputs = [];
            for (var n = 0, i = r; n < i.length; n += 1) {
                var a = i[n],
                    o = a[1];
                this.labels.push(a[0]), this.outputs.push(o);
            }
        };

        function Ne(t, e, r) {
            return t * (1 - r) + e * r
        }
        qe.parse = function(t, e) {
            if (t.length - 1 < 4) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
            if ((t.length - 1) % 2 != 0) return e.error("Expected an even number of arguments.");
            var r = e.parse(t[1], 1, Lt);
            if (!r) return null;
            var n = [],
                i = null;
            e.expectedType && "value" !== e.expectedType.kind && (i = e.expectedType);
            for (var a = 1; a < t.length; a += 2) {
                var o = 1 === a ? -1 / 0 : t[a],
                    s = t[a + 1],
                    u = a,
                    l = a + 1;
                if ("number" != typeof o) return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', u);
                if (n.length && n[n.length - 1][0] >= o) return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', u);
                var p = e.parse(s, l, i);
                if (!p) return null;
                i = i || p.type, n.push([o, p]);
            }
            return new qe(i, r, n)
        }, qe.prototype.evaluate = function(t) {
            var e = this.labels,
                r = this.outputs;
            if (1 === e.length) return r[0].evaluate(t);
            var n = this.input.evaluate(t);
            if (n <= e[0]) return r[0].evaluate(t);
            var i = e.length;
            return n >= e[i - 1] ? r[i - 1].evaluate(t) : r[je(e, n)].evaluate(t)
        }, qe.prototype.eachChild = function(t) {
            t(this.input);
            for (var e = 0, r = this.outputs; e < r.length; e += 1) t(r[e]);
        }, qe.prototype.outputDefined = function() {
            return this.outputs.every((function(t) {
                return t.outputDefined()
            }))
        }, qe.prototype.serialize = function() {
            for (var t = ["step", this.input.serialize()], e = 0; e < this.labels.length; e++) e > 0 && t.push(this.labels[e]), t.push(this.outputs[e].serialize());
            return t
        };
        var Ke = Object.freeze({
                __proto__: null,
                number: Ne,
                color: function(t, e, r) {
                    return new Qt(Ne(t.r, e.r, r), Ne(t.g, e.g, r), Ne(t.b, e.b, r), Ne(t.a, e.a, r))
                },
                array: function(t, e, r) {
                    return t.map((function(t, n) {
                        return Ne(t, e[n], r)
                    }))
                }
            }),
            Ge = 6 / 29 * 3 * (6 / 29),
            Ze = Math.PI / 180,
            Xe = 180 / Math.PI;

        function Je(t) {
            return t > .008856451679035631 ? Math.pow(t, 1 / 3) : t / Ge + 4 / 29
        }

        function He(t) {
            return t > 6 / 29 ? t * t * t : Ge * (t - 4 / 29)
        }

        function Ye(t) {
            return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)
        }

        function $e(t) {
            return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
        }

        function We(t) {
            var e = $e(t.r),
                r = $e(t.g),
                n = $e(t.b),
                i = Je((.4124564 * e + .3575761 * r + .1804375 * n) / .95047),
                a = Je((.2126729 * e + .7151522 * r + .072175 * n) / 1);
            return {
                l: 116 * a - 16,
                a: 500 * (i - a),
                b: 200 * (a - Je((.0193339 * e + .119192 * r + .9503041 * n) / 1.08883)),
                alpha: t.a
            }
        }

        function Qe(t) {
            var e = (t.l + 16) / 116,
                r = isNaN(t.a) ? e : e + t.a / 500,
                n = isNaN(t.b) ? e : e - t.b / 200;
            return e = 1 * He(e), r = .95047 * He(r), n = 1.08883 * He(n), new Qt(Ye(3.2404542 * r - 1.5371385 * e - .4985314 * n), Ye(-.969266 * r + 1.8760108 * e + .041556 * n), Ye(.0556434 * r - .2040259 * e + 1.0572252 * n), t.alpha)
        }

        function tr(t, e, r) {
            var n = e - t;
            return t + r * (n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n)
        }
        var er = {
                forward: We,
                reverse: Qe,
                interpolate: function(t, e, r) {
                    return {
                        l: Ne(t.l, e.l, r),
                        a: Ne(t.a, e.a, r),
                        b: Ne(t.b, e.b, r),
                        alpha: Ne(t.alpha, e.alpha, r)
                    }
                }
            },
            rr = {
                forward: function(t) {
                    var e = We(t),
                        r = e.l,
                        n = e.a,
                        i = e.b,
                        a = Math.atan2(i, n) * Xe;
                    return {
                        h: a < 0 ? a + 360 : a,
                        c: Math.sqrt(n * n + i * i),
                        l: r,
                        alpha: t.a
                    }
                },
                reverse: function(t) {
                    var e = t.h * Ze,
                        r = t.c;
                    return Qe({
                        l: t.l,
                        a: Math.cos(e) * r,
                        b: Math.sin(e) * r,
                        alpha: t.alpha
                    })
                },
                interpolate: function(t, e, r) {
                    return {
                        h: tr(t.h, e.h, r),
                        c: Ne(t.c, e.c, r),
                        l: Ne(t.l, e.l, r),
                        alpha: Ne(t.alpha, e.alpha, r)
                    }
                }
            },
            nr = Object.freeze({
                __proto__: null,
                lab: er,
                hcl: rr
            }),
            ir = function(t, e, r, n, i) {
                this.type = t, this.operator = e, this.interpolation = r, this.input = n, this.labels = [], this.outputs = [];
                for (var a = 0, o = i; a < o.length; a += 1) {
                    var s = o[a],
                        u = s[1];
                    this.labels.push(s[0]), this.outputs.push(u);
                }
            };

        function ar(t, e, r, n) {
            var i = n - r,
                a = t - r;
            return 0 === i ? 0 : 1 === e ? a / i : (Math.pow(e, a) - 1) / (Math.pow(e, i) - 1)
        }
        ir.interpolationFactor = function(t, e, n, i) {
            var a = 0;
            if ("exponential" === t.name) a = ar(e, t.base, n, i);
            else if ("linear" === t.name) a = ar(e, 1, n, i);
            else if ("cubic-bezier" === t.name) {
                var o = t.controlPoints;
                a = new r(o[0], o[1], o[2], o[3]).solve(ar(e, 1, n, i));
            }
            return a
        }, ir.parse = function(t, e) {
            var r = t[0],
                n = t[1],
                i = t[2],
                a = t.slice(3);
            if (!Array.isArray(n) || 0 === n.length) return e.error("Expected an interpolation type expression.", 1);
            if ("linear" === n[0]) n = {
                name: "linear"
            };
            else if ("exponential" === n[0]) {
                var o = n[1];
                if ("number" != typeof o) return e.error("Exponential interpolation requires a numeric base.", 1, 1);
                n = {
                    name: "exponential",
                    base: o
                };
            } else {
                if ("cubic-bezier" !== n[0]) return e.error("Unknown interpolation type " + String(n[0]), 1, 0);
                var s = n.slice(1);
                if (4 !== s.length || s.some((function(t) {
                        return "number" != typeof t || t < 0 || t > 1
                    }))) return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
                n = {
                    name: "cubic-bezier",
                    controlPoints: s
                };
            }
            if (t.length - 1 < 4) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
            if ((t.length - 1) % 2 != 0) return e.error("Expected an even number of arguments.");
            if (!(i = e.parse(i, 2, Lt))) return null;
            var u = [],
                l = null;
            "interpolate-hcl" === r || "interpolate-lab" === r ? l = Ut : e.expectedType && "value" !== e.expectedType.kind && (l = e.expectedType);
            for (var p = 0; p < a.length; p += 2) {
                var c = a[p],
                    h = a[p + 1],
                    f = p + 3,
                    y = p + 4;
                if ("number" != typeof c) return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', f);
                if (u.length && u[u.length - 1][0] >= c) return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', f);
                var d = e.parse(h, y, l);
                if (!d) return null;
                l = l || d.type, u.push([c, d]);
            }
            return "number" === l.kind || "color" === l.kind || "array" === l.kind && "number" === l.itemType.kind && "number" == typeof l.N ? new ir(l, r, n, i, u) : e.error("Type " + Xt(l) + " is not interpolatable.")
        }, ir.prototype.evaluate = function(t) {
            var e = this.labels,
                r = this.outputs;
            if (1 === e.length) return r[0].evaluate(t);
            var n = this.input.evaluate(t);
            if (n <= e[0]) return r[0].evaluate(t);
            var i = e.length;
            if (n >= e[i - 1]) return r[i - 1].evaluate(t);
            var a = je(e, n),
                o = ir.interpolationFactor(this.interpolation, n, e[a], e[a + 1]),
                s = r[a].evaluate(t),
                u = r[a + 1].evaluate(t);
            return "interpolate" === this.operator ? Ke[this.type.kind.toLowerCase()](s, u, o) : "interpolate-hcl" === this.operator ? rr.reverse(rr.interpolate(rr.forward(s), rr.forward(u), o)) : er.reverse(er.interpolate(er.forward(s), er.forward(u), o))
        }, ir.prototype.eachChild = function(t) {
            t(this.input);
            for (var e = 0, r = this.outputs; e < r.length; e += 1) t(r[e]);
        }, ir.prototype.outputDefined = function() {
            return this.outputs.every((function(t) {
                return t.outputDefined()
            }))
        }, ir.prototype.serialize = function() {
            var t;
            t = "linear" === this.interpolation.name ? ["linear"] : "exponential" === this.interpolation.name ? 1 === this.interpolation.base ? ["linear"] : ["exponential", this.interpolation.base] : ["cubic-bezier"].concat(this.interpolation.controlPoints);
            for (var e = [this.operator, t, this.input.serialize()], r = 0; r < this.labels.length; r++) e.push(this.labels[r], this.outputs[r].serialize());
            return e
        };
        var or = function(t, e) {
            this.type = t, this.args = e;
        };
        or.parse = function(t, e) {
            if (t.length < 2) return e.error("Expectected at least one argument.");
            var r = null,
                n = e.expectedType;
            n && "value" !== n.kind && (r = n);
            for (var i = [], a = 0, o = t.slice(1); a < o.length; a += 1) {
                var s = e.parse(o[a], 1 + i.length, r, void 0, {
                    typeAnnotation: "omit"
                });
                if (!s) return null;
                r = r || s.type, i.push(s);
            }
            var u = n && i.some((function(t) {
                return Ht(n, t.type)
            }));
            return new or(u ? qt : r, i)
        }, or.prototype.evaluate = function(t) {
            for (var e, r = null, n = 0, i = 0, a = this.args; i < a.length && (n++, (r = a[i].evaluate(t)) && r instanceof ne && !r.available && (e || (e = r.name), r = null, n === this.args.length && (r = e)), null === r); i += 1);
            return r
        }, or.prototype.eachChild = function(t) {
            this.args.forEach(t);
        }, or.prototype.outputDefined = function() {
            return this.args.every((function(t) {
                return t.outputDefined()
            }))
        }, or.prototype.serialize = function() {
            var t = ["coalesce"];
            return this.eachChild((function(e) {
                t.push(e.serialize());
            })), t
        };
        var sr = function(t, e) {
            this.type = e.type, this.bindings = [].concat(t), this.result = e;
        };
        sr.prototype.evaluate = function(t) {
            return this.result.evaluate(t)
        }, sr.prototype.eachChild = function(t) {
            for (var e = 0, r = this.bindings; e < r.length; e += 1) t(r[e][1]);
            t(this.result);
        }, sr.parse = function(t, e) {
            if (t.length < 4) return e.error("Expected at least 3 arguments, but found " + (t.length - 1) + " instead.");
            for (var r = [], n = 1; n < t.length - 1; n += 2) {
                var i = t[n];
                if ("string" != typeof i) return e.error("Expected string, but found " + typeof i + " instead.", n);
                if (/[^a-zA-Z0-9_]/.test(i)) return e.error("Variable names must contain only alphanumeric characters or '_'.", n);
                var a = e.parse(t[n + 1], n + 1);
                if (!a) return null;
                r.push([i, a]);
            }
            var o = e.parse(t[t.length - 1], t.length - 1, e.expectedType, r);
            return o ? new sr(r, o) : null
        }, sr.prototype.outputDefined = function() {
            return this.result.outputDefined()
        }, sr.prototype.serialize = function() {
            for (var t = ["let"], e = 0, r = this.bindings; e < r.length; e += 1) {
                var n = r[e];
                t.push(n[0], n[1].serialize());
            }
            return t.push(this.result.serialize()), t
        };
        var ur = function(t, e, r) {
            this.type = t, this.index = e, this.input = r;
        };
        ur.parse = function(t, e) {
            if (3 !== t.length) return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
            var r = e.parse(t[1], 1, Lt),
                n = e.parse(t[2], 2, Zt(e.expectedType || qt));
            return r && n ? new ur(n.type.itemType, r, n) : null
        }, ur.prototype.evaluate = function(t) {
            var e = this.index.evaluate(t),
                r = this.input.evaluate(t);
            if (e < 0) throw new le("Array index out of bounds: " + e + " < 0.");
            if (e >= r.length) throw new le("Array index out of bounds: " + e + " > " + (r.length - 1) + ".");
            if (e !== Math.floor(e)) throw new le("Array index must be an integer, but found " + e + " instead.");
            return r[e]
        }, ur.prototype.eachChild = function(t) {
            t(this.index), t(this.input);
        }, ur.prototype.outputDefined = function() {
            return !1
        }, ur.prototype.serialize = function() {
            return ["at", this.index.serialize(), this.input.serialize()]
        };
        var lr = function(t, e) {
            this.type = Ot, this.needle = t, this.haystack = e;
        };
        lr.parse = function(t, e) {
            if (3 !== t.length) return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
            var r = e.parse(t[1], 1, qt),
                n = e.parse(t[2], 2, qt);
            return r && n ? Yt(r.type, [Ot, Rt, Lt, Dt, qt]) ? new lr(r, n) : e.error("Expected first argument to be of type boolean, string, number or null, but found " + Xt(r.type) + " instead") : null
        }, lr.prototype.evaluate = function(t) {
            var e = this.needle.evaluate(t),
                r = this.haystack.evaluate(t);
            if (!r) return !1;
            if (!$t(e, ["boolean", "string", "number", "null"])) throw new le("Expected first argument to be of type boolean, string, number or null, but found " + Xt(oe(e)) + " instead.");
            if (!$t(r, ["string", "array"])) throw new le("Expected second argument to be of type array or string, but found " + Xt(oe(r)) + " instead.");
            return r.indexOf(e) >= 0
        }, lr.prototype.eachChild = function(t) {
            t(this.needle), t(this.haystack);
        }, lr.prototype.outputDefined = function() {
            return !0
        }, lr.prototype.serialize = function() {
            return ["in", this.needle.serialize(), this.haystack.serialize()]
        };
        var pr = function(t, e, r) {
            this.type = Lt, this.needle = t, this.haystack = e, this.fromIndex = r;
        };
        pr.parse = function(t, e) {
            if (t.length <= 2 || t.length >= 5) return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
            var r = e.parse(t[1], 1, qt),
                n = e.parse(t[2], 2, qt);
            if (!r || !n) return null;
            if (!Yt(r.type, [Ot, Rt, Lt, Dt, qt])) return e.error("Expected first argument to be of type boolean, string, number or null, but found " + Xt(r.type) + " instead");
            if (4 === t.length) {
                var i = e.parse(t[3], 3, Lt);
                return i ? new pr(r, n, i) : null
            }
            return new pr(r, n)
        }, pr.prototype.evaluate = function(t) {
            var e = this.needle.evaluate(t),
                r = this.haystack.evaluate(t);
            if (!$t(e, ["boolean", "string", "number", "null"])) throw new le("Expected first argument to be of type boolean, string, number or null, but found " + Xt(oe(e)) + " instead.");
            if (!$t(r, ["string", "array"])) throw new le("Expected second argument to be of type array or string, but found " + Xt(oe(r)) + " instead.");
            if (this.fromIndex) {
                var n = this.fromIndex.evaluate(t);
                return r.indexOf(e, n)
            }
            return r.indexOf(e)
        }, pr.prototype.eachChild = function(t) {
            t(this.needle), t(this.haystack), this.fromIndex && t(this.fromIndex);
        }, pr.prototype.outputDefined = function() {
            return !1
        }, pr.prototype.serialize = function() {
            if (null != this.fromIndex && void 0 !== this.fromIndex) {
                var t = this.fromIndex.serialize();
                return ["index-of", this.needle.serialize(), this.haystack.serialize(), t]
            }
            return ["index-of", this.needle.serialize(), this.haystack.serialize()]
        };
        var cr = function(t, e, r, n, i, a) {
            this.inputType = t, this.type = e, this.input = r, this.cases = n, this.outputs = i, this.otherwise = a;
        };
        cr.parse = function(t, e) {
            if (t.length < 5) return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
            if (t.length % 2 != 1) return e.error("Expected an even number of arguments.");
            var r, n;
            e.expectedType && "value" !== e.expectedType.kind && (n = e.expectedType);
            for (var i = {}, a = [], o = 2; o < t.length - 1; o += 2) {
                var s = t[o],
                    u = t[o + 1];
                Array.isArray(s) || (s = [s]);
                var l = e.concat(o);
                if (0 === s.length) return l.error("Expected at least one branch label.");
                for (var p = 0, c = s; p < c.length; p += 1) {
                    var h = c[p];
                    if ("number" != typeof h && "string" != typeof h) return l.error("Branch labels must be numbers or strings.");
                    if ("number" == typeof h && Math.abs(h) > Number.MAX_SAFE_INTEGER) return l.error("Branch labels must be integers no larger than " + Number.MAX_SAFE_INTEGER + ".");
                    if ("number" == typeof h && Math.floor(h) !== h) return l.error("Numeric branch labels must be integer values.");
                    if (r) {
                        if (l.checkSubtype(r, oe(h))) return null
                    } else r = oe(h);
                    if (void 0 !== i[String(h)]) return l.error("Branch labels must be unique.");
                    i[String(h)] = a.length;
                }
                var f = e.parse(u, o, n);
                if (!f) return null;
                n = n || f.type, a.push(f);
            }
            var y = e.parse(t[1], 1, qt);
            if (!y) return null;
            var d = e.parse(t[t.length - 1], t.length - 1, n);
            return d ? "value" !== y.type.kind && e.concat(1).checkSubtype(r, y.type) ? null : new cr(r, n, y, i, a, d) : null
        }, cr.prototype.evaluate = function(t) {
            var e = this.input.evaluate(t);
            return (oe(e) === this.inputType && this.outputs[this.cases[e]] || this.otherwise).evaluate(t)
        }, cr.prototype.eachChild = function(t) {
            t(this.input), this.outputs.forEach(t), t(this.otherwise);
        }, cr.prototype.outputDefined = function() {
            return this.outputs.every((function(t) {
                return t.outputDefined()
            })) && this.otherwise.outputDefined()
        }, cr.prototype.serialize = function() {
            for (var t = this, e = ["match", this.input.serialize()], r = [], n = {}, i = 0, a = Object.keys(this.cases).sort(); i < a.length; i += 1) {
                var o = a[i];
                void 0 === (c = n[this.cases[o]]) ? (n[this.cases[o]] = r.length, r.push([this.cases[o],
                    [o]
                ])) : r[c][1].push(o);
            }
            for (var s = function(e) {
                    return "number" === t.inputType.kind ? Number(e) : e
                }, u = 0, l = r; u < l.length; u += 1) {
                var p = l[u],
                    c = p[0],
                    h = p[1];
                e.push(1 === h.length ? s(h[0]) : h.map(s)), e.push(this.outputs[outputIndex$1].serialize());
            }
            return e.push(this.otherwise.serialize()), e
        };
        var hr = function(t, e, r) {
            this.type = t, this.branches = e, this.otherwise = r;
        };
        hr.parse = function(t, e) {
            if (t.length < 4) return e.error("Expected at least 3 arguments, but found only " + (t.length - 1) + ".");
            if (t.length % 2 != 0) return e.error("Expected an odd number of arguments.");
            var r;
            e.expectedType && "value" !== e.expectedType.kind && (r = e.expectedType);
            for (var n = [], i = 1; i < t.length - 1; i += 2) {
                var a = e.parse(t[i], i, Ot);
                if (!a) return null;
                var o = e.parse(t[i + 1], i + 1, r);
                if (!o) return null;
                n.push([a, o]), r = r || o.type;
            }
            var s = e.parse(t[t.length - 1], t.length - 1, r);
            return s ? new hr(r, n, s) : null
        }, hr.prototype.evaluate = function(t) {
            for (var e = 0, r = this.branches; e < r.length; e += 1) {
                var n = r[e],
                    i = n[1];
                if (n[0].evaluate(t)) return i.evaluate(t)
            }
            return this.otherwise.evaluate(t)
        }, hr.prototype.eachChild = function(t) {
            for (var e = 0, r = this.branches; e < r.length; e += 1) {
                var n = r[e],
                    i = n[1];
                t(n[0]), t(i);
            }
            t(this.otherwise);
        }, hr.prototype.outputDefined = function() {
            return this.branches.every((function(t) {
                return t[1].outputDefined()
            })) && this.otherwise.outputDefined()
        }, hr.prototype.serialize = function() {
            var t = ["case"];
            return this.eachChild((function(e) {
                t.push(e.serialize());
            })), t
        };
        var fr = function(t, e, r, n) {
            this.type = t, this.input = e, this.beginIndex = r, this.endIndex = n;
        };

        function yr(t, e) {
            return "==" === t || "!=" === t ? "boolean" === e.kind || "string" === e.kind || "number" === e.kind || "null" === e.kind || "value" === e.kind : "string" === e.kind || "number" === e.kind || "value" === e.kind
        }

        function dr(t, e, r, n) {
            return 0 === n.compare(e, r)
        }

        function mr(t, e, r) {
            var n = "==" !== t && "!=" !== t;
            return function() {
                function i(t, e, r) {
                    this.type = Ot, this.lhs = t, this.rhs = e, this.collator = r, this.hasUntypedArgument = "value" === t.type.kind || "value" === e.type.kind;
                }
                return i.parse = function(t, e) {
                    if (3 !== t.length && 4 !== t.length) return e.error("Expected two or three arguments.");
                    var r = t[0],
                        a = e.parse(t[1], 1, qt);
                    if (!a) return null;
                    if (!yr(r, a.type)) return e.concat(1).error('"' + r + "\" comparisons are not supported for type '" + Xt(a.type) + "'.");
                    var o = e.parse(t[2], 2, qt);
                    if (!o) return null;
                    if (!yr(r, o.type)) return e.concat(2).error('"' + r + "\" comparisons are not supported for type '" + Xt(o.type) + "'.");
                    if (a.type.kind !== o.type.kind && "value" !== a.type.kind && "value" !== o.type.kind) return e.error("Cannot compare types '" + Xt(a.type) + "' and '" + Xt(o.type) + "'.");
                    n && ("value" === a.type.kind && "value" !== o.type.kind ? a = new ce(o.type, [a]) : "value" !== a.type.kind && "value" === o.type.kind && (o = new ce(a.type, [o])));
                    var s = null;
                    if (4 === t.length) {
                        if ("string" !== a.type.kind && "string" !== o.type.kind && "value" !== a.type.kind && "value" !== o.type.kind) return e.error("Cannot use collator to compare non-string types.");
                        if (!(s = e.parse(t[3], 3, Nt))) return null
                    }
                    return new i(a, o, s)
                }, i.prototype.evaluate = function(i) {
                    var a = this.lhs.evaluate(i),
                        o = this.rhs.evaluate(i);
                    if (n && this.hasUntypedArgument) {
                        var s = oe(a),
                            u = oe(o);
                        if (s.kind !== u.kind || "string" !== s.kind && "number" !== s.kind) throw new le('Expected arguments for "' + t + '" to be (string, string) or (number, number), but found (' + s.kind + ", " + u.kind + ") instead.")
                    }
                    if (this.collator && !n && this.hasUntypedArgument) {
                        var l = oe(a),
                            p = oe(o);
                        if ("string" !== l.kind || "string" !== p.kind) return e(i, a, o)
                    }
                    return this.collator ? r(i, a, o, this.collator.evaluate(i)) : e(i, a, o)
                }, i.prototype.eachChild = function(t) {
                    t(this.lhs), t(this.rhs), this.collator && t(this.collator);
                }, i.prototype.outputDefined = function() {
                    return !0
                }, i.prototype.serialize = function() {
                    var e = [t];
                    return this.eachChild((function(t) {
                        e.push(t.serialize());
                    })), e
                }, i
            }()
        }
        fr.parse = function(t, e) {
            if (t.length <= 2 || t.length >= 5) return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
            var r = e.parse(t[1], 1, qt),
                n = e.parse(t[2], 2, Lt);
            if (!r || !n) return null;
            if (!Yt(r.type, [Zt(qt), Rt, qt])) return e.error("Expected first argument to be of type array or string, but found " + Xt(r.type) + " instead");
            if (4 === t.length) {
                var i = e.parse(t[3], 3, Lt);
                return i ? new fr(r.type, r, n, i) : null
            }
            return new fr(r.type, r, n)
        }, fr.prototype.evaluate = function(t) {
            var e = this.input.evaluate(t),
                r = this.beginIndex.evaluate(t);
            if (!$t(e, ["string", "array"])) throw new le("Expected first argument to be of type array or string, but found " + Xt(oe(e)) + " instead.");
            if (this.endIndex) {
                var n = this.endIndex.evaluate(t);
                return e.slice(r, n)
            }
            return e.slice(r)
        }, fr.prototype.eachChild = function(t) {
            t(this.input), t(this.beginIndex), this.endIndex && t(this.endIndex);
        }, fr.prototype.outputDefined = function() {
            return !1
        }, fr.prototype.serialize = function() {
            if (null != this.endIndex && void 0 !== this.endIndex) {
                var t = this.endIndex.serialize();
                return ["slice", this.input.serialize(), this.beginIndex.serialize(), t]
            }
            return ["slice", this.input.serialize(), this.beginIndex.serialize()]
        };
        var vr = mr("==", (function(t, e, r) {
                return e === r
            }), dr),
            gr = mr("!=", (function(t, e, r) {
                return e !== r
            }), (function(t, e, r, n) {
                return !dr(0, e, r, n)
            })),
            xr = mr("<", (function(t, e, r) {
                return e < r
            }), (function(t, e, r, n) {
                return n.compare(e, r) < 0
            })),
            br = mr(">", (function(t, e, r) {
                return e > r
            }), (function(t, e, r, n) {
                return n.compare(e, r) > 0
            })),
            wr = mr("<=", (function(t, e, r) {
                return e <= r
            }), (function(t, e, r, n) {
                return n.compare(e, r) <= 0
            })),
            _r = mr(">=", (function(t, e, r) {
                return e >= r
            }), (function(t, e, r, n) {
                return n.compare(e, r) >= 0
            })),
            Ar = function(t, e, r, n, i) {
                this.type = Rt, this.number = t, this.locale = e, this.currency = r, this.minFractionDigits = n, this.maxFractionDigits = i;
            };
        Ar.parse = function(t, e) {
            if (3 !== t.length) return e.error("Expected two arguments.");
            var r = e.parse(t[1], 1, Lt);
            if (!r) return null;
            var n = t[2];
            if ("object" != typeof n || Array.isArray(n)) return e.error("NumberFormat options argument must be an object.");
            var i = null;
            if (n.locale && !(i = e.parse(n.locale, 1, Rt))) return null;
            var a = null;
            if (n.currency && !(a = e.parse(n.currency, 1, Rt))) return null;
            var o = null;
            if (n["min-fraction-digits"] && !(o = e.parse(n["min-fraction-digits"], 1, Lt))) return null;
            var s = null;
            return n["max-fraction-digits"] && !(s = e.parse(n["max-fraction-digits"], 1, Lt)) ? null : new Ar(r, i, a, o, s)
        }, Ar.prototype.evaluate = function(t) {
            return new Intl.NumberFormat(this.locale ? this.locale.evaluate(t) : [], {
                style: this.currency ? "currency" : "decimal",
                currency: this.currency ? this.currency.evaluate(t) : void 0,
                minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(t) : void 0,
                maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(t) : void 0
            }).format(this.number.evaluate(t))
        }, Ar.prototype.eachChild = function(t) {
            t(this.number), this.locale && t(this.locale), this.currency && t(this.currency), this.minFractionDigits && t(this.minFractionDigits), this.maxFractionDigits && t(this.maxFractionDigits);
        }, Ar.prototype.outputDefined = function() {
            return !1
        }, Ar.prototype.serialize = function() {
            var t = {};
            return this.locale && (t.locale = this.locale.serialize()), this.currency && (t.currency = this.currency.serialize()), this.minFractionDigits && (t["min-fraction-digits"] = this.minFractionDigits.serialize()), this.maxFractionDigits && (t["max-fraction-digits"] = this.maxFractionDigits.serialize()), ["number-format", this.number.serialize(), t]
        };
        var Sr = function(t) {
            this.type = Lt, this.input = t;
        };
        Sr.parse = function(t, e) {
            if (2 !== t.length) return e.error("Expected 1 argument, but found " + (t.length - 1) + " instead.");
            var r = e.parse(t[1], 1);
            return r ? "array" !== r.type.kind && "string" !== r.type.kind && "value" !== r.type.kind ? e.error("Expected argument of type string or array, but found " + Xt(r.type) + " instead.") : new Sr(r) : null
        }, Sr.prototype.evaluate = function(t) {
            var e = this.input.evaluate(t);
            if ("string" == typeof e) return e.length;
            if (Array.isArray(e)) return e.length;
            throw new le("Expected value to be of type string or array, but found " + Xt(oe(e)) + " instead.")
        }, Sr.prototype.eachChild = function(t) {
            t(this.input);
        }, Sr.prototype.outputDefined = function() {
            return !1
        }, Sr.prototype.serialize = function() {
            var t = ["length"];
            return this.eachChild((function(e) {
                t.push(e.serialize());
            })), t
        };
        var kr = {
            "==": vr,
            "!=": gr,
            ">": br,
            "<": xr,
            ">=": _r,
            "<=": wr,
            array: ce,
            at: ur,
            boolean: ce,
            case: hr,
            coalesce: or,
            collator: xe,
            format: he,
            image: fe,
            in: lr,
            "index-of": pr,
            interpolate: ir,
            "interpolate-hcl": ir,
            "interpolate-lab": ir,
            length: Sr,
            let: sr,
            literal: ue,
            match: cr,
            number: ce,
            "number-format": Ar,
            object: ce,
            slice: fr,
            step: qe,
            string: ce,
            "to-boolean": de,
            "to-color": de,
            "to-number": de,
            "to-string": de,
            var: Oe,
            within: Fe
        };

        function Ir(t, e) {
            var r = e[0],
                n = e[1],
                i = e[2],
                a = e[3];
            r = r.evaluate(t), n = n.evaluate(t), i = i.evaluate(t);
            var o = a ? a.evaluate(t) : 1,
                s = ie(r, n, i, o);
            if (s) throw new le(s);
            return new Qt(r / 255 * o, n / 255 * o, i / 255 * o, o)
        }

        function zr(t, e) {
            return t in e
        }

        function Cr(t, e) {
            var r = e[t];
            return void 0 === r ? null : r
        }

        function Er(t) {
            return {
                type: t
            }
        }

        function Pr(t) {
            return {
                result: "success",
                value: t
            }
        }

        function Mr(t) {
            return {
                result: "error",
                value: t
            }
        }

        function Br(t) {
            return "data-driven" === t["property-type"] || "cross-faded-data-driven" === t["property-type"]
        }

        function Tr(t) {
            return !!t.expression && t.expression.parameters.indexOf("zoom") > -1
        }

        function Vr(t) {
            return !!t.expression && t.expression.interpolated
        }

        function Fr(t) {
            return t instanceof Number ? "number" : t instanceof String ? "string" : t instanceof Boolean ? "boolean" : Array.isArray(t) ? "array" : null === t ? "null" : typeof t
        }

        function Dr(t) {
            return "object" == typeof t && null !== t && !Array.isArray(t)
        }

        function Lr(t) {
            return t
        }

        function Rr(t, e, r) {
            return void 0 !== t ? t : void 0 !== e ? e : void 0 !== r ? r : void 0
        }

        function Or(t, e, r, n, i) {
            return Rr(typeof r === i ? n[r] : void 0, t.default, e.default)
        }

        function Ur(t, e, r) {
            if ("number" !== Fr(r)) return Rr(t.default, e.default);
            var n = t.stops.length;
            if (1 === n) return t.stops[0][1];
            if (r <= t.stops[0][0]) return t.stops[0][1];
            if (r >= t.stops[n - 1][0]) return t.stops[n - 1][1];
            var i = je(t.stops.map((function(t) {
                return t[0]
            })), r);
            return t.stops[i][1]
        }

        function jr(t, e, r) {
            var n = void 0 !== t.base ? t.base : 1;
            if ("number" !== Fr(r)) return Rr(t.default, e.default);
            var i = t.stops.length;
            if (1 === i) return t.stops[0][1];
            if (r <= t.stops[0][0]) return t.stops[0][1];
            if (r >= t.stops[i - 1][0]) return t.stops[i - 1][1];
            var a = je(t.stops.map((function(t) {
                    return t[0]
                })), r),
                o = function(t, e, r, n) {
                    var i = n - r,
                        a = t - r;
                    return 0 === i ? 0 : 1 === e ? a / i : (Math.pow(e, a) - 1) / (Math.pow(e, i) - 1)
                }(r, n, t.stops[a][0], t.stops[a + 1][0]),
                s = t.stops[a][1],
                u = t.stops[a + 1][1],
                l = Ke[e.type] || Lr;
            if (t.colorSpace && "rgb" !== t.colorSpace) {
                var p = nr[t.colorSpace];
                l = function(t, e) {
                    return p.reverse(p.interpolate(p.forward(t), p.forward(e), o))
                };
            }
            return "function" == typeof s.evaluate ? {
                evaluate: function() {
                    for (var t = [], e = arguments.length; e--;) t[e] = arguments[e];
                    var r = s.evaluate.apply(void 0, t),
                        n = u.evaluate.apply(void 0, t);
                    if (void 0 !== r && void 0 !== n) return l(r, n, o)
                }
            } : l(s, u, o)
        }

        function qr(t, e, r) {
            return "color" === e.type ? r = Qt.parse(r) : "formatted" === e.type ? r = re.fromString(r.toString()) : "resolvedImage" === e.type ? r = ne.fromString(r.toString()) : Fr(r) === e.type || "enum" === e.type && e.values[r] || (r = void 0), Rr(r, t.default, e.default)
        }
        ge.register(kr, {
            error: [{
                    kind: "error"
                },
                [Rt],
                function(t, e) {
                    throw new le(e[0].evaluate(t))
                }
            ],
            typeof: [Rt, [qt], function(t, e) {
                return Xt(oe(e[0].evaluate(t)))
            }],
            "to-rgba": [Zt(Lt, 4), [Ut], function(t, e) {
                return e[0].evaluate(t).toArray()
            }],
            rgb: [Ut, [Lt, Lt, Lt], Ir],
            rgba: [Ut, [Lt, Lt, Lt, Lt], Ir],
            has: {
                type: Ot,
                overloads: [
                    [
                        [Rt],
                        function(t, e) {
                            return zr(e[0].evaluate(t), t.properties())
                        }
                    ],
                    [
                        [Rt, jt],
                        function(t, e) {
                            var r = e[1];
                            return zr(e[0].evaluate(t), r.evaluate(t))
                        }
                    ]
                ]
            },
            get: {
                type: qt,
                overloads: [
                    [
                        [Rt],
                        function(t, e) {
                            return Cr(e[0].evaluate(t), t.properties())
                        }
                    ],
                    [
                        [Rt, jt],
                        function(t, e) {
                            var r = e[1];
                            return Cr(e[0].evaluate(t), r.evaluate(t))
                        }
                    ]
                ]
            },
            "feature-state": [qt, [Rt], function(t, e) {
                return Cr(e[0].evaluate(t), t.featureState || {})
            }],
            properties: [jt, [], function(t) {
                return t.properties()
            }],
            "geometry-type": [Rt, [], function(t) {
                return t.geometryType()
            }],
            id: [qt, [], function(t) {
                return t.id()
            }],
            zoom: [Lt, [], function(t) {
                return t.globals.zoom
            }],
            "heatmap-density": [Lt, [], function(t) {
                return t.globals.heatmapDensity || 0
            }],
            "line-progress": [Lt, [], function(t) {
                return t.globals.lineProgress || 0
            }],
            accumulated: [qt, [], function(t) {
                return void 0 === t.globals.accumulated ? null : t.globals.accumulated
            }],
            "+": [Lt, Er(Lt), function(t, e) {
                for (var r = 0, n = 0, i = e; n < i.length; n += 1) r += i[n].evaluate(t);
                return r
            }],
            "*": [Lt, Er(Lt), function(t, e) {
                for (var r = 1, n = 0, i = e; n < i.length; n += 1) r *= i[n].evaluate(t);
                return r
            }],
            "-": {
                type: Lt,
                overloads: [
                    [
                        [Lt, Lt],
                        function(t, e) {
                            var r = e[1];
                            return e[0].evaluate(t) - r.evaluate(t)
                        }
                    ],
                    [
                        [Lt],
                        function(t, e) {
                            return -e[0].evaluate(t)
                        }
                    ]
                ]
            },
            "/": [Lt, [Lt, Lt], function(t, e) {
                var r = e[1];
                return e[0].evaluate(t) / r.evaluate(t)
            }],
            "%": [Lt, [Lt, Lt], function(t, e) {
                var r = e[1];
                return e[0].evaluate(t) % r.evaluate(t)
            }],
            ln2: [Lt, [], function() {
                return Math.LN2
            }],
            pi: [Lt, [], function() {
                return Math.PI
            }],
            e: [Lt, [], function() {
                return Math.E
            }],
            "^": [Lt, [Lt, Lt], function(t, e) {
                var r = e[1];
                return Math.pow(e[0].evaluate(t), r.evaluate(t))
            }],
            sqrt: [Lt, [Lt], function(t, e) {
                return Math.sqrt(e[0].evaluate(t))
            }],
            log10: [Lt, [Lt], function(t, e) {
                return Math.log(e[0].evaluate(t)) / Math.LN10
            }],
            ln: [Lt, [Lt], function(t, e) {
                return Math.log(e[0].evaluate(t))
            }],
            log2: [Lt, [Lt], function(t, e) {
                return Math.log(e[0].evaluate(t)) / Math.LN2
            }],
            sin: [Lt, [Lt], function(t, e) {
                return Math.sin(e[0].evaluate(t))
            }],
            cos: [Lt, [Lt], function(t, e) {
                return Math.cos(e[0].evaluate(t))
            }],
            tan: [Lt, [Lt], function(t, e) {
                return Math.tan(e[0].evaluate(t))
            }],
            asin: [Lt, [Lt], function(t, e) {
                return Math.asin(e[0].evaluate(t))
            }],
            acos: [Lt, [Lt], function(t, e) {
                return Math.acos(e[0].evaluate(t))
            }],
            atan: [Lt, [Lt], function(t, e) {
                return Math.atan(e[0].evaluate(t))
            }],
            min: [Lt, Er(Lt), function(t, e) {
                return Math.min.apply(Math, e.map((function(e) {
                    return e.evaluate(t)
                })))
            }],
            max: [Lt, Er(Lt), function(t, e) {
                return Math.max.apply(Math, e.map((function(e) {
                    return e.evaluate(t)
                })))
            }],
            abs: [Lt, [Lt], function(t, e) {
                return Math.abs(e[0].evaluate(t))
            }],
            round: [Lt, [Lt], function(t, e) {
                var r = e[0].evaluate(t);
                return r < 0 ? -Math.round(-r) : Math.round(r)
            }],
            floor: [Lt, [Lt], function(t, e) {
                return Math.floor(e[0].evaluate(t))
            }],
            ceil: [Lt, [Lt], function(t, e) {
                return Math.ceil(e[0].evaluate(t))
            }],
            "filter-==": [Ot, [Rt, qt], function(t, e) {
                var r = e[0],
                    n = e[1];
                return t.properties()[r.value] === n.value
            }],
            "filter-id-==": [Ot, [qt], function(t, e) {
                var r = e[0];
                return t.id() === r.value
            }],
            "filter-type-==": [Ot, [Rt], function(t, e) {
                var r = e[0];
                return t.geometryType() === r.value
            }],
            "filter-<": [Ot, [Rt, qt], function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = t.properties()[r.value],
                    a = n.value;
                return typeof i == typeof a && i < a
            }],
            "filter-id-<": [Ot, [qt], function(t, e) {
                var r = e[0],
                    n = t.id(),
                    i = r.value;
                return typeof n == typeof i && n < i
            }],
            "filter->": [Ot, [Rt, qt], function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = t.properties()[r.value],
                    a = n.value;
                return typeof i == typeof a && i > a
            }],
            "filter-id->": [Ot, [qt], function(t, e) {
                var r = e[0],
                    n = t.id(),
                    i = r.value;
                return typeof n == typeof i && n > i
            }],
            "filter-<=": [Ot, [Rt, qt], function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = t.properties()[r.value],
                    a = n.value;
                return typeof i == typeof a && i <= a
            }],
            "filter-id-<=": [Ot, [qt], function(t, e) {
                var r = e[0],
                    n = t.id(),
                    i = r.value;
                return typeof n == typeof i && n <= i
            }],
            "filter->=": [Ot, [Rt, qt], function(t, e) {
                var r = e[0],
                    n = e[1],
                    i = t.properties()[r.value],
                    a = n.value;
                return typeof i == typeof a && i >= a
            }],
            "filter-id->=": [Ot, [qt], function(t, e) {
                var r = e[0],
                    n = t.id(),
                    i = r.value;
                return typeof n == typeof i && n >= i
            }],
            "filter-has": [Ot, [qt], function(t, e) {
                return e[0].value in t.properties()
            }],
            "filter-has-id": [Ot, [], function(t) {
                return null !== t.id() && void 0 !== t.id()
            }],
            "filter-type-in": [Ot, [Zt(Rt)], function(t, e) {
                return e[0].value.indexOf(t.geometryType()) >= 0
            }],
            "filter-id-in": [Ot, [Zt(qt)], function(t, e) {
                return e[0].value.indexOf(t.id()) >= 0
            }],
            "filter-in-small": [Ot, [Rt, Zt(qt)], function(t, e) {
                var r = e[0];
                return e[1].value.indexOf(t.properties()[r.value]) >= 0
            }],
            "filter-in-large": [Ot, [Rt, Zt(qt)], function(t, e) {
                var r = e[0],
                    n = e[1];
                return function(t, e, r, n) {
                    for (; r <= n;) {
                        var i = r + n >> 1;
                        if (e[i] === t) return !0;
                        e[i] > t ? n = i - 1 : r = i + 1;
                    }
                    return !1
                }(t.properties()[r.value], n.value, 0, n.value.length - 1)
            }],
            all: {
                type: Ot,
                overloads: [
                    [
                        [Ot, Ot],
                        function(t, e) {
                            var r = e[1];
                            return e[0].evaluate(t) && r.evaluate(t)
                        }
                    ],
                    [Er(Ot), function(t, e) {
                        for (var r = 0, n = e; r < n.length; r += 1)
                            if (!n[r].evaluate(t)) return !1;
                        return !0
                    }]
                ]
            },
            any: {
                type: Ot,
                overloads: [
                    [
                        [Ot, Ot],
                        function(t, e) {
                            var r = e[1];
                            return e[0].evaluate(t) || r.evaluate(t)
                        }
                    ],
                    [Er(Ot), function(t, e) {
                        for (var r = 0, n = e; r < n.length; r += 1)
                            if (n[r].evaluate(t)) return !0;
                        return !1
                    }]
                ]
            },
            "!": [Ot, [Ot], function(t, e) {
                return !e[0].evaluate(t)
            }],
            "is-supported-script": [Ot, [Rt], function(t, e) {
                var r = t.globals && t.globals.isSupportedScript;
                return !r || r(e[0].evaluate(t))
            }],
            upcase: [Rt, [Rt], function(t, e) {
                return e[0].evaluate(t).toUpperCase()
            }],
            downcase: [Rt, [Rt], function(t, e) {
                return e[0].evaluate(t).toLowerCase()
            }],
            concat: [Rt, Er(qt), function(t, e) {
                return e.map((function(e) {
                    return se(e.evaluate(t))
                })).join("")
            }],
            "resolved-locale": [Rt, [Nt], function(t, e) {
                return e[0].evaluate(t).resolvedLocale()
            }]
        });
        var Nr = function(t, e) {
            this.expression = t, this._warningHistory = {}, this._evaluator = new ve, this._defaultValue = e ? function(t) {
                return "color" === t.type && Dr(t.default) ? new Qt(0, 0, 0, 0) : "color" === t.type ? Qt.parse(t.default) || null : void 0 === t.default ? null : t.default
            }(e) : null, this._enumValues = e && "enum" === e.type ? e.values : null;
        };

        function Kr(t) {
            return Array.isArray(t) && t.length > 0 && "string" == typeof t[0] && t[0] in kr
        }

        function Gr(t, e) {
            var r = new Ue(kr, [], e ? function(t) {
                    var e = {
                        color: Ut,
                        string: Rt,
                        number: Lt,
                        enum: Rt,
                        boolean: Ot,
                        formatted: Kt,
                        resolvedImage: Gt
                    };
                    return "array" === t.type ? Zt(e[t.value] || qt, t.length) : e[t.type]
                }(e) : void 0),
                n = r.parse(t, void 0, void 0, void 0, e && "string" === e.type ? {
                    typeAnnotation: "coerce"
                } : void 0);
            return n ? Pr(new Nr(n, e)) : Mr(r.errors)
        }
        Nr.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, a) {
            return this._evaluator.globals = t, this._evaluator.feature = e, this._evaluator.featureState = r, this._evaluator.canonical = n, this._evaluator.availableImages = i || null, this._evaluator.formattedSection = a, this.expression.evaluate(this._evaluator)
        }, Nr.prototype.evaluate = function(t, e, r, n, i, a) {
            this._evaluator.globals = t, this._evaluator.feature = e || null, this._evaluator.featureState = r || null, this._evaluator.canonical = n, this._evaluator.availableImages = i || null, this._evaluator.formattedSection = a || null;
            try {
                var o = this.expression.evaluate(this._evaluator);
                if (null == o || "number" == typeof o && o != o) return this._defaultValue;
                if (this._enumValues && !(o in this._enumValues)) throw new le("Expected value to be one of " + Object.keys(this._enumValues).map((function(t) {
                    return JSON.stringify(t)
                })).join(", ") + ", but found " + JSON.stringify(o) + " instead.");
                return o
            } catch (t) {
                return this._warningHistory[t.message] || (this._warningHistory[t.message] = !0, "undefined" != typeof console && console.warn(t.message)), this._defaultValue
            }
        };
        var Zr = function(t, e) {
            this.kind = t, this._styleExpression = e, this.isStateDependent = "constant" !== t && !Le(e.expression);
        };
        Zr.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, a) {
            return this._styleExpression.evaluateWithoutErrorHandling(t, e, r, n, i, a)
        }, Zr.prototype.evaluate = function(t, e, r, n, i, a) {
            return this._styleExpression.evaluate(t, e, r, n, i, a)
        };
        var Xr = function(t, e, r, n) {
            this.kind = t, this.zoomStops = r, this._styleExpression = e, this.isStateDependent = "camera" !== t && !Le(e.expression), this.interpolationType = n;
        };

        function Jr(t, e) {
            if ("error" === (t = Gr(t, e)).result) return t;
            var r = t.value.expression,
                n = De(r);
            if (!n && !Br(e)) return Mr([new Vt("", "data expressions not supported")]);
            var i = Re(r, ["zoom"]);
            if (!i && !Tr(e)) return Mr([new Vt("", "zoom expressions not supported")]);
            var a = function t(e) {
                var r = null;
                if (e instanceof sr) r = t(e.result);
                else if (e instanceof or)
                    for (var n = 0, i = e.args; n < i.length && !(r = t(i[n])); n += 1);
                else(e instanceof qe || e instanceof ir) && e.input instanceof ge && "zoom" === e.input.name && (r = e);
                return r instanceof Vt || e.eachChild((function(e) {
                    var n = t(e);
                    n instanceof Vt ? r = n : !r && n ? r = new Vt("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : r && n && r !== n && (r = new Vt("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'));
                })), r
            }(r);
            return a || i ? a instanceof Vt ? Mr([a]) : a instanceof ir && !Vr(e) ? Mr([new Vt("", '"interpolate" expressions cannot be used with this property')]) : Pr(a ? new Xr(n ? "camera" : "composite", t.value, a.labels, a instanceof ir ? a.interpolation : void 0) : new Zr(n ? "constant" : "source", t.value)) : Mr([new Vt("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])
        }
        Xr.prototype.evaluateWithoutErrorHandling = function(t, e, r, n, i, a) {
            return this._styleExpression.evaluateWithoutErrorHandling(t, e, r, n, i, a)
        }, Xr.prototype.evaluate = function(t, e, r, n, i, a) {
            return this._styleExpression.evaluate(t, e, r, n, i, a)
        }, Xr.prototype.interpolationFactor = function(t, e, r) {
            return this.interpolationType ? ir.interpolationFactor(this.interpolationType, t, e, r) : 0
        };
        var Hr = function(t, e) {
            this._parameters = t, this._specification = e, Mt(this, function t(e, r) {
                var n, i, a, o = "color" === r.type,
                    s = e.stops && "object" == typeof e.stops[0][0],
                    u = s || !(s || void 0 !== e.property),
                    l = e.type || (Vr(r) ? "exponential" : "interval");
                if (o && ((e = Mt({}, e)).stops && (e.stops = e.stops.map((function(t) {
                        return [t[0], Qt.parse(t[1])]
                    }))), e.default = Qt.parse(e.default ? e.default : r.default)), e.colorSpace && "rgb" !== e.colorSpace && !nr[e.colorSpace]) throw new Error("Unknown color space: " + e.colorSpace);
                if ("exponential" === l) n = jr;
                else if ("interval" === l) n = Ur;
                else if ("categorical" === l) {
                    n = Or, i = Object.create(null);
                    for (var p = 0, c = e.stops; p < c.length; p += 1) {
                        var h = c[p];
                        i[h[0]] = h[1];
                    }
                    a = typeof e.stops[0][0];
                } else {
                    if ("identity" !== l) throw new Error('Unknown function type "' + l + '"');
                    n = qr;
                }
                if (s) {
                    for (var f = {}, y = [], d = 0; d < e.stops.length; d++) {
                        var m = e.stops[d],
                            v = m[0].zoom;
                        void 0 === f[v] && (f[v] = {
                            zoom: v,
                            type: e.type,
                            property: e.property,
                            default: e.default,
                            stops: []
                        }, y.push(v)), f[v].stops.push([m[0].value, m[1]]);
                    }
                    for (var g = [], x = 0, b = y; x < b.length; x += 1) {
                        var w = b[x];
                        g.push([f[w].zoom, t(f[w], r)]);
                    }
                    var _ = {
                        name: "linear"
                    };
                    return {
                        kind: "composite",
                        interpolationType: _,
                        interpolationFactor: ir.interpolationFactor.bind(void 0, _),
                        zoomStops: g.map((function(t) {
                            return t[0]
                        })),
                        evaluate: function(t, n) {
                            var i = t.zoom;
                            return jr({
                                stops: g,
                                base: e.base
                            }, r, i).evaluate(i, n)
                        }
                    }
                }
                if (u) {
                    var A = "exponential" === l ? {
                        name: "exponential",
                        base: void 0 !== e.base ? e.base : 1
                    } : null;
                    return {
                        kind: "camera",
                        interpolationType: A,
                        interpolationFactor: ir.interpolationFactor.bind(void 0, A),
                        zoomStops: e.stops.map((function(t) {
                            return t[0]
                        })),
                        evaluate: function(t) {
                            return n(e, r, t.zoom, i, a)
                        }
                    }
                }
                return {
                    kind: "source",
                    evaluate: function(t, o) {
                        var s = o && o.properties ? o.properties[e.property] : void 0;
                        return void 0 === s ? Rr(e.default, r.default) : n(e, r, s, i, a)
                    }
                }
            }(this._parameters, this._specification));
        };

        function Yr(t) {
            var e = t.key,
                r = t.value,
                n = t.valueSpec || {},
                i = t.objectElementValidators || {},
                a = t.style,
                o = t.styleSpec,
                s = [],
                u = Fr(r);
            if ("object" !== u) return [new Et(e, r, "object expected, " + u + " found")];
            for (var l in r) {
                var p = l.split(".")[0],
                    c = n[p] || n["*"],
                    h = void 0;
                if (i[p]) h = i[p];
                else if (n[p]) h = _n;
                else if (i["*"]) h = i["*"];
                else {
                    if (!n["*"]) {
                        s.push(new Et(e, r[l], 'unknown property "' + l + '"'));
                        continue
                    }
                    h = _n;
                }
                s = s.concat(h({
                    key: (e ? e + "." : e) + l,
                    value: r[l],
                    valueSpec: c,
                    style: a,
                    styleSpec: o,
                    object: r,
                    objectKey: l
                }, r));
            }
            for (var f in n) i[f] || n[f].required && void 0 === n[f].default && void 0 === r[f] && s.push(new Et(e, r, 'missing required property "' + f + '"'));
            return s
        }

        function $r(t) {
            var e = t.value,
                r = t.valueSpec,
                n = t.style,
                i = t.styleSpec,
                a = t.key,
                o = t.arrayElementValidator || _n;
            if ("array" !== Fr(e)) return [new Et(a, e, "array expected, " + Fr(e) + " found")];
            if (r.length && e.length !== r.length) return [new Et(a, e, "array length " + r.length + " expected, length " + e.length + " found")];
            if (r["min-length"] && e.length < r["min-length"]) return [new Et(a, e, "array length at least " + r["min-length"] + " expected, length " + e.length + " found")];
            var s = {
                type: r.value,
                values: r.values
            };
            i.$version < 7 && (s.function = r.function), "object" === Fr(r.value) && (s = r.value);
            for (var u = [], l = 0; l < e.length; l++) u = u.concat(o({
                array: e,
                arrayIndex: l,
                value: e[l],
                valueSpec: s,
                style: n,
                styleSpec: i,
                key: a + "[" + l + "]"
            }));
            return u
        }

        function Wr(t) {
            var e = t.key,
                r = t.value,
                n = t.valueSpec,
                i = Fr(r);
            return "number" === i && r != r && (i = "NaN"), "number" !== i ? [new Et(e, r, "number expected, " + i + " found")] : "minimum" in n && r < n.minimum ? [new Et(e, r, r + " is less than the minimum value " + n.minimum)] : "maximum" in n && r > n.maximum ? [new Et(e, r, r + " is greater than the maximum value " + n.maximum)] : []
        }

        function Qr(t) {
            var e, r, n, i = t.valueSpec,
                a = Bt(t.value.type),
                o = {},
                s = "categorical" !== a && void 0 === t.value.property,
                u = !s,
                l = "array" === Fr(t.value.stops) && "array" === Fr(t.value.stops[0]) && "object" === Fr(t.value.stops[0][0]),
                p = Yr({
                    key: t.key,
                    value: t.value,
                    valueSpec: t.styleSpec.function,
                    style: t.style,
                    styleSpec: t.styleSpec,
                    objectElementValidators: {
                        stops: function(t) {
                            if ("identity" === a) return [new Et(t.key, t.value, 'identity function may not have a "stops" property')];
                            var e = [],
                                r = t.value;
                            return e = e.concat($r({
                                key: t.key,
                                value: r,
                                valueSpec: t.valueSpec,
                                style: t.style,
                                styleSpec: t.styleSpec,
                                arrayElementValidator: c
                            })), "array" === Fr(r) && 0 === r.length && e.push(new Et(t.key, r, "array must have at least one stop")), e
                        },
                        default: function(t) {
                            return _n({
                                key: t.key,
                                value: t.value,
                                valueSpec: i,
                                style: t.style,
                                styleSpec: t.styleSpec
                            })
                        }
                    }
                });
            return "identity" === a && s && p.push(new Et(t.key, t.value, 'missing required property "property"')), "identity" === a || t.value.stops || p.push(new Et(t.key, t.value, 'missing required property "stops"')), "exponential" === a && t.valueSpec.expression && !Vr(t.valueSpec) && p.push(new Et(t.key, t.value, "exponential functions not supported")), t.styleSpec.$version >= 8 && (u && !Br(t.valueSpec) ? p.push(new Et(t.key, t.value, "property functions not supported")) : s && !Tr(t.valueSpec) && p.push(new Et(t.key, t.value, "zoom functions not supported"))), "categorical" !== a && !l || void 0 !== t.value.property || p.push(new Et(t.key, t.value, '"property" property is required')), p;

            function c(t) {
                var e = [],
                    a = t.value,
                    s = t.key;
                if ("array" !== Fr(a)) return [new Et(s, a, "array expected, " + Fr(a) + " found")];
                if (2 !== a.length) return [new Et(s, a, "array length 2 expected, length " + a.length + " found")];
                if (l) {
                    if ("object" !== Fr(a[0])) return [new Et(s, a, "object expected, " + Fr(a[0]) + " found")];
                    if (void 0 === a[0].zoom) return [new Et(s, a, "object stop key must have zoom")];
                    if (void 0 === a[0].value) return [new Et(s, a, "object stop key must have value")];
                    if (n && n > Bt(a[0].zoom)) return [new Et(s, a[0].zoom, "stop zoom values must appear in ascending order")];
                    Bt(a[0].zoom) !== n && (n = Bt(a[0].zoom), r = void 0, o = {}), e = e.concat(Yr({
                        key: s + "[0]",
                        value: a[0],
                        valueSpec: {
                            zoom: {}
                        },
                        style: t.style,
                        styleSpec: t.styleSpec,
                        objectElementValidators: {
                            zoom: Wr,
                            value: h
                        }
                    }));
                } else e = e.concat(h({
                    key: s + "[0]",
                    value: a[0],
                    valueSpec: {},
                    style: t.style,
                    styleSpec: t.styleSpec
                }, a));
                return Kr(Tt(a[1])) ? e.concat([new Et(s + "[1]", a[1], "expressions are not allowed in function stops.")]) : e.concat(_n({
                    key: s + "[1]",
                    value: a[1],
                    valueSpec: i,
                    style: t.style,
                    styleSpec: t.styleSpec
                }))
            }

            function h(t, n) {
                var s = Fr(t.value),
                    u = Bt(t.value),
                    l = null !== t.value ? t.value : n;
                if (e) {
                    if (s !== e) return [new Et(t.key, l, s + " stop domain type must match previous stop domain type " + e)]
                } else e = s;
                if ("number" !== s && "string" !== s && "boolean" !== s) return [new Et(t.key, l, "stop domain value must be a number, string, or boolean")];
                if ("number" !== s && "categorical" !== a) {
                    var p = "number expected, " + s + " found";
                    return Br(i) && void 0 === a && (p += '\nIf you intended to use a categorical function, specify `"type": "categorical"`.'), [new Et(t.key, l, p)]
                }
                return "categorical" !== a || "number" !== s || isFinite(u) && Math.floor(u) === u ? "categorical" !== a && "number" === s && void 0 !== r && u < r ? [new Et(t.key, l, "stop domain values must appear in ascending order")] : (r = u, "categorical" === a && u in o ? [new Et(t.key, l, "stop domain values must be unique")] : (o[u] = !0, [])) : [new Et(t.key, l, "integer expected, found " + u)]
            }
        }

        function tn(t) {
            var e = ("property" === t.expressionContext ? Jr : Gr)(Tt(t.value), t.valueSpec);
            if ("error" === e.result) return e.value.map((function(e) {
                return new Et("" + t.key + e.key, t.value, e.message)
            }));
            var r = e.value.expression || e.value._styleExpression.expression;
            if ("property" === t.expressionContext && "text-font" === t.propertyKey && !r.outputDefined()) return [new Et(t.key, t.value, 'Invalid data expression for "' + t.propertyKey + '". Output values must be contained as literals within the expression.')];
            if ("property" === t.expressionContext && "layout" === t.propertyType && !Le(r)) return [new Et(t.key, t.value, '"feature-state" data expressions are not supported with layout properties.')];
            if ("filter" === t.expressionContext && !Le(r)) return [new Et(t.key, t.value, '"feature-state" data expressions are not supported with filters.')];
            if (t.expressionContext && 0 === t.expressionContext.indexOf("cluster")) {
                if (!Re(r, ["zoom", "feature-state"])) return [new Et(t.key, t.value, '"zoom" and "feature-state" expressions are not supported with cluster properties.')];
                if ("cluster-initial" === t.expressionContext && !De(r)) return [new Et(t.key, t.value, "Feature data expressions are not supported with initial expression part of cluster properties.")]
            }
            return []
        }

        function en(t) {
            var e = t.key,
                r = t.value,
                n = t.valueSpec,
                i = [];
            return Array.isArray(n.values) ? -1 === n.values.indexOf(Bt(r)) && i.push(new Et(e, r, "expected one of [" + n.values.join(", ") + "], " + JSON.stringify(r) + " found")) : -1 === Object.keys(n.values).indexOf(Bt(r)) && i.push(new Et(e, r, "expected one of [" + Object.keys(n.values).join(", ") + "], " + JSON.stringify(r) + " found")), i
        }

        function rn(t) {
            if (!0 === t || !1 === t) return !0;
            if (!Array.isArray(t) || 0 === t.length) return !1;
            switch (t[0]) {
                case "has":
                    return t.length >= 2 && "$id" !== t[1] && "$type" !== t[1];
                case "in":
                    return t.length >= 3 && ("string" != typeof t[1] || Array.isArray(t[2]));
                case "!in":
                case "!has":
                case "none":
                    return !1;
                case "==":
                case "!=":
                case ">":
                case ">=":
                case "<":
                case "<=":
                    return 3 !== t.length || Array.isArray(t[1]) || Array.isArray(t[2]);
                case "any":
                case "all":
                    for (var e = 0, r = t.slice(1); e < r.length; e += 1) {
                        var n = r[e];
                        if (!rn(n) && "boolean" != typeof n) return !1
                    }
                    return !0;
                default:
                    return !0
            }
        }
        Hr.deserialize = function(t) {
            return new Hr(t._parameters, t._specification)
        }, Hr.serialize = function(t) {
            return {
                _parameters: t._parameters,
                _specification: t._specification
            }
        };
        var nn = {
            type: "boolean",
            default: !1,
            transition: !1,
            "property-type": "data-driven",
            expression: {
                interpolated: !1,
                parameters: ["zoom", "feature"]
            }
        };

        function an(t) {
            if (null == t) return {
                filter: function() {
                    return !0
                },
                needGeometry: !1
            };
            rn(t) || (t = sn(t));
            var e = Gr(t, nn);
            if ("error" === e.result) throw new Error(e.value.map((function(t) {
                return t.key + ": " + t.message
            })).join(", "));
            return {
                filter: function(t, r, n) {
                    return e.value.evaluate(t, r, {}, n)
                },
                needGeometry: function t(e) {
                    if (!Array.isArray(e)) return !1;
                    if ("within" === e[0]) return !0;
                    for (var r = 1; r < e.length; r++)
                        if (t(e[r])) return !0;
                    return !1
                }(t)
            }
        }

        function on(t, e) {
            return t < e ? -1 : t > e ? 1 : 0
        }

        function sn(t) {
            if (!t) return !0;
            var e, r = t[0];
            return t.length <= 1 ? "any" !== r : "==" === r ? un(t[1], t[2], "==") : "!=" === r ? cn(un(t[1], t[2], "==")) : "<" === r || ">" === r || "<=" === r || ">=" === r ? un(t[1], t[2], r) : "any" === r ? (e = t.slice(1), ["any"].concat(e.map(sn))) : "all" === r ? ["all"].concat(t.slice(1).map(sn)) : "none" === r ? ["all"].concat(t.slice(1).map(sn).map(cn)) : "in" === r ? ln(t[1], t.slice(2)) : "!in" === r ? cn(ln(t[1], t.slice(2))) : "has" === r ? pn(t[1]) : "!has" === r ? cn(pn(t[1])) : "within" !== r || t
        }

        function un(t, e, r) {
            switch (t) {
                case "$type":
                    return ["filter-type-" + r, e];
                case "$id":
                    return ["filter-id-" + r, e];
                default:
                    return ["filter-" + r, t, e]
            }
        }

        function ln(t, e) {
            if (0 === e.length) return !1;
            switch (t) {
                case "$type":
                    return ["filter-type-in", ["literal", e]];
                case "$id":
                    return ["filter-id-in", ["literal", e]];
                default:
                    return e.length > 200 && !e.some((function(t) {
                        return typeof t != typeof e[0]
                    })) ? ["filter-in-large", t, ["literal", e.sort(on)]] : ["filter-in-small", t, ["literal", e]]
            }
        }

        function pn(t) {
            switch (t) {
                case "$type":
                    return !0;
                case "$id":
                    return ["filter-has-id"];
                default:
                    return ["filter-has", t]
            }
        }

        function cn(t) {
            return ["!", t]
        }

        function hn(t) {
            return rn(Tt(t.value)) ? tn(Mt({}, t, {
                expressionContext: "filter",
                valueSpec: {
                    value: "boolean"
                }
            })) : function t(e) {
                var r = e.value,
                    n = e.key;
                if ("array" !== Fr(r)) return [new Et(n, r, "array expected, " + Fr(r) + " found")];
                var i, a = e.styleSpec,
                    o = [];
                if (r.length < 1) return [new Et(n, r, "filter array must have at least 1 element")];
                switch (o = o.concat(en({
                    key: n + "[0]",
                    value: r[0],
                    valueSpec: a.filter_operator,
                    style: e.style,
                    styleSpec: e.styleSpec
                })), Bt(r[0])) {
                    case "<":
                    case "<=":
                    case ">":
                    case ">=":
                        r.length >= 2 && "$type" === Bt(r[1]) && o.push(new Et(n, r, '"$type" cannot be use with operator "' + r[0] + '"'));
                    case "==":
                    case "!=":
                        3 !== r.length && o.push(new Et(n, r, 'filter array for operator "' + r[0] + '" must have 3 elements'));
                    case "in":
                    case "!in":
                        r.length >= 2 && "string" !== (i = Fr(r[1])) && o.push(new Et(n + "[1]", r[1], "string expected, " + i + " found"));
                        for (var s = 2; s < r.length; s++) i = Fr(r[s]), "$type" === Bt(r[1]) ? o = o.concat(en({
                            key: n + "[" + s + "]",
                            value: r[s],
                            valueSpec: a.geometry_type,
                            style: e.style,
                            styleSpec: e.styleSpec
                        })) : "string" !== i && "number" !== i && "boolean" !== i && o.push(new Et(n + "[" + s + "]", r[s], "string, number, or boolean expected, " + i + " found"));
                        break;
                    case "any":
                    case "all":
                    case "none":
                        for (var u = 1; u < r.length; u++) o = o.concat(t({
                            key: n + "[" + u + "]",
                            value: r[u],
                            style: e.style,
                            styleSpec: e.styleSpec
                        }));
                        break;
                    case "has":
                    case "!has":
                        i = Fr(r[1]), 2 !== r.length ? o.push(new Et(n, r, 'filter array for "' + r[0] + '" operator must have 2 elements')) : "string" !== i && o.push(new Et(n + "[1]", r[1], "string expected, " + i + " found"));
                        break;
                    case "within":
                        i = Fr(r[1]), 2 !== r.length ? o.push(new Et(n, r, 'filter array for "' + r[0] + '" operator must have 2 elements')) : "object" !== i && o.push(new Et(n + "[1]", r[1], "object expected, " + i + " found"));
                }
                return o
            }(t)
        }

        function fn(t, e) {
            var r = t.key,
                n = t.style,
                i = t.styleSpec,
                a = t.value,
                o = t.objectKey,
                s = i[e + "_" + t.layerType];
            if (!s) return [];
            var u = o.match(/^(.*)-transition$/);
            if ("paint" === e && u && s[u[1]] && s[u[1]].transition) return _n({
                key: r,
                value: a,
                valueSpec: i.transition,
                style: n,
                styleSpec: i
            });
            var l, p = t.valueSpec || s[o];
            if (!p) return [new Et(r, a, 'unknown property "' + o + '"')];
            if ("string" === Fr(a) && Br(p) && !p.tokens && (l = /^{([^}]+)}$/.exec(a))) return [new Et(r, a, '"' + o + '" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ' + JSON.stringify(l[1]) + " }`.")];
            var c = [];
            return "symbol" === t.layerType && ("text-field" === o && n && !n.glyphs && c.push(new Et(r, a, 'use of "text-field" requires a style "glyphs" property')), "text-font" === o && Dr(Tt(a)) && "identity" === Bt(a.type) && c.push(new Et(r, a, '"text-font" does not support identity functions'))), c.concat(_n({
                key: t.key,
                value: a,
                valueSpec: p,
                style: n,
                styleSpec: i,
                expressionContext: "property",
                propertyType: e,
                propertyKey: o
            }))
        }

        function yn(t) {
            return fn(t, "paint")
        }

        function dn(t) {
            return fn(t, "layout")
        }

        function mn(t) {
            var e = [],
                r = t.value,
                n = t.key,
                i = t.style,
                a = t.styleSpec;
            r.type || r.ref || e.push(new Et(n, r, 'either "type" or "ref" is required'));
            var o, s = Bt(r.type),
                u = Bt(r.ref);
            if (r.id)
                for (var l = Bt(r.id), p = 0; p < t.arrayIndex; p++) {
                    var c = i.layers[p];
                    Bt(c.id) === l && e.push(new Et(n, r.id, 'duplicate layer id "' + r.id + '", previously used at line ' + c.id.__line__));
                }
            if ("ref" in r)["type", "source", "source-layer", "filter", "layout"].forEach((function(t) {
                t in r && e.push(new Et(n, r[t], '"' + t + '" is prohibited for ref layers'));
            })), i.layers.forEach((function(t) {
                Bt(t.id) === u && (o = t);
            })), o ? o.ref ? e.push(new Et(n, r.ref, "ref cannot reference another ref layer")) : s = Bt(o.type) : e.push(new Et(n, r.ref, 'ref layer "' + u + '" not found'));
            else if ("background" !== s)
                if (r.source) {
                    var h = i.sources && i.sources[r.source],
                        f = h && Bt(h.type);
                    h ? "vector" === f && "raster" === s ? e.push(new Et(n, r.source, 'layer "' + r.id + '" requires a raster source')) : "raster" === f && "raster" !== s ? e.push(new Et(n, r.source, 'layer "' + r.id + '" requires a vector source')) : "vector" !== f || r["source-layer"] ? "raster-dem" === f && "hillshade" !== s ? e.push(new Et(n, r.source, "raster-dem source can only be used with layer type 'hillshade'.")) : "line" !== s || !r.paint || !r.paint["line-gradient"] || "geojson" === f && h.lineMetrics || e.push(new Et(n, r, 'layer "' + r.id + '" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')) : e.push(new Et(n, r, 'layer "' + r.id + '" must specify a "source-layer"')) : e.push(new Et(n, r.source, 'source "' + r.source + '" not found'));
                } else e.push(new Et(n, r, 'missing required property "source"'));
            return e = e.concat(Yr({
                key: n,
                value: r,
                valueSpec: a.layer,
                style: t.style,
                styleSpec: t.styleSpec,
                objectElementValidators: {
                    "*": function() {
                        return []
                    },
                    type: function() {
                        return _n({
                            key: n + ".type",
                            value: r.type,
                            valueSpec: a.layer.type,
                            style: t.style,
                            styleSpec: t.styleSpec,
                            object: r,
                            objectKey: "type"
                        })
                    },
                    filter: hn,
                    layout: function(t) {
                        return Yr({
                            layer: r,
                            key: t.key,
                            value: t.value,
                            style: t.style,
                            styleSpec: t.styleSpec,
                            objectElementValidators: {
                                "*": function(t) {
                                    return dn(Mt({
                                        layerType: s
                                    }, t))
                                }
                            }
                        })
                    },
                    paint: function(t) {
                        return Yr({
                            layer: r,
                            key: t.key,
                            value: t.value,
                            style: t.style,
                            styleSpec: t.styleSpec,
                            objectElementValidators: {
                                "*": function(t) {
                                    return yn(Mt({
                                        layerType: s
                                    }, t))
                                }
                            }
                        })
                    }
                }
            }))
        }

        function vn(t) {
            var e = t.value,
                r = t.key,
                n = Fr(e);
            return "string" !== n ? [new Et(r, e, "string expected, " + n + " found")] : []
        }
        var gn = {
            promoteId: function(t) {
                var e = t.key,
                    r = t.value;
                if ("string" === Fr(r)) return vn({
                    key: e,
                    value: r
                });
                var n = [];
                for (var i in r) n.push.apply(n, vn({
                    key: e + "." + i,
                    value: r[i]
                }));
                return n
            }
        };

        function xn(t) {
            var e = t.value,
                r = t.key,
                n = t.styleSpec,
                i = t.style;
            if (!e.type) return [new Et(r, e, '"type" is required')];
            var a, o = Bt(e.type);
            switch (o) {
                case "vector":
                case "raster":
                case "raster-dem":
                    return Yr({
                        key: r,
                        value: e,
                        valueSpec: n["source_" + o.replace("-", "_")],
                        style: t.style,
                        styleSpec: n,
                        objectElementValidators: gn
                    });
                case "geojson":
                    if (a = Yr({
                            key: r,
                            value: e,
                            valueSpec: n.source_geojson,
                            style: i,
                            styleSpec: n,
                            objectElementValidators: gn
                        }), e.cluster)
                        for (var s in e.clusterProperties) {
                            var u = e.clusterProperties[s],
                                l = u[0],
                                p = "string" == typeof l ? [l, ["accumulated"],
                                    ["get", s]
                                ] : l;
                            a.push.apply(a, tn({
                                key: r + "." + s + ".map",
                                value: u[1],
                                expressionContext: "cluster-map"
                            })), a.push.apply(a, tn({
                                key: r + "." + s + ".reduce",
                                value: p,
                                expressionContext: "cluster-reduce"
                            }));
                        }
                    return a;
                case "video":
                    return Yr({
                        key: r,
                        value: e,
                        valueSpec: n.source_video,
                        style: i,
                        styleSpec: n
                    });
                case "image":
                    return Yr({
                        key: r,
                        value: e,
                        valueSpec: n.source_image,
                        style: i,
                        styleSpec: n
                    });
                case "canvas":
                    return [new Et(r, null, "Please use runtime APIs to add canvas sources, rather than including them in stylesheets.", "source.canvas")];
                default:
                    return en({
                        key: r + ".type",
                        value: e.type,
                        valueSpec: {
                            values: ["vector", "raster", "raster-dem", "geojson", "video", "image"]
                        },
                        style: i,
                        styleSpec: n
                    })
            }
        }

        function bn(t) {
            var e = t.value,
                r = t.styleSpec,
                n = r.light,
                i = t.style,
                a = [],
                o = Fr(e);
            if (void 0 === e) return a;
            if ("object" !== o) return a.concat([new Et("light", e, "object expected, " + o + " found")]);
            for (var s in e) {
                var u = s.match(/^(.*)-transition$/);
                a = a.concat(u && n[u[1]] && n[u[1]].transition ? _n({
                    key: s,
                    value: e[s],
                    valueSpec: r.transition,
                    style: i,
                    styleSpec: r
                }) : n[s] ? _n({
                    key: s,
                    value: e[s],
                    valueSpec: n[s],
                    style: i,
                    styleSpec: r
                }) : [new Et(s, e[s], 'unknown property "' + s + '"')]);
            }
            return a
        }
        var wn = {
            "*": function() {
                return []
            },
            array: $r,
            boolean: function(t) {
                var e = t.value,
                    r = t.key,
                    n = Fr(e);
                return "boolean" !== n ? [new Et(r, e, "boolean expected, " + n + " found")] : []
            },
            number: Wr,
            color: function(t) {
                var e = t.key,
                    r = t.value,
                    n = Fr(r);
                return "string" !== n ? [new Et(e, r, "color expected, " + n + " found")] : null === Wt(r) ? [new Et(e, r, 'color expected, "' + r + '" found')] : []
            },
            constants: Pt,
            enum: en,
            filter: hn,
            function: Qr,
            layer: mn,
            object: Yr,
            source: xn,
            light: bn,
            string: vn,
            formatted: function(t) {
                return 0 === vn(t).length ? [] : tn(t)
            },
            resolvedImage: function(t) {
                return 0 === vn(t).length ? [] : tn(t)
            }
        };

        function _n(t) {
            var e = t.value,
                r = t.valueSpec,
                n = t.styleSpec;
            return r.expression && Dr(Bt(e)) ? Qr(t) : r.expression && Kr(Tt(e)) ? tn(t) : r.type && wn[r.type] ? wn[r.type](t) : Yr(Mt({}, t, {
                valueSpec: r.type ? n[r.type] : r
            }))
        }

        function An(t) {
            var e = t.value,
                r = t.key,
                n = vn(t);
            return n.length || (-1 === e.indexOf("{fontstack}") && n.push(new Et(r, e, '"glyphs" url must include a "{fontstack}" token')), -1 === e.indexOf("{range}") && n.push(new Et(r, e, '"glyphs" url must include a "{range}" token'))), n
        }

        function Sn(t, e) {
            void 0 === e && (e = Ct);
            var r = [];
            return r = r.concat(_n({
                key: "",
                value: t,
                valueSpec: e.$root,
                styleSpec: e,
                style: t,
                objectElementValidators: {
                    glyphs: An,
                    "*": function() {
                        return []
                    }
                }
            })), t.constants && (r = r.concat(Pt({
                key: "constants",
                value: t.constants,
                style: t,
                styleSpec: e
            }))), kn(r)
        }

        function kn(t) {
            return [].concat(t).sort((function(t, e) {
                return t.line - e.line
            }))
        }

        function In(t) {
            return function() {
                for (var e = [], r = arguments.length; r--;) e[r] = arguments[r];
                return kn(t.apply(this, e))
            }
        }
        Sn.source = In(xn), Sn.light = In(bn), Sn.layer = In(mn), Sn.filter = In(hn), Sn.paintProperty = In(yn), Sn.layoutProperty = In(dn);
        var zn = Sn,
            Cn = zn.light,
            En = zn.paintProperty,
            Pn = zn.layoutProperty;

        function Mn(t, e) {
            var r = !1;
            if (e && e.length)
                for (var n = 0, i = e; n < i.length; n += 1) t.fire(new It(new Error(i[n].message))), r = !0;
            return r
        }
        var Bn = Tn;

        function Tn(t, e, r) {
            var n = this.cells = [];
            if (t instanceof ArrayBuffer) {
                this.arrayBuffer = t;
                var i = new Int32Array(this.arrayBuffer);
                t = i[0], this.d = (e = i[1]) + 2 * (r = i[2]);
                for (var a = 0; a < this.d * this.d; a++) {
                    var o = i[3 + a],
                        s = i[3 + a + 1];
                    n.push(o === s ? null : i.subarray(o, s));
                }
                var u = i[3 + n.length + 1];
                this.keys = i.subarray(i[3 + n.length], u), this.bboxes = i.subarray(u), this.insert = this._insertReadonly;
            } else {
                this.d = e + 2 * r;
                for (var l = 0; l < this.d * this.d; l++) n.push([]);
                this.keys = [], this.bboxes = [];
            }
            this.n = e, this.extent = t, this.padding = r, this.scale = e / t, this.uid = 0;
            var p = r / e * t;
            this.min = -p, this.max = t + p;
        }
        Tn.prototype.insert = function(t, e, r, n, i) {
            this._forEachCell(e, r, n, i, this._insertCell, this.uid++), this.keys.push(t), this.bboxes.push(e), this.bboxes.push(r), this.bboxes.push(n), this.bboxes.push(i);
        }, Tn.prototype._insertReadonly = function() {
            throw "Cannot insert into a GridIndex created from an ArrayBuffer."
        }, Tn.prototype._insertCell = function(t, e, r, n, i, a) {
            this.cells[i].push(a);
        }, Tn.prototype.query = function(t, e, r, n, i) {
            var a = this.min,
                o = this.max;
            if (t <= a && e <= a && o <= r && o <= n && !i) return Array.prototype.slice.call(this.keys);
            var s = [];
            return this._forEachCell(t, e, r, n, this._queryCell, s, {}, i), s
        }, Tn.prototype._queryCell = function(t, e, r, n, i, a, o, s) {
            var u = this.cells[i];
            if (null !== u)
                for (var l = this.keys, p = this.bboxes, c = 0; c < u.length; c++) {
                    var h = u[c];
                    if (void 0 === o[h]) {
                        var f = 4 * h;
                        (s ? s(p[f + 0], p[f + 1], p[f + 2], p[f + 3]) : t <= p[f + 2] && e <= p[f + 3] && r >= p[f + 0] && n >= p[f + 1]) ? (o[h] = !0, a.push(l[h])) : o[h] = !1;
                    }
                }
        }, Tn.prototype._forEachCell = function(t, e, r, n, i, a, o, s) {
            for (var u = this._convertToCellCoord(t), l = this._convertToCellCoord(e), p = this._convertToCellCoord(r), c = this._convertToCellCoord(n), h = u; h <= p; h++)
                for (var f = l; f <= c; f++) {
                    var y = this.d * f + h;
                    if ((!s || s(this._convertFromCellCoord(h), this._convertFromCellCoord(f), this._convertFromCellCoord(h + 1), this._convertFromCellCoord(f + 1))) && i.call(this, t, e, r, n, y, a, o, s)) return
                }
        }, Tn.prototype._convertFromCellCoord = function(t) {
            return (t - this.padding) / this.scale
        }, Tn.prototype._convertToCellCoord = function(t) {
            return Math.max(0, Math.min(this.d - 1, Math.floor(t * this.scale) + this.padding))
        }, Tn.prototype.toArrayBuffer = function() {
            if (this.arrayBuffer) return this.arrayBuffer;
            for (var t = this.cells, e = 3 + this.cells.length + 1 + 1, r = 0, n = 0; n < this.cells.length; n++) r += this.cells[n].length;
            var i = new Int32Array(e + r + this.keys.length + this.bboxes.length);
            i[0] = this.extent, i[1] = this.n, i[2] = this.padding;
            for (var a = e, o = 0; o < t.length; o++) {
                var s = t[o];
                i[3 + o] = a, i.set(s, a), a += s.length;
            }
            return i[3 + t.length] = a, i.set(this.keys, a), i[3 + t.length + 1] = a += this.keys.length, i.set(this.bboxes, a), a += this.bboxes.length, i.buffer
        };
        var Vn = o.ImageData,
            Fn = o.ImageBitmap,
            Dn = {};

        function Ln(t, e, r) {
            void 0 === r && (r = {}), Object.defineProperty(e, "_classRegistryKey", {
                value: t,
                writeable: !1
            }), Dn[t] = {
                klass: e,
                omit: r.omit || [],
                shallow: r.shallow || []
            };
        }
        for (var Rn in Ln("Object", Object), Bn.serialize = function(t, e) {
                var r = t.toArrayBuffer();
                return e && e.push(r), {
                    buffer: r
                }
            }, Bn.deserialize = function(t) {
                return new Bn(t.buffer)
            }, Ln("Grid", Bn), Ln("Color", Qt), Ln("Error", Error), Ln("ResolvedImage", ne), Ln("StylePropertyFunction", Hr), Ln("StyleExpression", Nr, {
                omit: ["_evaluator"]
            }), Ln("ZoomDependentExpression", Xr), Ln("ZoomConstantExpression", Zr), Ln("CompoundExpression", ge, {
                omit: ["_evaluate"]
            }), kr) kr[Rn]._classRegistryKey || Ln("Expression_" + Rn, kr[Rn]);

        function On(t) {
            return t && "undefined" != typeof ArrayBuffer && (t instanceof ArrayBuffer || t.constructor && "ArrayBuffer" === t.constructor.name)
        }

        function Un(t) {
            return Fn && t instanceof Fn
        }

        function jn(t, e) {
            if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp) return t;
            if (On(t) || Un(t)) return e && e.push(t), t;
            if (ArrayBuffer.isView(t)) {
                var r = t;
                return e && e.push(r.buffer), r
            }
            if (t instanceof Vn) return e && e.push(t.data.buffer), t;
            if (Array.isArray(t)) {
                for (var n = [], i = 0, a = t; i < a.length; i += 1) n.push(jn(a[i], e));
                return n
            }
            if ("object" == typeof t) {
                var o = t.constructor,
                    s = o._classRegistryKey;
                if (!s) throw new Error("can't serialize object of unregistered class");
                var u = o.serialize ? o.serialize(t, e) : {};
                if (!o.serialize) {
                    for (var l in t)
                        if (t.hasOwnProperty(l) && !(Dn[s].omit.indexOf(l) >= 0)) {
                            var p = t[l];
                            u[l] = Dn[s].shallow.indexOf(l) >= 0 ? p : jn(p, e);
                        }
                    t instanceof Error && (u.message = t.message);
                }
                if (u.$name) throw new Error("$name property is reserved for worker serialization logic.");
                return "Object" !== s && (u.$name = s), u
            }
            throw new Error("can't serialize object of type " + typeof t)
        }

        function qn(t) {
            if (null == t || "boolean" == typeof t || "number" == typeof t || "string" == typeof t || t instanceof Boolean || t instanceof Number || t instanceof String || t instanceof Date || t instanceof RegExp || On(t) || Un(t) || ArrayBuffer.isView(t) || t instanceof Vn) return t;
            if (Array.isArray(t)) return t.map(qn);
            if ("object" == typeof t) {
                var e = t.$name || "Object",
                    r = Dn[e].klass;
                if (!r) throw new Error("can't deserialize unregistered class " + e);
                if (r.deserialize) return r.deserialize(t);
                for (var n = Object.create(r.prototype), i = 0, a = Object.keys(t); i < a.length; i += 1) {
                    var o = a[i];
                    if ("$name" !== o) {
                        var s = t[o];
                        n[o] = Dn[e].shallow.indexOf(o) >= 0 ? s : qn(s);
                    }
                }
                return n
            }
            throw new Error("can't deserialize object of type " + typeof t)
        }
        var Nn = function() {
            this.first = !0;
        };
        Nn.prototype.update = function(t, e) {
            var r = Math.floor(t);
            return this.first ? (this.first = !1, this.lastIntegerZoom = r, this.lastIntegerZoomTime = 0, this.lastZoom = t, this.lastFloorZoom = r, !0) : (this.lastFloorZoom > r ? (this.lastIntegerZoom = r + 1, this.lastIntegerZoomTime = e) : this.lastFloorZoom < r && (this.lastIntegerZoom = r, this.lastIntegerZoomTime = e), t !== this.lastZoom && (this.lastZoom = t, this.lastFloorZoom = r, !0))
        };
        var Kn = {
            "Latin-1 Supplement": function(t) {
                return t >= 128 && t <= 255
            },
            Arabic: function(t) {
                return t >= 1536 && t <= 1791
            },
            "Arabic Supplement": function(t) {
                return t >= 1872 && t <= 1919
            },
            "Arabic Extended-A": function(t) {
                return t >= 2208 && t <= 2303
            },
            "Hangul Jamo": function(t) {
                return t >= 4352 && t <= 4607
            },
            "Unified Canadian Aboriginal Syllabics": function(t) {
                return t >= 5120 && t <= 5759
            },
            Khmer: function(t) {
                return t >= 6016 && t <= 6143
            },
            "Unified Canadian Aboriginal Syllabics Extended": function(t) {
                return t >= 6320 && t <= 6399
            },
            "General Punctuation": function(t) {
                return t >= 8192 && t <= 8303
            },
            "Letterlike Symbols": function(t) {
                return t >= 8448 && t <= 8527
            },
            "Number Forms": function(t) {
                return t >= 8528 && t <= 8591
            },
            "Miscellaneous Technical": function(t) {
                return t >= 8960 && t <= 9215
            },
            "Control Pictures": function(t) {
                return t >= 9216 && t <= 9279
            },
            "Optical Character Recognition": function(t) {
                return t >= 9280 && t <= 9311
            },
            "Enclosed Alphanumerics": function(t) {
                return t >= 9312 && t <= 9471
            },
            "Geometric Shapes": function(t) {
                return t >= 9632 && t <= 9727
            },
            "Miscellaneous Symbols": function(t) {
                return t >= 9728 && t <= 9983
            },
            "Miscellaneous Symbols and Arrows": function(t) {
                return t >= 11008 && t <= 11263
            },
            "CJK Radicals Supplement": function(t) {
                return t >= 11904 && t <= 12031
            },
            "Kangxi Radicals": function(t) {
                return t >= 12032 && t <= 12255
            },
            "Ideographic Description Characters": function(t) {
                return t >= 12272 && t <= 12287
            },
            "CJK Symbols and Punctuation": function(t) {
                return t >= 12288 && t <= 12351
            },
            Hiragana: function(t) {
                return t >= 12352 && t <= 12447
            },
            Katakana: function(t) {
                return t >= 12448 && t <= 12543
            },
            Bopomofo: function(t) {
                return t >= 12544 && t <= 12591
            },
            "Hangul Compatibility Jamo": function(t) {
                return t >= 12592 && t <= 12687
            },
            Kanbun: function(t) {
                return t >= 12688 && t <= 12703
            },
            "Bopomofo Extended": function(t) {
                return t >= 12704 && t <= 12735
            },
            "CJK Strokes": function(t) {
                return t >= 12736 && t <= 12783
            },
            "Katakana Phonetic Extensions": function(t) {
                return t >= 12784 && t <= 12799
            },
            "Enclosed CJK Letters and Months": function(t) {
                return t >= 12800 && t <= 13055
            },
            "CJK Compatibility": function(t) {
                return t >= 13056 && t <= 13311
            },
            "CJK Unified Ideographs Extension A": function(t) {
                return t >= 13312 && t <= 19903
            },
            "Yijing Hexagram Symbols": function(t) {
                return t >= 19904 && t <= 19967
            },
            "CJK Unified Ideographs": function(t) {
                return t >= 19968 && t <= 40959
            },
            "Yi Syllables": function(t) {
                return t >= 40960 && t <= 42127
            },
            "Yi Radicals": function(t) {
                return t >= 42128 && t <= 42191
            },
            "Hangul Jamo Extended-A": function(t) {
                return t >= 43360 && t <= 43391
            },
            "Hangul Syllables": function(t) {
                return t >= 44032 && t <= 55215
            },
            "Hangul Jamo Extended-B": function(t) {
                return t >= 55216 && t <= 55295
            },
            "Private Use Area": function(t) {
                return t >= 57344 && t <= 63743
            },
            "CJK Compatibility Ideographs": function(t) {
                return t >= 63744 && t <= 64255
            },
            "Arabic Presentation Forms-A": function(t) {
                return t >= 64336 && t <= 65023
            },
            "Vertical Forms": function(t) {
                return t >= 65040 && t <= 65055
            },
            "CJK Compatibility Forms": function(t) {
                return t >= 65072 && t <= 65103
            },
            "Small Form Variants": function(t) {
                return t >= 65104 && t <= 65135
            },
            "Arabic Presentation Forms-B": function(t) {
                return t >= 65136 && t <= 65279
            },
            "Halfwidth and Fullwidth Forms": function(t) {
                return t >= 65280 && t <= 65519
            }
        };

        function Gn(t) {
            for (var e = 0, r = t; e < r.length; e += 1)
                if (Zn(r[e].charCodeAt(0))) return !0;
            return !1
        }

        function Zn(t) {
            return !(746 !== t && 747 !== t && (t < 4352 || !(Kn["Bopomofo Extended"](t) || Kn.Bopomofo(t) || Kn["CJK Compatibility Forms"](t) && !(t >= 65097 && t <= 65103) || Kn["CJK Compatibility Ideographs"](t) || Kn["CJK Compatibility"](t) || Kn["CJK Radicals Supplement"](t) || Kn["CJK Strokes"](t) || !(!Kn["CJK Symbols and Punctuation"](t) || t >= 12296 && t <= 12305 || t >= 12308 && t <= 12319 || 12336 === t) || Kn["CJK Unified Ideographs Extension A"](t) || Kn["CJK Unified Ideographs"](t) || Kn["Enclosed CJK Letters and Months"](t) || Kn["Hangul Compatibility Jamo"](t) || Kn["Hangul Jamo Extended-A"](t) || Kn["Hangul Jamo Extended-B"](t) || Kn["Hangul Jamo"](t) || Kn["Hangul Syllables"](t) || Kn.Hiragana(t) || Kn["Ideographic Description Characters"](t) || Kn.Kanbun(t) || Kn["Kangxi Radicals"](t) || Kn["Katakana Phonetic Extensions"](t) || Kn.Katakana(t) && 12540 !== t || !(!Kn["Halfwidth and Fullwidth Forms"](t) || 65288 === t || 65289 === t || 65293 === t || t >= 65306 && t <= 65310 || 65339 === t || 65341 === t || 65343 === t || t >= 65371 && t <= 65503 || 65507 === t || t >= 65512 && t <= 65519) || !(!Kn["Small Form Variants"](t) || t >= 65112 && t <= 65118 || t >= 65123 && t <= 65126) || Kn["Unified Canadian Aboriginal Syllabics"](t) || Kn["Unified Canadian Aboriginal Syllabics Extended"](t) || Kn["Vertical Forms"](t) || Kn["Yijing Hexagram Symbols"](t) || Kn["Yi Syllables"](t) || Kn["Yi Radicals"](t))))
        }

        function Xn(t) {
            return !(Zn(t) || function(t) {
                return !!(Kn["Latin-1 Supplement"](t) && (167 === t || 169 === t || 174 === t || 177 === t || 188 === t || 189 === t || 190 === t || 215 === t || 247 === t) || Kn["General Punctuation"](t) && (8214 === t || 8224 === t || 8225 === t || 8240 === t || 8241 === t || 8251 === t || 8252 === t || 8258 === t || 8263 === t || 8264 === t || 8265 === t || 8273 === t) || Kn["Letterlike Symbols"](t) || Kn["Number Forms"](t) || Kn["Miscellaneous Technical"](t) && (t >= 8960 && t <= 8967 || t >= 8972 && t <= 8991 || t >= 8996 && t <= 9e3 || 9003 === t || t >= 9085 && t <= 9114 || t >= 9150 && t <= 9165 || 9167 === t || t >= 9169 && t <= 9179 || t >= 9186 && t <= 9215) || Kn["Control Pictures"](t) && 9251 !== t || Kn["Optical Character Recognition"](t) || Kn["Enclosed Alphanumerics"](t) || Kn["Geometric Shapes"](t) || Kn["Miscellaneous Symbols"](t) && !(t >= 9754 && t <= 9759) || Kn["Miscellaneous Symbols and Arrows"](t) && (t >= 11026 && t <= 11055 || t >= 11088 && t <= 11097 || t >= 11192 && t <= 11243) || Kn["CJK Symbols and Punctuation"](t) || Kn.Katakana(t) || Kn["Private Use Area"](t) || Kn["CJK Compatibility Forms"](t) || Kn["Small Form Variants"](t) || Kn["Halfwidth and Fullwidth Forms"](t) || 8734 === t || 8756 === t || 8757 === t || t >= 9984 && t <= 10087 || t >= 10102 && t <= 10131 || 65532 === t || 65533 === t)
            }(t))
        }

        function Jn(t) {
            return t >= 1424 && t <= 2303 || Kn["Arabic Presentation Forms-A"](t) || Kn["Arabic Presentation Forms-B"](t)
        }

        function Hn(t, e) {
            return !(!e && Jn(t) || t >= 2304 && t <= 3583 || t >= 3840 && t <= 4255 || Kn.Khmer(t))
        }

        function Yn(t) {
            for (var e = 0, r = t; e < r.length; e += 1)
                if (Jn(r[e].charCodeAt(0))) return !0;
            return !1
        }
        var $n = null,
            Wn = "unavailable",
            Qn = null,
            ti = function(t) {
                t && "string" == typeof t && t.indexOf("NetworkError") > -1 && (Wn = "error"), $n && $n(t);
            };

        function ei() {
            ri.fire(new kt("pluginStateChange", {
                pluginStatus: Wn,
                pluginURL: Qn
            }));
        }
        var ri = new zt,
            ni = function() {
                return Wn
            },
            ii = function() {
                if ("deferred" !== Wn || !Qn) throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");
                Wn = "loading", ei(), Qn && bt({
                    url: Qn
                }, (function(t) {
                    t ? ti(t) : (Wn = "loaded", ei());
                }));
            },
            ai = {
                applyArabicShaping: null,
                processBidirectionalText: null,
                processStyledBidirectionalText: null,
                isLoaded: function() {
                    return "loaded" === Wn || null != ai.applyArabicShaping
                },
                isLoading: function() {
                    return "loading" === Wn
                },
                setState: function(t) {
                    Wn = t.pluginStatus, Qn = t.pluginURL;
                },
                isParsed: function() {
                    return null != ai.applyArabicShaping && null != ai.processBidirectionalText && null != ai.processStyledBidirectionalText
                },
                getPluginURL: function() {
                    return Qn
                }
            },
            oi = function(t, e) {
                this.zoom = t, e ? (this.now = e.now, this.fadeDuration = e.fadeDuration, this.zoomHistory = e.zoomHistory, this.transition = e.transition) : (this.now = 0, this.fadeDuration = 0, this.zoomHistory = new Nn, this.transition = {});
            };
        oi.prototype.isSupportedScript = function(t) {
            return function(t, e) {
                for (var r = 0, n = t; r < n.length; r += 1)
                    if (!Hn(n[r].charCodeAt(0), e)) return !1;
                return !0
            }(t, ai.isLoaded())
        }, oi.prototype.crossFadingFactor = function() {
            return 0 === this.fadeDuration ? 1 : Math.min((this.now - this.zoomHistory.lastIntegerZoomTime) / this.fadeDuration, 1)
        }, oi.prototype.getCrossfadeParameters = function() {
            var t = this.zoom,
                e = t - Math.floor(t),
                r = this.crossFadingFactor();
            return t > this.zoomHistory.lastIntegerZoom ? {
                fromScale: 2,
                toScale: 1,
                t: e + (1 - e) * r
            } : {
                fromScale: .5,
                toScale: 1,
                t: 1 - (1 - r) * e
            }
        };
        var si = function(t, e) {
            this.property = t, this.value = e, this.expression = function(t, e) {
                if (Dr(t)) return new Hr(t, e);
                if (Kr(t)) {
                    var r = Jr(t, e);
                    if ("error" === r.result) throw new Error(r.value.map((function(t) {
                        return t.key + ": " + t.message
                    })).join(", "));
                    return r.value
                }
                var n = t;
                return "string" == typeof t && "color" === e.type && (n = Qt.parse(t)), {
                    kind: "constant",
                    evaluate: function() {
                        return n
                    }
                }
            }(void 0 === e ? t.specification.default : e, t.specification);
        };
        si.prototype.isDataDriven = function() {
            return "source" === this.expression.kind || "composite" === this.expression.kind
        }, si.prototype.possiblyEvaluate = function(t, e, r) {
            return this.property.possiblyEvaluate(this, t, e, r)
        };
        var ui = function(t) {
            this.property = t, this.value = new si(t, void 0);
        };
        ui.prototype.transitioned = function(t, e) {
            return new pi(this.property, this.value, e, h({}, t.transition, this.transition), t.now)
        }, ui.prototype.untransitioned = function() {
            return new pi(this.property, this.value, null, {}, 0)
        };
        var li = function(t) {
            this._properties = t, this._values = Object.create(t.defaultTransitionablePropertyValues);
        };
        li.prototype.getValue = function(t) {
            return w(this._values[t].value.value)
        }, li.prototype.setValue = function(t, e) {
            this._values.hasOwnProperty(t) || (this._values[t] = new ui(this._values[t].property)), this._values[t].value = new si(this._values[t].property, null === e ? void 0 : w(e));
        }, li.prototype.getTransition = function(t) {
            return w(this._values[t].transition)
        }, li.prototype.setTransition = function(t, e) {
            this._values.hasOwnProperty(t) || (this._values[t] = new ui(this._values[t].property)), this._values[t].transition = w(e) || void 0;
        }, li.prototype.serialize = function() {
            for (var t = {}, e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                var n = r[e],
                    i = this.getValue(n);
                void 0 !== i && (t[n] = i);
                var a = this.getTransition(n);
                void 0 !== a && (t[n + "-transition"] = a);
            }
            return t
        }, li.prototype.transitioned = function(t, e) {
            for (var r = new ci(this._properties), n = 0, i = Object.keys(this._values); n < i.length; n += 1) {
                var a = i[n];
                r._values[a] = this._values[a].transitioned(t, e._values[a]);
            }
            return r
        }, li.prototype.untransitioned = function() {
            for (var t = new ci(this._properties), e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                var n = r[e];
                t._values[n] = this._values[n].untransitioned();
            }
            return t
        };
        var pi = function(t, e, r, n, i) {
            this.property = t, this.value = e, this.begin = i + n.delay || 0, this.end = this.begin + n.duration || 0, t.specification.transition && (n.delay || n.duration) && (this.prior = r);
        };
        pi.prototype.possiblyEvaluate = function(t, e, r) {
            var n = t.now || 0,
                i = this.value.possiblyEvaluate(t, e, r),
                a = this.prior;
            if (a) {
                if (n > this.end) return this.prior = null, i;
                if (this.value.isDataDriven()) return this.prior = null, i;
                if (n < this.begin) return a.possiblyEvaluate(t, e, r);
                var o = (n - this.begin) / (this.end - this.begin);
                return this.property.interpolate(a.possiblyEvaluate(t, e, r), i, function(t) {
                    if (t <= 0) return 0;
                    if (t >= 1) return 1;
                    var e = t * t,
                        r = e * t;
                    return 4 * (t < .5 ? r : 3 * (t - e) + r - .75)
                }(o))
            }
            return i
        };
        var ci = function(t) {
            this._properties = t, this._values = Object.create(t.defaultTransitioningPropertyValues);
        };
        ci.prototype.possiblyEvaluate = function(t, e, r) {
            for (var n = new yi(this._properties), i = 0, a = Object.keys(this._values); i < a.length; i += 1) {
                var o = a[i];
                n._values[o] = this._values[o].possiblyEvaluate(t, e, r);
            }
            return n
        }, ci.prototype.hasTransition = function() {
            for (var t = 0, e = Object.keys(this._values); t < e.length; t += 1)
                if (this._values[e[t]].prior) return !0;
            return !1
        };
        var hi = function(t) {
            this._properties = t, this._values = Object.create(t.defaultPropertyValues);
        };
        hi.prototype.getValue = function(t) {
            return w(this._values[t].value)
        }, hi.prototype.setValue = function(t, e) {
            this._values[t] = new si(this._values[t].property, null === e ? void 0 : w(e));
        }, hi.prototype.serialize = function() {
            for (var t = {}, e = 0, r = Object.keys(this._values); e < r.length; e += 1) {
                var n = r[e],
                    i = this.getValue(n);
                void 0 !== i && (t[n] = i);
            }
            return t
        }, hi.prototype.possiblyEvaluate = function(t, e, r) {
            for (var n = new yi(this._properties), i = 0, a = Object.keys(this._values); i < a.length; i += 1) {
                var o = a[i];
                n._values[o] = this._values[o].possiblyEvaluate(t, e, r);
            }
            return n
        };
        var fi = function(t, e, r) {
            this.property = t, this.value = e, this.parameters = r;
        };
        fi.prototype.isConstant = function() {
            return "constant" === this.value.kind
        }, fi.prototype.constantOr = function(t) {
            return "constant" === this.value.kind ? this.value.value : t
        }, fi.prototype.evaluate = function(t, e, r, n) {
            return this.property.evaluate(this.value, this.parameters, t, e, r, n)
        };
        var yi = function(t) {
            this._properties = t, this._values = Object.create(t.defaultPossiblyEvaluatedValues);
        };
        yi.prototype.get = function(t) {
            return this._values[t]
        };
        var di = function(t) {
            this.specification = t;
        };
        di.prototype.possiblyEvaluate = function(t, e) {
            return t.expression.evaluate(e)
        }, di.prototype.interpolate = function(t, e, r) {
            var n = Ke[this.specification.type];
            return n ? n(t, e, r) : t
        };
        var mi = function(t, e) {
            this.specification = t, this.overrides = e;
        };
        mi.prototype.possiblyEvaluate = function(t, e, r, n) {
            return new fi(this, "constant" === t.expression.kind || "camera" === t.expression.kind ? {
                kind: "constant",
                value: t.expression.evaluate(e, null, {}, r, n)
            } : t.expression, e)
        }, mi.prototype.interpolate = function(t, e, r) {
            if ("constant" !== t.value.kind || "constant" !== e.value.kind) return t;
            if (void 0 === t.value.value || void 0 === e.value.value) return new fi(this, {
                kind: "constant",
                value: void 0
            }, t.parameters);
            var n = Ke[this.specification.type];
            return n ? new fi(this, {
                kind: "constant",
                value: n(t.value.value, e.value.value, r)
            }, t.parameters) : t
        }, mi.prototype.evaluate = function(t, e, r, n, i, a) {
            return "constant" === t.kind ? t.value : t.evaluate(e, r, n, i, a)
        };
        var vi = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.possiblyEvaluate = function(t, e, r, n) {
                    if (void 0 === t.value) return new fi(this, {
                        kind: "constant",
                        value: void 0
                    }, e);
                    if ("constant" === t.expression.kind) {
                        var i = t.expression.evaluate(e, null, {}, r, n),
                            a = "resolvedImage" === t.property.specification.type && "string" != typeof i ? i.name : i,
                            o = this._calculate(a, a, a, e);
                        return new fi(this, {
                            kind: "constant",
                            value: o
                        }, e)
                    }
                    if ("camera" === t.expression.kind) {
                        var s = this._calculate(t.expression.evaluate({
                            zoom: e.zoom - 1
                        }), t.expression.evaluate({
                            zoom: e.zoom
                        }), t.expression.evaluate({
                            zoom: e.zoom + 1
                        }), e);
                        return new fi(this, {
                            kind: "constant",
                            value: s
                        }, e)
                    }
                    return new fi(this, t.expression, e)
                }, e.prototype.evaluate = function(t, e, r, n, i, a) {
                    if ("source" === t.kind) {
                        var o = t.evaluate(e, r, n, i, a);
                        return this._calculate(o, o, o, e)
                    }
                    return "composite" === t.kind ? this._calculate(t.evaluate({
                        zoom: Math.floor(e.zoom) - 1
                    }, r, n), t.evaluate({
                        zoom: Math.floor(e.zoom)
                    }, r, n), t.evaluate({
                        zoom: Math.floor(e.zoom) + 1
                    }, r, n), e) : t.value
                }, e.prototype._calculate = function(t, e, r, n) {
                    return n.zoom > n.zoomHistory.lastIntegerZoom ? {
                        from: t,
                        to: e
                    } : {
                        from: r,
                        to: e
                    }
                }, e.prototype.interpolate = function(t) {
                    return t
                }, e
            }(mi),
            gi = function(t) {
                this.specification = t;
            };
        gi.prototype.possiblyEvaluate = function(t, e, r, n) {
            if (void 0 !== t.value) {
                if ("constant" === t.expression.kind) {
                    var i = t.expression.evaluate(e, null, {}, r, n);
                    return this._calculate(i, i, i, e)
                }
                return this._calculate(t.expression.evaluate(new oi(Math.floor(e.zoom - 1), e)), t.expression.evaluate(new oi(Math.floor(e.zoom), e)), t.expression.evaluate(new oi(Math.floor(e.zoom + 1), e)), e)
            }
        }, gi.prototype._calculate = function(t, e, r, n) {
            return n.zoom > n.zoomHistory.lastIntegerZoom ? {
                from: t,
                to: e
            } : {
                from: r,
                to: e
            }
        }, gi.prototype.interpolate = function(t) {
            return t
        };
        var xi = function(t) {
            this.specification = t;
        };
        xi.prototype.possiblyEvaluate = function(t, e, r, n) {
            return !!t.expression.evaluate(e, null, {}, r, n)
        }, xi.prototype.interpolate = function() {
            return !1
        };
        var bi = function(t) {
            for (var e in this.properties = t, this.defaultPropertyValues = {}, this.defaultTransitionablePropertyValues = {}, this.defaultTransitioningPropertyValues = {}, this.defaultPossiblyEvaluatedValues = {}, this.overridableProperties = [], t) {
                var r = t[e];
                r.specification.overridable && this.overridableProperties.push(e);
                var n = this.defaultPropertyValues[e] = new si(r, void 0),
                    i = this.defaultTransitionablePropertyValues[e] = new ui(r);
                this.defaultTransitioningPropertyValues[e] = i.untransitioned(), this.defaultPossiblyEvaluatedValues[e] = n.possiblyEvaluate({});
            }
        };
        Ln("DataDrivenProperty", mi), Ln("DataConstantProperty", di), Ln("CrossFadedDataDrivenProperty", vi), Ln("CrossFadedProperty", gi), Ln("ColorRampProperty", xi);
        var wi = function(t) {
                function e(e, r) {
                    if (t.call(this), this.id = e.id, this.type = e.type, this._featureFilter = {
                            filter: function() {
                                return !0
                            },
                            needGeometry: !1
                        }, "custom" !== e.type && (this.metadata = (e = e).metadata, this.minzoom = e.minzoom, this.maxzoom = e.maxzoom, "background" !== e.type && (this.source = e.source, this.sourceLayer = e["source-layer"], this.filter = e.filter), r.layout && (this._unevaluatedLayout = new hi(r.layout)), r.paint)) {
                        for (var n in this._transitionablePaint = new li(r.paint), e.paint) this.setPaintProperty(n, e.paint[n], {
                            validate: !1
                        });
                        for (var i in e.layout) this.setLayoutProperty(i, e.layout[i], {
                            validate: !1
                        });
                        this._transitioningPaint = this._transitionablePaint.untransitioned(), this.paint = new yi(r.paint);
                    }
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getCrossfadeParameters = function() {
                    return this._crossfadeParameters
                }, e.prototype.getLayoutProperty = function(t) {
                    return "visibility" === t ? this.visibility : this._unevaluatedLayout.getValue(t)
                }, e.prototype.setLayoutProperty = function(t, e, r) {
                    void 0 === r && (r = {}), null != e && this._validate(Pn, "layers." + this.id + ".layout." + t, t, e, r) || ("visibility" !== t ? this._unevaluatedLayout.setValue(t, e) : this.visibility = e);
                }, e.prototype.getPaintProperty = function(t) {
                    return g(t, "-transition") ? this._transitionablePaint.getTransition(t.slice(0, -"-transition".length)) : this._transitionablePaint.getValue(t)
                }, e.prototype.setPaintProperty = function(t, e, r) {
                    if (void 0 === r && (r = {}), null != e && this._validate(En, "layers." + this.id + ".paint." + t, t, e, r)) return !1;
                    if (g(t, "-transition")) return this._transitionablePaint.setTransition(t.slice(0, -"-transition".length), e || void 0), !1;
                    var n = this._transitionablePaint._values[t],
                        i = "cross-faded-data-driven" === n.property.specification["property-type"],
                        a = n.value.isDataDriven(),
                        o = n.value;
                    this._transitionablePaint.setValue(t, e), this._handleSpecialPaintPropertyUpdate(t);
                    var s = this._transitionablePaint._values[t].value;
                    return s.isDataDriven() || a || i || this._handleOverridablePaintPropertyUpdate(t, o, s)
                }, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {}, e.prototype._handleOverridablePaintPropertyUpdate = function(t, e, r) {
                    return !1
                }, e.prototype.isHidden = function(t) {
                    return !!(this.minzoom && t < this.minzoom) || !!(this.maxzoom && t >= this.maxzoom) || "none" === this.visibility
                }, e.prototype.updateTransitions = function(t) {
                    this._transitioningPaint = this._transitionablePaint.transitioned(t, this._transitioningPaint);
                }, e.prototype.hasTransition = function() {
                    return this._transitioningPaint.hasTransition()
                }, e.prototype.recalculate = function(t, e) {
                    t.getCrossfadeParameters && (this._crossfadeParameters = t.getCrossfadeParameters()), this._unevaluatedLayout && (this.layout = this._unevaluatedLayout.possiblyEvaluate(t, void 0, e)), this.paint = this._transitioningPaint.possiblyEvaluate(t, void 0, e);
                }, e.prototype.serialize = function() {
                    var t = {
                        id: this.id,
                        type: this.type,
                        source: this.source,
                        "source-layer": this.sourceLayer,
                        metadata: this.metadata,
                        minzoom: this.minzoom,
                        maxzoom: this.maxzoom,
                        filter: this.filter,
                        layout: this._unevaluatedLayout && this._unevaluatedLayout.serialize(),
                        paint: this._transitionablePaint && this._transitionablePaint.serialize()
                    };
                    return this.visibility && (t.layout = t.layout || {}, t.layout.visibility = this.visibility), b(t, (function(t, e) {
                        return !(void 0 === t || "layout" === e && !Object.keys(t).length || "paint" === e && !Object.keys(t).length)
                    }))
                }, e.prototype._validate = function(t, e, r, n, i) {
                    return void 0 === i && (i = {}), (!i || !1 !== i.validate) && Mn(this, t.call(zn, {
                        key: e,
                        layerType: this.type,
                        objectKey: r,
                        value: n,
                        styleSpec: Ct,
                        style: {
                            glyphs: !0,
                            sprite: !0
                        }
                    }))
                }, e.prototype.is3D = function() {
                    return !1
                }, e.prototype.isTileClipped = function() {
                    return !1
                }, e.prototype.hasOffscreenPass = function() {
                    return !1
                }, e.prototype.resize = function() {}, e.prototype.isStateDependent = function() {
                    for (var t in this.paint._values) {
                        var e = this.paint.get(t);
                        if (e instanceof fi && Br(e.property.specification) && ("source" === e.value.kind || "composite" === e.value.kind) && e.value.isStateDependent) return !0
                    }
                    return !1
                }, e
            }(zt),
            _i = {
                Int8: Int8Array,
                Uint8: Uint8Array,
                Int16: Int16Array,
                Uint16: Uint16Array,
                Int32: Int32Array,
                Uint32: Uint32Array,
                Float32: Float32Array
            },
            Ai = function(t, e) {
                this._structArray = t, this._pos1 = e * this.size, this._pos2 = this._pos1 / 2, this._pos4 = this._pos1 / 4, this._pos8 = this._pos1 / 8;
            },
            Si = function() {
                this.isTransferred = !1, this.capacity = -1, this.resize(0);
            };

        function ki(t, e) {
            void 0 === e && (e = 1);
            var r = 0,
                n = 0;
            return {
                members: t.map((function(t) {
                    var i = _i[t.type].BYTES_PER_ELEMENT,
                        a = r = Ii(r, Math.max(e, i)),
                        o = t.components || 1;
                    return n = Math.max(n, i), r += i * o, {
                        name: t.name,
                        type: t.type,
                        components: o,
                        offset: a
                    }
                })),
                size: Ii(r, Math.max(n, e)),
                alignment: e
            }
        }

        function Ii(t, e) {
            return Math.ceil(t / e) * e
        }
        Si.serialize = function(t, e) {
            return t._trim(), e && (t.isTransferred = !0, e.push(t.arrayBuffer)), {
                length: t.length,
                arrayBuffer: t.arrayBuffer
            }
        }, Si.deserialize = function(t) {
            var e = Object.create(this.prototype);
            return e.arrayBuffer = t.arrayBuffer, e.length = t.length, e.capacity = t.arrayBuffer.byteLength / e.bytesPerElement, e._refreshViews(), e
        }, Si.prototype._trim = function() {
            this.length !== this.capacity && (this.capacity = this.length, this.arrayBuffer = this.arrayBuffer.slice(0, this.length * this.bytesPerElement), this._refreshViews());
        }, Si.prototype.clear = function() {
            this.length = 0;
        }, Si.prototype.resize = function(t) {
            this.reserve(t), this.length = t;
        }, Si.prototype.reserve = function(t) {
            if (t > this.capacity) {
                this.capacity = Math.max(t, Math.floor(5 * this.capacity), 128), this.arrayBuffer = new ArrayBuffer(this.capacity * this.bytesPerElement);
                var e = this.uint8;
                this._refreshViews(), e && this.uint8.set(e);
            }
        }, Si.prototype._refreshViews = function() {
            throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")
        };
        var zi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e) {
                var r = this.length;
                return this.resize(r + 1), this.emplace(r, t, e)
            }, e.prototype.emplace = function(t, e, r) {
                var n = 2 * t;
                return this.int16[n + 0] = e, this.int16[n + 1] = r, t
            }, e
        }(Si);
        zi.prototype.bytesPerElement = 4, Ln("StructArrayLayout2i4", zi);
        var Ci = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n) {
                var i = this.length;
                return this.resize(i + 1), this.emplace(i, t, e, r, n)
            }, e.prototype.emplace = function(t, e, r, n, i) {
                var a = 4 * t;
                return this.int16[a + 0] = e, this.int16[a + 1] = r, this.int16[a + 2] = n, this.int16[a + 3] = i, t
            }, e
        }(Si);
        Ci.prototype.bytesPerElement = 8, Ln("StructArrayLayout4i8", Ci);
        var Ei = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a) {
                var o = this.length;
                return this.resize(o + 1), this.emplace(o, t, e, r, n, i, a)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o) {
                var s = 6 * t;
                return this.int16[s + 0] = e, this.int16[s + 1] = r, this.int16[s + 2] = n, this.int16[s + 3] = i, this.int16[s + 4] = a, this.int16[s + 5] = o, t
            }, e
        }(Si);
        Ei.prototype.bytesPerElement = 12, Ln("StructArrayLayout2i4i12", Ei);
        var Pi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a) {
                var o = this.length;
                return this.resize(o + 1), this.emplace(o, t, e, r, n, i, a)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o) {
                var s = 4 * t,
                    u = 8 * t;
                return this.int16[s + 0] = e, this.int16[s + 1] = r, this.uint8[u + 4] = n, this.uint8[u + 5] = i, this.uint8[u + 6] = a, this.uint8[u + 7] = o, t
            }, e
        }(Si);
        Pi.prototype.bytesPerElement = 8, Ln("StructArrayLayout2i4ub8", Pi);
        var Mi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e) {
                var r = this.length;
                return this.resize(r + 1), this.emplace(r, t, e)
            }, e.prototype.emplace = function(t, e, r) {
                var n = 2 * t;
                return this.float32[n + 0] = e, this.float32[n + 1] = r, t
            }, e
        }(Si);
        Mi.prototype.bytesPerElement = 8, Ln("StructArrayLayout2f8", Mi);
        var Bi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a, o, s, u, l) {
                var p = this.length;
                return this.resize(p + 1), this.emplace(p, t, e, r, n, i, a, o, s, u, l)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o, s, u, l, p) {
                var c = 10 * t;
                return this.uint16[c + 0] = e, this.uint16[c + 1] = r, this.uint16[c + 2] = n, this.uint16[c + 3] = i, this.uint16[c + 4] = a, this.uint16[c + 5] = o, this.uint16[c + 6] = s, this.uint16[c + 7] = u, this.uint16[c + 8] = l, this.uint16[c + 9] = p, t
            }, e
        }(Si);
        Bi.prototype.bytesPerElement = 20, Ln("StructArrayLayout10ui20", Bi);
        var Ti = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a, o, s, u, l, p, c) {
                var h = this.length;
                return this.resize(h + 1), this.emplace(h, t, e, r, n, i, a, o, s, u, l, p, c)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o, s, u, l, p, c, h) {
                var f = 12 * t;
                return this.int16[f + 0] = e, this.int16[f + 1] = r, this.int16[f + 2] = n, this.int16[f + 3] = i, this.uint16[f + 4] = a, this.uint16[f + 5] = o, this.uint16[f + 6] = s, this.uint16[f + 7] = u, this.int16[f + 8] = l, this.int16[f + 9] = p, this.int16[f + 10] = c, this.int16[f + 11] = h, t
            }, e
        }(Si);
        Ti.prototype.bytesPerElement = 24, Ln("StructArrayLayout4i4ui4i24", Ti);
        var Vi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r) {
                var n = this.length;
                return this.resize(n + 1), this.emplace(n, t, e, r)
            }, e.prototype.emplace = function(t, e, r, n) {
                var i = 3 * t;
                return this.float32[i + 0] = e, this.float32[i + 1] = r, this.float32[i + 2] = n, t
            }, e
        }(Si);
        Vi.prototype.bytesPerElement = 12, Ln("StructArrayLayout3f12", Vi);
        var Fi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t) {
                var e = this.length;
                return this.resize(e + 1), this.emplace(e, t)
            }, e.prototype.emplace = function(t, e) {
                return this.uint32[1 * t + 0] = e, t
            }, e
        }(Si);
        Fi.prototype.bytesPerElement = 4, Ln("StructArrayLayout1ul4", Fi);
        var Di = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a, o, s, u) {
                var l = this.length;
                return this.resize(l + 1), this.emplace(l, t, e, r, n, i, a, o, s, u)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o, s, u, l) {
                var p = 10 * t,
                    c = 5 * t;
                return this.int16[p + 0] = e, this.int16[p + 1] = r, this.int16[p + 2] = n, this.int16[p + 3] = i, this.int16[p + 4] = a, this.int16[p + 5] = o, this.uint32[c + 3] = s, this.uint16[p + 8] = u, this.uint16[p + 9] = l, t
            }, e
        }(Si);
        Di.prototype.bytesPerElement = 20, Ln("StructArrayLayout6i1ul2ui20", Di);
        var Li = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a) {
                var o = this.length;
                return this.resize(o + 1), this.emplace(o, t, e, r, n, i, a)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o) {
                var s = 6 * t;
                return this.int16[s + 0] = e, this.int16[s + 1] = r, this.int16[s + 2] = n, this.int16[s + 3] = i, this.int16[s + 4] = a, this.int16[s + 5] = o, t
            }, e
        }(Si);
        Li.prototype.bytesPerElement = 12, Ln("StructArrayLayout2i2i2i12", Li);
        var Ri = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i) {
                var a = this.length;
                return this.resize(a + 1), this.emplace(a, t, e, r, n, i)
            }, e.prototype.emplace = function(t, e, r, n, i, a) {
                var o = 4 * t,
                    s = 8 * t;
                return this.float32[o + 0] = e, this.float32[o + 1] = r, this.float32[o + 2] = n, this.int16[s + 6] = i, this.int16[s + 7] = a, t
            }, e
        }(Si);
        Ri.prototype.bytesPerElement = 16, Ln("StructArrayLayout2f1f2i16", Ri);
        var Oi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n) {
                var i = this.length;
                return this.resize(i + 1), this.emplace(i, t, e, r, n)
            }, e.prototype.emplace = function(t, e, r, n, i) {
                var a = 12 * t,
                    o = 3 * t;
                return this.uint8[a + 0] = e, this.uint8[a + 1] = r, this.float32[o + 1] = n, this.float32[o + 2] = i, t
            }, e
        }(Si);
        Oi.prototype.bytesPerElement = 12, Ln("StructArrayLayout2ub2f12", Oi);
        var Ui = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r) {
                var n = this.length;
                return this.resize(n + 1), this.emplace(n, t, e, r)
            }, e.prototype.emplace = function(t, e, r, n) {
                var i = 3 * t;
                return this.uint16[i + 0] = e, this.uint16[i + 1] = r, this.uint16[i + 2] = n, t
            }, e
        }(Si);
        Ui.prototype.bytesPerElement = 6, Ln("StructArrayLayout3ui6", Ui);
        var ji = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m) {
                var v = this.length;
                return this.resize(v + 1), this.emplace(v, t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m, v) {
                var g = 24 * t,
                    x = 12 * t,
                    b = 48 * t;
                return this.int16[g + 0] = e, this.int16[g + 1] = r, this.uint16[g + 2] = n, this.uint16[g + 3] = i, this.uint32[x + 2] = a, this.uint32[x + 3] = o, this.uint32[x + 4] = s, this.uint16[g + 10] = u, this.uint16[g + 11] = l, this.uint16[g + 12] = p, this.float32[x + 7] = c, this.float32[x + 8] = h, this.uint8[b + 36] = f, this.uint8[b + 37] = y, this.uint8[b + 38] = d, this.uint32[x + 10] = m, this.int16[g + 22] = v, t
            }, e
        }(Si);
        ji.prototype.bytesPerElement = 48, Ln("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48", ji);
        var qi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m, v, g, x, b, w, _, A, S, k, I, z) {
                var C = this.length;
                return this.resize(C + 1), this.emplace(C, t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m, v, g, x, b, w, _, A, S, k, I, z)
            }, e.prototype.emplace = function(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m, v, g, x, b, w, _, A, S, k, I, z, C) {
                var E = 34 * t,
                    P = 17 * t;
                return this.int16[E + 0] = e, this.int16[E + 1] = r, this.int16[E + 2] = n, this.int16[E + 3] = i, this.int16[E + 4] = a, this.int16[E + 5] = o, this.int16[E + 6] = s, this.int16[E + 7] = u, this.uint16[E + 8] = l, this.uint16[E + 9] = p, this.uint16[E + 10] = c, this.uint16[E + 11] = h, this.uint16[E + 12] = f, this.uint16[E + 13] = y, this.uint16[E + 14] = d, this.uint16[E + 15] = m, this.uint16[E + 16] = v, this.uint16[E + 17] = g, this.uint16[E + 18] = x, this.uint16[E + 19] = b, this.uint16[E + 20] = w, this.uint16[E + 21] = _, this.uint16[E + 22] = A, this.uint32[P + 12] = S, this.float32[P + 13] = k, this.float32[P + 14] = I, this.float32[P + 15] = z, this.float32[P + 16] = C, t
            }, e
        }(Si);
        qi.prototype.bytesPerElement = 68, Ln("StructArrayLayout8i15ui1ul4f68", qi);
        var Ni = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t) {
                var e = this.length;
                return this.resize(e + 1), this.emplace(e, t)
            }, e.prototype.emplace = function(t, e) {
                return this.float32[1 * t + 0] = e, t
            }, e
        }(Si);
        Ni.prototype.bytesPerElement = 4, Ln("StructArrayLayout1f4", Ni);
        var Ki = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.int16 = new Int16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r) {
                var n = this.length;
                return this.resize(n + 1), this.emplace(n, t, e, r)
            }, e.prototype.emplace = function(t, e, r, n) {
                var i = 3 * t;
                return this.int16[i + 0] = e, this.int16[i + 1] = r, this.int16[i + 2] = n, t
            }, e
        }(Si);
        Ki.prototype.bytesPerElement = 6, Ln("StructArrayLayout3i6", Ki);
        var Gi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint32 = new Uint32Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r) {
                var n = this.length;
                return this.resize(n + 1), this.emplace(n, t, e, r)
            }, e.prototype.emplace = function(t, e, r, n) {
                var i = 4 * t;
                return this.uint32[2 * t + 0] = e, this.uint16[i + 2] = r, this.uint16[i + 3] = n, t
            }, e
        }(Si);
        Gi.prototype.bytesPerElement = 8, Ln("StructArrayLayout1ul2ui8", Gi);
        var Zi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e) {
                var r = this.length;
                return this.resize(r + 1), this.emplace(r, t, e)
            }, e.prototype.emplace = function(t, e, r) {
                var n = 2 * t;
                return this.uint16[n + 0] = e, this.uint16[n + 1] = r, t
            }, e
        }(Si);
        Zi.prototype.bytesPerElement = 4, Ln("StructArrayLayout2ui4", Zi);
        var Xi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.uint16 = new Uint16Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t) {
                var e = this.length;
                return this.resize(e + 1), this.emplace(e, t)
            }, e.prototype.emplace = function(t, e) {
                return this.uint16[1 * t + 0] = e, t
            }, e
        }(Si);
        Xi.prototype.bytesPerElement = 2, Ln("StructArrayLayout1ui2", Xi);
        var Ji = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._refreshViews = function() {
                this.uint8 = new Uint8Array(this.arrayBuffer), this.float32 = new Float32Array(this.arrayBuffer);
            }, e.prototype.emplaceBack = function(t, e, r, n) {
                var i = this.length;
                return this.resize(i + 1), this.emplace(i, t, e, r, n)
            }, e.prototype.emplace = function(t, e, r, n, i) {
                var a = 4 * t;
                return this.float32[a + 0] = e, this.float32[a + 1] = r, this.float32[a + 2] = n, this.float32[a + 3] = i, t
            }, e
        }(Si);
        Ji.prototype.bytesPerElement = 16, Ln("StructArrayLayout4f16", Ji);
        var Hi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
            var r = {
                anchorPointX: {
                    configurable: !0
                },
                anchorPointY: {
                    configurable: !0
                },
                x1: {
                    configurable: !0
                },
                y1: {
                    configurable: !0
                },
                x2: {
                    configurable: !0
                },
                y2: {
                    configurable: !0
                },
                featureIndex: {
                    configurable: !0
                },
                sourceLayerIndex: {
                    configurable: !0
                },
                bucketIndex: {
                    configurable: !0
                },
                anchorPoint: {
                    configurable: !0
                }
            };
            return r.anchorPointX.get = function() {
                return this._structArray.int16[this._pos2 + 0]
            }, r.anchorPointY.get = function() {
                return this._structArray.int16[this._pos2 + 1]
            }, r.x1.get = function() {
                return this._structArray.int16[this._pos2 + 2]
            }, r.y1.get = function() {
                return this._structArray.int16[this._pos2 + 3]
            }, r.x2.get = function() {
                return this._structArray.int16[this._pos2 + 4]
            }, r.y2.get = function() {
                return this._structArray.int16[this._pos2 + 5]
            }, r.featureIndex.get = function() {
                return this._structArray.uint32[this._pos4 + 3]
            }, r.sourceLayerIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 8]
            }, r.bucketIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 9]
            }, r.anchorPoint.get = function() {
                return new i(this.anchorPointX, this.anchorPointY)
            }, Object.defineProperties(e.prototype, r), e
        }(Ai);
        Hi.prototype.size = 20;
        var Yi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                return new Hi(this, t)
            }, e
        }(Di);
        Ln("CollisionBoxArray", Yi);
        var $i = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
            var r = {
                anchorX: {
                    configurable: !0
                },
                anchorY: {
                    configurable: !0
                },
                glyphStartIndex: {
                    configurable: !0
                },
                numGlyphs: {
                    configurable: !0
                },
                vertexStartIndex: {
                    configurable: !0
                },
                lineStartIndex: {
                    configurable: !0
                },
                lineLength: {
                    configurable: !0
                },
                segment: {
                    configurable: !0
                },
                lowerSize: {
                    configurable: !0
                },
                upperSize: {
                    configurable: !0
                },
                lineOffsetX: {
                    configurable: !0
                },
                lineOffsetY: {
                    configurable: !0
                },
                writingMode: {
                    configurable: !0
                },
                placedOrientation: {
                    configurable: !0
                },
                hidden: {
                    configurable: !0
                },
                crossTileID: {
                    configurable: !0
                },
                associatedIconIndex: {
                    configurable: !0
                }
            };
            return r.anchorX.get = function() {
                return this._structArray.int16[this._pos2 + 0]
            }, r.anchorY.get = function() {
                return this._structArray.int16[this._pos2 + 1]
            }, r.glyphStartIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 2]
            }, r.numGlyphs.get = function() {
                return this._structArray.uint16[this._pos2 + 3]
            }, r.vertexStartIndex.get = function() {
                return this._structArray.uint32[this._pos4 + 2]
            }, r.lineStartIndex.get = function() {
                return this._structArray.uint32[this._pos4 + 3]
            }, r.lineLength.get = function() {
                return this._structArray.uint32[this._pos4 + 4]
            }, r.segment.get = function() {
                return this._structArray.uint16[this._pos2 + 10]
            }, r.lowerSize.get = function() {
                return this._structArray.uint16[this._pos2 + 11]
            }, r.upperSize.get = function() {
                return this._structArray.uint16[this._pos2 + 12]
            }, r.lineOffsetX.get = function() {
                return this._structArray.float32[this._pos4 + 7]
            }, r.lineOffsetY.get = function() {
                return this._structArray.float32[this._pos4 + 8]
            }, r.writingMode.get = function() {
                return this._structArray.uint8[this._pos1 + 36]
            }, r.placedOrientation.get = function() {
                return this._structArray.uint8[this._pos1 + 37]
            }, r.placedOrientation.set = function(t) {
                this._structArray.uint8[this._pos1 + 37] = t;
            }, r.hidden.get = function() {
                return this._structArray.uint8[this._pos1 + 38]
            }, r.hidden.set = function(t) {
                this._structArray.uint8[this._pos1 + 38] = t;
            }, r.crossTileID.get = function() {
                return this._structArray.uint32[this._pos4 + 10]
            }, r.crossTileID.set = function(t) {
                this._structArray.uint32[this._pos4 + 10] = t;
            }, r.associatedIconIndex.get = function() {
                return this._structArray.int16[this._pos2 + 22]
            }, Object.defineProperties(e.prototype, r), e
        }(Ai);
        $i.prototype.size = 48;
        var Wi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                return new $i(this, t)
            }, e
        }(ji);
        Ln("PlacedSymbolArray", Wi);
        var Qi = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
            var r = {
                anchorX: {
                    configurable: !0
                },
                anchorY: {
                    configurable: !0
                },
                rightJustifiedTextSymbolIndex: {
                    configurable: !0
                },
                centerJustifiedTextSymbolIndex: {
                    configurable: !0
                },
                leftJustifiedTextSymbolIndex: {
                    configurable: !0
                },
                verticalPlacedTextSymbolIndex: {
                    configurable: !0
                },
                placedIconSymbolIndex: {
                    configurable: !0
                },
                verticalPlacedIconSymbolIndex: {
                    configurable: !0
                },
                key: {
                    configurable: !0
                },
                textBoxStartIndex: {
                    configurable: !0
                },
                textBoxEndIndex: {
                    configurable: !0
                },
                verticalTextBoxStartIndex: {
                    configurable: !0
                },
                verticalTextBoxEndIndex: {
                    configurable: !0
                },
                iconBoxStartIndex: {
                    configurable: !0
                },
                iconBoxEndIndex: {
                    configurable: !0
                },
                verticalIconBoxStartIndex: {
                    configurable: !0
                },
                verticalIconBoxEndIndex: {
                    configurable: !0
                },
                featureIndex: {
                    configurable: !0
                },
                numHorizontalGlyphVertices: {
                    configurable: !0
                },
                numVerticalGlyphVertices: {
                    configurable: !0
                },
                numIconVertices: {
                    configurable: !0
                },
                numVerticalIconVertices: {
                    configurable: !0
                },
                useRuntimeCollisionCircles: {
                    configurable: !0
                },
                crossTileID: {
                    configurable: !0
                },
                textBoxScale: {
                    configurable: !0
                },
                textOffset0: {
                    configurable: !0
                },
                textOffset1: {
                    configurable: !0
                },
                collisionCircleDiameter: {
                    configurable: !0
                }
            };
            return r.anchorX.get = function() {
                return this._structArray.int16[this._pos2 + 0]
            }, r.anchorY.get = function() {
                return this._structArray.int16[this._pos2 + 1]
            }, r.rightJustifiedTextSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 2]
            }, r.centerJustifiedTextSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 3]
            }, r.leftJustifiedTextSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 4]
            }, r.verticalPlacedTextSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 5]
            }, r.placedIconSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 6]
            }, r.verticalPlacedIconSymbolIndex.get = function() {
                return this._structArray.int16[this._pos2 + 7]
            }, r.key.get = function() {
                return this._structArray.uint16[this._pos2 + 8]
            }, r.textBoxStartIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 9]
            }, r.textBoxEndIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 10]
            }, r.verticalTextBoxStartIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 11]
            }, r.verticalTextBoxEndIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 12]
            }, r.iconBoxStartIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 13]
            }, r.iconBoxEndIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 14]
            }, r.verticalIconBoxStartIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 15]
            }, r.verticalIconBoxEndIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 16]
            }, r.featureIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 17]
            }, r.numHorizontalGlyphVertices.get = function() {
                return this._structArray.uint16[this._pos2 + 18]
            }, r.numVerticalGlyphVertices.get = function() {
                return this._structArray.uint16[this._pos2 + 19]
            }, r.numIconVertices.get = function() {
                return this._structArray.uint16[this._pos2 + 20]
            }, r.numVerticalIconVertices.get = function() {
                return this._structArray.uint16[this._pos2 + 21]
            }, r.useRuntimeCollisionCircles.get = function() {
                return this._structArray.uint16[this._pos2 + 22]
            }, r.crossTileID.get = function() {
                return this._structArray.uint32[this._pos4 + 12]
            }, r.crossTileID.set = function(t) {
                this._structArray.uint32[this._pos4 + 12] = t;
            }, r.textBoxScale.get = function() {
                return this._structArray.float32[this._pos4 + 13]
            }, r.textOffset0.get = function() {
                return this._structArray.float32[this._pos4 + 14]
            }, r.textOffset1.get = function() {
                return this._structArray.float32[this._pos4 + 15]
            }, r.collisionCircleDiameter.get = function() {
                return this._structArray.float32[this._pos4 + 16]
            }, Object.defineProperties(e.prototype, r), e
        }(Ai);
        Qi.prototype.size = 68;
        var ta = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                return new Qi(this, t)
            }, e
        }(qi);
        Ln("SymbolInstanceArray", ta);
        var ea = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getoffsetX = function(t) {
                return this.float32[1 * t + 0]
            }, e
        }(Ni);
        Ln("GlyphOffsetArray", ea);
        var ra = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getx = function(t) {
                return this.int16[3 * t + 0]
            }, e.prototype.gety = function(t) {
                return this.int16[3 * t + 1]
            }, e.prototype.gettileUnitDistanceFromAnchor = function(t) {
                return this.int16[3 * t + 2]
            }, e
        }(Ki);
        Ln("SymbolLineVertexArray", ra);
        var na = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
            var r = {
                featureIndex: {
                    configurable: !0
                },
                sourceLayerIndex: {
                    configurable: !0
                },
                bucketIndex: {
                    configurable: !0
                }
            };
            return r.featureIndex.get = function() {
                return this._structArray.uint32[this._pos4 + 0]
            }, r.sourceLayerIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 2]
            }, r.bucketIndex.get = function() {
                return this._structArray.uint16[this._pos2 + 3]
            }, Object.defineProperties(e.prototype, r), e
        }(Ai);
        na.prototype.size = 8;
        var ia = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.get = function(t) {
                return new na(this, t)
            }, e
        }(Gi);
        Ln("FeatureIndexArray", ia);
        var aa = ki([{
                name: "a_pos",
                components: 2,
                type: "Int16"
            }], 4).members,
            oa = function(t) {
                void 0 === t && (t = []), this.segments = t;
            };

        function sa(t, e) {
            return 256 * (t = p(Math.floor(t), 0, 255)) + p(Math.floor(e), 0, 255)
        }
        oa.prototype.prepareSegment = function(t, e, r, n) {
            var i = this.segments[this.segments.length - 1];
            return t > oa.MAX_VERTEX_ARRAY_LENGTH && A("Max vertices per segment is " + oa.MAX_VERTEX_ARRAY_LENGTH + ": bucket requested " + t), (!i || i.vertexLength + t > oa.MAX_VERTEX_ARRAY_LENGTH || i.sortKey !== n) && (i = {
                vertexOffset: e.length,
                primitiveOffset: r.length,
                vertexLength: 0,
                primitiveLength: 0
            }, void 0 !== n && (i.sortKey = n), this.segments.push(i)), i
        }, oa.prototype.get = function() {
            return this.segments
        }, oa.prototype.destroy = function() {
            for (var t = 0, e = this.segments; t < e.length; t += 1) {
                var r = e[t];
                for (var n in r.vaos) r.vaos[n].destroy();
            }
        }, oa.simpleSegment = function(t, e, r, n) {
            return new oa([{
                vertexOffset: t,
                primitiveOffset: e,
                vertexLength: r,
                primitiveLength: n,
                vaos: {},
                sortKey: 0
            }])
        }, oa.MAX_VERTEX_ARRAY_LENGTH = Math.pow(2, 16) - 1, Ln("SegmentVector", oa);
        var ua = ki([{
                name: "a_pattern_from",
                components: 4,
                type: "Uint16"
            }, {
                name: "a_pattern_to",
                components: 4,
                type: "Uint16"
            }, {
                name: "a_pixel_ratio_from",
                components: 1,
                type: "Uint16"
            }, {
                name: "a_pixel_ratio_to",
                components: 1,
                type: "Uint16"
            }]),
            la = e((function(t) {
                t.exports = function(t, e) {
                    var r, n, i, a, o, s, u, l;
                    for (n = t.length - (r = 3 & t.length), i = e, o = 3432918353, s = 461845907, l = 0; l < n;) u = 255 & t.charCodeAt(l) | (255 & t.charCodeAt(++l)) << 8 | (255 & t.charCodeAt(++l)) << 16 | (255 & t.charCodeAt(++l)) << 24, ++l, i = 27492 + (65535 & (a = 5 * (65535 & (i = (i ^= u = (65535 & (u = (u = (65535 & u) * o + (((u >>> 16) * o & 65535) << 16) & 4294967295) << 15 | u >>> 17)) * s + (((u >>> 16) * s & 65535) << 16) & 4294967295) << 13 | i >>> 19)) + ((5 * (i >>> 16) & 65535) << 16) & 4294967295)) + ((58964 + (a >>> 16) & 65535) << 16);
                    switch (u = 0, r) {
                        case 3:
                            u ^= (255 & t.charCodeAt(l + 2)) << 16;
                        case 2:
                            u ^= (255 & t.charCodeAt(l + 1)) << 8;
                        case 1:
                            i ^= u = (65535 & (u = (u = (65535 & (u ^= 255 & t.charCodeAt(l))) * o + (((u >>> 16) * o & 65535) << 16) & 4294967295) << 15 | u >>> 17)) * s + (((u >>> 16) * s & 65535) << 16) & 4294967295;
                    }
                    return i ^= t.length, i = 2246822507 * (65535 & (i ^= i >>> 16)) + ((2246822507 * (i >>> 16) & 65535) << 16) & 4294967295, i = 3266489909 * (65535 & (i ^= i >>> 13)) + ((3266489909 * (i >>> 16) & 65535) << 16) & 4294967295, (i ^= i >>> 16) >>> 0
                };
            })),
            pa = e((function(t) {
                t.exports = function(t, e) {
                    for (var r, n = t.length, i = e ^ n, a = 0; n >= 4;) r = 1540483477 * (65535 & (r = 255 & t.charCodeAt(a) | (255 & t.charCodeAt(++a)) << 8 | (255 & t.charCodeAt(++a)) << 16 | (255 & t.charCodeAt(++a)) << 24)) + ((1540483477 * (r >>> 16) & 65535) << 16), i = 1540483477 * (65535 & i) + ((1540483477 * (i >>> 16) & 65535) << 16) ^ (r = 1540483477 * (65535 & (r ^= r >>> 24)) + ((1540483477 * (r >>> 16) & 65535) << 16)), n -= 4, ++a;
                    switch (n) {
                        case 3:
                            i ^= (255 & t.charCodeAt(a + 2)) << 16;
                        case 2:
                            i ^= (255 & t.charCodeAt(a + 1)) << 8;
                        case 1:
                            i = 1540483477 * (65535 & (i ^= 255 & t.charCodeAt(a))) + ((1540483477 * (i >>> 16) & 65535) << 16);
                    }
                    return i = 1540483477 * (65535 & (i ^= i >>> 13)) + ((1540483477 * (i >>> 16) & 65535) << 16), (i ^= i >>> 15) >>> 0
                };
            })),
            ca = la,
            ha = pa;
        ca.murmur3 = la, ca.murmur2 = ha;
        var fa = function() {
            this.ids = [], this.positions = [], this.indexed = !1;
        };
        fa.prototype.add = function(t, e, r, n) {
            this.ids.push(da(t)), this.positions.push(e, r, n);
        }, fa.prototype.getPositions = function(t) {
            for (var e = da(t), r = 0, n = this.ids.length - 1; r < n;) {
                var i = r + n >> 1;
                this.ids[i] >= e ? n = i : r = i + 1;
            }
            for (var a = []; this.ids[r] === e;) a.push({
                index: this.positions[3 * r],
                start: this.positions[3 * r + 1],
                end: this.positions[3 * r + 2]
            }), r++;
            return a
        }, fa.serialize = function(t, e) {
            var r = new Float64Array(t.ids),
                n = new Uint32Array(t.positions);
            return function t(e, r, n, i) {
                for (; n < i;) {
                    for (var a = e[n + i >> 1], o = n - 1, s = i + 1;;) {
                        do {
                            o++;
                        } while (e[o] < a);
                        do {
                            s--;
                        } while (e[s] > a);
                        if (o >= s) break;
                        ma(e, o, s), ma(r, 3 * o, 3 * s), ma(r, 3 * o + 1, 3 * s + 1), ma(r, 3 * o + 2, 3 * s + 2);
                    }
                    s - n < i - s ? (t(e, r, n, s), n = s + 1) : (t(e, r, s + 1, i), i = s);
                }
            }(r, n, 0, r.length - 1), e && e.push(r.buffer, n.buffer), {
                ids: r,
                positions: n
            }
        }, fa.deserialize = function(t) {
            var e = new fa;
            return e.ids = t.ids, e.positions = t.positions, e.indexed = !0, e
        };
        var ya = Math.pow(2, 53) - 1;

        function da(t) {
            var e = +t;
            return !isNaN(e) && e <= ya ? e : ca(String(t))
        }

        function ma(t, e, r) {
            var n = t[e];
            t[e] = t[r], t[r] = n;
        }
        Ln("FeaturePositionMap", fa);
        var va = function(t, e) {
                this.gl = t.gl, this.location = e;
            },
            ga = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = 0;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    this.current !== t && (this.current = t, this.gl.uniform1i(this.location, t));
                }, e
            }(va),
            xa = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = 0;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    this.current !== t && (this.current = t, this.gl.uniform1f(this.location, t));
                }, e
            }(va),
            ba = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = [0, 0];
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    t[0] === this.current[0] && t[1] === this.current[1] || (this.current = t, this.gl.uniform2f(this.location, t[0], t[1]));
                }, e
            }(va),
            wa = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = [0, 0, 0];
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    t[0] === this.current[0] && t[1] === this.current[1] && t[2] === this.current[2] || (this.current = t, this.gl.uniform3f(this.location, t[0], t[1], t[2]));
                }, e
            }(va),
            _a = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = [0, 0, 0, 0];
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    t[0] === this.current[0] && t[1] === this.current[1] && t[2] === this.current[2] && t[3] === this.current[3] || (this.current = t, this.gl.uniform4f(this.location, t[0], t[1], t[2], t[3]));
                }, e
            }(va),
            Aa = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = Qt.transparent;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    t.r === this.current.r && t.g === this.current.g && t.b === this.current.b && t.a === this.current.a || (this.current = t, this.gl.uniform4f(this.location, t.r, t.g, t.b, t.a));
                }, e
            }(va),
            Sa = new Float32Array(16),
            ka = function(t) {
                function e(e, r) {
                    t.call(this, e, r), this.current = Sa;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    if (t[12] !== this.current[12] || t[0] !== this.current[0]) return this.current = t, void this.gl.uniformMatrix4fv(this.location, !1, t);
                    for (var e = 1; e < 16; e++)
                        if (t[e] !== this.current[e]) {
                            this.current = t, this.gl.uniformMatrix4fv(this.location, !1, t);
                            break
                        }
                }, e
            }(va);

        function Ia(t) {
            return [sa(255 * t.r, 255 * t.g), sa(255 * t.b, 255 * t.a)]
        }
        var za = function(t, e, r) {
            this.value = t, this.uniformNames = e.map((function(t) {
                return "u_" + t
            })), this.type = r;
        };
        za.prototype.setUniform = function(t, e, r) {
            t.set(r.constantOr(this.value));
        }, za.prototype.getBinding = function(t, e, r) {
            return "color" === this.type ? new Aa(t, e) : new xa(t, e)
        };
        var Ca = function(t, e) {
            this.uniformNames = e.map((function(t) {
                return "u_" + t
            })), this.patternFrom = null, this.patternTo = null, this.pixelRatioFrom = 1, this.pixelRatioTo = 1;
        };
        Ca.prototype.setConstantPatternPositions = function(t, e) {
            this.pixelRatioFrom = e.pixelRatio, this.pixelRatioTo = t.pixelRatio, this.patternFrom = e.tlbr, this.patternTo = t.tlbr;
        }, Ca.prototype.setUniform = function(t, e, r, n) {
            var i = "u_pattern_to" === n ? this.patternTo : "u_pattern_from" === n ? this.patternFrom : "u_pixel_ratio_to" === n ? this.pixelRatioTo : "u_pixel_ratio_from" === n ? this.pixelRatioFrom : null;
            i && t.set(i);
        }, Ca.prototype.getBinding = function(t, e, r) {
            return "u_pattern" === r.substr(0, 9) ? new _a(t, e) : new xa(t, e)
        };
        var Ea = function(t, e, r, n) {
            this.expression = t, this.type = r, this.maxValue = 0, this.paintVertexAttributes = e.map((function(t) {
                return {
                    name: "a_" + t,
                    type: "Float32",
                    components: "color" === r ? 2 : 1,
                    offset: 0
                }
            })), this.paintVertexArray = new n;
        };
        Ea.prototype.populatePaintArray = function(t, e, r, n, i) {
            var a = this.paintVertexArray.length,
                o = this.expression.evaluate(new oi(0), e, {}, n, [], i);
            this.paintVertexArray.resize(t), this._setPaintValue(a, t, o);
        }, Ea.prototype.updatePaintArray = function(t, e, r, n) {
            var i = this.expression.evaluate({
                zoom: 0
            }, r, n);
            this._setPaintValue(t, e, i);
        }, Ea.prototype._setPaintValue = function(t, e, r) {
            if ("color" === this.type)
                for (var n = Ia(r), i = t; i < e; i++) this.paintVertexArray.emplace(i, n[0], n[1]);
            else {
                for (var a = t; a < e; a++) this.paintVertexArray.emplace(a, r);
                this.maxValue = Math.max(this.maxValue, Math.abs(r));
            }
        }, Ea.prototype.upload = function(t) {
            this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
        }, Ea.prototype.destroy = function() {
            this.paintVertexBuffer && this.paintVertexBuffer.destroy();
        };
        var Pa = function(t, e, r, n, i, a) {
            this.expression = t, this.uniformNames = e.map((function(t) {
                return "u_" + t + "_t"
            })), this.type = r, this.useIntegerZoom = n, this.zoom = i, this.maxValue = 0, this.paintVertexAttributes = e.map((function(t) {
                return {
                    name: "a_" + t,
                    type: "Float32",
                    components: "color" === r ? 4 : 2,
                    offset: 0
                }
            })), this.paintVertexArray = new a;
        };
        Pa.prototype.populatePaintArray = function(t, e, r, n, i) {
            var a = this.expression.evaluate(new oi(this.zoom), e, {}, n, [], i),
                o = this.expression.evaluate(new oi(this.zoom + 1), e, {}, n, [], i),
                s = this.paintVertexArray.length;
            this.paintVertexArray.resize(t), this._setPaintValue(s, t, a, o);
        }, Pa.prototype.updatePaintArray = function(t, e, r, n) {
            var i = this.expression.evaluate({
                    zoom: this.zoom
                }, r, n),
                a = this.expression.evaluate({
                    zoom: this.zoom + 1
                }, r, n);
            this._setPaintValue(t, e, i, a);
        }, Pa.prototype._setPaintValue = function(t, e, r, n) {
            if ("color" === this.type)
                for (var i = Ia(r), a = Ia(n), o = t; o < e; o++) this.paintVertexArray.emplace(o, i[0], i[1], a[0], a[1]);
            else {
                for (var s = t; s < e; s++) this.paintVertexArray.emplace(s, r, n);
                this.maxValue = Math.max(this.maxValue, Math.abs(r), Math.abs(n));
            }
        }, Pa.prototype.upload = function(t) {
            this.paintVertexArray && this.paintVertexArray.arrayBuffer && (this.paintVertexBuffer && this.paintVertexBuffer.buffer ? this.paintVertexBuffer.updateData(this.paintVertexArray) : this.paintVertexBuffer = t.createVertexBuffer(this.paintVertexArray, this.paintVertexAttributes, this.expression.isStateDependent));
        }, Pa.prototype.destroy = function() {
            this.paintVertexBuffer && this.paintVertexBuffer.destroy();
        }, Pa.prototype.setUniform = function(t, e) {
            var r = this.useIntegerZoom ? Math.floor(e.zoom) : e.zoom,
                n = p(this.expression.interpolationFactor(r, this.zoom, this.zoom + 1), 0, 1);
            t.set(n);
        }, Pa.prototype.getBinding = function(t, e, r) {
            return new xa(t, e)
        };
        var Ma = function(t, e, r, n, i, a) {
            this.expression = t, this.type = e, this.useIntegerZoom = r, this.zoom = n, this.layerId = a, this.zoomInPaintVertexArray = new i, this.zoomOutPaintVertexArray = new i;
        };
        Ma.prototype.populatePaintArray = function(t, e, r) {
            var n = this.zoomInPaintVertexArray.length;
            this.zoomInPaintVertexArray.resize(t), this.zoomOutPaintVertexArray.resize(t), this._setPaintValues(n, t, e.patterns && e.patterns[this.layerId], r);
        }, Ma.prototype.updatePaintArray = function(t, e, r, n, i) {
            this._setPaintValues(t, e, r.patterns && r.patterns[this.layerId], i);
        }, Ma.prototype._setPaintValues = function(t, e, r, n) {
            if (n && r) {
                var i = n[r.min],
                    a = n[r.mid],
                    o = n[r.max];
                if (i && a && o)
                    for (var s = t; s < e; s++) this.zoomInPaintVertexArray.emplace(s, a.tl[0], a.tl[1], a.br[0], a.br[1], i.tl[0], i.tl[1], i.br[0], i.br[1], a.pixelRatio, i.pixelRatio), this.zoomOutPaintVertexArray.emplace(s, a.tl[0], a.tl[1], a.br[0], a.br[1], o.tl[0], o.tl[1], o.br[0], o.br[1], a.pixelRatio, o.pixelRatio);
            }
        }, Ma.prototype.upload = function(t) {
            this.zoomInPaintVertexArray && this.zoomInPaintVertexArray.arrayBuffer && this.zoomOutPaintVertexArray && this.zoomOutPaintVertexArray.arrayBuffer && (this.zoomInPaintVertexBuffer = t.createVertexBuffer(this.zoomInPaintVertexArray, ua.members, this.expression.isStateDependent), this.zoomOutPaintVertexBuffer = t.createVertexBuffer(this.zoomOutPaintVertexArray, ua.members, this.expression.isStateDependent));
        }, Ma.prototype.destroy = function() {
            this.zoomOutPaintVertexBuffer && this.zoomOutPaintVertexBuffer.destroy(), this.zoomInPaintVertexBuffer && this.zoomInPaintVertexBuffer.destroy();
        };
        var Ba = function(t, e, r) {
            this.binders = {}, this._buffers = [];
            var n = [];
            for (var i in t.paint._values)
                if (r(i)) {
                    var a = t.paint.get(i);
                    if (a instanceof fi && Br(a.property.specification)) {
                        var o = Va(i, t.type),
                            s = a.value,
                            u = a.property.specification.type,
                            l = a.property.useIntegerZoom,
                            p = a.property.specification["property-type"],
                            c = "cross-faded" === p || "cross-faded-data-driven" === p;
                        if ("constant" === s.kind) this.binders[i] = c ? new Ca(s.value, o) : new za(s.value, o, u), n.push("/u_" + i);
                        else if ("source" === s.kind || c) {
                            var h = Fa(i, u, "source");
                            this.binders[i] = c ? new Ma(s, u, l, e, h, t.id) : new Ea(s, o, u, h), n.push("/a_" + i);
                        } else {
                            var f = Fa(i, u, "composite");
                            this.binders[i] = new Pa(s, o, u, l, e, f), n.push("/z_" + i);
                        }
                    }
                }
            this.cacheKey = n.sort().join("");
        };
        Ba.prototype.getMaxValue = function(t) {
            var e = this.binders[t];
            return e instanceof Ea || e instanceof Pa ? e.maxValue : 0
        }, Ba.prototype.populatePaintArrays = function(t, e, r, n, i) {
            for (var a in this.binders) {
                var o = this.binders[a];
                (o instanceof Ea || o instanceof Pa || o instanceof Ma) && o.populatePaintArray(t, e, r, n, i);
            }
        }, Ba.prototype.setConstantPatternPositions = function(t, e) {
            for (var r in this.binders) {
                var n = this.binders[r];
                n instanceof Ca && n.setConstantPatternPositions(t, e);
            }
        }, Ba.prototype.updatePaintArrays = function(t, e, r, n, i) {
            var a = !1;
            for (var o in t)
                for (var s = 0, u = e.getPositions(o); s < u.length; s += 1) {
                    var l = u[s],
                        p = r.feature(l.index);
                    for (var c in this.binders) {
                        var h = this.binders[c];
                        if ((h instanceof Ea || h instanceof Pa || h instanceof Ma) && !0 === h.expression.isStateDependent) {
                            var f = n.paint.get(c);
                            h.expression = f.value, h.updatePaintArray(l.start, l.end, p, t[o], i), a = !0;
                        }
                    }
                }
            return a
        }, Ba.prototype.defines = function() {
            var t = [];
            for (var e in this.binders) {
                var r = this.binders[e];
                (r instanceof za || r instanceof Ca) && t.push.apply(t, r.uniformNames.map((function(t) {
                    return "#define HAS_UNIFORM_" + t
                })));
            }
            return t
        }, Ba.prototype.getBinderAttributes = function() {
            var t = [];
            for (var e in this.binders) {
                var r = this.binders[e];
                if (r instanceof Ea || r instanceof Pa)
                    for (var n = 0; n < r.paintVertexAttributes.length; n++) t.push(r.paintVertexAttributes[n].name);
                else if (r instanceof Ma)
                    for (var i = 0; i < ua.members.length; i++) t.push(ua.members[i].name);
            }
            return t
        }, Ba.prototype.getBinderUniforms = function() {
            var t = [];
            for (var e in this.binders) {
                var r = this.binders[e];
                if (r instanceof za || r instanceof Ca || r instanceof Pa)
                    for (var n = 0, i = r.uniformNames; n < i.length; n += 1) t.push(i[n]);
            }
            return t
        }, Ba.prototype.getPaintVertexBuffers = function() {
            return this._buffers
        }, Ba.prototype.getUniforms = function(t, e) {
            var r = [];
            for (var n in this.binders) {
                var i = this.binders[n];
                if (i instanceof za || i instanceof Ca || i instanceof Pa)
                    for (var a = 0, o = i.uniformNames; a < o.length; a += 1) {
                        var s = o[a];
                        if (e[s]) {
                            var u = i.getBinding(t, e[s], s);
                            r.push({
                                name: s,
                                property: n,
                                binding: u
                            });
                        }
                    }
            }
            return r
        }, Ba.prototype.setUniforms = function(t, e, r, n) {
            for (var i = 0, a = e; i < a.length; i += 1) {
                var o = a[i],
                    s = o.name,
                    u = o.property;
                this.binders[u].setUniform(o.binding, n, r.get(u), s);
            }
        }, Ba.prototype.updatePaintBuffers = function(t) {
            for (var e in this._buffers = [], this.binders) {
                var r = this.binders[e];
                if (t && r instanceof Ma) {
                    var n = 2 === t.fromScale ? r.zoomInPaintVertexBuffer : r.zoomOutPaintVertexBuffer;
                    n && this._buffers.push(n);
                } else(r instanceof Ea || r instanceof Pa) && r.paintVertexBuffer && this._buffers.push(r.paintVertexBuffer);
            }
        }, Ba.prototype.upload = function(t) {
            for (var e in this.binders) {
                var r = this.binders[e];
                (r instanceof Ea || r instanceof Pa || r instanceof Ma) && r.upload(t);
            }
            this.updatePaintBuffers();
        }, Ba.prototype.destroy = function() {
            for (var t in this.binders) {
                var e = this.binders[t];
                (e instanceof Ea || e instanceof Pa || e instanceof Ma) && e.destroy();
            }
        };
        var Ta = function(t, e, r) {
            void 0 === r && (r = function() {
                return !0
            }), this.programConfigurations = {};
            for (var n = 0, i = t; n < i.length; n += 1) {
                var a = i[n];
                this.programConfigurations[a.id] = new Ba(a, e, r);
            }
            this.needsUpload = !1, this._featureMap = new fa, this._bufferOffset = 0;
        };

        function Va(t, e) {
            return {
                "text-opacity": ["opacity"],
                "icon-opacity": ["opacity"],
                "text-color": ["fill_color"],
                "icon-color": ["fill_color"],
                "text-halo-color": ["halo_color"],
                "icon-halo-color": ["halo_color"],
                "text-halo-blur": ["halo_blur"],
                "icon-halo-blur": ["halo_blur"],
                "text-halo-width": ["halo_width"],
                "icon-halo-width": ["halo_width"],
                "line-gap-width": ["gapwidth"],
                "line-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                "fill-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"],
                "fill-extrusion-pattern": ["pattern_to", "pattern_from", "pixel_ratio_to", "pixel_ratio_from"]
            }[t] || [t.replace(e + "-", "").replace(/-/g, "_")]
        }

        function Fa(t, e, r) {
            var n = {
                    color: {
                        source: Mi,
                        composite: Ji
                    },
                    number: {
                        source: Ni,
                        composite: Mi
                    }
                },
                i = function(t) {
                    return {
                        "line-pattern": {
                            source: Bi,
                            composite: Bi
                        },
                        "fill-pattern": {
                            source: Bi,
                            composite: Bi
                        },
                        "fill-extrusion-pattern": {
                            source: Bi,
                            composite: Bi
                        }
                    }[t]
                }(t);
            return i && i[r] || n[e][r]
        }
        Ta.prototype.populatePaintArrays = function(t, e, r, n, i, a) {
            for (var o in this.programConfigurations) this.programConfigurations[o].populatePaintArrays(t, e, n, i, a);
            void 0 !== e.id && this._featureMap.add(e.id, r, this._bufferOffset, t), this._bufferOffset = t, this.needsUpload = !0;
        }, Ta.prototype.updatePaintArrays = function(t, e, r, n) {
            for (var i = 0, a = r; i < a.length; i += 1) {
                var o = a[i];
                this.needsUpload = this.programConfigurations[o.id].updatePaintArrays(t, this._featureMap, e, o, n) || this.needsUpload;
            }
        }, Ta.prototype.get = function(t) {
            return this.programConfigurations[t]
        }, Ta.prototype.upload = function(t) {
            if (this.needsUpload) {
                for (var e in this.programConfigurations) this.programConfigurations[e].upload(t);
                this.needsUpload = !1;
            }
        }, Ta.prototype.destroy = function() {
            for (var t in this.programConfigurations) this.programConfigurations[t].destroy();
        }, Ln("ConstantBinder", za), Ln("CrossFadedConstantBinder", Ca), Ln("SourceExpressionBinder", Ea), Ln("CrossFadedCompositeBinder", Ma), Ln("CompositeExpressionBinder", Pa), Ln("ProgramConfiguration", Ba, {
            omit: ["_buffers"]
        }), Ln("ProgramConfigurationSet", Ta);
        var Da = Math.pow(2, 14) - 1,
            La = -Da - 1;

        function Ra(t) {
            for (var e = 8192 / t.extent, r = t.loadGeometry(), n = 0; n < r.length; n++)
                for (var i = r[n], a = 0; a < i.length; a++) {
                    var o = i[a],
                        s = Math.round(o.x * e),
                        u = Math.round(o.y * e);
                    o.x = p(s, La, Da), o.y = p(u, La, Da), (s < o.x || s > o.x + 1 || u < o.y || u > o.y + 1) && A("Geometry exceeds allowed extent, reduce your vector tile buffer size");
                }
            return r
        }

        function Oa(t, e, r, n, i) {
            t.emplaceBack(2 * e + (n + 1) / 2, 2 * r + (i + 1) / 2);
        }
        var Ua = function(t) {
            this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                return t.id
            })), this.index = t.index, this.hasPattern = !1, this.layoutVertexArray = new zi, this.indexArray = new Ui, this.segments = new oa, this.programConfigurations = new Ta(t.layers, t.zoom), this.stateDependentLayerIds = this.layers.filter((function(t) {
                return t.isStateDependent()
            })).map((function(t) {
                return t.id
            }));
        };

        function ja(t, e) {
            for (var r = 0; r < t.length; r++)
                if (Ya(e, t[r])) return !0;
            for (var n = 0; n < e.length; n++)
                if (Ya(t, e[n])) return !0;
            return !!Ga(t, e)
        }

        function qa(t, e, r) {
            return !!Ya(t, e) || !!Xa(e, t, r)
        }

        function Na(t, e) {
            if (1 === t.length) return Ha(e, t[0]);
            for (var r = 0; r < e.length; r++)
                for (var n = e[r], i = 0; i < n.length; i++)
                    if (Ya(t, n[i])) return !0;
            for (var a = 0; a < t.length; a++)
                if (Ha(e, t[a])) return !0;
            for (var o = 0; o < e.length; o++)
                if (Ga(t, e[o])) return !0;
            return !1
        }

        function Ka(t, e, r) {
            if (t.length > 1) {
                if (Ga(t, e)) return !0;
                for (var n = 0; n < e.length; n++)
                    if (Xa(e[n], t, r)) return !0
            }
            for (var i = 0; i < t.length; i++)
                if (Xa(t[i], e, r)) return !0;
            return !1
        }

        function Ga(t, e) {
            if (0 === t.length || 0 === e.length) return !1;
            for (var r = 0; r < t.length - 1; r++)
                for (var n = t[r], i = t[r + 1], a = 0; a < e.length - 1; a++)
                    if (Za(n, i, e[a], e[a + 1])) return !0;
            return !1
        }

        function Za(t, e, r, n) {
            return S(t, r, n) !== S(e, r, n) && S(t, e, r) !== S(t, e, n)
        }

        function Xa(t, e, r) {
            var n = r * r;
            if (1 === e.length) return t.distSqr(e[0]) < n;
            for (var i = 1; i < e.length; i++)
                if (Ja(t, e[i - 1], e[i]) < n) return !0;
            return !1
        }

        function Ja(t, e, r) {
            var n = e.distSqr(r);
            if (0 === n) return t.distSqr(e);
            var i = ((t.x - e.x) * (r.x - e.x) + (t.y - e.y) * (r.y - e.y)) / n;
            return t.distSqr(i < 0 ? e : i > 1 ? r : r.sub(e)._mult(i)._add(e))
        }

        function Ha(t, e) {
            for (var r, n, i, a = !1, o = 0; o < t.length; o++)
                for (var s = 0, u = (r = t[o]).length - 1; s < r.length; u = s++)(n = r[s]).y > e.y != (i = r[u]).y > e.y && e.x < (i.x - n.x) * (e.y - n.y) / (i.y - n.y) + n.x && (a = !a);
            return a
        }

        function Ya(t, e) {
            for (var r = !1, n = 0, i = t.length - 1; n < t.length; i = n++) {
                var a = t[n],
                    o = t[i];
                a.y > e.y != o.y > e.y && e.x < (o.x - a.x) * (e.y - a.y) / (o.y - a.y) + a.x && (r = !r);
            }
            return r
        }

        function $a(t, e, r) {
            var n = r[0],
                i = r[2];
            if (t.x < n.x && e.x < n.x || t.x > i.x && e.x > i.x || t.y < n.y && e.y < n.y || t.y > i.y && e.y > i.y) return !1;
            var a = S(t, e, r[0]);
            return a !== S(t, e, r[1]) || a !== S(t, e, r[2]) || a !== S(t, e, r[3])
        }

        function Wa(t, e, r) {
            var n = e.paint.get(t).value;
            return "constant" === n.kind ? n.value : r.programConfigurations.get(e.id).getMaxValue(t)
        }

        function Qa(t) {
            return Math.sqrt(t[0] * t[0] + t[1] * t[1])
        }

        function to(t, e, r, n, a) {
            if (!e[0] && !e[1]) return t;
            var o = i.convert(e)._mult(a);
            "viewport" === r && o._rotate(-n);
            for (var s = [], u = 0; u < t.length; u++) s.push(t[u].sub(o));
            return s
        }
        Ua.prototype.populate = function(t, e, r) {
            var n = this.layers[0],
                i = [],
                a = null;
            "circle" === n.type && (a = n.layout.get("circle-sort-key"));
            for (var o = 0, s = t; o < s.length; o += 1) {
                var u = s[o],
                    l = u.feature,
                    p = u.id,
                    c = u.index,
                    h = u.sourceLayerIndex,
                    f = this.layers[0]._featureFilter.needGeometry,
                    y = {
                        type: l.type,
                        id: p,
                        properties: l.properties,
                        geometry: f ? Ra(l) : []
                    };
                if (this.layers[0]._featureFilter.filter(new oi(this.zoom), y, r)) {
                    f || (y.geometry = Ra(l));
                    var d = a ? a.evaluate(y, {}, r) : void 0;
                    i.push({
                        id: p,
                        properties: l.properties,
                        type: l.type,
                        sourceLayerIndex: h,
                        index: c,
                        geometry: y.geometry,
                        patterns: {},
                        sortKey: d
                    });
                }
            }
            a && i.sort((function(t, e) {
                return t.sortKey - e.sortKey
            }));
            for (var m = 0, v = i; m < v.length; m += 1) {
                var g = v[m],
                    x = g.geometry,
                    b = g.index,
                    w = g.sourceLayerIndex,
                    _ = t[b].feature;
                this.addFeature(g, x, b, r), e.featureIndex.insert(_, x, b, w, this.index);
            }
        }, Ua.prototype.update = function(t, e, r) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r);
        }, Ua.prototype.isEmpty = function() {
            return 0 === this.layoutVertexArray.length
        }, Ua.prototype.uploadPending = function() {
            return !this.uploaded || this.programConfigurations.needsUpload
        }, Ua.prototype.upload = function(t) {
            this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, aa), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0;
        }, Ua.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
        }, Ua.prototype.addFeature = function(t, e, r, n) {
            for (var i = 0, a = e; i < a.length; i += 1)
                for (var o = 0, s = a[i]; o < s.length; o += 1) {
                    var u = s[o],
                        l = u.x,
                        p = u.y;
                    if (!(l < 0 || l >= 8192 || p < 0 || p >= 8192)) {
                        var c = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray, t.sortKey),
                            h = c.vertexLength;
                        Oa(this.layoutVertexArray, l, p, -1, -1), Oa(this.layoutVertexArray, l, p, 1, -1), Oa(this.layoutVertexArray, l, p, 1, 1), Oa(this.layoutVertexArray, l, p, -1, 1), this.indexArray.emplaceBack(h, h + 1, h + 2), this.indexArray.emplaceBack(h, h + 3, h + 2), c.vertexLength += 4, c.primitiveLength += 2;
                    }
                }
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, {}, n);
        }, Ln("CircleBucket", Ua, {
            omit: ["layers"]
        });
        var eo = new bi({
                "circle-sort-key": new mi(Ct.layout_circle["circle-sort-key"])
            }),
            ro = {
                paint: new bi({
                    "circle-radius": new mi(Ct.paint_circle["circle-radius"]),
                    "circle-color": new mi(Ct.paint_circle["circle-color"]),
                    "circle-blur": new mi(Ct.paint_circle["circle-blur"]),
                    "circle-opacity": new mi(Ct.paint_circle["circle-opacity"]),
                    "circle-translate": new di(Ct.paint_circle["circle-translate"]),
                    "circle-translate-anchor": new di(Ct.paint_circle["circle-translate-anchor"]),
                    "circle-pitch-scale": new di(Ct.paint_circle["circle-pitch-scale"]),
                    "circle-pitch-alignment": new di(Ct.paint_circle["circle-pitch-alignment"]),
                    "circle-stroke-width": new mi(Ct.paint_circle["circle-stroke-width"]),
                    "circle-stroke-color": new mi(Ct.paint_circle["circle-stroke-color"]),
                    "circle-stroke-opacity": new mi(Ct.paint_circle["circle-stroke-opacity"])
                }),
                layout: eo
            },
            no = "undefined" != typeof Float32Array ? Float32Array : Array;

        function io(t) {
            return t[0] = 1, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = 1, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 1, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, t
        }

        function ao(t, e, r) {
            var n = e[0],
                i = e[1],
                a = e[2],
                o = e[3],
                s = e[4],
                u = e[5],
                l = e[6],
                p = e[7],
                c = e[8],
                h = e[9],
                f = e[10],
                y = e[11],
                d = e[12],
                m = e[13],
                v = e[14],
                g = e[15],
                x = r[0],
                b = r[1],
                w = r[2],
                _ = r[3];
            return t[0] = x * n + b * s + w * c + _ * d, t[1] = x * i + b * u + w * h + _ * m, t[2] = x * a + b * l + w * f + _ * v, t[3] = x * o + b * p + w * y + _ * g, t[4] = (x = r[4]) * n + (b = r[5]) * s + (w = r[6]) * c + (_ = r[7]) * d, t[5] = x * i + b * u + w * h + _ * m, t[6] = x * a + b * l + w * f + _ * v, t[7] = x * o + b * p + w * y + _ * g, t[8] = (x = r[8]) * n + (b = r[9]) * s + (w = r[10]) * c + (_ = r[11]) * d, t[9] = x * i + b * u + w * h + _ * m, t[10] = x * a + b * l + w * f + _ * v, t[11] = x * o + b * p + w * y + _ * g, t[12] = (x = r[12]) * n + (b = r[13]) * s + (w = r[14]) * c + (_ = r[15]) * d, t[13] = x * i + b * u + w * h + _ * m, t[14] = x * a + b * l + w * f + _ * v, t[15] = x * o + b * p + w * y + _ * g, t
        }
        Math.hypot || (Math.hypot = function() {
            for (var t = arguments, e = 0, r = arguments.length; r--;) e += t[r] * t[r];
            return Math.sqrt(e)
        });
        var oo, so = ao;

        function uo(t, e, r) {
            var n = e[0],
                i = e[1],
                a = e[2],
                o = e[3];
            return t[0] = r[0] * n + r[4] * i + r[8] * a + r[12] * o, t[1] = r[1] * n + r[5] * i + r[9] * a + r[13] * o, t[2] = r[2] * n + r[6] * i + r[10] * a + r[14] * o, t[3] = r[3] * n + r[7] * i + r[11] * a + r[15] * o, t
        }
        oo = new no(3), no != Float32Array && (oo[0] = 0, oo[1] = 0, oo[2] = 0),
            function() {
                var t = new no(4);
                no != Float32Array && (t[0] = 0, t[1] = 0, t[2] = 0, t[3] = 0);
            }();
        var lo = (function() {
            var t = new no(2);
            no != Float32Array && (t[0] = 0, t[1] = 0);
        }(), function(t) {
            function e(e) {
                t.call(this, e, ro);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                return new Ua(t)
            }, e.prototype.queryRadius = function(t) {
                var e = t;
                return Wa("circle-radius", this, e) + Wa("circle-stroke-width", this, e) + Qa(this.paint.get("circle-translate"))
            }, e.prototype.queryIntersectsFeature = function(t, e, r, n, i, a, o, s) {
                for (var u = to(t, this.paint.get("circle-translate"), this.paint.get("circle-translate-anchor"), a.angle, o), l = this.paint.get("circle-radius").evaluate(e, r) + this.paint.get("circle-stroke-width").evaluate(e, r), p = "map" === this.paint.get("circle-pitch-alignment"), c = p ? u : function(t, e) {
                        return t.map((function(t) {
                            return po(t, e)
                        }))
                    }(u, s), h = p ? l * o : l, f = 0, y = n; f < y.length; f += 1)
                    for (var d = 0, m = y[f]; d < m.length; d += 1) {
                        var v = m[d],
                            g = p ? v : po(v, s),
                            x = h,
                            b = uo([], [v.x, v.y, 0, 1], s);
                        if ("viewport" === this.paint.get("circle-pitch-scale") && "map" === this.paint.get("circle-pitch-alignment") ? x *= b[3] / a.cameraToCenterDistance : "map" === this.paint.get("circle-pitch-scale") && "viewport" === this.paint.get("circle-pitch-alignment") && (x *= a.cameraToCenterDistance / b[3]), qa(c, g, x)) return !0
                    }
                return !1
            }, e
        }(wi));

        function po(t, e) {
            var r = uo([], [t.x, t.y, 0, 1], e);
            return new i(r[0] / r[3], r[1] / r[3])
        }
        var co = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
        }(Ua);

        function ho(t, e, r, n) {
            var i = e.width,
                a = e.height;
            if (n) {
                if (n instanceof Uint8ClampedArray) n = new Uint8Array(n.buffer);
                else if (n.length !== i * a * r) throw new RangeError("mismatched image size")
            } else n = new Uint8Array(i * a * r);
            return t.width = i, t.height = a, t.data = n, t
        }

        function fo(t, e, r) {
            var n = e.width,
                i = e.height;
            if (n !== t.width || i !== t.height) {
                var a = ho({}, {
                    width: n,
                    height: i
                }, r);
                yo(t, a, {
                    x: 0,
                    y: 0
                }, {
                    x: 0,
                    y: 0
                }, {
                    width: Math.min(t.width, n),
                    height: Math.min(t.height, i)
                }, r), t.width = n, t.height = i, t.data = a.data;
            }
        }

        function yo(t, e, r, n, i, a) {
            if (0 === i.width || 0 === i.height) return e;
            if (i.width > t.width || i.height > t.height || r.x > t.width - i.width || r.y > t.height - i.height) throw new RangeError("out of range source coordinates for image copy");
            if (i.width > e.width || i.height > e.height || n.x > e.width - i.width || n.y > e.height - i.height) throw new RangeError("out of range destination coordinates for image copy");
            for (var o = t.data, s = e.data, u = 0; u < i.height; u++)
                for (var l = ((r.y + u) * t.width + r.x) * a, p = ((n.y + u) * e.width + n.x) * a, c = 0; c < i.width * a; c++) s[p + c] = o[l + c];
            return e
        }
        Ln("HeatmapBucket", co, {
            omit: ["layers"]
        });
        var mo = function(t, e) {
            ho(this, t, 1, e);
        };
        mo.prototype.resize = function(t) {
            fo(this, t, 1);
        }, mo.prototype.clone = function() {
            return new mo({
                width: this.width,
                height: this.height
            }, new Uint8Array(this.data))
        }, mo.copy = function(t, e, r, n, i) {
            yo(t, e, r, n, i, 1);
        };
        var vo = function(t, e) {
            ho(this, t, 4, e);
        };
        vo.prototype.resize = function(t) {
            fo(this, t, 4);
        }, vo.prototype.replace = function(t, e) {
            e ? this.data.set(t) : this.data = t instanceof Uint8ClampedArray ? new Uint8Array(t.buffer) : t;
        }, vo.prototype.clone = function() {
            return new vo({
                width: this.width,
                height: this.height
            }, new Uint8Array(this.data))
        }, vo.copy = function(t, e, r, n, i) {
            yo(t, e, r, n, i, 4);
        }, Ln("AlphaImage", mo), Ln("RGBAImage", vo);
        var go = {
            paint: new bi({
                "heatmap-radius": new mi(Ct.paint_heatmap["heatmap-radius"]),
                "heatmap-weight": new mi(Ct.paint_heatmap["heatmap-weight"]),
                "heatmap-intensity": new di(Ct.paint_heatmap["heatmap-intensity"]),
                "heatmap-color": new xi(Ct.paint_heatmap["heatmap-color"]),
                "heatmap-opacity": new di(Ct.paint_heatmap["heatmap-opacity"])
            })
        };

        function xo(t) {
            var e = {},
                r = t.resolution || 256,
                n = t.clips ? t.clips.length : 1,
                i = t.image || new vo({
                    width: r,
                    height: n
                }),
                a = function(r, n, a) {
                    e[t.evaluationKey] = a;
                    var o = t.expression.evaluate(e);
                    i.data[r + n + 0] = Math.floor(255 * o.r / o.a), i.data[r + n + 1] = Math.floor(255 * o.g / o.a), i.data[r + n + 2] = Math.floor(255 * o.b / o.a), i.data[r + n + 3] = Math.floor(255 * o.a);
                };
            if (t.clips)
                for (var o = 0, s = 0; o < n; ++o, s += 4 * r)
                    for (var u = 0, l = 0; u < r; u++, l += 4) {
                        var p = u / (r - 1),
                            c = t.clips[o];
                        a(s, l, c.start * (1 - p) + c.end * p);
                    } else
                        for (var h = 0, f = 0; h < r; h++, f += 4) a(0, f, h / (r - 1));
            return i
        }
        var bo = function(t) {
                function e(e) {
                    t.call(this, e, go), this._updateColorRamp();
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                    return new co(t)
                }, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {
                    "heatmap-color" === t && this._updateColorRamp();
                }, e.prototype._updateColorRamp = function() {
                    this.colorRamp = xo({
                        expression: this._transitionablePaint._values["heatmap-color"].value.expression,
                        evaluationKey: "heatmapDensity",
                        image: this.colorRamp
                    }), this.colorRampTexture = null;
                }, e.prototype.resize = function() {
                    this.heatmapFbo && (this.heatmapFbo.destroy(), this.heatmapFbo = null);
                }, e.prototype.queryRadius = function() {
                    return 0
                }, e.prototype.queryIntersectsFeature = function() {
                    return !1
                }, e.prototype.hasOffscreenPass = function() {
                    return 0 !== this.paint.get("heatmap-opacity") && "none" !== this.visibility
                }, e
            }(wi),
            wo = {
                paint: new bi({
                    "hillshade-illumination-direction": new di(Ct.paint_hillshade["hillshade-illumination-direction"]),
                    "hillshade-illumination-anchor": new di(Ct.paint_hillshade["hillshade-illumination-anchor"]),
                    "hillshade-exaggeration": new di(Ct.paint_hillshade["hillshade-exaggeration"]),
                    "hillshade-shadow-color": new di(Ct.paint_hillshade["hillshade-shadow-color"]),
                    "hillshade-highlight-color": new di(Ct.paint_hillshade["hillshade-highlight-color"]),
                    "hillshade-accent-color": new di(Ct.paint_hillshade["hillshade-accent-color"])
                })
            },
            _o = function(t) {
                function e(e) {
                    t.call(this, e, wo);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.hasOffscreenPass = function() {
                    return 0 !== this.paint.get("hillshade-exaggeration") && "none" !== this.visibility
                }, e
            }(wi),
            Ao = ki([{
                name: "a_pos",
                components: 2,
                type: "Int16"
            }], 4).members,
            So = Io,
            ko = Io;

        function Io(t, e, r) {
            r = r || 2;
            var n, i, a, o, s, u, l, p = e && e.length,
                c = p ? e[0] * r : t.length,
                h = zo(t, 0, c, r, !0),
                f = [];
            if (!h || h.next === h.prev) return f;
            if (p && (h = function(t, e, r, n) {
                    var i, a, o, s = [];
                    for (i = 0, a = e.length; i < a; i++)(o = zo(t, e[i] * n, i < a - 1 ? e[i + 1] * n : t.length, n, !1)) === o.next && (o.steiner = !0), s.push(Ro(o));
                    for (s.sort(Vo), i = 0; i < s.length; i++) Fo(s[i], r), r = Co(r, r.next);
                    return r
                }(t, e, h, r)), t.length > 80 * r) {
                n = a = t[0], i = o = t[1];
                for (var y = r; y < c; y += r)(s = t[y]) < n && (n = s), (u = t[y + 1]) < i && (i = u), s > a && (a = s), u > o && (o = u);
                l = 0 !== (l = Math.max(a - n, o - i)) ? 1 / l : 0;
            }
            return Eo(h, f, r, n, i, l), f
        }

        function zo(t, e, r, n, i) {
            var a, o;
            if (i === $o(t, e, r, n) > 0)
                for (a = e; a < r; a += n) o = Jo(a, t[a], t[a + 1], o);
            else
                for (a = r - n; a >= e; a -= n) o = Jo(a, t[a], t[a + 1], o);
            return o && qo(o, o.next) && (Ho(o), o = o.next), o
        }

        function Co(t, e) {
            if (!t) return t;
            e || (e = t);
            var r, n = t;
            do {
                if (r = !1, n.steiner || !qo(n, n.next) && 0 !== jo(n.prev, n, n.next)) n = n.next;
                else {
                    if (Ho(n), (n = e = n.prev) === n.next) break;
                    r = !0;
                }
            } while (r || n !== e);
            return e
        }

        function Eo(t, e, r, n, i, a, o) {
            if (t) {
                !o && a && function(t, e, r, n) {
                    var i = t;
                    do {
                        null === i.z && (i.z = Lo(i.x, i.y, e, r, n)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next;
                    } while (i !== t);
                    i.prevZ.nextZ = null, i.prevZ = null,
                        function(t) {
                            var e, r, n, i, a, o, s, u, l = 1;
                            do {
                                for (r = t, t = null, a = null, o = 0; r;) {
                                    for (o++, n = r, s = 0, e = 0; e < l && (s++, n = n.nextZ); e++);
                                    for (u = l; s > 0 || u > 0 && n;) 0 !== s && (0 === u || !n || r.z <= n.z) ? (i = r, r = r.nextZ, s--) : (i = n, n = n.nextZ, u--), a ? a.nextZ = i : t = i, i.prevZ = a, a = i;
                                    r = n;
                                }
                                a.nextZ = null, l *= 2;
                            } while (o > 1)
                        }(i);
                }(t, n, i, a);
                for (var s, u, l = t; t.prev !== t.next;)
                    if (s = t.prev, u = t.next, a ? Mo(t, n, i, a) : Po(t)) e.push(s.i / r), e.push(t.i / r), e.push(u.i / r), Ho(t), t = u.next, l = u.next;
                    else if ((t = u) === l) {
                    o ? 1 === o ? Eo(t = Bo(Co(t), e, r), e, r, n, i, a, 2) : 2 === o && To(t, e, r, n, i, a) : Eo(Co(t), e, r, n, i, a, 1);
                    break
                }
            }
        }

        function Po(t) {
            var e = t.prev,
                r = t,
                n = t.next;
            if (jo(e, r, n) >= 0) return !1;
            for (var i = t.next.next; i !== t.prev;) {
                if (Oo(e.x, e.y, r.x, r.y, n.x, n.y, i.x, i.y) && jo(i.prev, i, i.next) >= 0) return !1;
                i = i.next;
            }
            return !0
        }

        function Mo(t, e, r, n) {
            var i = t.prev,
                a = t,
                o = t.next;
            if (jo(i, a, o) >= 0) return !1;
            for (var s = i.x > a.x ? i.x > o.x ? i.x : o.x : a.x > o.x ? a.x : o.x, u = i.y > a.y ? i.y > o.y ? i.y : o.y : a.y > o.y ? a.y : o.y, l = Lo(i.x < a.x ? i.x < o.x ? i.x : o.x : a.x < o.x ? a.x : o.x, i.y < a.y ? i.y < o.y ? i.y : o.y : a.y < o.y ? a.y : o.y, e, r, n), p = Lo(s, u, e, r, n), c = t.prevZ, h = t.nextZ; c && c.z >= l && h && h.z <= p;) {
                if (c !== t.prev && c !== t.next && Oo(i.x, i.y, a.x, a.y, o.x, o.y, c.x, c.y) && jo(c.prev, c, c.next) >= 0) return !1;
                if (c = c.prevZ, h !== t.prev && h !== t.next && Oo(i.x, i.y, a.x, a.y, o.x, o.y, h.x, h.y) && jo(h.prev, h, h.next) >= 0) return !1;
                h = h.nextZ;
            }
            for (; c && c.z >= l;) {
                if (c !== t.prev && c !== t.next && Oo(i.x, i.y, a.x, a.y, o.x, o.y, c.x, c.y) && jo(c.prev, c, c.next) >= 0) return !1;
                c = c.prevZ;
            }
            for (; h && h.z <= p;) {
                if (h !== t.prev && h !== t.next && Oo(i.x, i.y, a.x, a.y, o.x, o.y, h.x, h.y) && jo(h.prev, h, h.next) >= 0) return !1;
                h = h.nextZ;
            }
            return !0
        }

        function Bo(t, e, r) {
            var n = t;
            do {
                var i = n.prev,
                    a = n.next.next;
                !qo(i, a) && No(i, n, n.next, a) && Zo(i, a) && Zo(a, i) && (e.push(i.i / r), e.push(n.i / r), e.push(a.i / r), Ho(n), Ho(n.next), n = t = a), n = n.next;
            } while (n !== t);
            return Co(n)
        }

        function To(t, e, r, n, i, a) {
            var o = t;
            do {
                for (var s = o.next.next; s !== o.prev;) {
                    if (o.i !== s.i && Uo(o, s)) {
                        var u = Xo(o, s);
                        return o = Co(o, o.next), u = Co(u, u.next), Eo(o, e, r, n, i, a), void Eo(u, e, r, n, i, a)
                    }
                    s = s.next;
                }
                o = o.next;
            } while (o !== t)
        }

        function Vo(t, e) {
            return t.x - e.x
        }

        function Fo(t, e) {
            if (e = function(t, e) {
                    var r, n = e,
                        i = t.x,
                        a = t.y,
                        o = -1 / 0;
                    do {
                        if (a <= n.y && a >= n.next.y && n.next.y !== n.y) {
                            var s = n.x + (a - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                            if (s <= i && s > o) {
                                if (o = s, s === i) {
                                    if (a === n.y) return n;
                                    if (a === n.next.y) return n.next
                                }
                                r = n.x < n.next.x ? n : n.next;
                            }
                        }
                        n = n.next;
                    } while (n !== e);
                    if (!r) return null;
                    if (i === o) return r;
                    var u, l = r,
                        p = r.x,
                        c = r.y,
                        h = 1 / 0;
                    n = r;
                    do {
                        i >= n.x && n.x >= p && i !== n.x && Oo(a < c ? i : o, a, p, c, a < c ? o : i, a, n.x, n.y) && (u = Math.abs(a - n.y) / (i - n.x), Zo(n, t) && (u < h || u === h && (n.x > r.x || n.x === r.x && Do(r, n))) && (r = n, h = u)), n = n.next;
                    } while (n !== l);
                    return r
                }(t, e)) {
                var r = Xo(e, t);
                Co(e, e.next), Co(r, r.next);
            }
        }

        function Do(t, e) {
            return jo(t.prev, t, e.prev) < 0 && jo(e.next, t, t.next) < 0
        }

        function Lo(t, e, r, n, i) {
            return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) * i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) * i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
        }

        function Ro(t) {
            var e = t,
                r = t;
            do {
                (e.x < r.x || e.x === r.x && e.y < r.y) && (r = e), e = e.next;
            } while (e !== t);
            return r
        }

        function Oo(t, e, r, n, i, a, o, s) {
            return (i - o) * (e - s) - (t - o) * (a - s) >= 0 && (t - o) * (n - s) - (r - o) * (e - s) >= 0 && (r - o) * (a - s) - (i - o) * (n - s) >= 0
        }

        function Uo(t, e) {
            return t.next.i !== e.i && t.prev.i !== e.i && ! function(t, e) {
                var r = t;
                do {
                    if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && No(r, r.next, t, e)) return !0;
                    r = r.next;
                } while (r !== t);
                return !1
            }(t, e) && (Zo(t, e) && Zo(e, t) && function(t, e) {
                var r = t,
                    n = !1,
                    i = (t.x + e.x) / 2,
                    a = (t.y + e.y) / 2;
                do {
                    r.y > a != r.next.y > a && r.next.y !== r.y && i < (r.next.x - r.x) * (a - r.y) / (r.next.y - r.y) + r.x && (n = !n), r = r.next;
                } while (r !== t);
                return n
            }(t, e) && (jo(t.prev, t, e.prev) || jo(t, e.prev, e)) || qo(t, e) && jo(t.prev, t, t.next) > 0 && jo(e.prev, e, e.next) > 0)
        }

        function jo(t, e, r) {
            return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y)
        }

        function qo(t, e) {
            return t.x === e.x && t.y === e.y
        }

        function No(t, e, r, n) {
            var i = Go(jo(t, e, r)),
                a = Go(jo(t, e, n)),
                o = Go(jo(r, n, t)),
                s = Go(jo(r, n, e));
            return i !== a && o !== s || !(0 !== i || !Ko(t, r, e)) || !(0 !== a || !Ko(t, n, e)) || !(0 !== o || !Ko(r, t, n)) || !(0 !== s || !Ko(r, e, n))
        }

        function Ko(t, e, r) {
            return e.x <= Math.max(t.x, r.x) && e.x >= Math.min(t.x, r.x) && e.y <= Math.max(t.y, r.y) && e.y >= Math.min(t.y, r.y)
        }

        function Go(t) {
            return t > 0 ? 1 : t < 0 ? -1 : 0
        }

        function Zo(t, e) {
            return jo(t.prev, t, t.next) < 0 ? jo(t, e, t.next) >= 0 && jo(t, t.prev, e) >= 0 : jo(t, e, t.prev) < 0 || jo(t, t.next, e) < 0
        }

        function Xo(t, e) {
            var r = new Yo(t.i, t.x, t.y),
                n = new Yo(e.i, e.x, e.y),
                i = t.next,
                a = e.prev;
            return t.next = e, e.prev = t, r.next = i, i.prev = r, n.next = r, r.prev = n, a.next = n, n.prev = a, n
        }

        function Jo(t, e, r, n) {
            var i = new Yo(t, e, r);
            return n ? (i.next = n.next, i.prev = n, n.next.prev = i, n.next = i) : (i.prev = i, i.next = i), i
        }

        function Ho(t) {
            t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ);
        }

        function Yo(t, e, r) {
            this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1;
        }

        function $o(t, e, r, n) {
            for (var i = 0, a = e, o = r - n; a < r; a += n) i += (t[o] - t[a]) * (t[a + 1] + t[o + 1]), o = a;
            return i
        }

        function Wo(t, e, r, n, i) {
            ! function t(e, r, n, i, a) {
                for (; i > n;) {
                    if (i - n > 600) {
                        var o = i - n + 1,
                            s = r - n + 1,
                            u = Math.log(o),
                            l = .5 * Math.exp(2 * u / 3),
                            p = .5 * Math.sqrt(u * l * (o - l) / o) * (s - o / 2 < 0 ? -1 : 1);
                        t(e, r, Math.max(n, Math.floor(r - s * l / o + p)), Math.min(i, Math.floor(r + (o - s) * l / o + p)), a);
                    }
                    var c = e[r],
                        h = n,
                        f = i;
                    for (Qo(e, n, r), a(e[i], c) > 0 && Qo(e, n, i); h < f;) {
                        for (Qo(e, h, f), h++, f--; a(e[h], c) < 0;) h++;
                        for (; a(e[f], c) > 0;) f--;
                    }
                    0 === a(e[n], c) ? Qo(e, n, f) : Qo(e, ++f, i), f <= r && (n = f + 1), r <= f && (i = f - 1);
                }
            }(t, e, r || 0, n || t.length - 1, i || ts);
        }

        function Qo(t, e, r) {
            var n = t[e];
            t[e] = t[r], t[r] = n;
        }

        function ts(t, e) {
            return t < e ? -1 : t > e ? 1 : 0
        }

        function es(t, e) {
            var r = t.length;
            if (r <= 1) return [t];
            for (var n, i, a = [], o = 0; o < r; o++) {
                var s = k(t[o]);
                0 !== s && (t[o].area = Math.abs(s), void 0 === i && (i = s < 0), i === s < 0 ? (n && a.push(n), n = [t[o]]) : n.push(t[o]));
            }
            if (n && a.push(n), e > 1)
                for (var u = 0; u < a.length; u++) a[u].length <= e || (Wo(a[u], e, 1, a[u].length - 1, rs), a[u] = a[u].slice(0, e));
            return a
        }

        function rs(t, e) {
            return e.area - t.area
        }

        function ns(t, e, r) {
            for (var n = r.patternDependencies, i = !1, a = 0, o = e; a < o.length; a += 1) {
                var s = o[a].paint.get(t + "-pattern");
                s.isConstant() || (i = !0);
                var u = s.constantOr(null);
                u && (i = !0, n[u.to] = !0, n[u.from] = !0);
            }
            return i
        }

        function is(t, e, r, n, i) {
            for (var a = i.patternDependencies, o = 0, s = e; o < s.length; o += 1) {
                var u = s[o],
                    l = u.paint.get(t + "-pattern").value;
                if ("constant" !== l.kind) {
                    var p = l.evaluate({
                            zoom: n - 1
                        }, r, {}, i.availableImages),
                        c = l.evaluate({
                            zoom: n
                        }, r, {}, i.availableImages),
                        h = l.evaluate({
                            zoom: n + 1
                        }, r, {}, i.availableImages);
                    c = c && c.name ? c.name : c, h = h && h.name ? h.name : h, a[p = p && p.name ? p.name : p] = !0, a[c] = !0, a[h] = !0, r.patterns[u.id] = {
                        min: p,
                        mid: c,
                        max: h
                    };
                }
            }
            return r
        }
        Io.deviation = function(t, e, r, n) {
            var i = e && e.length,
                a = Math.abs($o(t, 0, i ? e[0] * r : t.length, r));
            if (i)
                for (var o = 0, s = e.length; o < s; o++) a -= Math.abs($o(t, e[o] * r, o < s - 1 ? e[o + 1] * r : t.length, r));
            var u = 0;
            for (o = 0; o < n.length; o += 3) {
                var l = n[o] * r,
                    p = n[o + 1] * r,
                    c = n[o + 2] * r;
                u += Math.abs((t[l] - t[c]) * (t[p + 1] - t[l + 1]) - (t[l] - t[p]) * (t[c + 1] - t[l + 1]));
            }
            return 0 === a && 0 === u ? 0 : Math.abs((u - a) / a)
        }, Io.flatten = function(t) {
            for (var e = t[0][0].length, r = {
                    vertices: [],
                    holes: [],
                    dimensions: e
                }, n = 0, i = 0; i < t.length; i++) {
                for (var a = 0; a < t[i].length; a++)
                    for (var o = 0; o < e; o++) r.vertices.push(t[i][a][o]);
                i > 0 && r.holes.push(n += t[i - 1].length);
            }
            return r
        }, So.default = ko;
        var as = function(t) {
            this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                return t.id
            })), this.index = t.index, this.hasPattern = !1, this.patternFeatures = [], this.layoutVertexArray = new zi, this.indexArray = new Ui, this.indexArray2 = new Zi, this.programConfigurations = new Ta(t.layers, t.zoom), this.segments = new oa, this.segments2 = new oa, this.stateDependentLayerIds = this.layers.filter((function(t) {
                return t.isStateDependent()
            })).map((function(t) {
                return t.id
            }));
        };
        as.prototype.populate = function(t, e, r) {
            this.hasPattern = ns("fill", this.layers, e);
            for (var n = this.layers[0].layout.get("fill-sort-key"), i = [], a = 0, o = t; a < o.length; a += 1) {
                var s = o[a],
                    u = s.feature,
                    l = s.id,
                    p = s.index,
                    c = s.sourceLayerIndex,
                    h = this.layers[0]._featureFilter.needGeometry,
                    f = {
                        type: u.type,
                        id: l,
                        properties: u.properties,
                        geometry: h ? Ra(u) : []
                    };
                if (this.layers[0]._featureFilter.filter(new oi(this.zoom), f, r)) {
                    h || (f.geometry = Ra(u));
                    var y = n ? n.evaluate(f, {}, r, e.availableImages) : void 0;
                    i.push({
                        id: l,
                        properties: u.properties,
                        type: u.type,
                        sourceLayerIndex: c,
                        index: p,
                        geometry: f.geometry,
                        patterns: {},
                        sortKey: y
                    });
                }
            }
            n && i.sort((function(t, e) {
                return t.sortKey - e.sortKey
            }));
            for (var d = 0, m = i; d < m.length; d += 1) {
                var v = m[d],
                    g = v.geometry,
                    x = v.index,
                    b = v.sourceLayerIndex;
                if (this.hasPattern) {
                    var w = is("fill", this.layers, v, this.zoom, e);
                    this.patternFeatures.push(w);
                } else this.addFeature(v, g, x, r, {});
                e.featureIndex.insert(t[x].feature, g, x, b, this.index);
            }
        }, as.prototype.update = function(t, e, r) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r);
        }, as.prototype.addFeatures = function(t, e, r) {
            for (var n = 0, i = this.patternFeatures; n < i.length; n += 1) {
                var a = i[n];
                this.addFeature(a, a.geometry, a.index, e, r);
            }
        }, as.prototype.isEmpty = function() {
            return 0 === this.layoutVertexArray.length
        }, as.prototype.uploadPending = function() {
            return !this.uploaded || this.programConfigurations.needsUpload
        }, as.prototype.upload = function(t) {
            this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, Ao), this.indexBuffer = t.createIndexBuffer(this.indexArray), this.indexBuffer2 = t.createIndexBuffer(this.indexArray2)), this.programConfigurations.upload(t), this.uploaded = !0;
        }, as.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.indexBuffer2.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.segments2.destroy());
        }, as.prototype.addFeature = function(t, e, r, n, i) {
            for (var a = 0, o = es(e, 500); a < o.length; a += 1) {
                for (var s = o[a], u = 0, l = 0, p = s; l < p.length; l += 1) u += p[l].length;
                for (var c = this.segments.prepareSegment(u, this.layoutVertexArray, this.indexArray), h = c.vertexLength, f = [], y = [], d = 0, m = s; d < m.length; d += 1) {
                    var v = m[d];
                    if (0 !== v.length) {
                        v !== s[0] && y.push(f.length / 2);
                        var g = this.segments2.prepareSegment(v.length, this.layoutVertexArray, this.indexArray2),
                            x = g.vertexLength;
                        this.layoutVertexArray.emplaceBack(v[0].x, v[0].y), this.indexArray2.emplaceBack(x + v.length - 1, x), f.push(v[0].x), f.push(v[0].y);
                        for (var b = 1; b < v.length; b++) this.layoutVertexArray.emplaceBack(v[b].x, v[b].y), this.indexArray2.emplaceBack(x + b - 1, x + b), f.push(v[b].x), f.push(v[b].y);
                        g.vertexLength += v.length, g.primitiveLength += v.length;
                    }
                }
                for (var w = So(f, y), _ = 0; _ < w.length; _ += 3) this.indexArray.emplaceBack(h + w[_], h + w[_ + 1], h + w[_ + 2]);
                c.vertexLength += u, c.primitiveLength += w.length / 3;
            }
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n);
        }, Ln("FillBucket", as, {
            omit: ["layers", "patternFeatures"]
        });
        var os = new bi({
                "fill-sort-key": new mi(Ct.layout_fill["fill-sort-key"])
            }),
            ss = {
                paint: new bi({
                    "fill-antialias": new di(Ct.paint_fill["fill-antialias"]),
                    "fill-opacity": new mi(Ct.paint_fill["fill-opacity"]),
                    "fill-color": new mi(Ct.paint_fill["fill-color"]),
                    "fill-outline-color": new mi(Ct.paint_fill["fill-outline-color"]),
                    "fill-translate": new di(Ct.paint_fill["fill-translate"]),
                    "fill-translate-anchor": new di(Ct.paint_fill["fill-translate-anchor"]),
                    "fill-pattern": new vi(Ct.paint_fill["fill-pattern"])
                }),
                layout: os
            },
            us = function(t) {
                function e(e) {
                    t.call(this, e, ss);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.recalculate = function(e, r) {
                    t.prototype.recalculate.call(this, e, r);
                    var n = this.paint._values["fill-outline-color"];
                    "constant" === n.value.kind && void 0 === n.value.value && (this.paint._values["fill-outline-color"] = this.paint._values["fill-color"]);
                }, e.prototype.createBucket = function(t) {
                    return new as(t)
                }, e.prototype.queryRadius = function() {
                    return Qa(this.paint.get("fill-translate"))
                }, e.prototype.queryIntersectsFeature = function(t, e, r, n, i, a, o) {
                    return Na(to(t, this.paint.get("fill-translate"), this.paint.get("fill-translate-anchor"), a.angle, o), n)
                }, e.prototype.isTileClipped = function() {
                    return !0
                }, e
            }(wi),
            ls = ki([{
                name: "a_pos",
                components: 2,
                type: "Int16"
            }, {
                name: "a_normal_ed",
                components: 4,
                type: "Int16"
            }], 4).members,
            ps = cs;

        function cs(t, e, r, n, i) {
            this.properties = {}, this.extent = r, this.type = 0, this._pbf = t, this._geometry = -1, this._keys = n, this._values = i, t.readFields(hs, this, e);
        }

        function hs(t, e, r) {
            1 == t ? e.id = r.readVarint() : 2 == t ? function(t, e) {
                for (var r = t.readVarint() + t.pos; t.pos < r;) {
                    var n = e._keys[t.readVarint()],
                        i = e._values[t.readVarint()];
                    e.properties[n] = i;
                }
            }(r, e) : 3 == t ? e.type = r.readVarint() : 4 == t && (e._geometry = r.pos);
        }

        function fs(t) {
            for (var e, r, n = 0, i = 0, a = t.length, o = a - 1; i < a; o = i++) n += ((r = t[o]).x - (e = t[i]).x) * (e.y + r.y);
            return n
        }
        cs.types = ["Unknown", "Point", "LineString", "Polygon"], cs.prototype.loadGeometry = function() {
            var t = this._pbf;
            t.pos = this._geometry;
            for (var e, r = t.readVarint() + t.pos, n = 1, a = 0, o = 0, s = 0, u = []; t.pos < r;) {
                if (a <= 0) {
                    var l = t.readVarint();
                    n = 7 & l, a = l >> 3;
                }
                if (a--, 1 === n || 2 === n) o += t.readSVarint(), s += t.readSVarint(), 1 === n && (e && u.push(e), e = []), e.push(new i(o, s));
                else {
                    if (7 !== n) throw new Error("unknown command " + n);
                    e && e.push(e[0].clone());
                }
            }
            return e && u.push(e), u
        }, cs.prototype.bbox = function() {
            var t = this._pbf;
            t.pos = this._geometry;
            for (var e = t.readVarint() + t.pos, r = 1, n = 0, i = 0, a = 0, o = 1 / 0, s = -1 / 0, u = 1 / 0, l = -1 / 0; t.pos < e;) {
                if (n <= 0) {
                    var p = t.readVarint();
                    r = 7 & p, n = p >> 3;
                }
                if (n--, 1 === r || 2 === r)(i += t.readSVarint()) < o && (o = i), i > s && (s = i), (a += t.readSVarint()) < u && (u = a), a > l && (l = a);
                else if (7 !== r) throw new Error("unknown command " + r)
            }
            return [o, u, s, l]
        }, cs.prototype.toGeoJSON = function(t, e, r) {
            var n, i, a = this.extent * Math.pow(2, r),
                o = this.extent * t,
                s = this.extent * e,
                u = this.loadGeometry(),
                l = cs.types[this.type];

            function p(t) {
                for (var e = 0; e < t.length; e++) {
                    var r = t[e];
                    t[e] = [360 * (r.x + o) / a - 180, 360 / Math.PI * Math.atan(Math.exp((180 - 360 * (r.y + s) / a) * Math.PI / 180)) - 90];
                }
            }
            switch (this.type) {
                case 1:
                    var c = [];
                    for (n = 0; n < u.length; n++) c[n] = u[n][0];
                    p(u = c);
                    break;
                case 2:
                    for (n = 0; n < u.length; n++) p(u[n]);
                    break;
                case 3:
                    for (u = function(t) {
                            var e = t.length;
                            if (e <= 1) return [t];
                            for (var r, n, i = [], a = 0; a < e; a++) {
                                var o = fs(t[a]);
                                0 !== o && (void 0 === n && (n = o < 0), n === o < 0 ? (r && i.push(r), r = [t[a]]) : r.push(t[a]));
                            }
                            return r && i.push(r), i
                        }(u), n = 0; n < u.length; n++)
                        for (i = 0; i < u[n].length; i++) p(u[n][i]);
            }
            1 === u.length ? u = u[0] : l = "Multi" + l;
            var h = {
                type: "Feature",
                geometry: {
                    type: l,
                    coordinates: u
                },
                properties: this.properties
            };
            return "id" in this && (h.id = this.id), h
        };
        var ys = ds;

        function ds(t, e) {
            this.version = 1, this.name = null, this.extent = 4096, this.length = 0, this._pbf = t, this._keys = [], this._values = [], this._features = [], t.readFields(ms, this, e), this.length = this._features.length;
        }

        function ms(t, e, r) {
            15 === t ? e.version = r.readVarint() : 1 === t ? e.name = r.readString() : 5 === t ? e.extent = r.readVarint() : 2 === t ? e._features.push(r.pos) : 3 === t ? e._keys.push(r.readString()) : 4 === t && e._values.push(function(t) {
                for (var e = null, r = t.readVarint() + t.pos; t.pos < r;) {
                    var n = t.readVarint() >> 3;
                    e = 1 === n ? t.readString() : 2 === n ? t.readFloat() : 3 === n ? t.readDouble() : 4 === n ? t.readVarint64() : 5 === n ? t.readVarint() : 6 === n ? t.readSVarint() : 7 === n ? t.readBoolean() : null;
                }
                return e
            }(r));
        }

        function vs(t, e, r) {
            if (3 === t) {
                var n = new ys(r, r.readVarint() + r.pos);
                n.length && (e[n.name] = n);
            }
        }
        ds.prototype.feature = function(t) {
            if (t < 0 || t >= this._features.length) throw new Error("feature index out of bounds");
            this._pbf.pos = this._features[t];
            var e = this._pbf.readVarint() + this._pbf.pos;
            return new ps(this._pbf, e, this.extent, this._keys, this._values)
        };
        var gs = {
                VectorTile: function(t, e) {
                    this.layers = t.readFields(vs, {}, e);
                },
                VectorTileFeature: ps,
                VectorTileLayer: ys
            },
            xs = gs.VectorTileFeature.types,
            bs = Math.pow(2, 13);

        function ws(t, e, r, n, i, a, o, s) {
            t.emplaceBack(e, r, 2 * Math.floor(n * bs) + o, i * bs * 2, a * bs * 2, Math.round(s));
        }
        var _s = function(t) {
            this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                return t.id
            })), this.index = t.index, this.hasPattern = !1, this.layoutVertexArray = new Ei, this.indexArray = new Ui, this.programConfigurations = new Ta(t.layers, t.zoom), this.segments = new oa, this.stateDependentLayerIds = this.layers.filter((function(t) {
                return t.isStateDependent()
            })).map((function(t) {
                return t.id
            }));
        };

        function As(t, e) {
            return t.x === e.x && (t.x < 0 || t.x > 8192) || t.y === e.y && (t.y < 0 || t.y > 8192)
        }
        _s.prototype.populate = function(t, e, r) {
            this.features = [], this.hasPattern = ns("fill-extrusion", this.layers, e);
            for (var n = 0, i = t; n < i.length; n += 1) {
                var a = i[n],
                    o = a.feature,
                    s = a.id,
                    u = a.index,
                    l = a.sourceLayerIndex,
                    p = this.layers[0]._featureFilter.needGeometry,
                    c = {
                        type: o.type,
                        id: s,
                        properties: o.properties,
                        geometry: p ? Ra(o) : []
                    };
                if (this.layers[0]._featureFilter.filter(new oi(this.zoom), c, r)) {
                    var h = {
                        id: s,
                        sourceLayerIndex: l,
                        index: u,
                        geometry: p ? c.geometry : Ra(o),
                        properties: o.properties,
                        type: o.type,
                        patterns: {}
                    };
                    this.hasPattern ? this.features.push(is("fill-extrusion", this.layers, h, this.zoom, e)) : this.addFeature(h, h.geometry, u, r, {}), e.featureIndex.insert(o, h.geometry, u, l, this.index, !0);
                }
            }
        }, _s.prototype.addFeatures = function(t, e, r) {
            for (var n = 0, i = this.features; n < i.length; n += 1) {
                var a = i[n];
                this.addFeature(a, a.geometry, a.index, e, r);
            }
        }, _s.prototype.update = function(t, e, r) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r);
        }, _s.prototype.isEmpty = function() {
            return 0 === this.layoutVertexArray.length
        }, _s.prototype.uploadPending = function() {
            return !this.uploaded || this.programConfigurations.needsUpload
        }, _s.prototype.upload = function(t) {
            this.uploaded || (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, ls), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0;
        }, _s.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
        }, _s.prototype.addFeature = function(t, e, r, n, i) {
            for (var a = 0, o = es(e, 500); a < o.length; a += 1) {
                for (var s = o[a], u = 0, l = 0, p = s; l < p.length; l += 1) u += p[l].length;
                for (var c = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray), h = 0, f = s; h < f.length; h += 1) {
                    var y = f[h];
                    if (0 !== y.length && !((B = y).every((function(t) {
                            return t.x < 0
                        })) || B.every((function(t) {
                            return t.x > 8192
                        })) || B.every((function(t) {
                            return t.y < 0
                        })) || B.every((function(t) {
                            return t.y > 8192
                        }))))
                        for (var d = 0, m = 0; m < y.length; m++) {
                            var v = y[m];
                            if (m >= 1) {
                                var g = y[m - 1];
                                if (!As(v, g)) {
                                    c.vertexLength + 4 > oa.MAX_VERTEX_ARRAY_LENGTH && (c = this.segments.prepareSegment(4, this.layoutVertexArray, this.indexArray));
                                    var x = v.sub(g)._perp()._unit(),
                                        b = g.dist(v);
                                    d + b > 32768 && (d = 0), ws(this.layoutVertexArray, v.x, v.y, x.x, x.y, 0, 0, d), ws(this.layoutVertexArray, v.x, v.y, x.x, x.y, 0, 1, d), ws(this.layoutVertexArray, g.x, g.y, x.x, x.y, 0, 0, d += b), ws(this.layoutVertexArray, g.x, g.y, x.x, x.y, 0, 1, d);
                                    var w = c.vertexLength;
                                    this.indexArray.emplaceBack(w, w + 2, w + 1), this.indexArray.emplaceBack(w + 1, w + 2, w + 3), c.vertexLength += 4, c.primitiveLength += 2;
                                }
                            }
                        }
                }
                if (c.vertexLength + u > oa.MAX_VERTEX_ARRAY_LENGTH && (c = this.segments.prepareSegment(u, this.layoutVertexArray, this.indexArray)), "Polygon" === xs[t.type]) {
                    for (var _ = [], A = [], S = c.vertexLength, k = 0, I = s; k < I.length; k += 1) {
                        var z = I[k];
                        if (0 !== z.length) {
                            z !== s[0] && A.push(_.length / 2);
                            for (var C = 0; C < z.length; C++) {
                                var E = z[C];
                                ws(this.layoutVertexArray, E.x, E.y, 0, 0, 1, 1, 0), _.push(E.x), _.push(E.y);
                            }
                        }
                    }
                    for (var P = So(_, A), M = 0; M < P.length; M += 3) this.indexArray.emplaceBack(S + P[M], S + P[M + 2], S + P[M + 1]);
                    c.primitiveLength += P.length / 3, c.vertexLength += u;
                }
            }
            var B;
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n);
        }, Ln("FillExtrusionBucket", _s, {
            omit: ["layers", "features"]
        });
        var Ss = {
                paint: new bi({
                    "fill-extrusion-opacity": new di(Ct["paint_fill-extrusion"]["fill-extrusion-opacity"]),
                    "fill-extrusion-color": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-color"]),
                    "fill-extrusion-translate": new di(Ct["paint_fill-extrusion"]["fill-extrusion-translate"]),
                    "fill-extrusion-translate-anchor": new di(Ct["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),
                    "fill-extrusion-pattern": new vi(Ct["paint_fill-extrusion"]["fill-extrusion-pattern"]),
                    "fill-extrusion-height": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-height"]),
                    "fill-extrusion-base": new mi(Ct["paint_fill-extrusion"]["fill-extrusion-base"]),
                    "fill-extrusion-vertical-gradient": new di(Ct["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])
                })
            },
            ks = function(t) {
                function e(e) {
                    t.call(this, e, Ss);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.createBucket = function(t) {
                    return new _s(t)
                }, e.prototype.queryRadius = function() {
                    return Qa(this.paint.get("fill-extrusion-translate"))
                }, e.prototype.is3D = function() {
                    return !0
                }, e.prototype.queryIntersectsFeature = function(t, e, r, n, a, o, s, u) {
                    var l = to(t, this.paint.get("fill-extrusion-translate"), this.paint.get("fill-extrusion-translate-anchor"), o.angle, s),
                        p = this.paint.get("fill-extrusion-height").evaluate(e, r),
                        c = this.paint.get("fill-extrusion-base").evaluate(e, r),
                        h = function(t, e, r, n) {
                            for (var a = [], o = 0, s = t; o < s.length; o += 1) {
                                var u = s[o],
                                    l = [u.x, u.y, 0, 1];
                                uo(l, l, e), a.push(new i(l[0] / l[3], l[1] / l[3]));
                            }
                            return a
                        }(l, u),
                        f = function(t, e, r, n) {
                            for (var a = [], o = [], s = n[8] * e, u = n[9] * e, l = n[10] * e, p = n[11] * e, c = n[8] * r, h = n[9] * r, f = n[10] * r, y = n[11] * r, d = 0, m = t; d < m.length; d += 1) {
                                for (var v = [], g = [], x = 0, b = m[d]; x < b.length; x += 1) {
                                    var w = b[x],
                                        _ = w.x,
                                        A = w.y,
                                        S = n[0] * _ + n[4] * A + n[12],
                                        k = n[1] * _ + n[5] * A + n[13],
                                        I = n[2] * _ + n[6] * A + n[14],
                                        z = n[3] * _ + n[7] * A + n[15],
                                        C = I + l,
                                        E = z + p,
                                        P = S + c,
                                        M = k + h,
                                        B = I + f,
                                        T = z + y,
                                        V = new i((S + s) / E, (k + u) / E);
                                    V.z = C / E, v.push(V);
                                    var F = new i(P / T, M / T);
                                    F.z = B / T, g.push(F);
                                }
                                a.push(v), o.push(g);
                            }
                            return [a, o]
                        }(n, c, p, u);
                    return function(t, e, r) {
                        var n = 1 / 0;
                        Na(r, e) && (n = zs(r, e[0]));
                        for (var i = 0; i < e.length; i++)
                            for (var a = e[i], o = t[i], s = 0; s < a.length - 1; s++) {
                                var u = a[s],
                                    l = [u, a[s + 1], o[s + 1], o[s], u];
                                ja(r, l) && (n = Math.min(n, zs(r, l)));
                            }
                        return n !== 1 / 0 && n
                    }(f[0], f[1], h)
                }, e
            }(wi);

        function Is(t, e) {
            return t.x * e.x + t.y * e.y
        }

        function zs(t, e) {
            if (1 === t.length) {
                for (var r, n = 0, i = e[n++]; !r || i.equals(r);)
                    if (!(r = e[n++])) return 1 / 0;
                for (; n < e.length; n++) {
                    var a = e[n],
                        o = t[0],
                        s = r.sub(i),
                        u = a.sub(i),
                        l = o.sub(i),
                        p = Is(s, s),
                        c = Is(s, u),
                        h = Is(u, u),
                        f = Is(l, s),
                        y = Is(l, u),
                        d = p * h - c * c,
                        m = (h * f - c * y) / d,
                        v = (p * y - c * f) / d,
                        g = i.z * (1 - m - v) + r.z * m + a.z * v;
                    if (isFinite(g)) return g
                }
                return 1 / 0
            }
            for (var x = 1 / 0, b = 0, w = e; b < w.length; b += 1) x = Math.min(x, w[b].z);
            return x
        }
        var Cs = ki([{
                name: "a_pos_normal",
                components: 2,
                type: "Int16"
            }, {
                name: "a_data",
                components: 4,
                type: "Uint8"
            }], 4).members,
            Es = ki([{
                name: "a_uv_x",
                components: 1,
                type: "Float32"
            }, {
                name: "a_split_index",
                components: 1,
                type: "Float32"
            }]).members,
            Ps = gs.VectorTileFeature.types,
            Ms = Math.cos(Math.PI / 180 * 37.5),
            Bs = Math.pow(2, 14) / .5,
            Ts = function(t) {
                var e = this;
                this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                    return t.id
                })), this.index = t.index, this.hasPattern = !1, this.patternFeatures = [], this.lineClipsArray = [], this.gradients = {}, this.layers.forEach((function(t) {
                    e.gradients[t.id] = {};
                })), this.layoutVertexArray = new Pi, this.layoutVertexArray2 = new Mi, this.indexArray = new Ui, this.programConfigurations = new Ta(t.layers, t.zoom), this.segments = new oa, this.maxLineLength = 0, this.stateDependentLayerIds = this.layers.filter((function(t) {
                    return t.isStateDependent()
                })).map((function(t) {
                    return t.id
                }));
            };
        Ts.prototype.populate = function(t, e, r) {
            this.hasPattern = ns("line", this.layers, e);
            for (var n = this.layers[0].layout.get("line-sort-key"), i = [], a = 0, o = t; a < o.length; a += 1) {
                var s = o[a],
                    u = s.feature,
                    l = s.id,
                    p = s.index,
                    c = s.sourceLayerIndex,
                    h = this.layers[0]._featureFilter.needGeometry,
                    f = {
                        type: u.type,
                        id: l,
                        properties: u.properties,
                        geometry: h ? Ra(u) : []
                    };
                if (this.layers[0]._featureFilter.filter(new oi(this.zoom), f, r)) {
                    h || (f.geometry = Ra(u));
                    var y = n ? n.evaluate(f, {}, r) : void 0;
                    i.push({
                        id: l,
                        properties: u.properties,
                        type: u.type,
                        sourceLayerIndex: c,
                        index: p,
                        geometry: f.geometry,
                        patterns: {},
                        sortKey: y
                    });
                }
            }
            n && i.sort((function(t, e) {
                return t.sortKey - e.sortKey
            }));
            for (var d = 0, m = i; d < m.length; d += 1) {
                var v = m[d],
                    g = v.geometry,
                    x = v.index,
                    b = v.sourceLayerIndex;
                if (this.hasPattern) {
                    var w = is("line", this.layers, v, this.zoom, e);
                    this.patternFeatures.push(w);
                } else this.addFeature(v, g, x, r, {});
                e.featureIndex.insert(t[x].feature, g, x, b, this.index);
            }
        }, Ts.prototype.update = function(t, e, r) {
            this.stateDependentLayers.length && this.programConfigurations.updatePaintArrays(t, e, this.stateDependentLayers, r);
        }, Ts.prototype.addFeatures = function(t, e, r) {
            for (var n = 0, i = this.patternFeatures; n < i.length; n += 1) {
                var a = i[n];
                this.addFeature(a, a.geometry, a.index, e, r);
            }
        }, Ts.prototype.isEmpty = function() {
            return 0 === this.layoutVertexArray.length
        }, Ts.prototype.uploadPending = function() {
            return !this.uploaded || this.programConfigurations.needsUpload
        }, Ts.prototype.upload = function(t) {
            this.uploaded || (0 !== this.layoutVertexArray2.length && (this.layoutVertexBuffer2 = t.createVertexBuffer(this.layoutVertexArray2, Es)), this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, Cs), this.indexBuffer = t.createIndexBuffer(this.indexArray)), this.programConfigurations.upload(t), this.uploaded = !0;
        }, Ts.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy());
        }, Ts.prototype.lineFeatureClips = function(t) {
            if (t.properties && t.properties.hasOwnProperty("mapbox_clip_start") && t.properties.hasOwnProperty("mapbox_clip_end")) return {
                start: +t.properties.mapbox_clip_start,
                end: +t.properties.mapbox_clip_end
            }
        }, Ts.prototype.addFeature = function(t, e, r, n, i) {
            var a = this.layers[0].layout,
                o = a.get("line-join").evaluate(t, {}),
                s = a.get("line-cap"),
                u = a.get("line-miter-limit"),
                l = a.get("line-round-limit");
            this.lineClips = this.lineFeatureClips(t);
            for (var p = 0, c = e; p < c.length; p += 1) this.addLine(c[p], t, o, s, u, l);
            this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length, t, r, i, n);
        }, Ts.prototype.addLine = function(t, e, r, n, i, a) {
            if (this.distance = 0, this.scaledDistance = 0, this.totalDistance = 0, this.lineClips) {
                this.lineClipsArray.push(this.lineClips);
                for (var o = 0; o < t.length - 1; o++) this.totalDistance += t[o].dist(t[o + 1]);
                this.updateScaledDistance(), this.maxLineLength = Math.max(this.maxLineLength, this.totalDistance);
            }
            for (var s = "Polygon" === Ps[e.type], u = t.length; u >= 2 && t[u - 1].equals(t[u - 2]);) u--;
            for (var l = 0; l < u - 1 && t[l].equals(t[l + 1]);) l++;
            if (!(u < (s ? 3 : 2))) {
                "bevel" === r && (i = 1.05);
                var p, c = this.overscaling <= 16 ? 122880 / (512 * this.overscaling) : 0,
                    h = this.segments.prepareSegment(10 * u, this.layoutVertexArray, this.indexArray),
                    f = void 0,
                    y = void 0,
                    d = void 0,
                    m = void 0;
                this.e1 = this.e2 = -1, s && (m = t[l].sub(p = t[u - 2])._unit()._perp());
                for (var v = l; v < u; v++)
                    if (!(y = v === u - 1 ? s ? t[l + 1] : void 0 : t[v + 1]) || !t[v].equals(y)) {
                        m && (d = m), p && (f = p), p = t[v], m = y ? y.sub(p)._unit()._perp() : d;
                        var g = (d = d || m).add(m);
                        0 === g.x && 0 === g.y || g._unit();
                        var x = d.x * m.x + d.y * m.y,
                            b = g.x * m.x + g.y * m.y,
                            w = 0 !== b ? 1 / b : 1 / 0,
                            _ = 2 * Math.sqrt(2 - 2 * b),
                            A = b < Ms && f && y,
                            S = d.x * m.y - d.y * m.x > 0;
                        if (A && v > l) {
                            var k = p.dist(f);
                            if (k > 2 * c) {
                                var I = p.sub(p.sub(f)._mult(c / k)._round());
                                this.updateDistance(f, I), this.addCurrentVertex(I, d, 0, 0, h), f = I;
                            }
                        }
                        var z = f && y,
                            C = z ? r : s ? "butt" : n;
                        if (z && "round" === C && (w < a ? C = "miter" : w <= 2 && (C = "fakeround")), "miter" === C && w > i && (C = "bevel"), "bevel" === C && (w > 2 && (C = "flipbevel"), w < i && (C = "miter")), f && this.updateDistance(f, p), "miter" === C) g._mult(w), this.addCurrentVertex(p, g, 0, 0, h);
                        else if ("flipbevel" === C) {
                            if (w > 100) g = m.mult(-1);
                            else {
                                var E = w * d.add(m).mag() / d.sub(m).mag();
                                g._perp()._mult(E * (S ? -1 : 1));
                            }
                            this.addCurrentVertex(p, g, 0, 0, h), this.addCurrentVertex(p, g.mult(-1), 0, 0, h);
                        } else if ("bevel" === C || "fakeround" === C) {
                            var P = -Math.sqrt(w * w - 1),
                                M = S ? P : 0,
                                B = S ? 0 : P;
                            if (f && this.addCurrentVertex(p, d, M, B, h), "fakeround" === C)
                                for (var T = Math.round(180 * _ / Math.PI / 20), V = 1; V < T; V++) {
                                    var F = V / T;
                                    if (.5 !== F) {
                                        var D = F - .5;
                                        F += F * D * (F - 1) * ((1.0904 + x * (x * (3.55645 - 1.43519 * x) - 3.2452)) * D * D + (.848013 + x * (.215638 * x - 1.06021)));
                                    }
                                    var L = m.sub(d)._mult(F)._add(d)._unit()._mult(S ? -1 : 1);
                                    this.addHalfVertex(p, L.x, L.y, !1, S, 0, h);
                                }
                            y && this.addCurrentVertex(p, m, -M, -B, h);
                        } else if ("butt" === C) this.addCurrentVertex(p, g, 0, 0, h);
                        else if ("square" === C) {
                            var R = f ? 1 : -1;
                            this.addCurrentVertex(p, g, R, R, h);
                        } else "round" === C && (f && (this.addCurrentVertex(p, d, 0, 0, h), this.addCurrentVertex(p, d, 1, 1, h, !0)), y && (this.addCurrentVertex(p, m, -1, -1, h, !0), this.addCurrentVertex(p, m, 0, 0, h)));
                        if (A && v < u - 1) {
                            var O = p.dist(y);
                            if (O > 2 * c) {
                                var U = p.add(y.sub(p)._mult(c / O)._round());
                                this.updateDistance(p, U), this.addCurrentVertex(U, m, 0, 0, h), p = U;
                            }
                        }
                    }
            }
        }, Ts.prototype.addCurrentVertex = function(t, e, r, n, i, a) {
            void 0 === a && (a = !1);
            var o = e.y * n - e.x,
                s = -e.y - e.x * n;
            this.addHalfVertex(t, e.x + e.y * r, e.y - e.x * r, a, !1, r, i), this.addHalfVertex(t, o, s, a, !0, -n, i), this.distance > Bs / 2 && 0 === this.totalDistance && (this.distance = 0, this.addCurrentVertex(t, e, r, n, i, a));
        }, Ts.prototype.addHalfVertex = function(t, e, r, n, i, a, o) {
            var s = .5 * (this.lineClips ? this.scaledDistance * (Bs - 1) : this.scaledDistance);
            this.layoutVertexArray.emplaceBack((t.x << 1) + (n ? 1 : 0), (t.y << 1) + (i ? 1 : 0), Math.round(63 * e) + 128, Math.round(63 * r) + 128, 1 + (0 === a ? 0 : a < 0 ? -1 : 1) | (63 & s) << 2, s >> 6), this.lineClips && this.layoutVertexArray2.emplaceBack((this.scaledDistance - this.lineClips.start) / (this.lineClips.end - this.lineClips.start), this.lineClipsArray.length);
            var u = o.vertexLength++;
            this.e1 >= 0 && this.e2 >= 0 && (this.indexArray.emplaceBack(this.e1, this.e2, u), o.primitiveLength++), i ? this.e2 = u : this.e1 = u;
        }, Ts.prototype.updateScaledDistance = function() {
            this.scaledDistance = this.lineClips ? this.lineClips.start + (this.lineClips.end - this.lineClips.start) * this.distance / this.totalDistance : this.distance;
        }, Ts.prototype.updateDistance = function(t, e) {
            this.distance += t.dist(e), this.updateScaledDistance();
        }, Ln("LineBucket", Ts, {
            omit: ["layers", "patternFeatures"]
        });
        var Vs = new bi({
                "line-cap": new di(Ct.layout_line["line-cap"]),
                "line-join": new mi(Ct.layout_line["line-join"]),
                "line-miter-limit": new di(Ct.layout_line["line-miter-limit"]),
                "line-round-limit": new di(Ct.layout_line["line-round-limit"]),
                "line-sort-key": new mi(Ct.layout_line["line-sort-key"])
            }),
            Fs = {
                paint: new bi({
                    "line-opacity": new mi(Ct.paint_line["line-opacity"]),
                    "line-color": new mi(Ct.paint_line["line-color"]),
                    "line-translate": new di(Ct.paint_line["line-translate"]),
                    "line-translate-anchor": new di(Ct.paint_line["line-translate-anchor"]),
                    "line-width": new mi(Ct.paint_line["line-width"]),
                    "line-gap-width": new mi(Ct.paint_line["line-gap-width"]),
                    "line-offset": new mi(Ct.paint_line["line-offset"]),
                    "line-blur": new mi(Ct.paint_line["line-blur"]),
                    "line-dasharray": new gi(Ct.paint_line["line-dasharray"]),
                    "line-pattern": new vi(Ct.paint_line["line-pattern"]),
                    "line-gradient": new xi(Ct.paint_line["line-gradient"])
                }),
                layout: Vs
            },
            Ds = new(function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.possiblyEvaluate = function(e, r) {
                    return r = new oi(Math.floor(r.zoom), {
                        now: r.now,
                        fadeDuration: r.fadeDuration,
                        zoomHistory: r.zoomHistory,
                        transition: r.transition
                    }), t.prototype.possiblyEvaluate.call(this, e, r)
                }, e.prototype.evaluate = function(e, r, n, i) {
                    return r = h({}, r, {
                        zoom: Math.floor(r.zoom)
                    }), t.prototype.evaluate.call(this, e, r, n, i)
                }, e
            }(mi))(Fs.paint.properties["line-width"].specification);
        Ds.useIntegerZoom = !0;
        var Ls = function(t) {
            function e(e) {
                t.call(this, e, Fs), this.gradientVersion = 0;
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._handleSpecialPaintPropertyUpdate = function(t) {
                "line-gradient" === t && (this.stepInterpolant = this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof qe, this.gradientVersion = (this.gradientVersion + 1) % s);
            }, e.prototype.gradientExpression = function() {
                return this._transitionablePaint._values["line-gradient"].value.expression
            }, e.prototype.recalculate = function(e, r) {
                t.prototype.recalculate.call(this, e, r), this.paint._values["line-floorwidth"] = Ds.possiblyEvaluate(this._transitioningPaint._values["line-width"].value, e);
            }, e.prototype.createBucket = function(t) {
                return new Ts(t)
            }, e.prototype.queryRadius = function(t) {
                var e = t,
                    r = Rs(Wa("line-width", this, e), Wa("line-gap-width", this, e)),
                    n = Wa("line-offset", this, e);
                return r / 2 + Math.abs(n) + Qa(this.paint.get("line-translate"))
            }, e.prototype.queryIntersectsFeature = function(t, e, r, n, a, o, s) {
                var u = to(t, this.paint.get("line-translate"), this.paint.get("line-translate-anchor"), o.angle, s),
                    l = s / 2 * Rs(this.paint.get("line-width").evaluate(e, r), this.paint.get("line-gap-width").evaluate(e, r)),
                    p = this.paint.get("line-offset").evaluate(e, r);
                return p && (n = function(t, e) {
                        for (var r = [], n = new i(0, 0), a = 0; a < t.length; a++) {
                            for (var o = t[a], s = [], u = 0; u < o.length; u++) {
                                var l = o[u],
                                    p = o[u + 1],
                                    c = 0 === u ? n : l.sub(o[u - 1])._unit()._perp(),
                                    h = u === o.length - 1 ? n : p.sub(l)._unit()._perp(),
                                    f = c._add(h)._unit();
                                f._mult(1 / (f.x * h.x + f.y * h.y)), s.push(f._mult(e)._add(l));
                            }
                            r.push(s);
                        }
                        return r
                    }(n, p * s)),
                    function(t, e, r) {
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (t.length >= 3)
                                for (var a = 0; a < i.length; a++)
                                    if (Ya(t, i[a])) return !0;
                            if (Ka(t, i, r)) return !0
                        }
                        return !1
                    }(u, n, l)
            }, e.prototype.isTileClipped = function() {
                return !0
            }, e
        }(wi);

        function Rs(t, e) {
            return e > 0 ? e + 2 * t : t
        }
        var Os = ki([{
                name: "a_pos_offset",
                components: 4,
                type: "Int16"
            }, {
                name: "a_data",
                components: 4,
                type: "Uint16"
            }, {
                name: "a_pixeloffset",
                components: 4,
                type: "Int16"
            }], 4),
            Us = ki([{
                name: "a_projected_pos",
                components: 3,
                type: "Float32"
            }], 4),
            js = (ki([{
                name: "a_fade_opacity",
                components: 1,
                type: "Uint32"
            }], 4), ki([{
                name: "a_placed",
                components: 2,
                type: "Uint8"
            }, {
                name: "a_shift",
                components: 2,
                type: "Float32"
            }])),
            qs = (ki([{
                type: "Int16",
                name: "anchorPointX"
            }, {
                type: "Int16",
                name: "anchorPointY"
            }, {
                type: "Int16",
                name: "x1"
            }, {
                type: "Int16",
                name: "y1"
            }, {
                type: "Int16",
                name: "x2"
            }, {
                type: "Int16",
                name: "y2"
            }, {
                type: "Uint32",
                name: "featureIndex"
            }, {
                type: "Uint16",
                name: "sourceLayerIndex"
            }, {
                type: "Uint16",
                name: "bucketIndex"
            }]), ki([{
                name: "a_pos",
                components: 2,
                type: "Int16"
            }, {
                name: "a_anchor_pos",
                components: 2,
                type: "Int16"
            }, {
                name: "a_extrude",
                components: 2,
                type: "Int16"
            }], 4)),
            Ns = ki([{
                name: "a_pos",
                components: 2,
                type: "Float32"
            }, {
                name: "a_radius",
                components: 1,
                type: "Float32"
            }, {
                name: "a_flags",
                components: 2,
                type: "Int16"
            }], 4);

        function Ks(t, e, r) {
            return t.sections.forEach((function(t) {
                t.text = function(t, e, r) {
                    var n = e.layout.get("text-transform").evaluate(r, {});
                    return "uppercase" === n ? t = t.toLocaleUpperCase() : "lowercase" === n && (t = t.toLocaleLowerCase()), ai.applyArabicShaping && (t = ai.applyArabicShaping(t)), t
                }(t.text, e, r);
            })), t
        }
        ki([{
            name: "triangle",
            components: 3,
            type: "Uint16"
        }]), ki([{
            type: "Int16",
            name: "anchorX"
        }, {
            type: "Int16",
            name: "anchorY"
        }, {
            type: "Uint16",
            name: "glyphStartIndex"
        }, {
            type: "Uint16",
            name: "numGlyphs"
        }, {
            type: "Uint32",
            name: "vertexStartIndex"
        }, {
            type: "Uint32",
            name: "lineStartIndex"
        }, {
            type: "Uint32",
            name: "lineLength"
        }, {
            type: "Uint16",
            name: "segment"
        }, {
            type: "Uint16",
            name: "lowerSize"
        }, {
            type: "Uint16",
            name: "upperSize"
        }, {
            type: "Float32",
            name: "lineOffsetX"
        }, {
            type: "Float32",
            name: "lineOffsetY"
        }, {
            type: "Uint8",
            name: "writingMode"
        }, {
            type: "Uint8",
            name: "placedOrientation"
        }, {
            type: "Uint8",
            name: "hidden"
        }, {
            type: "Uint32",
            name: "crossTileID"
        }, {
            type: "Int16",
            name: "associatedIconIndex"
        }]), ki([{
            type: "Int16",
            name: "anchorX"
        }, {
            type: "Int16",
            name: "anchorY"
        }, {
            type: "Int16",
            name: "rightJustifiedTextSymbolIndex"
        }, {
            type: "Int16",
            name: "centerJustifiedTextSymbolIndex"
        }, {
            type: "Int16",
            name: "leftJustifiedTextSymbolIndex"
        }, {
            type: "Int16",
            name: "verticalPlacedTextSymbolIndex"
        }, {
            type: "Int16",
            name: "placedIconSymbolIndex"
        }, {
            type: "Int16",
            name: "verticalPlacedIconSymbolIndex"
        }, {
            type: "Uint16",
            name: "key"
        }, {
            type: "Uint16",
            name: "textBoxStartIndex"
        }, {
            type: "Uint16",
            name: "textBoxEndIndex"
        }, {
            type: "Uint16",
            name: "verticalTextBoxStartIndex"
        }, {
            type: "Uint16",
            name: "verticalTextBoxEndIndex"
        }, {
            type: "Uint16",
            name: "iconBoxStartIndex"
        }, {
            type: "Uint16",
            name: "iconBoxEndIndex"
        }, {
            type: "Uint16",
            name: "verticalIconBoxStartIndex"
        }, {
            type: "Uint16",
            name: "verticalIconBoxEndIndex"
        }, {
            type: "Uint16",
            name: "featureIndex"
        }, {
            type: "Uint16",
            name: "numHorizontalGlyphVertices"
        }, {
            type: "Uint16",
            name: "numVerticalGlyphVertices"
        }, {
            type: "Uint16",
            name: "numIconVertices"
        }, {
            type: "Uint16",
            name: "numVerticalIconVertices"
        }, {
            type: "Uint16",
            name: "useRuntimeCollisionCircles"
        }, {
            type: "Uint32",
            name: "crossTileID"
        }, {
            type: "Float32",
            name: "textBoxScale"
        }, {
            type: "Float32",
            components: 2,
            name: "textOffset"
        }, {
            type: "Float32",
            name: "collisionCircleDiameter"
        }]), ki([{
            type: "Float32",
            name: "offsetX"
        }]), ki([{
            type: "Int16",
            name: "x"
        }, {
            type: "Int16",
            name: "y"
        }, {
            type: "Int16",
            name: "tileUnitDistanceFromAnchor"
        }]);
        var Gs = {
                "!": "︕",
                "#": "＃",
                $: "＄",
                "%": "％",
                "&": "＆",
                "(": "︵",
                ")": "︶",
                "*": "＊",
                "+": "＋",
                ",": "︐",
                "-": "︲",
                ".": "・",
                "/": "／",
                ":": "︓",
                ";": "︔",
                "<": "︿",
                "=": "＝",
                ">": "﹀",
                "?": "︖",
                "@": "＠",
                "[": "﹇",
                "\\": "＼",
                "]": "﹈",
                "^": "＾",
                _: "︳",
                "`": "｀",
                "{": "︷",
                "|": "―",
                "}": "︸",
                "~": "～",
                "¢": "￠",
                "£": "￡",
                "¥": "￥",
                "¦": "￤",
                "¬": "￢",
                "¯": "￣",
                "–": "︲",
                "—": "︱",
                "‘": "﹃",
                "’": "﹄",
                "“": "﹁",
                "”": "﹂",
                "…": "︙",
                "‧": "・",
                "₩": "￦",
                "、": "︑",
                "。": "︒",
                "〈": "︿",
                "〉": "﹀",
                "《": "︽",
                "》": "︾",
                "「": "﹁",
                "」": "﹂",
                "『": "﹃",
                "』": "﹄",
                "【": "︻",
                "】": "︼",
                "〔": "︹",
                "〕": "︺",
                "〖": "︗",
                "〗": "︘",
                "！": "︕",
                "（": "︵",
                "）": "︶",
                "，": "︐",
                "－": "︲",
                "．": "・",
                "：": "︓",
                "；": "︔",
                "＜": "︿",
                "＞": "﹀",
                "？": "︖",
                "［": "﹇",
                "］": "﹈",
                "＿": "︳",
                "｛": "︷",
                "｜": "―",
                "｝": "︸",
                "｟": "︵",
                "｠": "︶",
                "｡": "︒",
                "｢": "﹁",
                "｣": "﹂"
            },
            Zs = function(t, e, r, n, i) {
                var a, o, s = 8 * i - n - 1,
                    u = (1 << s) - 1,
                    l = u >> 1,
                    p = -7,
                    c = r ? i - 1 : 0,
                    h = r ? -1 : 1,
                    f = t[e + c];
                for (c += h, a = f & (1 << -p) - 1, f >>= -p, p += s; p > 0; a = 256 * a + t[e + c], c += h, p -= 8);
                for (o = a & (1 << -p) - 1, a >>= -p, p += n; p > 0; o = 256 * o + t[e + c], c += h, p -= 8);
                if (0 === a) a = 1 - l;
                else {
                    if (a === u) return o ? NaN : 1 / 0 * (f ? -1 : 1);
                    o += Math.pow(2, n), a -= l;
                }
                return (f ? -1 : 1) * o * Math.pow(2, a - n)
            },
            Xs = function(t, e, r, n, i, a) {
                var o, s, u, l = 8 * a - i - 1,
                    p = (1 << l) - 1,
                    c = p >> 1,
                    h = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                    f = n ? 0 : a - 1,
                    y = n ? 1 : -1,
                    d = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0;
                for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (s = isNaN(e) ? 1 : 0, o = p) : (o = Math.floor(Math.log(e) / Math.LN2), e * (u = Math.pow(2, -o)) < 1 && (o--, u *= 2), (e += o + c >= 1 ? h / u : h * Math.pow(2, 1 - c)) * u >= 2 && (o++, u /= 2), o + c >= p ? (s = 0, o = p) : o + c >= 1 ? (s = (e * u - 1) * Math.pow(2, i), o += c) : (s = e * Math.pow(2, c - 1) * Math.pow(2, i), o = 0)); i >= 8; t[r + f] = 255 & s, f += y, s /= 256, i -= 8);
                for (o = o << i | s, l += i; l > 0; t[r + f] = 255 & o, f += y, o /= 256, l -= 8);
                t[r + f - y] |= 128 * d;
            },
            Js = Hs;

        function Hs(t) {
            this.buf = ArrayBuffer.isView && ArrayBuffer.isView(t) ? t : new Uint8Array(t || 0), this.pos = 0, this.type = 0, this.length = this.buf.length;
        }
        Hs.Varint = 0, Hs.Fixed64 = 1, Hs.Bytes = 2, Hs.Fixed32 = 5;
        var Ys = "undefined" == typeof TextDecoder ? null : new TextDecoder("utf8");

        function $s(t) {
            return t.type === Hs.Bytes ? t.readVarint() + t.pos : t.pos + 1
        }

        function Ws(t, e, r) {
            return r ? 4294967296 * e + (t >>> 0) : 4294967296 * (e >>> 0) + (t >>> 0)
        }

        function Qs(t, e, r) {
            var n = e <= 16383 ? 1 : e <= 2097151 ? 2 : e <= 268435455 ? 3 : Math.floor(Math.log(e) / (7 * Math.LN2));
            r.realloc(n);
            for (var i = r.pos - 1; i >= t; i--) r.buf[i + n] = r.buf[i];
        }

        function tu(t, e) {
            for (var r = 0; r < t.length; r++) e.writeVarint(t[r]);
        }

        function eu(t, e) {
            for (var r = 0; r < t.length; r++) e.writeSVarint(t[r]);
        }

        function ru(t, e) {
            for (var r = 0; r < t.length; r++) e.writeFloat(t[r]);
        }

        function nu(t, e) {
            for (var r = 0; r < t.length; r++) e.writeDouble(t[r]);
        }

        function iu(t, e) {
            for (var r = 0; r < t.length; r++) e.writeBoolean(t[r]);
        }

        function au(t, e) {
            for (var r = 0; r < t.length; r++) e.writeFixed32(t[r]);
        }

        function ou(t, e) {
            for (var r = 0; r < t.length; r++) e.writeSFixed32(t[r]);
        }

        function su(t, e) {
            for (var r = 0; r < t.length; r++) e.writeFixed64(t[r]);
        }

        function uu(t, e) {
            for (var r = 0; r < t.length; r++) e.writeSFixed64(t[r]);
        }

        function lu(t, e) {
            return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + 16777216 * t[e + 3]
        }

        function pu(t, e, r) {
            t[r] = e, t[r + 1] = e >>> 8, t[r + 2] = e >>> 16, t[r + 3] = e >>> 24;
        }

        function cu(t, e) {
            return (t[e] | t[e + 1] << 8 | t[e + 2] << 16) + (t[e + 3] << 24)
        }

        function hu(t, e, r) {
            1 === t && r.readMessage(fu, e);
        }

        function fu(t, e, r) {
            if (3 === t) {
                var n = r.readMessage(yu, {}),
                    i = n.width,
                    a = n.height,
                    o = n.left,
                    s = n.top,
                    u = n.advance;
                e.push({
                    id: n.id,
                    bitmap: new mo({
                        width: i + 6,
                        height: a + 6
                    }, n.bitmap),
                    metrics: {
                        width: i,
                        height: a,
                        left: o,
                        top: s,
                        advance: u
                    }
                });
            }
        }

        function yu(t, e, r) {
            1 === t ? e.id = r.readVarint() : 2 === t ? e.bitmap = r.readBytes() : 3 === t ? e.width = r.readVarint() : 4 === t ? e.height = r.readVarint() : 5 === t ? e.left = r.readSVarint() : 6 === t ? e.top = r.readSVarint() : 7 === t && (e.advance = r.readVarint());
        }

        function du(t) {
            for (var e = 0, r = 0, n = 0, i = t; n < i.length; n += 1) {
                var a = i[n];
                e += a.w * a.h, r = Math.max(r, a.w);
            }
            t.sort((function(t, e) {
                return e.h - t.h
            }));
            for (var o = [{
                    x: 0,
                    y: 0,
                    w: Math.max(Math.ceil(Math.sqrt(e / .95)), r),
                    h: 1 / 0
                }], s = 0, u = 0, l = 0, p = t; l < p.length; l += 1)
                for (var c = p[l], h = o.length - 1; h >= 0; h--) {
                    var f = o[h];
                    if (!(c.w > f.w || c.h > f.h)) {
                        if (c.x = f.x, c.y = f.y, u = Math.max(u, c.y + c.h), s = Math.max(s, c.x + c.w), c.w === f.w && c.h === f.h) {
                            var y = o.pop();
                            h < o.length && (o[h] = y);
                        } else c.h === f.h ? (f.x += c.w, f.w -= c.w) : c.w === f.w ? (f.y += c.h, f.h -= c.h) : (o.push({
                            x: f.x + c.w,
                            y: f.y,
                            w: f.w - c.w,
                            h: c.h
                        }), f.y += c.h, f.h -= c.h);
                        break
                    }
                }
            return {
                w: s,
                h: u,
                fill: e / (s * u) || 0
            }
        }
        Hs.prototype = {
            destroy: function() {
                this.buf = null;
            },
            readFields: function(t, e, r) {
                for (r = r || this.length; this.pos < r;) {
                    var n = this.readVarint(),
                        i = n >> 3,
                        a = this.pos;
                    this.type = 7 & n, t(i, e, this), this.pos === a && this.skip(n);
                }
                return e
            },
            readMessage: function(t, e) {
                return this.readFields(t, e, this.readVarint() + this.pos)
            },
            readFixed32: function() {
                var t = lu(this.buf, this.pos);
                return this.pos += 4, t
            },
            readSFixed32: function() {
                var t = cu(this.buf, this.pos);
                return this.pos += 4, t
            },
            readFixed64: function() {
                var t = lu(this.buf, this.pos) + 4294967296 * lu(this.buf, this.pos + 4);
                return this.pos += 8, t
            },
            readSFixed64: function() {
                var t = lu(this.buf, this.pos) + 4294967296 * cu(this.buf, this.pos + 4);
                return this.pos += 8, t
            },
            readFloat: function() {
                var t = Zs(this.buf, this.pos, !0, 23, 4);
                return this.pos += 4, t
            },
            readDouble: function() {
                var t = Zs(this.buf, this.pos, !0, 52, 8);
                return this.pos += 8, t
            },
            readVarint: function(t) {
                var e, r, n = this.buf;
                return e = 127 & (r = n[this.pos++]), r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 7, r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 14, r < 128 ? e : (e |= (127 & (r = n[this.pos++])) << 21, r < 128 ? e : function(t, e, r) {
                    var n, i, a = r.buf;
                    if (n = (112 & (i = a[r.pos++])) >> 4, i < 128) return Ws(t, n, e);
                    if (n |= (127 & (i = a[r.pos++])) << 3, i < 128) return Ws(t, n, e);
                    if (n |= (127 & (i = a[r.pos++])) << 10, i < 128) return Ws(t, n, e);
                    if (n |= (127 & (i = a[r.pos++])) << 17, i < 128) return Ws(t, n, e);
                    if (n |= (127 & (i = a[r.pos++])) << 24, i < 128) return Ws(t, n, e);
                    if (n |= (1 & (i = a[r.pos++])) << 31, i < 128) return Ws(t, n, e);
                    throw new Error("Expected varint not more than 10 bytes")
                }(e |= (15 & (r = n[this.pos])) << 28, t, this))))
            },
            readVarint64: function() {
                return this.readVarint(!0)
            },
            readSVarint: function() {
                var t = this.readVarint();
                return t % 2 == 1 ? (t + 1) / -2 : t / 2
            },
            readBoolean: function() {
                return Boolean(this.readVarint())
            },
            readString: function() {
                var t = this.readVarint() + this.pos,
                    e = this.pos;
                return this.pos = t, t - e >= 12 && Ys ? function(t, e, r) {
                    return Ys.decode(t.subarray(e, r))
                }(this.buf, e, t) : function(t, e, r) {
                    for (var n = "", i = e; i < r;) {
                        var a, o, s, u = t[i],
                            l = null,
                            p = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                        if (i + p > r) break;
                        1 === p ? u < 128 && (l = u) : 2 === p ? 128 == (192 & (a = t[i + 1])) && (l = (31 & u) << 6 | 63 & a) <= 127 && (l = null) : 3 === p ? (o = t[i + 2], 128 == (192 & (a = t[i + 1])) && 128 == (192 & o) && ((l = (15 & u) << 12 | (63 & a) << 6 | 63 & o) <= 2047 || l >= 55296 && l <= 57343) && (l = null)) : 4 === p && (o = t[i + 2], s = t[i + 3], 128 == (192 & (a = t[i + 1])) && 128 == (192 & o) && 128 == (192 & s) && ((l = (15 & u) << 18 | (63 & a) << 12 | (63 & o) << 6 | 63 & s) <= 65535 || l >= 1114112) && (l = null)), null === l ? (l = 65533, p = 1) : l > 65535 && (l -= 65536, n += String.fromCharCode(l >>> 10 & 1023 | 55296), l = 56320 | 1023 & l), n += String.fromCharCode(l), i += p;
                    }
                    return n
                }(this.buf, e, t)
            },
            readBytes: function() {
                var t = this.readVarint() + this.pos,
                    e = this.buf.subarray(this.pos, t);
                return this.pos = t, e
            },
            readPackedVarint: function(t, e) {
                if (this.type !== Hs.Bytes) return t.push(this.readVarint(e));
                var r = $s(this);
                for (t = t || []; this.pos < r;) t.push(this.readVarint(e));
                return t
            },
            readPackedSVarint: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readSVarint());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readSVarint());
                return t
            },
            readPackedBoolean: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readBoolean());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readBoolean());
                return t
            },
            readPackedFloat: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readFloat());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readFloat());
                return t
            },
            readPackedDouble: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readDouble());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readDouble());
                return t
            },
            readPackedFixed32: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readFixed32());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readFixed32());
                return t
            },
            readPackedSFixed32: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readSFixed32());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readSFixed32());
                return t
            },
            readPackedFixed64: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readFixed64());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readFixed64());
                return t
            },
            readPackedSFixed64: function(t) {
                if (this.type !== Hs.Bytes) return t.push(this.readSFixed64());
                var e = $s(this);
                for (t = t || []; this.pos < e;) t.push(this.readSFixed64());
                return t
            },
            skip: function(t) {
                var e = 7 & t;
                if (e === Hs.Varint)
                    for (; this.buf[this.pos++] > 127;);
                else if (e === Hs.Bytes) this.pos = this.readVarint() + this.pos;
                else if (e === Hs.Fixed32) this.pos += 4;
                else {
                    if (e !== Hs.Fixed64) throw new Error("Unimplemented type: " + e);
                    this.pos += 8;
                }
            },
            writeTag: function(t, e) {
                this.writeVarint(t << 3 | e);
            },
            realloc: function(t) {
                for (var e = this.length || 16; e < this.pos + t;) e *= 2;
                if (e !== this.length) {
                    var r = new Uint8Array(e);
                    r.set(this.buf), this.buf = r, this.length = e;
                }
            },
            finish: function() {
                return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length)
            },
            writeFixed32: function(t) {
                this.realloc(4), pu(this.buf, t, this.pos), this.pos += 4;
            },
            writeSFixed32: function(t) {
                this.realloc(4), pu(this.buf, t, this.pos), this.pos += 4;
            },
            writeFixed64: function(t) {
                this.realloc(8), pu(this.buf, -1 & t, this.pos), pu(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8;
            },
            writeSFixed64: function(t) {
                this.realloc(8), pu(this.buf, -1 & t, this.pos), pu(this.buf, Math.floor(t * (1 / 4294967296)), this.pos + 4), this.pos += 8;
            },
            writeVarint: function(t) {
                (t = +t || 0) > 268435455 || t < 0 ? function(t, e) {
                    var r, n;
                    if (t >= 0 ? (r = t % 4294967296 | 0, n = t / 4294967296 | 0) : (n = ~(-t / 4294967296), 4294967295 ^ (r = ~(-t % 4294967296)) ? r = r + 1 | 0 : (r = 0, n = n + 1 | 0)), t >= 0x10000000000000000 || t < -0x10000000000000000) throw new Error("Given varint doesn't fit into 10 bytes");
                    e.realloc(10),
                        function(t, e, r) {
                            r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, t >>>= 7, r.buf[r.pos++] = 127 & t | 128, r.buf[r.pos] = 127 & (t >>>= 7);
                        }(r, 0, e),
                        function(t, e) {
                            var r = (7 & t) << 4;
                            e.buf[e.pos++] |= r | ((t >>>= 3) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t | ((t >>>= 7) ? 128 : 0), t && (e.buf[e.pos++] = 127 & t)))));
                        }(n, e);
                }(t, this) : (this.realloc(4), this.buf[this.pos++] = 127 & t | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = 127 & (t >>>= 7) | (t > 127 ? 128 : 0), t <= 127 || (this.buf[this.pos++] = t >>> 7 & 127))));
            },
            writeSVarint: function(t) {
                this.writeVarint(t < 0 ? 2 * -t - 1 : 2 * t);
            },
            writeBoolean: function(t) {
                this.writeVarint(Boolean(t));
            },
            writeString: function(t) {
                t = String(t), this.realloc(4 * t.length), this.pos++;
                var e = this.pos;
                this.pos = function(t, e, r) {
                    for (var n, i, a = 0; a < e.length; a++) {
                        if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
                            if (!i) {
                                n > 56319 || a + 1 === e.length ? (t[r++] = 239, t[r++] = 191, t[r++] = 189) : i = n;
                                continue
                            }
                            if (n < 56320) {
                                t[r++] = 239, t[r++] = 191, t[r++] = 189, i = n;
                                continue
                            }
                            n = i - 55296 << 10 | n - 56320 | 65536, i = null;
                        } else i && (t[r++] = 239, t[r++] = 191, t[r++] = 189, i = null);
                        n < 128 ? t[r++] = n : (n < 2048 ? t[r++] = n >> 6 | 192 : (n < 65536 ? t[r++] = n >> 12 | 224 : (t[r++] = n >> 18 | 240, t[r++] = n >> 12 & 63 | 128), t[r++] = n >> 6 & 63 | 128), t[r++] = 63 & n | 128);
                    }
                    return r
                }(this.buf, t, this.pos);
                var r = this.pos - e;
                r >= 128 && Qs(e, r, this), this.pos = e - 1, this.writeVarint(r), this.pos += r;
            },
            writeFloat: function(t) {
                this.realloc(4), Xs(this.buf, t, this.pos, !0, 23, 4), this.pos += 4;
            },
            writeDouble: function(t) {
                this.realloc(8), Xs(this.buf, t, this.pos, !0, 52, 8), this.pos += 8;
            },
            writeBytes: function(t) {
                var e = t.length;
                this.writeVarint(e), this.realloc(e);
                for (var r = 0; r < e; r++) this.buf[this.pos++] = t[r];
            },
            writeRawMessage: function(t, e) {
                this.pos++;
                var r = this.pos;
                t(e, this);
                var n = this.pos - r;
                n >= 128 && Qs(r, n, this), this.pos = r - 1, this.writeVarint(n), this.pos += n;
            },
            writeMessage: function(t, e, r) {
                this.writeTag(t, Hs.Bytes), this.writeRawMessage(e, r);
            },
            writePackedVarint: function(t, e) {
                e.length && this.writeMessage(t, tu, e);
            },
            writePackedSVarint: function(t, e) {
                e.length && this.writeMessage(t, eu, e);
            },
            writePackedBoolean: function(t, e) {
                e.length && this.writeMessage(t, iu, e);
            },
            writePackedFloat: function(t, e) {
                e.length && this.writeMessage(t, ru, e);
            },
            writePackedDouble: function(t, e) {
                e.length && this.writeMessage(t, nu, e);
            },
            writePackedFixed32: function(t, e) {
                e.length && this.writeMessage(t, au, e);
            },
            writePackedSFixed32: function(t, e) {
                e.length && this.writeMessage(t, ou, e);
            },
            writePackedFixed64: function(t, e) {
                e.length && this.writeMessage(t, su, e);
            },
            writePackedSFixed64: function(t, e) {
                e.length && this.writeMessage(t, uu, e);
            },
            writeBytesField: function(t, e) {
                this.writeTag(t, Hs.Bytes), this.writeBytes(e);
            },
            writeFixed32Field: function(t, e) {
                this.writeTag(t, Hs.Fixed32), this.writeFixed32(e);
            },
            writeSFixed32Field: function(t, e) {
                this.writeTag(t, Hs.Fixed32), this.writeSFixed32(e);
            },
            writeFixed64Field: function(t, e) {
                this.writeTag(t, Hs.Fixed64), this.writeFixed64(e);
            },
            writeSFixed64Field: function(t, e) {
                this.writeTag(t, Hs.Fixed64), this.writeSFixed64(e);
            },
            writeVarintField: function(t, e) {
                this.writeTag(t, Hs.Varint), this.writeVarint(e);
            },
            writeSVarintField: function(t, e) {
                this.writeTag(t, Hs.Varint), this.writeSVarint(e);
            },
            writeStringField: function(t, e) {
                this.writeTag(t, Hs.Bytes), this.writeString(e);
            },
            writeFloatField: function(t, e) {
                this.writeTag(t, Hs.Fixed32), this.writeFloat(e);
            },
            writeDoubleField: function(t, e) {
                this.writeTag(t, Hs.Fixed64), this.writeDouble(e);
            },
            writeBooleanField: function(t, e) {
                this.writeVarintField(t, Boolean(e));
            }
        };
        var mu = function(t, e) {
                var r = e.pixelRatio,
                    n = e.version,
                    i = e.stretchX,
                    a = e.stretchY,
                    o = e.content;
                this.paddedRect = t, this.pixelRatio = r, this.stretchX = i, this.stretchY = a, this.content = o, this.version = n;
            },
            vu = {
                tl: {
                    configurable: !0
                },
                br: {
                    configurable: !0
                },
                tlbr: {
                    configurable: !0
                },
                displaySize: {
                    configurable: !0
                }
            };
        vu.tl.get = function() {
            return [this.paddedRect.x + 1, this.paddedRect.y + 1]
        }, vu.br.get = function() {
            return [this.paddedRect.x + this.paddedRect.w - 1, this.paddedRect.y + this.paddedRect.h - 1]
        }, vu.tlbr.get = function() {
            return this.tl.concat(this.br)
        }, vu.displaySize.get = function() {
            return [(this.paddedRect.w - 2) / this.pixelRatio, (this.paddedRect.h - 2) / this.pixelRatio]
        }, Object.defineProperties(mu.prototype, vu);
        var gu = function(t, e) {
            var r = {},
                n = {};
            this.haveRenderCallbacks = [];
            var i = [];
            this.addImages(t, r, i), this.addImages(e, n, i);
            var a = du(i),
                o = new vo({
                    width: a.w || 1,
                    height: a.h || 1
                });
            for (var s in t) {
                var u = t[s],
                    l = r[s].paddedRect;
                vo.copy(u.data, o, {
                    x: 0,
                    y: 0
                }, {
                    x: l.x + 1,
                    y: l.y + 1
                }, u.data);
            }
            for (var p in e) {
                var c = e[p],
                    h = n[p].paddedRect,
                    f = h.x + 1,
                    y = h.y + 1,
                    d = c.data.width,
                    m = c.data.height;
                vo.copy(c.data, o, {
                    x: 0,
                    y: 0
                }, {
                    x: f,
                    y: y
                }, c.data), vo.copy(c.data, o, {
                    x: 0,
                    y: m - 1
                }, {
                    x: f,
                    y: y - 1
                }, {
                    width: d,
                    height: 1
                }), vo.copy(c.data, o, {
                    x: 0,
                    y: 0
                }, {
                    x: f,
                    y: y + m
                }, {
                    width: d,
                    height: 1
                }), vo.copy(c.data, o, {
                    x: d - 1,
                    y: 0
                }, {
                    x: f - 1,
                    y: y
                }, {
                    width: 1,
                    height: m
                }), vo.copy(c.data, o, {
                    x: 0,
                    y: 0
                }, {
                    x: f + d,
                    y: y
                }, {
                    width: 1,
                    height: m
                });
            }
            this.image = o, this.iconPositions = r, this.patternPositions = n;
        };
        gu.prototype.addImages = function(t, e, r) {
            for (var n in t) {
                var i = t[n],
                    a = {
                        x: 0,
                        y: 0,
                        w: i.data.width + 2,
                        h: i.data.height + 2
                    };
                r.push(a), e[n] = new mu(a, i), i.hasRenderCallback && this.haveRenderCallbacks.push(n);
            }
        }, gu.prototype.patchUpdatedImages = function(t, e) {
            for (var r in t.dispatchRenderCallbacks(this.haveRenderCallbacks), t.updatedImages) this.patchUpdatedImage(this.iconPositions[r], t.getImage(r), e), this.patchUpdatedImage(this.patternPositions[r], t.getImage(r), e);
        }, gu.prototype.patchUpdatedImage = function(t, e, r) {
            if (t && e && t.version !== e.version) {
                t.version = e.version;
                var n = t.tl;
                r.update(e.data, void 0, {
                    x: n[0],
                    y: n[1]
                });
            }
        }, Ln("ImagePosition", mu), Ln("ImageAtlas", gu);
        var xu = {
                horizontal: 1,
                vertical: 2,
                horizontalOnly: 3
            },
            bu = function() {
                this.scale = 1, this.fontStack = "", this.imageName = null;
            };
        bu.forText = function(t, e) {
            var r = new bu;
            return r.scale = t || 1, r.fontStack = e, r
        }, bu.forImage = function(t) {
            var e = new bu;
            return e.imageName = t, e
        };
        var wu = function() {
            this.text = "", this.sectionIndex = [], this.sections = [], this.imageSectionID = null;
        };

        function _u(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d) {
            var m, v = wu.fromFeature(t, i);
            c === xu.vertical && v.verticalizePunctuation();
            var g = ai.processBidirectionalText,
                x = ai.processStyledBidirectionalText;
            if (g && 1 === v.sections.length) {
                m = [];
                for (var b = 0, w = g(v.toString(), Eu(v, l, a, e, n, f, y)); b < w.length; b += 1) {
                    var _ = w[b],
                        A = new wu;
                    A.text = _, A.sections = v.sections;
                    for (var S = 0; S < _.length; S++) A.sectionIndex.push(0);
                    m.push(A);
                }
            } else if (x) {
                m = [];
                for (var k = 0, I = x(v.text, v.sectionIndex, Eu(v, l, a, e, n, f, y)); k < I.length; k += 1) {
                    var z = I[k],
                        C = new wu;
                    C.text = z[0], C.sectionIndex = z[1], C.sections = v.sections, m.push(C);
                }
            } else m = function(t, e) {
                for (var r = [], n = t.text, i = 0, a = 0, o = e; a < o.length; a += 1) {
                    var s = o[a];
                    r.push(t.substring(i, s)), i = s;
                }
                return i < n.length && r.push(t.substring(i, n.length)), r
            }(v, Eu(v, l, a, e, n, f, y));
            var E = [],
                P = {
                    positionedLines: E,
                    text: v.toString(),
                    top: p[1],
                    bottom: p[1],
                    left: p[0],
                    right: p[0],
                    writingMode: c,
                    iconsInText: !1,
                    verticalizable: !1
                };
            return function(t, e, r, n, i, a, o, s, u, l, p, c) {
                for (var h = 0, f = -17, y = 0, d = 0, m = "right" === s ? 1 : "left" === s ? 0 : .5, v = 0, g = 0, x = i; g < x.length; g += 1) {
                    var b = x[g];
                    b.trim();
                    var w = b.getMaxScale(),
                        _ = 24 * (w - 1),
                        A = {
                            positionedGlyphs: [],
                            lineOffset: 0
                        };
                    t.positionedLines[v] = A;
                    var S = A.positionedGlyphs,
                        k = 0;
                    if (b.length()) {
                        for (var I = 0; I < b.length(); I++) {
                            var z = b.getSection(I),
                                C = b.getSectionIndex(I),
                                E = b.getCharCode(I),
                                P = 0,
                                M = null,
                                B = null,
                                T = null,
                                V = 24,
                                F = !(u === xu.horizontal || !p && !Zn(E) || p && (Au[E] || (K = E, Kn.Arabic(K) || Kn["Arabic Supplement"](K) || Kn["Arabic Extended-A"](K) || Kn["Arabic Presentation Forms-A"](K) || Kn["Arabic Presentation Forms-B"](K))));
                            if (z.imageName) {
                                var D = n[z.imageName];
                                if (!D) continue;
                                T = z.imageName, t.iconsInText = t.iconsInText || !0, B = D.paddedRect;
                                var L = D.displaySize;
                                z.scale = 24 * z.scale / c, P = _ + (24 - L[1] * z.scale), V = (M = {
                                    width: L[0],
                                    height: L[1],
                                    left: 1,
                                    top: -3,
                                    advance: F ? L[1] : L[0]
                                }).advance;
                                var R = F ? L[0] * z.scale - 24 * w : L[1] * z.scale - 24 * w;
                                R > 0 && R > k && (k = R);
                            } else {
                                var O = r[z.fontStack],
                                    U = O && O[E];
                                if (U && U.rect) B = U.rect, M = U.metrics;
                                else {
                                    var j = e[z.fontStack],
                                        q = j && j[E];
                                    if (!q) continue;
                                    M = q.metrics;
                                }
                                P = 24 * (w - z.scale);
                            }
                            F ? (t.verticalizable = !0, S.push({
                                glyph: E,
                                imageName: T,
                                x: h,
                                y: f + P,
                                vertical: F,
                                scale: z.scale,
                                fontStack: z.fontStack,
                                sectionIndex: C,
                                metrics: M,
                                rect: B
                            }), h += V * z.scale + l) : (S.push({
                                glyph: E,
                                imageName: T,
                                x: h,
                                y: f + P,
                                vertical: F,
                                scale: z.scale,
                                fontStack: z.fontStack,
                                sectionIndex: C,
                                metrics: M,
                                rect: B
                            }), h += M.advance * z.scale + l);
                        }
                        0 !== S.length && (y = Math.max(h - l, y), Mu(S, 0, S.length - 1, m, k)), h = 0;
                        var N = a * w + k;
                        A.lineOffset = Math.max(k, _), f += N, d = Math.max(N, d), ++v;
                    } else f += a, ++v;
                }
                var K, G = f - -17,
                    Z = Pu(o),
                    X = Z.horizontalAlign,
                    J = Z.verticalAlign;
                (function(t, e, r, n, i, a, o, s, u) {
                    var l, p = (e - r) * i;
                    l = a !== o ? -s * n - -17 : (-n * u + .5) * o;
                    for (var c = 0, h = t; c < h.length; c += 1)
                        for (var f = 0, y = h[c].positionedGlyphs; f < y.length; f += 1) {
                            var d = y[f];
                            d.x += p, d.y += l;
                        }
                })(t.positionedLines, m, X, J, y, d, a, G, i.length), t.top += -J * G, t.bottom = t.top + G, t.left += -X * y, t.right = t.left + y;
            }(P, e, r, n, m, o, s, u, c, l, h, d), ! function(t) {
                for (var e = 0, r = t; e < r.length; e += 1)
                    if (0 !== r[e].positionedGlyphs.length) return !1;
                return !0
            }(E) && P
        }
        wu.fromFeature = function(t, e) {
            for (var r = new wu, n = 0; n < t.sections.length; n++) {
                var i = t.sections[n];
                i.image ? r.addImageSection(i) : r.addTextSection(i, e);
            }
            return r
        }, wu.prototype.length = function() {
            return this.text.length
        }, wu.prototype.getSection = function(t) {
            return this.sections[this.sectionIndex[t]]
        }, wu.prototype.getSectionIndex = function(t) {
            return this.sectionIndex[t]
        }, wu.prototype.getCharCode = function(t) {
            return this.text.charCodeAt(t)
        }, wu.prototype.verticalizePunctuation = function() {
            this.text = function(t) {
                for (var e = "", r = 0; r < t.length; r++) {
                    var n = t.charCodeAt(r + 1) || null,
                        i = t.charCodeAt(r - 1) || null;
                    e += n && Xn(n) && !Gs[t[r + 1]] || i && Xn(i) && !Gs[t[r - 1]] || !Gs[t[r]] ? t[r] : Gs[t[r]];
                }
                return e
            }(this.text);
        }, wu.prototype.trim = function() {
            for (var t = 0, e = 0; e < this.text.length && Au[this.text.charCodeAt(e)]; e++) t++;
            for (var r = this.text.length, n = this.text.length - 1; n >= 0 && n >= t && Au[this.text.charCodeAt(n)]; n--) r--;
            this.text = this.text.substring(t, r), this.sectionIndex = this.sectionIndex.slice(t, r);
        }, wu.prototype.substring = function(t, e) {
            var r = new wu;
            return r.text = this.text.substring(t, e), r.sectionIndex = this.sectionIndex.slice(t, e), r.sections = this.sections, r
        }, wu.prototype.toString = function() {
            return this.text
        }, wu.prototype.getMaxScale = function() {
            var t = this;
            return this.sectionIndex.reduce((function(e, r) {
                return Math.max(e, t.sections[r].scale)
            }), 0)
        }, wu.prototype.addTextSection = function(t, e) {
            this.text += t.text, this.sections.push(bu.forText(t.scale, t.fontStack || e));
            for (var r = this.sections.length - 1, n = 0; n < t.text.length; ++n) this.sectionIndex.push(r);
        }, wu.prototype.addImageSection = function(t) {
            var e = t.image ? t.image.name : "";
            if (0 !== e.length) {
                var r = this.getNextImageSectionCharCode();
                r ? (this.text += String.fromCharCode(r), this.sections.push(bu.forImage(e)), this.sectionIndex.push(this.sections.length - 1)) : A("Reached maximum number of images 6401");
            } else A("Can't add FormattedSection with an empty image.");
        }, wu.prototype.getNextImageSectionCharCode = function() {
            return this.imageSectionID ? this.imageSectionID >= 63743 ? null : ++this.imageSectionID : (this.imageSectionID = 57344, this.imageSectionID)
        };
        var Au = {
                9: !0,
                10: !0,
                11: !0,
                12: !0,
                13: !0,
                32: !0
            },
            Su = {};

        function ku(t, e, r, n, i, a) {
            if (e.imageName) {
                var o = n[e.imageName];
                return o ? o.displaySize[0] * e.scale * 24 / a + i : 0
            }
            var s = r[e.fontStack],
                u = s && s[t];
            return u ? u.metrics.advance * e.scale + i : 0
        }

        function Iu(t, e, r, n) {
            var i = Math.pow(t - e, 2);
            return n ? t < e ? i / 2 : 2 * i : i + Math.abs(r) * r
        }

        function zu(t, e, r) {
            var n = 0;
            return 10 === t && (n -= 1e4), r && (n += 150), 40 !== t && 65288 !== t || (n += 50), 41 !== e && 65289 !== e || (n += 50), n
        }

        function Cu(t, e, r, n, i, a) {
            for (var o = null, s = Iu(e, r, i, a), u = 0, l = n; u < l.length; u += 1) {
                var p = l[u],
                    c = Iu(e - p.x, r, i, a) + p.badness;
                c <= s && (o = p, s = c);
            }
            return {
                index: t,
                x: e,
                priorBreak: o,
                badness: s
            }
        }

        function Eu(t, e, r, n, i, a, o) {
            if ("point" !== a) return [];
            if (!t) return [];
            for (var s, u = [], l = function(t, e, r, n, i, a) {
                    for (var o = 0, s = 0; s < t.length(); s++) {
                        var u = t.getSection(s);
                        o += ku(t.getCharCode(s), u, n, i, e, a);
                    }
                    return o / Math.max(1, Math.ceil(o / r))
                }(t, e, r, n, i, o), p = t.text.indexOf("​") >= 0, c = 0, h = 0; h < t.length(); h++) {
                var f = t.getSection(h),
                    y = t.getCharCode(h);
                if (Au[y] || (c += ku(y, f, n, i, e, o)), h < t.length() - 1) {
                    var d = !((s = y) < 11904 || !(Kn["Bopomofo Extended"](s) || Kn.Bopomofo(s) || Kn["CJK Compatibility Forms"](s) || Kn["CJK Compatibility Ideographs"](s) || Kn["CJK Compatibility"](s) || Kn["CJK Radicals Supplement"](s) || Kn["CJK Strokes"](s) || Kn["CJK Symbols and Punctuation"](s) || Kn["CJK Unified Ideographs Extension A"](s) || Kn["CJK Unified Ideographs"](s) || Kn["Enclosed CJK Letters and Months"](s) || Kn["Halfwidth and Fullwidth Forms"](s) || Kn.Hiragana(s) || Kn["Ideographic Description Characters"](s) || Kn["Kangxi Radicals"](s) || Kn["Katakana Phonetic Extensions"](s) || Kn.Katakana(s) || Kn["Vertical Forms"](s) || Kn["Yi Radicals"](s) || Kn["Yi Syllables"](s)));
                    (Su[y] || d || f.imageName) && u.push(Cu(h + 1, c, l, u, zu(y, t.getCharCode(h + 1), d && p), !1));
                }
            }
            return function t(e) {
                return e ? t(e.priorBreak).concat(e.index) : []
            }(Cu(t.length(), c, l, u, 0, !0))
        }

        function Pu(t) {
            var e = .5,
                r = .5;
            switch (t) {
                case "right":
                case "top-right":
                case "bottom-right":
                    e = 1;
                    break;
                case "left":
                case "top-left":
                case "bottom-left":
                    e = 0;
            }
            switch (t) {
                case "bottom":
                case "bottom-right":
                case "bottom-left":
                    r = 1;
                    break;
                case "top":
                case "top-right":
                case "top-left":
                    r = 0;
            }
            return {
                horizontalAlign: e,
                verticalAlign: r
            }
        }

        function Mu(t, e, r, n, i) {
            if (n || i)
                for (var a = t[r], o = (t[r].x + a.metrics.advance * a.scale) * n, s = e; s <= r; s++) t[s].x -= o, t[s].y += i;
        }

        function Bu(t, e, r, n, i, a) {
            var o, s = t.image;
            if (s.content) {
                var u = s.content,
                    l = s.pixelRatio || 1;
                o = [u[0] / l, u[1] / l, s.displaySize[0] - u[2] / l, s.displaySize[1] - u[3] / l];
            }
            var p, c, h, f, y = e.left * a,
                d = e.right * a;
            "width" === r || "both" === r ? (f = i[0] + y - n[3], c = i[0] + d + n[1]) : c = (f = i[0] + (y + d - s.displaySize[0]) / 2) + s.displaySize[0];
            var m = e.top * a,
                v = e.bottom * a;
            return "height" === r || "both" === r ? (p = i[1] + m - n[0], h = i[1] + v + n[2]) : h = (p = i[1] + (m + v - s.displaySize[1]) / 2) + s.displaySize[1], {
                image: s,
                top: p,
                right: c,
                bottom: h,
                left: f,
                collisionPadding: o
            }
        }
        Su[10] = !0, Su[32] = !0, Su[38] = !0, Su[40] = !0, Su[41] = !0, Su[43] = !0, Su[45] = !0, Su[47] = !0, Su[173] = !0, Su[183] = !0, Su[8203] = !0, Su[8208] = !0, Su[8211] = !0, Su[8231] = !0;
        var Tu = function(t) {
            function e(e, r, n, i) {
                t.call(this, e, r), this.angle = n, void 0 !== i && (this.segment = i);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.clone = function() {
                return new e(this.x, this.y, this.angle, this.segment)
            }, e
        }(i);

        function Vu(t, e) {
            var r = e.expression;
            if ("constant" === r.kind) return {
                kind: "constant",
                layoutSize: r.evaluate(new oi(t + 1))
            };
            if ("source" === r.kind) return {
                kind: "source"
            };
            for (var n = r.zoomStops, i = r.interpolationType, a = 0; a < n.length && n[a] <= t;) a++;
            for (var o = a = Math.max(0, a - 1); o < n.length && n[o] < t + 1;) o++;
            o = Math.min(n.length - 1, o);
            var s = n[a],
                u = n[o];
            return "composite" === r.kind ? {
                kind: "composite",
                minZoom: s,
                maxZoom: u,
                interpolationType: i
            } : {
                kind: "camera",
                minZoom: s,
                maxZoom: u,
                minSize: r.evaluate(new oi(s)),
                maxSize: r.evaluate(new oi(u)),
                interpolationType: i
            }
        }

        function Fu(t, e, r) {
            var n = e.uSize,
                i = r.lowerSize;
            return "source" === t.kind ? i / 128 : "composite" === t.kind ? Ne(i / 128, r.upperSize / 128, e.uSizeT) : n
        }

        function Du(t, e) {
            var r = 0,
                n = 0;
            if ("constant" === t.kind) n = t.layoutSize;
            else if ("source" !== t.kind) {
                var i = t.interpolationType,
                    a = i ? p(ir.interpolationFactor(i, e, t.minZoom, t.maxZoom), 0, 1) : 0;
                "camera" === t.kind ? n = Ne(t.minSize, t.maxSize, a) : r = a;
            }
            return {
                uSizeT: r,
                uSize: n
            }
        }
        Ln("Anchor", Tu);
        var Lu = Object.freeze({
            __proto__: null,
            getSizeData: Vu,
            evaluateSizeForFeature: Fu,
            evaluateSizeForZoom: Du,
            SIZE_PACK_FACTOR: 128
        });

        function Ru(t, e, r, n, i) {
            if (void 0 === e.segment) return !0;
            for (var a = e, o = e.segment + 1, s = 0; s > -r / 2;) {
                if (--o < 0) return !1;
                s -= t[o].dist(a), a = t[o];
            }
            s += t[o].dist(t[o + 1]), o++;
            for (var u = [], l = 0; s < r / 2;) {
                var p = t[o],
                    c = t[o + 1];
                if (!c) return !1;
                var h = t[o - 1].angleTo(p) - p.angleTo(c);
                for (h = Math.abs((h + 3 * Math.PI) % (2 * Math.PI) - Math.PI), u.push({
                        distance: s,
                        angleDelta: h
                    }), l += h; s - u[0].distance > n;) l -= u.shift().angleDelta;
                if (l > i) return !1;
                o++, s += p.dist(c);
            }
            return !0
        }

        function Ou(t) {
            for (var e = 0, r = 0; r < t.length - 1; r++) e += t[r].dist(t[r + 1]);
            return e
        }

        function Uu(t, e, r) {
            return t ? .6 * e * r : 0
        }

        function ju(t, e) {
            return Math.max(t ? t.right - t.left : 0, e ? e.right - e.left : 0)
        }

        function qu(t, e, r, n, i, a) {
            for (var o = Uu(r, i, a), s = ju(r, n) * a, u = 0, l = Ou(t) / 2, p = 0; p < t.length - 1; p++) {
                var c = t[p],
                    h = t[p + 1],
                    f = c.dist(h);
                if (u + f > l) {
                    var y = (l - u) / f,
                        d = Ne(c.x, h.x, y),
                        m = Ne(c.y, h.y, y),
                        v = new Tu(d, m, h.angleTo(c), p);
                    return v._round(), !o || Ru(t, v, s, o, e) ? v : void 0
                }
                u += f;
            }
        }

        function Nu(t, e, r, n, i, a, o, s, u) {
            var l = Uu(n, a, o),
                p = ju(n, i),
                c = p * o,
                h = 0 === t[0].x || t[0].x === u || 0 === t[0].y || t[0].y === u;
            return e - c < e / 4 && (e = c + e / 4),
                function t(e, r, n, i, a, o, s, u, l) {
                    for (var p = o / 2, c = Ou(e), h = 0, f = r - n, y = [], d = 0; d < e.length - 1; d++) {
                        for (var m = e[d], v = e[d + 1], g = m.dist(v), x = v.angleTo(m); f + n < h + g;) {
                            var b = ((f += n) - h) / g,
                                w = Ne(m.x, v.x, b),
                                _ = Ne(m.y, v.y, b);
                            if (w >= 0 && w < l && _ >= 0 && _ < l && f - p >= 0 && f + p <= c) {
                                var A = new Tu(w, _, x, d);
                                A._round(), i && !Ru(e, A, o, i, a) || y.push(A);
                            }
                        }
                        h += g;
                    }
                    return u || y.length || s || (y = t(e, h / 2, n, i, a, o, s, !0, l)), y
                }(t, h ? e / 2 * s % e : (p / 2 + 2 * a) * o * s % e, e, l, r, c, h, !1, u)
        }

        function Ku(t, e, r, n, a) {
            for (var o = [], s = 0; s < t.length; s++)
                for (var u = t[s], l = void 0, p = 0; p < u.length - 1; p++) {
                    var c = u[p],
                        h = u[p + 1];
                    c.x < e && h.x < e || (c.x < e ? c = new i(e, c.y + (e - c.x) / (h.x - c.x) * (h.y - c.y))._round() : h.x < e && (h = new i(e, c.y + (e - c.x) / (h.x - c.x) * (h.y - c.y))._round()), c.y < r && h.y < r || (c.y < r ? c = new i(c.x + (r - c.y) / (h.y - c.y) * (h.x - c.x), r)._round() : h.y < r && (h = new i(c.x + (r - c.y) / (h.y - c.y) * (h.x - c.x), r)._round()), c.x >= n && h.x >= n || (c.x >= n ? c = new i(n, c.y + (n - c.x) / (h.x - c.x) * (h.y - c.y))._round() : h.x >= n && (h = new i(n, c.y + (n - c.x) / (h.x - c.x) * (h.y - c.y))._round()), c.y >= a && h.y >= a || (c.y >= a ? c = new i(c.x + (a - c.y) / (h.y - c.y) * (h.x - c.x), a)._round() : h.y >= a && (h = new i(c.x + (a - c.y) / (h.y - c.y) * (h.x - c.x), a)._round()), l && c.equals(l[l.length - 1]) || o.push(l = [c]), l.push(h)))));
                }
            return o
        }

        function Gu(t, e, r, n) {
            var a = [],
                o = t.image,
                s = o.pixelRatio,
                u = o.paddedRect.w - 2,
                l = o.paddedRect.h - 2,
                p = t.right - t.left,
                c = t.bottom - t.top,
                h = o.stretchX || [
                    [0, u]
                ],
                f = o.stretchY || [
                    [0, l]
                ],
                y = function(t, e) {
                    return t + e[1] - e[0]
                },
                d = h.reduce(y, 0),
                m = f.reduce(y, 0),
                v = u - d,
                g = l - m,
                x = 0,
                b = d,
                w = 0,
                _ = m,
                A = 0,
                S = v,
                k = 0,
                I = g;
            if (o.content && n) {
                var z = o.content;
                x = Zu(h, 0, z[0]), w = Zu(f, 0, z[1]), b = Zu(h, z[0], z[2]), _ = Zu(f, z[1], z[3]), A = z[0] - x, k = z[1] - w, S = z[2] - z[0] - b, I = z[3] - z[1] - _;
            }
            var C = function(n, a, u, l) {
                var h = Ju(n.stretch - x, b, p, t.left),
                    f = Hu(n.fixed - A, S, n.stretch, d),
                    y = Ju(a.stretch - w, _, c, t.top),
                    v = Hu(a.fixed - k, I, a.stretch, m),
                    g = Ju(u.stretch - x, b, p, t.left),
                    z = Hu(u.fixed - A, S, u.stretch, d),
                    C = Ju(l.stretch - w, _, c, t.top),
                    E = Hu(l.fixed - k, I, l.stretch, m),
                    P = new i(h, y),
                    M = new i(g, y),
                    B = new i(g, C),
                    T = new i(h, C),
                    V = new i(f / s, v / s),
                    F = new i(z / s, E / s),
                    D = e * Math.PI / 180;
                if (D) {
                    var L = Math.sin(D),
                        R = Math.cos(D),
                        O = [R, -L, L, R];
                    P._matMult(O), M._matMult(O), T._matMult(O), B._matMult(O);
                }
                var U = n.stretch + n.fixed,
                    j = a.stretch + a.fixed;
                return {
                    tl: P,
                    tr: M,
                    bl: T,
                    br: B,
                    tex: {
                        x: o.paddedRect.x + 1 + U,
                        y: o.paddedRect.y + 1 + j,
                        w: u.stretch + u.fixed - U,
                        h: l.stretch + l.fixed - j
                    },
                    writingMode: void 0,
                    glyphOffset: [0, 0],
                    sectionIndex: 0,
                    pixelOffsetTL: V,
                    pixelOffsetBR: F,
                    minFontScaleX: S / s / p,
                    minFontScaleY: I / s / c,
                    isSDF: r
                }
            };
            if (n && (o.stretchX || o.stretchY))
                for (var E = Xu(h, v, d), P = Xu(f, g, m), M = 0; M < E.length - 1; M++)
                    for (var B = E[M], T = E[M + 1], V = 0; V < P.length - 1; V++) a.push(C(B, P[V], T, P[V + 1]));
            else a.push(C({
                fixed: 0,
                stretch: -1
            }, {
                fixed: 0,
                stretch: -1
            }, {
                fixed: 0,
                stretch: u + 1
            }, {
                fixed: 0,
                stretch: l + 1
            }));
            return a
        }

        function Zu(t, e, r) {
            for (var n = 0, i = 0, a = t; i < a.length; i += 1) {
                var o = a[i];
                n += Math.max(e, Math.min(r, o[1])) - Math.max(e, Math.min(r, o[0]));
            }
            return n
        }

        function Xu(t, e, r) {
            for (var n = [{
                    fixed: -1,
                    stretch: 0
                }], i = 0, a = t; i < a.length; i += 1) {
                var o = a[i],
                    s = o[0],
                    u = o[1],
                    l = n[n.length - 1];
                n.push({
                    fixed: s - l.stretch,
                    stretch: l.stretch
                }), n.push({
                    fixed: s - l.stretch,
                    stretch: l.stretch + (u - s)
                });
            }
            return n.push({
                fixed: e + 1,
                stretch: r
            }), n
        }

        function Ju(t, e, r, n) {
            return t / e * r + n
        }

        function Hu(t, e, r, n) {
            return t - e * r / n
        }
        var Yu = function(t, e, r, n, a, o, s, u, l, p) {
                if (this.boxStartIndex = t.length, l) {
                    var c = o.top,
                        h = o.bottom,
                        f = o.collisionPadding;
                    f && (c -= f[1], h += f[3]);
                    var y = h - c;
                    y > 0 && (y = Math.max(10, y), this.circleDiameter = y);
                } else {
                    var d = o.top * s - u,
                        m = o.bottom * s + u,
                        v = o.left * s - u,
                        g = o.right * s + u,
                        x = o.collisionPadding;
                    if (x && (v -= x[0] * s, d -= x[1] * s, g += x[2] * s, m += x[3] * s), p) {
                        var b = new i(v, d),
                            w = new i(g, d),
                            _ = new i(v, m),
                            A = new i(g, m),
                            S = p * Math.PI / 180;
                        b._rotate(S), w._rotate(S), _._rotate(S), A._rotate(S), v = Math.min(b.x, w.x, _.x, A.x), g = Math.max(b.x, w.x, _.x, A.x), d = Math.min(b.y, w.y, _.y, A.y), m = Math.max(b.y, w.y, _.y, A.y);
                    }
                    t.emplaceBack(e.x, e.y, v, d, g, m, r, n, a);
                }
                this.boxEndIndex = t.length;
            },
            $u = function(t, e) {
                if (void 0 === t && (t = []), void 0 === e && (e = Wu), this.data = t, this.length = this.data.length, this.compare = e, this.length > 0)
                    for (var r = (this.length >> 1) - 1; r >= 0; r--) this._down(r);
            };

        function Wu(t, e) {
            return t < e ? -1 : t > e ? 1 : 0
        }

        function Qu(t, e, r) {
            void 0 === e && (e = 1), void 0 === r && (r = !1);
            for (var n = 1 / 0, a = 1 / 0, o = -1 / 0, s = -1 / 0, u = t[0], l = 0; l < u.length; l++) {
                var p = u[l];
                (!l || p.x < n) && (n = p.x), (!l || p.y < a) && (a = p.y), (!l || p.x > o) && (o = p.x), (!l || p.y > s) && (s = p.y);
            }
            var c = Math.min(o - n, s - a),
                h = c / 2,
                f = new $u([], tl);
            if (0 === c) return new i(n, a);
            for (var y = n; y < o; y += c)
                for (var d = a; d < s; d += c) f.push(new el(y + h, d + h, h, t));
            for (var m = function(t) {
                    for (var e = 0, r = 0, n = 0, i = t[0], a = 0, o = i.length, s = o - 1; a < o; s = a++) {
                        var u = i[a],
                            l = i[s],
                            p = u.x * l.y - l.x * u.y;
                        r += (u.x + l.x) * p, n += (u.y + l.y) * p, e += 3 * p;
                    }
                    return new el(r / e, n / e, 0, t)
                }(t), v = f.length; f.length;) {
                var g = f.pop();
                (g.d > m.d || !m.d) && (m = g, r && console.log("found best %d after %d probes", Math.round(1e4 * g.d) / 1e4, v)), g.max - m.d <= e || (f.push(new el(g.p.x - (h = g.h / 2), g.p.y - h, h, t)), f.push(new el(g.p.x + h, g.p.y - h, h, t)), f.push(new el(g.p.x - h, g.p.y + h, h, t)), f.push(new el(g.p.x + h, g.p.y + h, h, t)), v += 4);
            }
            return r && (console.log("num probes: " + v), console.log("best distance: " + m.d)), m.p
        }

        function tl(t, e) {
            return e.max - t.max
        }

        function el(t, e, r, n) {
            this.p = new i(t, e), this.h = r, this.d = function(t, e) {
                for (var r = !1, n = 1 / 0, i = 0; i < e.length; i++)
                    for (var a = e[i], o = 0, s = a.length, u = s - 1; o < s; u = o++) {
                        var l = a[o],
                            p = a[u];
                        l.y > t.y != p.y > t.y && t.x < (p.x - l.x) * (t.y - l.y) / (p.y - l.y) + l.x && (r = !r), n = Math.min(n, Ja(t, l, p));
                    }
                return (r ? 1 : -1) * Math.sqrt(n)
            }(this.p, n), this.max = this.d + this.h * Math.SQRT2;
        }
        $u.prototype.push = function(t) {
            this.data.push(t), this.length++, this._up(this.length - 1);
        }, $u.prototype.pop = function() {
            if (0 !== this.length) {
                var t = this.data[0],
                    e = this.data.pop();
                return this.length--, this.length > 0 && (this.data[0] = e, this._down(0)), t
            }
        }, $u.prototype.peek = function() {
            return this.data[0]
        }, $u.prototype._up = function(t) {
            for (var e = this.data, r = this.compare, n = e[t]; t > 0;) {
                var i = t - 1 >> 1,
                    a = e[i];
                if (r(n, a) >= 0) break;
                e[t] = a, t = i;
            }
            e[t] = n;
        }, $u.prototype._down = function(t) {
            for (var e = this.data, r = this.compare, n = this.length >> 1, i = e[t]; t < n;) {
                var a = 1 + (t << 1),
                    o = e[a],
                    s = a + 1;
                if (s < this.length && r(e[s], o) < 0 && (a = s, o = e[s]), r(o, i) >= 0) break;
                e[t] = o, t = a;
            }
            e[t] = i;
        };
        var rl = Number.POSITIVE_INFINITY;

        function nl(t, e) {
            return e[1] !== rl ? function(t, e, r) {
                var n = 0,
                    i = 0;
                switch (e = Math.abs(e), r = Math.abs(r), t) {
                    case "top-right":
                    case "top-left":
                    case "top":
                        i = r - 7;
                        break;
                    case "bottom-right":
                    case "bottom-left":
                    case "bottom":
                        i = 7 - r;
                }
                switch (t) {
                    case "top-right":
                    case "bottom-right":
                    case "right":
                        n = -e;
                        break;
                    case "top-left":
                    case "bottom-left":
                    case "left":
                        n = e;
                }
                return [n, i]
            }(t, e[0], e[1]) : function(t, e) {
                var r = 0,
                    n = 0;
                e < 0 && (e = 0);
                var i = e / Math.sqrt(2);
                switch (t) {
                    case "top-right":
                    case "top-left":
                        n = i - 7;
                        break;
                    case "bottom-right":
                    case "bottom-left":
                        n = 7 - i;
                        break;
                    case "bottom":
                        n = 7 - e;
                        break;
                    case "top":
                        n = e - 7;
                }
                switch (t) {
                    case "top-right":
                    case "bottom-right":
                        r = -i;
                        break;
                    case "top-left":
                    case "bottom-left":
                        r = i;
                        break;
                    case "left":
                        r = e;
                        break;
                    case "right":
                        r = -e;
                }
                return [r, n]
            }(t, e[0])
        }

        function il(t) {
            switch (t) {
                case "right":
                case "top-right":
                case "bottom-right":
                    return "right";
                case "left":
                case "top-left":
                case "bottom-left":
                    return "left"
            }
            return "center"
        }

        function al(t, e, r, n, a, o, s, u, l, p, c, h, f, y, d) {
            var m = function(t, e, r, n, a, o, s, u) {
                    for (var l = n.layout.get("text-rotate").evaluate(o, {}) * Math.PI / 180, p = [], c = 0, h = e.positionedLines; c < h.length; c += 1)
                        for (var f = h[c], y = 0, d = f.positionedGlyphs; y < d.length; y += 1) {
                            var m = d[y];
                            if (m.rect) {
                                var v = m.rect || {},
                                    g = 4,
                                    x = !0,
                                    b = 1,
                                    w = 0,
                                    _ = (a || u) && m.vertical,
                                    A = m.metrics.advance * m.scale / 2;
                                if (u && e.verticalizable && (w = f.lineOffset / 2 - (m.imageName ? -(24 - m.metrics.width * m.scale) / 2 : 24 * (m.scale - 1))), m.imageName) {
                                    var S = s[m.imageName];
                                    x = S.sdf, g = 1 / (b = S.pixelRatio);
                                }
                                var k = a ? [m.x + A, m.y] : [0, 0],
                                    I = a ? [0, 0] : [m.x + A + r[0], m.y + r[1] - w],
                                    z = [0, 0];
                                _ && (z = I, I = [0, 0]);
                                var C = (m.metrics.left - g) * m.scale - A + I[0],
                                    E = (-m.metrics.top - g) * m.scale + I[1],
                                    P = C + v.w * m.scale / b,
                                    M = E + v.h * m.scale / b,
                                    B = new i(C, E),
                                    T = new i(P, E),
                                    V = new i(C, M),
                                    F = new i(P, M);
                                if (_) {
                                    var D = new i(-A, A - -17),
                                        L = -Math.PI / 2,
                                        R = 12 - A,
                                        O = new i(22 - R, -(m.imageName ? R : 0)),
                                        U = new(Function.prototype.bind.apply(i, [null].concat(z)));
                                    B._rotateAround(L, D)._add(O)._add(U), T._rotateAround(L, D)._add(O)._add(U), V._rotateAround(L, D)._add(O)._add(U), F._rotateAround(L, D)._add(O)._add(U);
                                }
                                if (l) {
                                    var j = Math.sin(l),
                                        q = Math.cos(l),
                                        N = [q, -j, j, q];
                                    B._matMult(N), T._matMult(N), V._matMult(N), F._matMult(N);
                                }
                                var K = new i(0, 0),
                                    G = new i(0, 0);
                                p.push({
                                    tl: B,
                                    tr: T,
                                    bl: V,
                                    br: F,
                                    tex: v,
                                    writingMode: e.writingMode,
                                    glyphOffset: k,
                                    sectionIndex: m.sectionIndex,
                                    isSDF: x,
                                    pixelOffsetTL: K,
                                    pixelOffsetBR: G,
                                    minFontScaleX: 0,
                                    minFontScaleY: 0
                                });
                            }
                        }
                    return p
                }(0, r, u, a, o, s, n, t.allowVerticalPlacement),
                v = t.textSizeData,
                g = null;
            "source" === v.kind ? (g = [128 * a.layout.get("text-size").evaluate(s, {})])[0] > 32640 && A(t.layerIds[0] + ': Value for "text-size" is >= 255. Reduce your "text-size".') : "composite" === v.kind && ((g = [128 * y.compositeTextSizes[0].evaluate(s, {}, d), 128 * y.compositeTextSizes[1].evaluate(s, {}, d)])[0] > 32640 || g[1] > 32640) && A(t.layerIds[0] + ': Value for "text-size" is >= 255. Reduce your "text-size".'), t.addSymbols(t.text, m, g, u, o, s, p, e, l.lineStartIndex, l.lineLength, f, d);
            for (var x = 0, b = c; x < b.length; x += 1) h[b[x]] = t.text.placedSymbolArray.length - 1;
            return 4 * m.length
        }

        function ol(t) {
            for (var e in t) return t[e];
            return null
        }

        function sl(t, e, r, n) {
            var i = t.compareText;
            if (e in i) {
                for (var a = i[e], o = a.length - 1; o >= 0; o--)
                    if (n.dist(a[o]) < r) return !0
            } else i[e] = [];
            return i[e].push(n), !1
        }
        var ul = gs.VectorTileFeature.types,
            ll = [{
                name: "a_fade_opacity",
                components: 1,
                type: "Uint8",
                offset: 0
            }];

        function pl(t, e, r, n, i, a, o, s, u, l, p, c, h) {
            var f = s ? Math.min(32640, Math.round(s[0])) : 0,
                y = s ? Math.min(32640, Math.round(s[1])) : 0;
            t.emplaceBack(e, r, Math.round(32 * n), Math.round(32 * i), a, o, (f << 1) + (u ? 1 : 0), y, 16 * l, 16 * p, 256 * c, 256 * h);
        }

        function cl(t, e, r) {
            t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r), t.emplaceBack(e.x, e.y, r);
        }

        function hl(t) {
            for (var e = 0, r = t.sections; e < r.length; e += 1)
                if (Yn(r[e].text)) return !0;
            return !1
        }
        var fl = function(t) {
            this.layoutVertexArray = new Ti, this.indexArray = new Ui, this.programConfigurations = t, this.segments = new oa, this.dynamicLayoutVertexArray = new Vi, this.opacityVertexArray = new Fi, this.placedSymbolArray = new Wi;
        };
        fl.prototype.isEmpty = function() {
            return 0 === this.layoutVertexArray.length && 0 === this.indexArray.length && 0 === this.dynamicLayoutVertexArray.length && 0 === this.opacityVertexArray.length
        }, fl.prototype.upload = function(t, e, r, n) {
            this.isEmpty() || (r && (this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, Os.members), this.indexBuffer = t.createIndexBuffer(this.indexArray, e), this.dynamicLayoutVertexBuffer = t.createVertexBuffer(this.dynamicLayoutVertexArray, Us.members, !0), this.opacityVertexBuffer = t.createVertexBuffer(this.opacityVertexArray, ll, !0), this.opacityVertexBuffer.itemSize = 1), (r || n) && this.programConfigurations.upload(t));
        }, fl.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.programConfigurations.destroy(), this.segments.destroy(), this.dynamicLayoutVertexBuffer.destroy(), this.opacityVertexBuffer.destroy());
        }, Ln("SymbolBuffers", fl);
        var yl = function(t, e, r) {
            this.layoutVertexArray = new t, this.layoutAttributes = e, this.indexArray = new r, this.segments = new oa, this.collisionVertexArray = new Oi;
        };
        yl.prototype.upload = function(t) {
            this.layoutVertexBuffer = t.createVertexBuffer(this.layoutVertexArray, this.layoutAttributes), this.indexBuffer = t.createIndexBuffer(this.indexArray), this.collisionVertexBuffer = t.createVertexBuffer(this.collisionVertexArray, js.members, !0);
        }, yl.prototype.destroy = function() {
            this.layoutVertexBuffer && (this.layoutVertexBuffer.destroy(), this.indexBuffer.destroy(), this.segments.destroy(), this.collisionVertexBuffer.destroy());
        }, Ln("CollisionBuffers", yl);
        var dl = function(t) {
            this.collisionBoxArray = t.collisionBoxArray, this.zoom = t.zoom, this.overscaling = t.overscaling, this.layers = t.layers, this.layerIds = this.layers.map((function(t) {
                return t.id
            })), this.index = t.index, this.pixelRatio = t.pixelRatio, this.sourceLayerIndex = t.sourceLayerIndex, this.hasPattern = !1, this.hasRTLText = !1, this.sortKeyRanges = [], this.collisionCircleArray = [], this.placementInvProjMatrix = io([]), this.placementViewportMatrix = io([]);
            var e = this.layers[0]._unevaluatedLayout._values;
            this.textSizeData = Vu(this.zoom, e["text-size"]), this.iconSizeData = Vu(this.zoom, e["icon-size"]);
            var r = this.layers[0].layout,
                n = r.get("symbol-sort-key"),
                i = r.get("symbol-z-order");
            this.sortFeaturesByKey = "viewport-y" !== i && void 0 !== n.constantOr(1), this.sortFeaturesByY = ("viewport-y" === i || "auto" === i && !this.sortFeaturesByKey) && (r.get("text-allow-overlap") || r.get("icon-allow-overlap") || r.get("text-ignore-placement") || r.get("icon-ignore-placement")), "point" === r.get("symbol-placement") && (this.writingModes = r.get("text-writing-mode").map((function(t) {
                return xu[t]
            }))), this.stateDependentLayerIds = this.layers.filter((function(t) {
                return t.isStateDependent()
            })).map((function(t) {
                return t.id
            })), this.sourceID = t.sourceID;
        };
        dl.prototype.createArrays = function() {
            this.text = new fl(new Ta(this.layers, this.zoom, (function(t) {
                return /^text/.test(t)
            }))), this.icon = new fl(new Ta(this.layers, this.zoom, (function(t) {
                return /^icon/.test(t)
            }))), this.glyphOffsetArray = new ea, this.lineVertexArray = new ra, this.symbolInstances = new ta;
        }, dl.prototype.calculateGlyphDependencies = function(t, e, r, n, i) {
            for (var a = 0; a < t.length; a++)
                if (e[t.charCodeAt(a)] = !0, (r || n) && i) {
                    var o = Gs[t.charAt(a)];
                    o && (e[o.charCodeAt(0)] = !0);
                }
        }, dl.prototype.populate = function(t, e, r) {
            var n = this.layers[0],
                i = n.layout,
                a = i.get("text-font"),
                o = i.get("text-field"),
                s = i.get("icon-image"),
                u = ("constant" !== o.value.kind || o.value.value instanceof re && !o.value.value.isEmpty() || o.value.value.toString().length > 0) && ("constant" !== a.value.kind || a.value.value.length > 0),
                l = "constant" !== s.value.kind || !!s.value.value || Object.keys(s.parameters).length > 0,
                p = i.get("symbol-sort-key");
            if (this.features = [], u || l) {
                for (var c = e.iconDependencies, h = e.glyphDependencies, f = e.availableImages, y = new oi(this.zoom), d = 0, m = t; d < m.length; d += 1) {
                    var v = m[d],
                        g = v.feature,
                        x = v.id,
                        b = v.index,
                        w = v.sourceLayerIndex,
                        _ = n._featureFilter.needGeometry,
                        A = {
                            type: g.type,
                            id: x,
                            properties: g.properties,
                            geometry: _ ? Ra(g) : []
                        };
                    if (n._featureFilter.filter(y, A, r)) {
                        _ || (A.geometry = Ra(g));
                        var S = void 0;
                        if (u) {
                            var k = n.getValueAndResolveTokens("text-field", A, r, f),
                                I = re.factory(k);
                            hl(I) && (this.hasRTLText = !0), (!this.hasRTLText || "unavailable" === ni() || this.hasRTLText && ai.isParsed()) && (S = Ks(I, n, A));
                        }
                        var z = void 0;
                        if (l) {
                            var C = n.getValueAndResolveTokens("icon-image", A, r, f);
                            z = C instanceof ne ? C : ne.fromString(C);
                        }
                        if (S || z) {
                            var E = this.sortFeaturesByKey ? p.evaluate(A, {}, r) : void 0,
                                P = {
                                    id: x,
                                    text: S,
                                    icon: z,
                                    index: b,
                                    sourceLayerIndex: w,
                                    geometry: Ra(g),
                                    properties: g.properties,
                                    type: ul[g.type],
                                    sortKey: E
                                };
                            if (this.features.push(P), z && (c[z.name] = !0), S) {
                                var M = a.evaluate(A, {}, r).join(","),
                                    B = "map" === i.get("text-rotation-alignment") && "point" !== i.get("symbol-placement");
                                this.allowVerticalPlacement = this.writingModes && this.writingModes.indexOf(xu.vertical) >= 0;
                                for (var T = 0, V = S.sections; T < V.length; T += 1) {
                                    var F = V[T];
                                    if (F.image) c[F.image.name] = !0;
                                    else {
                                        var D = Gn(S.toString()),
                                            L = F.fontStack || M,
                                            R = h[L] = h[L] || {};
                                        this.calculateGlyphDependencies(F.text, R, B, this.allowVerticalPlacement, D);
                                    }
                                }
                            }
                        }
                    }
                }
                "line" === i.get("symbol-placement") && (this.features = function(t) {
                    var e = {},
                        r = {},
                        n = [],
                        i = 0;

                    function a(e) {
                        n.push(t[e]), i++;
                    }

                    function o(t, e, i) {
                        var a = r[t];
                        return delete r[t], r[e] = a, n[a].geometry[0].pop(), n[a].geometry[0] = n[a].geometry[0].concat(i[0]), a
                    }

                    function s(t, r, i) {
                        var a = e[r];
                        return delete e[r], e[t] = a, n[a].geometry[0].shift(), n[a].geometry[0] = i[0].concat(n[a].geometry[0]), a
                    }

                    function u(t, e, r) {
                        var n = r ? e[0][e[0].length - 1] : e[0][0];
                        return t + ":" + n.x + ":" + n.y
                    }
                    for (var l = 0; l < t.length; l++) {
                        var p = t[l],
                            c = p.geometry,
                            h = p.text ? p.text.toString() : null;
                        if (h) {
                            var f = u(h, c),
                                y = u(h, c, !0);
                            if (f in r && y in e && r[f] !== e[y]) {
                                var d = s(f, y, c),
                                    m = o(f, y, n[d].geometry);
                                delete e[f], delete r[y], r[u(h, n[m].geometry, !0)] = m, n[d].geometry = null;
                            } else f in r ? o(f, y, c) : y in e ? s(f, y, c) : (a(l), e[f] = i - 1, r[y] = i - 1);
                        } else a(l);
                    }
                    return n.filter((function(t) {
                        return t.geometry
                    }))
                }(this.features)), this.sortFeaturesByKey && this.features.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }));
            }
        }, dl.prototype.update = function(t, e, r) {
            this.stateDependentLayers.length && (this.text.programConfigurations.updatePaintArrays(t, e, this.layers, r), this.icon.programConfigurations.updatePaintArrays(t, e, this.layers, r));
        }, dl.prototype.isEmpty = function() {
            return 0 === this.symbolInstances.length && !this.hasRTLText
        }, dl.prototype.uploadPending = function() {
            return !this.uploaded || this.text.programConfigurations.needsUpload || this.icon.programConfigurations.needsUpload
        }, dl.prototype.upload = function(t) {
            !this.uploaded && this.hasDebugData() && (this.textCollisionBox.upload(t), this.iconCollisionBox.upload(t)), this.text.upload(t, this.sortFeaturesByY, !this.uploaded, this.text.programConfigurations.needsUpload), this.icon.upload(t, this.sortFeaturesByY, !this.uploaded, this.icon.programConfigurations.needsUpload), this.uploaded = !0;
        }, dl.prototype.destroyDebugData = function() {
            this.textCollisionBox.destroy(), this.iconCollisionBox.destroy();
        }, dl.prototype.destroy = function() {
            this.text.destroy(), this.icon.destroy(), this.hasDebugData() && this.destroyDebugData();
        }, dl.prototype.addToLineVertexArray = function(t, e) {
            var r = this.lineVertexArray.length;
            if (void 0 !== t.segment) {
                for (var n = t.dist(e[t.segment + 1]), i = t.dist(e[t.segment]), a = {}, o = t.segment + 1; o < e.length; o++) a[o] = {
                    x: e[o].x,
                    y: e[o].y,
                    tileUnitDistanceFromAnchor: n
                }, o < e.length - 1 && (n += e[o + 1].dist(e[o]));
                for (var s = t.segment || 0; s >= 0; s--) a[s] = {
                    x: e[s].x,
                    y: e[s].y,
                    tileUnitDistanceFromAnchor: i
                }, s > 0 && (i += e[s - 1].dist(e[s]));
                for (var u = 0; u < e.length; u++) {
                    var l = a[u];
                    this.lineVertexArray.emplaceBack(l.x, l.y, l.tileUnitDistanceFromAnchor);
                }
            }
            return {
                lineStartIndex: r,
                lineLength: this.lineVertexArray.length - r
            }
        }, dl.prototype.addSymbols = function(t, e, r, n, i, a, o, s, u, l, p, c) {
            for (var h = t.indexArray, f = t.layoutVertexArray, y = t.segments.prepareSegment(4 * e.length, f, h, a.sortKey), d = this.glyphOffsetArray.length, m = y.vertexLength, v = this.allowVerticalPlacement && o === xu.vertical ? Math.PI / 2 : 0, g = a.text && a.text.sections, x = 0; x < e.length; x++) {
                var b = e[x],
                    w = b.tl,
                    _ = b.tr,
                    A = b.bl,
                    S = b.br,
                    k = b.tex,
                    I = b.pixelOffsetTL,
                    z = b.pixelOffsetBR,
                    C = b.minFontScaleX,
                    E = b.minFontScaleY,
                    P = b.glyphOffset,
                    M = b.isSDF,
                    B = b.sectionIndex,
                    T = y.vertexLength,
                    V = P[1];
                pl(f, s.x, s.y, w.x, V + w.y, k.x, k.y, r, M, I.x, I.y, C, E), pl(f, s.x, s.y, _.x, V + _.y, k.x + k.w, k.y, r, M, z.x, I.y, C, E), pl(f, s.x, s.y, A.x, V + A.y, k.x, k.y + k.h, r, M, I.x, z.y, C, E), pl(f, s.x, s.y, S.x, V + S.y, k.x + k.w, k.y + k.h, r, M, z.x, z.y, C, E), cl(t.dynamicLayoutVertexArray, s, v), h.emplaceBack(T, T + 1, T + 2), h.emplaceBack(T + 1, T + 2, T + 3), y.vertexLength += 4, y.primitiveLength += 2, this.glyphOffsetArray.emplaceBack(P[0]), x !== e.length - 1 && B === e[x + 1].sectionIndex || t.programConfigurations.populatePaintArrays(f.length, a, a.index, {}, c, g && g[B]);
            }
            t.placedSymbolArray.emplaceBack(s.x, s.y, d, this.glyphOffsetArray.length - d, m, u, l, s.segment, r ? r[0] : 0, r ? r[1] : 0, n[0], n[1], o, 0, !1, 0, p);
        }, dl.prototype._addCollisionDebugVertex = function(t, e, r, n, i, a) {
            return e.emplaceBack(0, 0), t.emplaceBack(r.x, r.y, n, i, Math.round(a.x), Math.round(a.y))
        }, dl.prototype.addCollisionDebugVertices = function(t, e, r, n, a, o, s) {
            var u = a.segments.prepareSegment(4, a.layoutVertexArray, a.indexArray),
                l = u.vertexLength,
                p = a.layoutVertexArray,
                c = a.collisionVertexArray,
                h = s.anchorX,
                f = s.anchorY;
            this._addCollisionDebugVertex(p, c, o, h, f, new i(t, e)), this._addCollisionDebugVertex(p, c, o, h, f, new i(r, e)), this._addCollisionDebugVertex(p, c, o, h, f, new i(r, n)), this._addCollisionDebugVertex(p, c, o, h, f, new i(t, n)), u.vertexLength += 4;
            var y = a.indexArray;
            y.emplaceBack(l, l + 1), y.emplaceBack(l + 1, l + 2), y.emplaceBack(l + 2, l + 3), y.emplaceBack(l + 3, l), u.primitiveLength += 4;
        }, dl.prototype.addDebugCollisionBoxes = function(t, e, r, n) {
            for (var i = t; i < e; i++) {
                var a = this.collisionBoxArray.get(i);
                this.addCollisionDebugVertices(a.x1, a.y1, a.x2, a.y2, n ? this.textCollisionBox : this.iconCollisionBox, a.anchorPoint, r);
            }
        }, dl.prototype.generateCollisionDebugBuffers = function() {
            this.hasDebugData() && this.destroyDebugData(), this.textCollisionBox = new yl(Li, qs.members, Zi), this.iconCollisionBox = new yl(Li, qs.members, Zi);
            for (var t = 0; t < this.symbolInstances.length; t++) {
                var e = this.symbolInstances.get(t);
                this.addDebugCollisionBoxes(e.textBoxStartIndex, e.textBoxEndIndex, e, !0), this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex, e.verticalTextBoxEndIndex, e, !0), this.addDebugCollisionBoxes(e.iconBoxStartIndex, e.iconBoxEndIndex, e, !1), this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex, e.verticalIconBoxEndIndex, e, !1);
            }
        }, dl.prototype._deserializeCollisionBoxesForSymbol = function(t, e, r, n, i, a, o, s, u) {
            for (var l = {}, p = e; p < r; p++) {
                var c = t.get(p);
                l.textBox = {
                    x1: c.x1,
                    y1: c.y1,
                    x2: c.x2,
                    y2: c.y2,
                    anchorPointX: c.anchorPointX,
                    anchorPointY: c.anchorPointY
                }, l.textFeatureIndex = c.featureIndex;
                break
            }
            for (var h = n; h < i; h++) {
                var f = t.get(h);
                l.verticalTextBox = {
                    x1: f.x1,
                    y1: f.y1,
                    x2: f.x2,
                    y2: f.y2,
                    anchorPointX: f.anchorPointX,
                    anchorPointY: f.anchorPointY
                }, l.verticalTextFeatureIndex = f.featureIndex;
                break
            }
            for (var y = a; y < o; y++) {
                var d = t.get(y);
                l.iconBox = {
                    x1: d.x1,
                    y1: d.y1,
                    x2: d.x2,
                    y2: d.y2,
                    anchorPointX: d.anchorPointX,
                    anchorPointY: d.anchorPointY
                }, l.iconFeatureIndex = d.featureIndex;
                break
            }
            for (var m = s; m < u; m++) {
                var v = t.get(m);
                l.verticalIconBox = {
                    x1: v.x1,
                    y1: v.y1,
                    x2: v.x2,
                    y2: v.y2,
                    anchorPointX: v.anchorPointX,
                    anchorPointY: v.anchorPointY
                }, l.verticalIconFeatureIndex = v.featureIndex;
                break
            }
            return l
        }, dl.prototype.deserializeCollisionBoxes = function(t) {
            this.collisionArrays = [];
            for (var e = 0; e < this.symbolInstances.length; e++) {
                var r = this.symbolInstances.get(e);
                this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t, r.textBoxStartIndex, r.textBoxEndIndex, r.verticalTextBoxStartIndex, r.verticalTextBoxEndIndex, r.iconBoxStartIndex, r.iconBoxEndIndex, r.verticalIconBoxStartIndex, r.verticalIconBoxEndIndex));
            }
        }, dl.prototype.hasTextData = function() {
            return this.text.segments.get().length > 0
        }, dl.prototype.hasIconData = function() {
            return this.icon.segments.get().length > 0
        }, dl.prototype.hasDebugData = function() {
            return this.textCollisionBox && this.iconCollisionBox
        }, dl.prototype.hasTextCollisionBoxData = function() {
            return this.hasDebugData() && this.textCollisionBox.segments.get().length > 0
        }, dl.prototype.hasIconCollisionBoxData = function() {
            return this.hasDebugData() && this.iconCollisionBox.segments.get().length > 0
        }, dl.prototype.addIndicesForPlacedSymbol = function(t, e) {
            for (var r = t.placedSymbolArray.get(e), n = r.vertexStartIndex + 4 * r.numGlyphs, i = r.vertexStartIndex; i < n; i += 4) t.indexArray.emplaceBack(i, i + 1, i + 2), t.indexArray.emplaceBack(i + 1, i + 2, i + 3);
        }, dl.prototype.getSortedSymbolIndexes = function(t) {
            if (this.sortedAngle === t && void 0 !== this.symbolInstanceIndexes) return this.symbolInstanceIndexes;
            for (var e = Math.sin(t), r = Math.cos(t), n = [], i = [], a = [], o = 0; o < this.symbolInstances.length; ++o) {
                a.push(o);
                var s = this.symbolInstances.get(o);
                n.push(0 | Math.round(e * s.anchorX + r * s.anchorY)), i.push(s.featureIndex);
            }
            return a.sort((function(t, e) {
                return n[t] - n[e] || i[e] - i[t]
            })), a
        }, dl.prototype.addToSortKeyRanges = function(t, e) {
            var r = this.sortKeyRanges[this.sortKeyRanges.length - 1];
            r && r.sortKey === e ? r.symbolInstanceEnd = t + 1 : this.sortKeyRanges.push({
                sortKey: e,
                symbolInstanceStart: t,
                symbolInstanceEnd: t + 1
            });
        }, dl.prototype.sortFeatures = function(t) {
            var e = this;
            if (this.sortFeaturesByY && this.sortedAngle !== t && !(this.text.segments.get().length > 1 || this.icon.segments.get().length > 1)) {
                this.symbolInstanceIndexes = this.getSortedSymbolIndexes(t), this.sortedAngle = t, this.text.indexArray.clear(), this.icon.indexArray.clear(), this.featureSortOrder = [];
                for (var r = 0, n = this.symbolInstanceIndexes; r < n.length; r += 1) {
                    var i = this.symbolInstances.get(n[r]);
                    this.featureSortOrder.push(i.featureIndex), [i.rightJustifiedTextSymbolIndex, i.centerJustifiedTextSymbolIndex, i.leftJustifiedTextSymbolIndex].forEach((function(t, r, n) {
                        t >= 0 && n.indexOf(t) === r && e.addIndicesForPlacedSymbol(e.text, t);
                    })), i.verticalPlacedTextSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.text, i.verticalPlacedTextSymbolIndex), i.placedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, i.placedIconSymbolIndex), i.verticalPlacedIconSymbolIndex >= 0 && this.addIndicesForPlacedSymbol(this.icon, i.verticalPlacedIconSymbolIndex);
                }
                this.text.indexBuffer && this.text.indexBuffer.updateData(this.text.indexArray), this.icon.indexBuffer && this.icon.indexBuffer.updateData(this.icon.indexArray);
            }
        }, Ln("SymbolBucket", dl, {
            omit: ["layers", "collisionBoxArray", "features", "compareText"]
        }), dl.MAX_GLYPHS = 65535, dl.addDynamicAttributes = cl;
        var ml = new bi({
                "symbol-placement": new di(Ct.layout_symbol["symbol-placement"]),
                "symbol-spacing": new di(Ct.layout_symbol["symbol-spacing"]),
                "symbol-avoid-edges": new di(Ct.layout_symbol["symbol-avoid-edges"]),
                "symbol-sort-key": new mi(Ct.layout_symbol["symbol-sort-key"]),
                "symbol-z-order": new di(Ct.layout_symbol["symbol-z-order"]),
                "icon-allow-overlap": new di(Ct.layout_symbol["icon-allow-overlap"]),
                "icon-ignore-placement": new di(Ct.layout_symbol["icon-ignore-placement"]),
                "icon-optional": new di(Ct.layout_symbol["icon-optional"]),
                "icon-rotation-alignment": new di(Ct.layout_symbol["icon-rotation-alignment"]),
                "icon-size": new mi(Ct.layout_symbol["icon-size"]),
                "icon-text-fit": new di(Ct.layout_symbol["icon-text-fit"]),
                "icon-text-fit-padding": new di(Ct.layout_symbol["icon-text-fit-padding"]),
                "icon-image": new mi(Ct.layout_symbol["icon-image"]),
                "icon-rotate": new mi(Ct.layout_symbol["icon-rotate"]),
                "icon-padding": new di(Ct.layout_symbol["icon-padding"]),
                "icon-keep-upright": new di(Ct.layout_symbol["icon-keep-upright"]),
                "icon-offset": new mi(Ct.layout_symbol["icon-offset"]),
                "icon-anchor": new mi(Ct.layout_symbol["icon-anchor"]),
                "icon-pitch-alignment": new di(Ct.layout_symbol["icon-pitch-alignment"]),
                "text-pitch-alignment": new di(Ct.layout_symbol["text-pitch-alignment"]),
                "text-rotation-alignment": new di(Ct.layout_symbol["text-rotation-alignment"]),
                "text-field": new mi(Ct.layout_symbol["text-field"]),
                "text-font": new mi(Ct.layout_symbol["text-font"]),
                "text-size": new mi(Ct.layout_symbol["text-size"]),
                "text-max-width": new mi(Ct.layout_symbol["text-max-width"]),
                "text-line-height": new di(Ct.layout_symbol["text-line-height"]),
                "text-letter-spacing": new mi(Ct.layout_symbol["text-letter-spacing"]),
                "text-justify": new mi(Ct.layout_symbol["text-justify"]),
                "text-radial-offset": new mi(Ct.layout_symbol["text-radial-offset"]),
                "text-variable-anchor": new di(Ct.layout_symbol["text-variable-anchor"]),
                "text-anchor": new mi(Ct.layout_symbol["text-anchor"]),
                "text-max-angle": new di(Ct.layout_symbol["text-max-angle"]),
                "text-writing-mode": new di(Ct.layout_symbol["text-writing-mode"]),
                "text-rotate": new mi(Ct.layout_symbol["text-rotate"]),
                "text-padding": new di(Ct.layout_symbol["text-padding"]),
                "text-keep-upright": new di(Ct.layout_symbol["text-keep-upright"]),
                "text-transform": new mi(Ct.layout_symbol["text-transform"]),
                "text-offset": new mi(Ct.layout_symbol["text-offset"]),
                "text-allow-overlap": new di(Ct.layout_symbol["text-allow-overlap"]),
                "text-ignore-placement": new di(Ct.layout_symbol["text-ignore-placement"]),
                "text-optional": new di(Ct.layout_symbol["text-optional"])
            }),
            vl = {
                paint: new bi({
                    "icon-opacity": new mi(Ct.paint_symbol["icon-opacity"]),
                    "icon-color": new mi(Ct.paint_symbol["icon-color"]),
                    "icon-halo-color": new mi(Ct.paint_symbol["icon-halo-color"]),
                    "icon-halo-width": new mi(Ct.paint_symbol["icon-halo-width"]),
                    "icon-halo-blur": new mi(Ct.paint_symbol["icon-halo-blur"]),
                    "icon-translate": new di(Ct.paint_symbol["icon-translate"]),
                    "icon-translate-anchor": new di(Ct.paint_symbol["icon-translate-anchor"]),
                    "text-opacity": new mi(Ct.paint_symbol["text-opacity"]),
                    "text-color": new mi(Ct.paint_symbol["text-color"], {
                        runtimeType: Ut,
                        getOverride: function(t) {
                            return t.textColor
                        },
                        hasOverride: function(t) {
                            return !!t.textColor
                        }
                    }),
                    "text-halo-color": new mi(Ct.paint_symbol["text-halo-color"]),
                    "text-halo-width": new mi(Ct.paint_symbol["text-halo-width"]),
                    "text-halo-blur": new mi(Ct.paint_symbol["text-halo-blur"]),
                    "text-translate": new di(Ct.paint_symbol["text-translate"]),
                    "text-translate-anchor": new di(Ct.paint_symbol["text-translate-anchor"])
                }),
                layout: ml
            },
            gl = function(t) {
                this.type = t.property.overrides ? t.property.overrides.runtimeType : Dt, this.defaultValue = t;
            };
        gl.prototype.evaluate = function(t) {
            if (t.formattedSection) {
                var e = this.defaultValue.property.overrides;
                if (e && e.hasOverride(t.formattedSection)) return e.getOverride(t.formattedSection)
            }
            return t.feature && t.featureState ? this.defaultValue.evaluate(t.feature, t.featureState) : this.defaultValue.property.specification.default
        }, gl.prototype.eachChild = function(t) {
            this.defaultValue.isConstant() || t(this.defaultValue.value._styleExpression.expression);
        }, gl.prototype.outputDefined = function() {
            return !1
        }, gl.prototype.serialize = function() {
            return null
        }, Ln("FormatSectionOverride", gl, {
            omit: ["defaultValue"]
        });
        var xl = function(t) {
                function e(e) {
                    t.call(this, e, vl);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.recalculate = function(e, r) {
                    if (t.prototype.recalculate.call(this, e, r), "auto" === this.layout.get("icon-rotation-alignment") && (this.layout._values["icon-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-rotation-alignment") && (this.layout._values["text-rotation-alignment"] = "point" !== this.layout.get("symbol-placement") ? "map" : "viewport"), "auto" === this.layout.get("text-pitch-alignment") && (this.layout._values["text-pitch-alignment"] = this.layout.get("text-rotation-alignment")), "auto" === this.layout.get("icon-pitch-alignment") && (this.layout._values["icon-pitch-alignment"] = this.layout.get("icon-rotation-alignment")), "point" === this.layout.get("symbol-placement")) {
                        var n = this.layout.get("text-writing-mode");
                        if (n) {
                            for (var i = [], a = 0, o = n; a < o.length; a += 1) {
                                var s = o[a];
                                i.indexOf(s) < 0 && i.push(s);
                            }
                            this.layout._values["text-writing-mode"] = i;
                        } else this.layout._values["text-writing-mode"] = ["horizontal"];
                    }
                    this._setPaintOverrides();
                }, e.prototype.getValueAndResolveTokens = function(t, e, r, n) {
                    var i = this.layout.get(t).evaluate(e, {}, r, n),
                        a = this._unevaluatedLayout._values[t];
                    return a.isDataDriven() || Kr(a.value) || !i ? i : function(t, e) {
                        return e.replace(/{([^{}]+)}/g, (function(e, r) {
                            return r in t ? String(t[r]) : ""
                        }))
                    }(e.properties, i)
                }, e.prototype.createBucket = function(t) {
                    return new dl(t)
                }, e.prototype.queryRadius = function() {
                    return 0
                }, e.prototype.queryIntersectsFeature = function() {
                    return !1
                }, e.prototype._setPaintOverrides = function() {
                    for (var t = 0, r = vl.paint.overridableProperties; t < r.length; t += 1) {
                        var n = r[t];
                        if (e.hasPaintOverride(this.layout, n)) {
                            var i, a = this.paint.get(n),
                                o = new gl(a),
                                s = new Nr(o, a.property.specification);
                            i = "constant" === a.value.kind || "source" === a.value.kind ? new Zr("source", s) : new Xr("composite", s, a.value.zoomStops, a.value._interpolationType), this.paint._values[n] = new fi(a.property, i, a.parameters);
                        }
                    }
                }, e.prototype._handleOverridablePaintPropertyUpdate = function(t, r, n) {
                    return !(!this.layout || r.isDataDriven() || n.isDataDriven()) && e.hasPaintOverride(this.layout, t)
                }, e.hasPaintOverride = function(t, e) {
                    var r = t.get("text-field"),
                        n = vl.paint.properties[e],
                        i = !1,
                        a = function(t) {
                            for (var e = 0, r = t; e < r.length; e += 1)
                                if (n.overrides && n.overrides.hasOverride(r[e])) return void(i = !0)
                        };
                    if ("constant" === r.value.kind && r.value.value instanceof re) a(r.value.value.sections);
                    else if ("source" === r.value.kind) {
                        var o = function(t) {
                                i || (t instanceof ue && oe(t.value) === Kt ? a(t.value.sections) : t instanceof he ? a(t.sections) : t.eachChild(o));
                            },
                            s = r.value;
                        s._styleExpression && o(s._styleExpression.expression);
                    }
                    return i
                }, e
            }(wi),
            bl = {
                paint: new bi({
                    "background-color": new di(Ct.paint_background["background-color"]),
                    "background-pattern": new gi(Ct.paint_background["background-pattern"]),
                    "background-opacity": new di(Ct.paint_background["background-opacity"])
                })
            },
            wl = function(t) {
                function e(e) {
                    t.call(this, e, bl);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(wi),
            _l = {
                paint: new bi({
                    "raster-opacity": new di(Ct.paint_raster["raster-opacity"]),
                    "raster-hue-rotate": new di(Ct.paint_raster["raster-hue-rotate"]),
                    "raster-brightness-min": new di(Ct.paint_raster["raster-brightness-min"]),
                    "raster-brightness-max": new di(Ct.paint_raster["raster-brightness-max"]),
                    "raster-saturation": new di(Ct.paint_raster["raster-saturation"]),
                    "raster-contrast": new di(Ct.paint_raster["raster-contrast"]),
                    "raster-resampling": new di(Ct.paint_raster["raster-resampling"]),
                    "raster-fade-duration": new di(Ct.paint_raster["raster-fade-duration"])
                })
            },
            Al = function(t) {
                function e(e) {
                    t.call(this, e, _l);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(wi),
            Sl = function(t) {
                function e(e) {
                    t.call(this, e, {}), this.implementation = e;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.is3D = function() {
                    return "3d" === this.implementation.renderingMode
                }, e.prototype.hasOffscreenPass = function() {
                    return void 0 !== this.implementation.prerender
                }, e.prototype.recalculate = function() {}, e.prototype.updateTransitions = function() {}, e.prototype.hasTransition = function() {}, e.prototype.serialize = function() {}, e.prototype.onAdd = function(t) {
                    this.implementation.onAdd && this.implementation.onAdd(t, t.painter.context.gl);
                }, e.prototype.onRemove = function(t) {
                    this.implementation.onRemove && this.implementation.onRemove(t, t.painter.context.gl);
                }, e
            }(wi),
            kl = {
                circle: lo,
                heatmap: bo,
                hillshade: _o,
                fill: us,
                "fill-extrusion": ks,
                line: Ls,
                symbol: xl,
                background: wl,
                raster: Al
            },
            Il = o.HTMLImageElement,
            zl = o.HTMLCanvasElement,
            Cl = o.HTMLVideoElement,
            El = o.ImageData,
            Pl = o.ImageBitmap,
            Ml = function(t, e, r, n) {
                this.context = t, this.format = r, this.texture = t.gl.createTexture(), this.update(e, n);
            };
        Ml.prototype.update = function(t, e, r) {
            var n = t.width,
                i = t.height,
                a = !(this.size && this.size[0] === n && this.size[1] === i || r),
                o = this.context,
                s = o.gl;
            if (this.useMipmap = Boolean(e && e.useMipmap), s.bindTexture(s.TEXTURE_2D, this.texture), o.pixelStoreUnpackFlipY.set(!1), o.pixelStoreUnpack.set(1), o.pixelStoreUnpackPremultiplyAlpha.set(this.format === s.RGBA && (!e || !1 !== e.premultiply)), a) this.size = [n, i], t instanceof Il || t instanceof zl || t instanceof Cl || t instanceof El || Pl && t instanceof Pl ? s.texImage2D(s.TEXTURE_2D, 0, this.format, this.format, s.UNSIGNED_BYTE, t) : s.texImage2D(s.TEXTURE_2D, 0, this.format, n, i, 0, this.format, s.UNSIGNED_BYTE, t.data);
            else {
                var u = r || {
                        x: 0,
                        y: 0
                    },
                    l = u.x,
                    p = u.y;
                t instanceof Il || t instanceof zl || t instanceof Cl || t instanceof El || Pl && t instanceof Pl ? s.texSubImage2D(s.TEXTURE_2D, 0, l, p, s.RGBA, s.UNSIGNED_BYTE, t) : s.texSubImage2D(s.TEXTURE_2D, 0, l, p, n, i, s.RGBA, s.UNSIGNED_BYTE, t.data);
            }
            this.useMipmap && this.isSizePowerOfTwo() && s.generateMipmap(s.TEXTURE_2D);
        }, Ml.prototype.bind = function(t, e, r) {
            var n = this.context.gl;
            n.bindTexture(n.TEXTURE_2D, this.texture), r !== n.LINEAR_MIPMAP_NEAREST || this.isSizePowerOfTwo() || (r = n.LINEAR), t !== this.filter && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MAG_FILTER, t), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_MIN_FILTER, r || t), this.filter = t), e !== this.wrap && (n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_S, e), n.texParameteri(n.TEXTURE_2D, n.TEXTURE_WRAP_T, e), this.wrap = e);
        }, Ml.prototype.isSizePowerOfTwo = function() {
            return this.size[0] === this.size[1] && Math.log(this.size[0]) / Math.LN2 % 1 == 0
        }, Ml.prototype.destroy = function() {
            this.context.gl.deleteTexture(this.texture), this.texture = null;
        };
        var Bl = function(t) {
            var e = this;
            this._callback = t, this._triggered = !1, "undefined" != typeof MessageChannel && (this._channel = new MessageChannel, this._channel.port2.onmessage = function() {
                e._triggered = !1, e._callback();
            });
        };
        Bl.prototype.trigger = function() {
            var t = this;
            this._triggered || (this._triggered = !0, this._channel ? this._channel.port1.postMessage(!0) : setTimeout((function() {
                t._triggered = !1, t._callback();
            }), 0));
        }, Bl.prototype.remove = function() {
            delete this._channel, this._callback = function() {};
        };
        var Tl = function(t, e, r) {
            this.target = t, this.parent = e, this.mapId = r, this.callbacks = {}, this.tasks = {}, this.taskQueue = [], this.cancelCallbacks = {}, v(["receive", "process"], this), this.invoker = new Bl(this.process), this.target.addEventListener("message", this.receive, !1), this.globalScope = I() ? t : o;
        };

        function Vl(t, e, r) {
            var n = 2 * Math.PI * 6378137 / 256 / Math.pow(2, r);
            return [t * n - 2 * Math.PI * 6378137 / 2, e * n - 2 * Math.PI * 6378137 / 2]
        }
        Tl.prototype.send = function(t, e, r, n, i) {
            var a = this;
            void 0 === i && (i = !1);
            var o = Math.round(1e18 * Math.random()).toString(36).substring(0, 10);
            r && (this.callbacks[o] = r);
            var s = E(this.globalScope) ? void 0 : [];
            return this.target.postMessage({
                id: o,
                type: t,
                hasCallback: !!r,
                targetMapId: n,
                mustQueue: i,
                sourceMapId: this.mapId,
                data: jn(e, s)
            }, s), {
                cancel: function() {
                    r && delete a.callbacks[o], a.target.postMessage({
                        id: o,
                        type: "<cancel>",
                        targetMapId: n,
                        sourceMapId: a.mapId
                    });
                }
            }
        }, Tl.prototype.receive = function(t) {
            var e = t.data,
                r = e.id;
            if (r && (!e.targetMapId || this.mapId === e.targetMapId))
                if ("<cancel>" === e.type) {
                    delete this.tasks[r];
                    var n = this.cancelCallbacks[r];
                    delete this.cancelCallbacks[r], n && n();
                } else I() || e.mustQueue ? (this.tasks[r] = e, this.taskQueue.push(r), this.invoker.trigger()) : this.processTask(r, e);
        }, Tl.prototype.process = function() {
            if (this.taskQueue.length) {
                var t = this.taskQueue.shift(),
                    e = this.tasks[t];
                delete this.tasks[t], this.taskQueue.length && this.invoker.trigger(), e && this.processTask(t, e);
            }
        }, Tl.prototype.processTask = function(t, e) {
            var r = this;
            if ("<response>" === e.type) {
                var n = this.callbacks[t];
                delete this.callbacks[t], n && (e.error ? n(qn(e.error)) : n(null, qn(e.data)));
            } else {
                var i = !1,
                    a = E(this.globalScope) ? void 0 : [],
                    o = e.hasCallback ? function(e, n) {
                        i = !0, delete r.cancelCallbacks[t], r.target.postMessage({
                            id: t,
                            type: "<response>",
                            sourceMapId: r.mapId,
                            error: e ? jn(e) : null,
                            data: jn(n, a)
                        }, a);
                    } : function(t) {
                        i = !0;
                    },
                    s = null,
                    u = qn(e.data);
                if (this.parent[e.type]) s = this.parent[e.type](e.sourceMapId, u, o);
                else if (this.parent.getWorkerSource) {
                    var l = e.type.split(".");
                    s = this.parent.getWorkerSource(e.sourceMapId, l[0], u.source)[l[1]](u, o);
                } else o(new Error("Could not find function " + e.type));
                !i && s && s.cancel && (this.cancelCallbacks[t] = s.cancel);
            }
        }, Tl.prototype.remove = function() {
            this.invoker.remove(), this.target.removeEventListener("message", this.receive, !1);
        };
        var Fl = function(t, e) {
            t && (e ? this.setSouthWest(t).setNorthEast(e) : 4 === t.length ? this.setSouthWest([t[0], t[1]]).setNorthEast([t[2], t[3]]) : this.setSouthWest(t[0]).setNorthEast(t[1]));
        };
        Fl.prototype.setNorthEast = function(t) {
            return this._ne = t instanceof Dl ? new Dl(t.lng, t.lat) : Dl.convert(t), this
        }, Fl.prototype.setSouthWest = function(t) {
            return this._sw = t instanceof Dl ? new Dl(t.lng, t.lat) : Dl.convert(t), this
        }, Fl.prototype.extend = function(t) {
            var e, r, n = this._sw,
                i = this._ne;
            if (t instanceof Dl) e = t, r = t;
            else {
                if (!(t instanceof Fl)) return Array.isArray(t) ? 4 === t.length || t.every(Array.isArray) ? this.extend(Fl.convert(t)) : this.extend(Dl.convert(t)) : this;
                if (r = t._ne, !(e = t._sw) || !r) return this
            }
            return n || i ? (n.lng = Math.min(e.lng, n.lng), n.lat = Math.min(e.lat, n.lat), i.lng = Math.max(r.lng, i.lng), i.lat = Math.max(r.lat, i.lat)) : (this._sw = new Dl(e.lng, e.lat), this._ne = new Dl(r.lng, r.lat)), this
        }, Fl.prototype.getCenter = function() {
            return new Dl((this._sw.lng + this._ne.lng) / 2, (this._sw.lat + this._ne.lat) / 2)
        }, Fl.prototype.getSouthWest = function() {
            return this._sw
        }, Fl.prototype.getNorthEast = function() {
            return this._ne
        }, Fl.prototype.getNorthWest = function() {
            return new Dl(this.getWest(), this.getNorth())
        }, Fl.prototype.getSouthEast = function() {
            return new Dl(this.getEast(), this.getSouth())
        }, Fl.prototype.getWest = function() {
            return this._sw.lng
        }, Fl.prototype.getSouth = function() {
            return this._sw.lat
        }, Fl.prototype.getEast = function() {
            return this._ne.lng
        }, Fl.prototype.getNorth = function() {
            return this._ne.lat
        }, Fl.prototype.toArray = function() {
            return [this._sw.toArray(), this._ne.toArray()]
        }, Fl.prototype.toString = function() {
            return "LngLatBounds(" + this._sw.toString() + ", " + this._ne.toString() + ")"
        }, Fl.prototype.isEmpty = function() {
            return !(this._sw && this._ne)
        }, Fl.prototype.contains = function(t) {
            var e = Dl.convert(t),
                r = e.lng,
                n = e.lat,
                i = this._sw.lng <= r && r <= this._ne.lng;
            return this._sw.lng > this._ne.lng && (i = this._sw.lng >= r && r >= this._ne.lng), this._sw.lat <= n && n <= this._ne.lat && i
        }, Fl.convert = function(t) {
            return !t || t instanceof Fl ? t : new Fl(t)
        };
        var Dl = function(t, e) {
            if (isNaN(t) || isNaN(e)) throw new Error("Invalid LngLat object: (" + t + ", " + e + ")");
            if (this.lng = +t, this.lat = +e, this.lat > 90 || this.lat < -90) throw new Error("Invalid LngLat latitude value: must be between -90 and 90")
        };
        Dl.prototype.wrap = function() {
            return new Dl(c(this.lng, -180, 180), this.lat)
        }, Dl.prototype.toArray = function() {
            return [this.lng, this.lat]
        }, Dl.prototype.toString = function() {
            return "LngLat(" + this.lng + ", " + this.lat + ")"
        }, Dl.prototype.distanceTo = function(t) {
            var e = Math.PI / 180,
                r = this.lat * e,
                n = t.lat * e,
                i = Math.sin(r) * Math.sin(n) + Math.cos(r) * Math.cos(n) * Math.cos((t.lng - this.lng) * e);
            return 6371008.8 * Math.acos(Math.min(i, 1))
        }, Dl.prototype.toBounds = function(t) {
            void 0 === t && (t = 0);
            var e = 360 * t / 40075017,
                r = e / Math.cos(Math.PI / 180 * this.lat);
            return new Fl(new Dl(this.lng - r, this.lat - e), new Dl(this.lng + r, this.lat + e))
        }, Dl.convert = function(t) {
            if (t instanceof Dl) return t;
            if (Array.isArray(t) && (2 === t.length || 3 === t.length)) return new Dl(Number(t[0]), Number(t[1]));
            if (!Array.isArray(t) && "object" == typeof t && null !== t) return new Dl(Number("lng" in t ? t.lng : t.lon), Number(t.lat));
            throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")
        };
        var Ll = 2 * Math.PI * 6371008.8;

        function Rl(t) {
            return Ll * Math.cos(t * Math.PI / 180)
        }

        function Ol(t) {
            return (180 + t) / 360
        }

        function Ul(t) {
            return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + t * Math.PI / 360))) / 360
        }

        function jl(t, e) {
            return t / Rl(e)
        }

        function ql(t) {
            return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * t) * Math.PI / 180)) - 90
        }
        var Nl = function(t, e, r) {
            void 0 === r && (r = 0), this.x = +t, this.y = +e, this.z = +r;
        };
        Nl.fromLngLat = function(t, e) {
            void 0 === e && (e = 0);
            var r = Dl.convert(t);
            return new Nl(Ol(r.lng), Ul(r.lat), jl(e, r.lat))
        }, Nl.prototype.toLngLat = function() {
            return new Dl(360 * this.x - 180, ql(this.y))
        }, Nl.prototype.toAltitude = function() {
            return this.z * Rl(ql(this.y))
        }, Nl.prototype.meterInMercatorCoordinateUnits = function() {
            return 1 / Ll * (t = ql(this.y), 1 / Math.cos(t * Math.PI / 180));
            var t;
        };
        var Kl = function(t, e, r) {
            this.z = t, this.x = e, this.y = r, this.key = Xl(0, t, t, e, r);
        };
        Kl.prototype.equals = function(t) {
            return this.z === t.z && this.x === t.x && this.y === t.y
        }, Kl.prototype.url = function(t, e) {
            var r, n, i, a, o, s = (n = this.y, i = this.z, a = Vl(256 * (r = this.x), 256 * (n = Math.pow(2, i) - n - 1), i), o = Vl(256 * (r + 1), 256 * (n + 1), i), a[0] + "," + a[1] + "," + o[0] + "," + o[1]),
                u = function(t, e, r) {
                    for (var n, i = "", a = t; a > 0; a--) i += (e & (n = 1 << a - 1) ? 1 : 0) + (r & n ? 2 : 0);
                    return i
                }(this.z, this.x, this.y);
            return t[(this.x + this.y) % t.length].replace("{prefix}", (this.x % 16).toString(16) + (this.y % 16).toString(16)).replace("{z}", String(this.z)).replace("{x}", String(this.x)).replace("{y}", String("tms" === e ? Math.pow(2, this.z) - this.y - 1 : this.y)).replace("{quadkey}", u).replace("{bbox-epsg-3857}", s)
        }, Kl.prototype.getTilePoint = function(t) {
            var e = Math.pow(2, this.z);
            return new i(8192 * (t.x * e - this.x), 8192 * (t.y * e - this.y))
        }, Kl.prototype.toString = function() {
            return this.z + "/" + this.x + "/" + this.y
        };
        var Gl = function(t, e) {
                this.wrap = t, this.canonical = e, this.key = Xl(t, e.z, e.z, e.x, e.y);
            },
            Zl = function(t, e, r, n, i) {
                this.overscaledZ = t, this.wrap = e, this.canonical = new Kl(r, +n, +i), this.key = Xl(e, t, r, n, i);
            };

        function Xl(t, e, r, n, i) {
            (t *= 2) < 0 && (t = -1 * t - 1);
            var a = 1 << r;
            return (a * a * t + a * i + n).toString(36) + r.toString(36) + e.toString(36)
        }
        Zl.prototype.equals = function(t) {
            return this.overscaledZ === t.overscaledZ && this.wrap === t.wrap && this.canonical.equals(t.canonical)
        }, Zl.prototype.scaledTo = function(t) {
            var e = this.canonical.z - t;
            return t > this.canonical.z ? new Zl(t, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y) : new Zl(t, this.wrap, t, this.canonical.x >> e, this.canonical.y >> e)
        }, Zl.prototype.calculateScaledKey = function(t, e) {
            var r = this.canonical.z - t;
            return t > this.canonical.z ? Xl(this.wrap * +e, t, this.canonical.z, this.canonical.x, this.canonical.y) : Xl(this.wrap * +e, t, t, this.canonical.x >> r, this.canonical.y >> r)
        }, Zl.prototype.isChildOf = function(t) {
            if (t.wrap !== this.wrap) return !1;
            var e = this.canonical.z - t.canonical.z;
            return 0 === t.overscaledZ || t.overscaledZ < this.overscaledZ && t.canonical.x === this.canonical.x >> e && t.canonical.y === this.canonical.y >> e
        }, Zl.prototype.children = function(t) {
            if (this.overscaledZ >= t) return [new Zl(this.overscaledZ + 1, this.wrap, this.canonical.z, this.canonical.x, this.canonical.y)];
            var e = this.canonical.z + 1,
                r = 2 * this.canonical.x,
                n = 2 * this.canonical.y;
            return [new Zl(e, this.wrap, e, r, n), new Zl(e, this.wrap, e, r + 1, n), new Zl(e, this.wrap, e, r, n + 1), new Zl(e, this.wrap, e, r + 1, n + 1)]
        }, Zl.prototype.isLessThan = function(t) {
            return this.wrap < t.wrap || !(this.wrap > t.wrap) && (this.overscaledZ < t.overscaledZ || !(this.overscaledZ > t.overscaledZ) && (this.canonical.x < t.canonical.x || !(this.canonical.x > t.canonical.x) && this.canonical.y < t.canonical.y))
        }, Zl.prototype.wrapped = function() {
            return new Zl(this.overscaledZ, 0, this.canonical.z, this.canonical.x, this.canonical.y)
        }, Zl.prototype.unwrapTo = function(t) {
            return new Zl(this.overscaledZ, t, this.canonical.z, this.canonical.x, this.canonical.y)
        }, Zl.prototype.overscaleFactor = function() {
            return Math.pow(2, this.overscaledZ - this.canonical.z)
        }, Zl.prototype.toUnwrapped = function() {
            return new Gl(this.wrap, this.canonical)
        }, Zl.prototype.toString = function() {
            return this.overscaledZ + "/" + this.canonical.x + "/" + this.canonical.y
        }, Zl.prototype.getTilePoint = function(t) {
            return this.canonical.getTilePoint(new Nl(t.x - this.wrap, t.y))
        }, Ln("CanonicalTileID", Kl), Ln("OverscaledTileID", Zl, {
            omit: ["posMatrix"]
        });
        var Jl = function(t, e, r) {
            if (this.uid = t, e.height !== e.width) throw new RangeError("DEM tiles must be square");
            if (r && "mapbox" !== r && "terrarium" !== r) return A('"' + r + '" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');
            this.stride = e.height;
            var n = this.dim = e.height - 2;
            this.data = new Uint32Array(e.data.buffer), this.encoding = r || "mapbox";
            for (var i = 0; i < n; i++) this.data[this._idx(-1, i)] = this.data[this._idx(0, i)], this.data[this._idx(n, i)] = this.data[this._idx(n - 1, i)], this.data[this._idx(i, -1)] = this.data[this._idx(i, 0)], this.data[this._idx(i, n)] = this.data[this._idx(i, n - 1)];
            this.data[this._idx(-1, -1)] = this.data[this._idx(0, 0)], this.data[this._idx(n, -1)] = this.data[this._idx(n - 1, 0)], this.data[this._idx(-1, n)] = this.data[this._idx(0, n - 1)], this.data[this._idx(n, n)] = this.data[this._idx(n - 1, n - 1)];
        };
        Jl.prototype.get = function(t, e) {
            var r = new Uint8Array(this.data.buffer),
                n = 4 * this._idx(t, e);
            return ("terrarium" === this.encoding ? this._unpackTerrarium : this._unpackMapbox)(r[n], r[n + 1], r[n + 2])
        }, Jl.prototype.getUnpackVector = function() {
            return "terrarium" === this.encoding ? [256, 1, 1 / 256, 32768] : [6553.6, 25.6, .1, 1e4]
        }, Jl.prototype._idx = function(t, e) {
            if (t < -1 || t >= this.dim + 1 || e < -1 || e >= this.dim + 1) throw new RangeError("out of range source coordinates for DEM data");
            return (e + 1) * this.stride + (t + 1)
        }, Jl.prototype._unpackMapbox = function(t, e, r) {
            return (256 * t * 256 + 256 * e + r) / 10 - 1e4
        }, Jl.prototype._unpackTerrarium = function(t, e, r) {
            return 256 * t + e + r / 256 - 32768
        }, Jl.prototype.getPixels = function() {
            return new vo({
                width: this.stride,
                height: this.stride
            }, new Uint8Array(this.data.buffer))
        }, Jl.prototype.backfillBorder = function(t, e, r) {
            if (this.dim !== t.dim) throw new Error("dem dimension mismatch");
            var n = e * this.dim,
                i = e * this.dim + this.dim,
                a = r * this.dim,
                o = r * this.dim + this.dim;
            switch (e) {
                case -1:
                    n = i - 1;
                    break;
                case 1:
                    i = n + 1;
            }
            switch (r) {
                case -1:
                    a = o - 1;
                    break;
                case 1:
                    o = a + 1;
            }
            for (var s = -e * this.dim, u = -r * this.dim, l = a; l < o; l++)
                for (var p = n; p < i; p++) this.data[this._idx(p, l)] = t.data[this._idx(p + s, l + u)];
        }, Ln("DEMData", Jl);
        var Hl = function(t) {
            this._stringToNumber = {}, this._numberToString = [];
            for (var e = 0; e < t.length; e++) {
                var r = t[e];
                this._stringToNumber[r] = e, this._numberToString[e] = r;
            }
        };
        Hl.prototype.encode = function(t) {
            return this._stringToNumber[t]
        }, Hl.prototype.decode = function(t) {
            return this._numberToString[t]
        };
        var Yl = function(t, e, r, n, i) {
                this.type = "Feature", this._vectorTileFeature = t, t._z = e, t._x = r, t._y = n, this.properties = t.properties, this.id = i;
            },
            $l = {
                geometry: {
                    configurable: !0
                }
            };
        $l.geometry.get = function() {
            return void 0 === this._geometry && (this._geometry = this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x, this._vectorTileFeature._y, this._vectorTileFeature._z).geometry), this._geometry
        }, $l.geometry.set = function(t) {
            this._geometry = t;
        }, Yl.prototype.toJSON = function() {
            var t = {
                geometry: this.geometry
            };
            for (var e in this) "_geometry" !== e && "_vectorTileFeature" !== e && (t[e] = this[e]);
            return t
        }, Object.defineProperties(Yl.prototype, $l);
        var Wl = function() {
            this.state = {}, this.stateChanges = {}, this.deletedStates = {};
        };
        Wl.prototype.updateState = function(t, e, r) {
            var n = String(e);
            if (this.stateChanges[t] = this.stateChanges[t] || {}, this.stateChanges[t][n] = this.stateChanges[t][n] || {}, h(this.stateChanges[t][n], r), null === this.deletedStates[t])
                for (var i in this.deletedStates[t] = {}, this.state[t]) i !== n && (this.deletedStates[t][i] = null);
            else if (this.deletedStates[t] && null === this.deletedStates[t][n])
                for (var a in this.deletedStates[t][n] = {}, this.state[t][n]) r[a] || (this.deletedStates[t][n][a] = null);
            else
                for (var o in r) this.deletedStates[t] && this.deletedStates[t][n] && null === this.deletedStates[t][n][o] && delete this.deletedStates[t][n][o];
        }, Wl.prototype.removeFeatureState = function(t, e, r) {
            if (null !== this.deletedStates[t]) {
                var n = String(e);
                if (this.deletedStates[t] = this.deletedStates[t] || {}, r && void 0 !== e) null !== this.deletedStates[t][n] && (this.deletedStates[t][n] = this.deletedStates[t][n] || {}, this.deletedStates[t][n][r] = null);
                else if (void 0 !== e)
                    if (this.stateChanges[t] && this.stateChanges[t][n])
                        for (r in this.deletedStates[t][n] = {}, this.stateChanges[t][n]) this.deletedStates[t][n][r] = null;
                    else this.deletedStates[t][n] = null;
                else this.deletedStates[t] = null;
            }
        }, Wl.prototype.getState = function(t, e) {
            var r = String(e),
                n = h({}, (this.state[t] || {})[r], (this.stateChanges[t] || {})[r]);
            if (null === this.deletedStates[t]) return {};
            if (this.deletedStates[t]) {
                var i = this.deletedStates[t][e];
                if (null === i) return {};
                for (var a in i) delete n[a];
            }
            return n
        }, Wl.prototype.initializeTileState = function(t, e) {
            t.setFeatureState(this.state, e);
        }, Wl.prototype.coalesceChanges = function(t, e) {
            var r = {};
            for (var n in this.stateChanges) {
                this.state[n] = this.state[n] || {};
                var i = {};
                for (var a in this.stateChanges[n]) this.state[n][a] || (this.state[n][a] = {}), h(this.state[n][a], this.stateChanges[n][a]), i[a] = this.state[n][a];
                r[n] = i;
            }
            for (var o in this.deletedStates) {
                this.state[o] = this.state[o] || {};
                var s = {};
                if (null === this.deletedStates[o])
                    for (var u in this.state[o]) s[u] = {}, this.state[o][u] = {};
                else
                    for (var l in this.deletedStates[o]) {
                        if (null === this.deletedStates[o][l]) this.state[o][l] = {};
                        else
                            for (var p = 0, c = Object.keys(this.deletedStates[o][l]); p < c.length; p += 1) delete this.state[o][l][c[p]];
                        s[l] = this.state[o][l];
                    }
                r[o] = r[o] || {}, h(r[o], s);
            }
            if (this.stateChanges = {}, this.deletedStates = {}, 0 !== Object.keys(r).length)
                for (var f in t) t[f].setFeatureState(r, e);
        };
        var Ql = function(t, e) {
            this.tileID = t, this.x = t.canonical.x, this.y = t.canonical.y, this.z = t.canonical.z, this.grid = new Bn(8192, 16, 0), this.grid3D = new Bn(8192, 16, 0), this.featureIndexArray = new ia, this.promoteId = e;
        };

        function tp(t, e, r, n, i) {
            return x(t, (function(t, a) {
                var o = e instanceof yi ? e.get(a) : null;
                return o && o.evaluate ? o.evaluate(r, n, i) : o
            }))
        }

        function ep(t) {
            for (var e = 1 / 0, r = 1 / 0, n = -1 / 0, i = -1 / 0, a = 0, o = t; a < o.length; a += 1) {
                var s = o[a];
                e = Math.min(e, s.x), r = Math.min(r, s.y), n = Math.max(n, s.x), i = Math.max(i, s.y);
            }
            return {
                minX: e,
                minY: r,
                maxX: n,
                maxY: i
            }
        }

        function rp(t, e) {
            return e - t
        }
        Ql.prototype.insert = function(t, e, r, n, i, a) {
            var o = this.featureIndexArray.length;
            this.featureIndexArray.emplaceBack(r, n, i);
            for (var s = a ? this.grid3D : this.grid, u = 0; u < e.length; u++) {
                for (var l = e[u], p = [1 / 0, 1 / 0, -1 / 0, -1 / 0], c = 0; c < l.length; c++) {
                    var h = l[c];
                    p[0] = Math.min(p[0], h.x), p[1] = Math.min(p[1], h.y), p[2] = Math.max(p[2], h.x), p[3] = Math.max(p[3], h.y);
                }
                p[0] < 8192 && p[1] < 8192 && p[2] >= 0 && p[3] >= 0 && s.insert(o, p[0], p[1], p[2], p[3]);
            }
        }, Ql.prototype.loadVTLayers = function() {
            return this.vtLayers || (this.vtLayers = new gs.VectorTile(new Js(this.rawTileData)).layers, this.sourceLayerCoder = new Hl(this.vtLayers ? Object.keys(this.vtLayers).sort() : ["_geojsonTileLayer"])), this.vtLayers
        }, Ql.prototype.query = function(t, e, r, n) {
            var a = this;
            this.loadVTLayers();
            for (var o = t.params || {}, s = 8192 / t.tileSize / t.scale, u = an(o.filter), l = t.queryGeometry, p = t.queryPadding * s, c = ep(l), h = this.grid.query(c.minX - p, c.minY - p, c.maxX + p, c.maxY + p), f = ep(t.cameraQueryGeometry), y = this.grid3D.query(f.minX - p, f.minY - p, f.maxX + p, f.maxY + p, (function(e, r, n, a) {
                    return function(t, e, r, n, a) {
                        for (var o = 0, s = t; o < s.length; o += 1) {
                            var u = s[o];
                            if (e <= u.x && r <= u.y && n >= u.x && a >= u.y) return !0
                        }
                        var l = [new i(e, r), new i(e, a), new i(n, a), new i(n, r)];
                        if (t.length > 2)
                            for (var p = 0, c = l; p < c.length; p += 1)
                                if (Ya(t, c[p])) return !0;
                        for (var h = 0; h < t.length - 1; h++)
                            if ($a(t[h], t[h + 1], l)) return !0;
                        return !1
                    }(t.cameraQueryGeometry, e - p, r - p, n + p, a + p)
                })), d = 0, m = y; d < m.length; d += 1) h.push(m[d]);
            h.sort(rp);
            for (var v, g = {}, x = function(i) {
                    var p = h[i];
                    if (p !== v) {
                        v = p;
                        var c = a.featureIndexArray.get(p),
                            f = null;
                        a.loadMatchingFeature(g, c.bucketIndex, c.sourceLayerIndex, c.featureIndex, u, o.layers, o.availableImages, e, r, n, (function(e, r, n) {
                            return f || (f = Ra(e)), r.queryIntersectsFeature(l, e, n, f, a.z, t.transform, s, t.pixelPosMatrix)
                        }));
                    }
                }, b = 0; b < h.length; b++) x(b);
            return g
        }, Ql.prototype.loadMatchingFeature = function(t, e, r, n, i, a, o, s, u, l, p) {
            var c = this.bucketLayerIDs[e];
            if (!a || function(t, e) {
                    for (var r = 0; r < t.length; r++)
                        if (e.indexOf(t[r]) >= 0) return !0;
                    return !1
                }(a, c)) {
                var h = this.sourceLayerCoder.decode(r),
                    f = this.vtLayers[h].feature(n);
                if (i.filter(new oi(this.tileID.overscaledZ), f))
                    for (var y = this.getId(f, h), d = 0; d < c.length; d++) {
                        var m = c[d];
                        if (!(a && a.indexOf(m) < 0)) {
                            var v = s[m];
                            if (v) {
                                var g = {};
                                void 0 !== y && l && (g = l.getState(v.sourceLayer || "_geojsonTileLayer", y));
                                var x = u[m];
                                x.paint = tp(x.paint, v.paint, f, g, o), x.layout = tp(x.layout, v.layout, f, g, o);
                                var b = !p || p(f, v, g);
                                if (b) {
                                    var w = new Yl(f, this.z, this.x, this.y, y);
                                    w.layer = x;
                                    var _ = t[m];
                                    void 0 === _ && (_ = t[m] = []), _.push({
                                        featureIndex: n,
                                        feature: w,
                                        intersectionZ: b
                                    });
                                }
                            }
                        }
                    }
            }
        }, Ql.prototype.lookupSymbolFeatures = function(t, e, r, n, i, a, o, s) {
            var u = {};
            this.loadVTLayers();
            for (var l = an(i), p = 0, c = t; p < c.length; p += 1) this.loadMatchingFeature(u, r, n, c[p], l, a, o, s, e);
            return u
        }, Ql.prototype.hasLayer = function(t) {
            for (var e = 0, r = this.bucketLayerIDs; e < r.length; e += 1)
                for (var n = 0, i = r[e]; n < i.length; n += 1)
                    if (t === i[n]) return !0;
            return !1
        }, Ql.prototype.getId = function(t, e) {
            var r = t.id;
            return this.promoteId && "boolean" == typeof(r = t.properties["string" == typeof this.promoteId ? this.promoteId : this.promoteId[e]]) && (r = Number(r)), r
        }, Ln("FeatureIndex", Ql, {
            omit: ["rawTileData", "sourceLayerCoder"]
        });
        var np = function(t, e) {
            this.tileID = t, this.uid = y(), this.uses = 0, this.tileSize = e, this.buckets = {}, this.expirationTime = null, this.queryPadding = 0, this.hasSymbolBuckets = !1, this.hasRTLText = !1, this.dependencies = {}, this.expiredRequestCount = 0, this.state = "loading";
        };
        np.prototype.registerFadeDuration = function(t) {
            var e = t + this.timeAdded;
            e < R.now() || this.fadeEndTime && e < this.fadeEndTime || (this.fadeEndTime = e);
        }, np.prototype.wasRequested = function() {
            return "errored" === this.state || "loaded" === this.state || "reloading" === this.state
        }, np.prototype.loadVectorData = function(t, e, r) {
            if (this.hasData() && this.unloadVectorData(), this.state = "loaded", t) {
                for (var n in t.featureIndex && (this.latestFeatureIndex = t.featureIndex, t.rawTileData ? (this.latestRawTileData = t.rawTileData, this.latestFeatureIndex.rawTileData = t.rawTileData) : this.latestRawTileData && (this.latestFeatureIndex.rawTileData = this.latestRawTileData)), this.collisionBoxArray = t.collisionBoxArray, this.buckets = function(t, e) {
                        var r = {};
                        if (!e) return r;
                        for (var n = function() {
                                var t = a[i],
                                    n = t.layerIds.map((function(t) {
                                        return e.getLayer(t)
                                    })).filter(Boolean);
                                if (0 !== n.length) {
                                    t.layers = n, t.stateDependentLayerIds && (t.stateDependentLayers = t.stateDependentLayerIds.map((function(t) {
                                        return n.filter((function(e) {
                                            return e.id === t
                                        }))[0]
                                    })));
                                    for (var o = 0, s = n; o < s.length; o += 1) r[s[o].id] = t;
                                }
                            }, i = 0, a = t; i < a.length; i += 1) n();
                        return r
                    }(t.buckets, e.style), this.hasSymbolBuckets = !1, this.buckets) {
                    var i = this.buckets[n];
                    if (i instanceof dl) {
                        if (this.hasSymbolBuckets = !0, !r) break;
                        i.justReloaded = !0;
                    }
                }
                if (this.hasRTLText = !1, this.hasSymbolBuckets)
                    for (var a in this.buckets) {
                        var o = this.buckets[a];
                        if (o instanceof dl && o.hasRTLText) {
                            this.hasRTLText = !0, ai.isLoading() || ai.isLoaded() || "deferred" !== ni() || ii();
                            break
                        }
                    }
                for (var s in this.queryPadding = 0, this.buckets) {
                    var u = this.buckets[s];
                    this.queryPadding = Math.max(this.queryPadding, e.style.getLayer(s).queryRadius(u));
                }
                t.imageAtlas && (this.imageAtlas = t.imageAtlas), t.glyphAtlasImage && (this.glyphAtlasImage = t.glyphAtlasImage);
            } else this.collisionBoxArray = new Yi;
        }, np.prototype.unloadVectorData = function() {
            for (var t in this.buckets) this.buckets[t].destroy();
            this.buckets = {}, this.imageAtlasTexture && this.imageAtlasTexture.destroy(), this.imageAtlas && (this.imageAtlas = null), this.glyphAtlasTexture && this.glyphAtlasTexture.destroy(), this.latestFeatureIndex = null, this.state = "unloaded";
        }, np.prototype.getBucket = function(t) {
            return this.buckets[t.id]
        }, np.prototype.upload = function(t) {
            for (var e in this.buckets) {
                var r = this.buckets[e];
                r.uploadPending() && r.upload(t);
            }
            var n = t.gl;
            this.imageAtlas && !this.imageAtlas.uploaded && (this.imageAtlasTexture = new Ml(t, this.imageAtlas.image, n.RGBA), this.imageAtlas.uploaded = !0), this.glyphAtlasImage && (this.glyphAtlasTexture = new Ml(t, this.glyphAtlasImage, n.ALPHA), this.glyphAtlasImage = null);
        }, np.prototype.prepare = function(t) {
            this.imageAtlas && this.imageAtlas.patchUpdatedImages(t, this.imageAtlasTexture);
        }, np.prototype.queryRenderedFeatures = function(t, e, r, n, i, a, o, s, u, l) {
            return this.latestFeatureIndex && this.latestFeatureIndex.rawTileData ? this.latestFeatureIndex.query({
                queryGeometry: n,
                cameraQueryGeometry: i,
                scale: a,
                tileSize: this.tileSize,
                pixelPosMatrix: l,
                transform: s,
                params: o,
                queryPadding: this.queryPadding * u
            }, t, e, r) : {}
        }, np.prototype.querySourceFeatures = function(t, e) {
            var r = this.latestFeatureIndex;
            if (r && r.rawTileData) {
                var n = r.loadVTLayers(),
                    i = e ? e.sourceLayer : "",
                    a = n._geojsonTileLayer || n[i];
                if (a)
                    for (var o = an(e && e.filter), s = this.tileID.canonical, u = s.z, l = s.x, p = s.y, c = {
                            z: u,
                            x: l,
                            y: p
                        }, h = 0; h < a.length; h++) {
                        var f = a.feature(h);
                        if (o.filter(new oi(this.tileID.overscaledZ), f)) {
                            var y = r.getId(f, i),
                                d = new Yl(f, u, l, p, y);
                            d.tile = c, t.push(d);
                        }
                    }
            }
        }, np.prototype.hasData = function() {
            return "loaded" === this.state || "reloading" === this.state || "expired" === this.state
        }, np.prototype.patternsLoaded = function() {
            return this.imageAtlas && !!Object.keys(this.imageAtlas.patternPositions).length
        }, np.prototype.setExpiryData = function(t) {
            var e = this.expirationTime;
            if (t.cacheControl) {
                var r = z(t.cacheControl);
                r["max-age"] && (this.expirationTime = Date.now() + 1e3 * r["max-age"]);
            } else t.expires && (this.expirationTime = new Date(t.expires).getTime());
            if (this.expirationTime) {
                var n = Date.now(),
                    i = !1;
                if (this.expirationTime > n) i = !1;
                else if (e)
                    if (this.expirationTime < e) i = !0;
                    else {
                        var a = this.expirationTime - e;
                        a ? this.expirationTime = n + Math.max(a, 3e4) : i = !0;
                    }
                else i = !0;
                i ? (this.expiredRequestCount++, this.state = "expired") : this.expiredRequestCount = 0;
            }
        }, np.prototype.getExpiryTimeout = function() {
            if (this.expirationTime) return this.expiredRequestCount ? 1e3 * (1 << Math.min(this.expiredRequestCount - 1, 31)) : Math.min(this.expirationTime - (new Date).getTime(), Math.pow(2, 31) - 1)
        }, np.prototype.setFeatureState = function(t, e) {
            if (this.latestFeatureIndex && this.latestFeatureIndex.rawTileData && 0 !== Object.keys(t).length) {
                var r = this.latestFeatureIndex.loadVTLayers();
                for (var n in this.buckets)
                    if (e.style.hasLayer(n)) {
                        var i = this.buckets[n],
                            a = i.layers[0].sourceLayer || "_geojsonTileLayer",
                            o = r[a],
                            s = t[a];
                        if (o && s && 0 !== Object.keys(s).length) {
                            i.update(s, o, this.imageAtlas && this.imageAtlas.patternPositions || {});
                            var u = e && e.style && e.style.getLayer(n);
                            u && (this.queryPadding = Math.max(this.queryPadding, u.queryRadius(i)));
                        }
                    }
            }
        }, np.prototype.holdingForFade = function() {
            return void 0 !== this.symbolFadeHoldUntil
        }, np.prototype.symbolFadeFinished = function() {
            return !this.symbolFadeHoldUntil || this.symbolFadeHoldUntil < R.now()
        }, np.prototype.clearFadeHold = function() {
            this.symbolFadeHoldUntil = void 0;
        }, np.prototype.setHoldDuration = function(t) {
            this.symbolFadeHoldUntil = R.now() + t;
        }, np.prototype.setDependencies = function(t, e) {
            for (var r = {}, n = 0, i = e; n < i.length; n += 1) r[i[n]] = !0;
            this.dependencies[t] = r;
        }, np.prototype.hasDependency = function(t, e) {
            for (var r = 0, n = t; r < n.length; r += 1) {
                var i = this.dependencies[n[r]];
                if (i)
                    for (var a = 0, o = e; a < o.length; a += 1)
                        if (i[o[a]]) return !0
            }
            return !1
        };
        var ip = o.performance,
            ap = function(t) {
                this._marks = {
                    start: [t.url, "start"].join("#"),
                    end: [t.url, "end"].join("#"),
                    measure: t.url.toString()
                }, ip.mark(this._marks.start);
            };
        ap.prototype.finish = function() {
            ip.mark(this._marks.end);
            var t = ip.getEntriesByName(this._marks.measure);
            return 0 === t.length && (ip.measure(this._marks.measure, this._marks.start, this._marks.end), t = ip.getEntriesByName(this._marks.measure), ip.clearMarks(this._marks.start), ip.clearMarks(this._marks.end), ip.clearMeasures(this._marks.measure)), t
        }, t.Actor = Tl, t.AlphaImage = mo, t.CanonicalTileID = Kl, t.CollisionBoxArray = Yi, t.Color = Qt, t.DEMData = Jl, t.DataConstantProperty = di, t.DictionaryCoder = Hl, t.EXTENT = 8192, t.ErrorEvent = It, t.EvaluationParameters = oi, t.Event = kt, t.Evented = zt, t.FeatureIndex = Ql, t.FillBucket = as, t.FillExtrusionBucket = _s, t.ImageAtlas = gu, t.ImagePosition = mu, t.LineBucket = Ts, t.LngLat = Dl, t.LngLatBounds = Fl, t.MercatorCoordinate = Nl, t.ONE_EM = 24, t.OverscaledTileID = Zl, t.Point = i, t.Point$1 = i, t.Properties = bi, t.Protobuf = Js, t.RGBAImage = vo, t.RequestManager = G, t.RequestPerformance = ap, t.ResourceType = yt, t.SegmentVector = oa, t.SourceFeatureState = Wl, t.StructArrayLayout1ui2 = Xi, t.StructArrayLayout2f1f2i16 = Ri, t.StructArrayLayout2i4 = zi, t.StructArrayLayout3ui6 = Ui, t.StructArrayLayout4i8 = Ci, t.SymbolBucket = dl, t.Texture = Ml, t.Tile = np, t.Transitionable = li, t.Uniform1f = xa, t.Uniform1i = ga, t.Uniform2f = ba, t.Uniform3f = wa, t.Uniform4f = _a, t.UniformColor = Aa, t.UniformMatrix4f = ka, t.UnwrappedTileID = Gl, t.ValidationError = Et, t.WritingMode = xu, t.ZoomHistory = Nn, t.add = function(t, e, r) {
            return t[0] = e[0] + r[0], t[1] = e[1] + r[1], t[2] = e[2] + r[2], t
        }, t.addDynamicAttributes = cl, t.asyncAll = function(t, e, r) {
            if (!t.length) return r(null, []);
            var n = t.length,
                i = new Array(t.length),
                a = null;
            t.forEach((function(t, o) {
                e(t, (function(t, e) {
                    t && (a = t), i[o] = e, 0 == --n && r(a, i);
                }));
            }));
        }, t.bezier = u, t.bindAll = v, t.browser = R, t.cacheEntryPossiblyAdded = function(t) {
            ++ht > ut && (t.getActor().send("enforceCacheSizeLimit", st), ht = 0);
        }, t.clamp = p, t.clearTileCache = function(t) {
            var e = o.caches.delete("mapbox-tiles");
            t && e.catch(t).then((function() {
                return t()
            }));
        }, t.clipLine = Ku, t.clone = function(t) {
            var e = new no(16);
            return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], e
        }, t.clone$1 = w, t.clone$2 = function(t) {
            var e = new no(3);
            return e[0] = t[0], e[1] = t[1], e[2] = t[2], e
        }, t.collisionCircleLayout = Ns, t.config = O, t.create = function() {
            var t = new no(16);
            return no != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0), t[0] = 1, t[5] = 1, t[10] = 1, t[15] = 1, t
        }, t.create$1 = function() {
            var t = new no(9);
            return no != Float32Array && (t[1] = 0, t[2] = 0, t[3] = 0, t[5] = 0, t[6] = 0, t[7] = 0), t[0] = 1, t[4] = 1, t[8] = 1, t
        }, t.create$2 = function() {
            var t = new no(4);
            return no != Float32Array && (t[1] = 0, t[2] = 0), t[0] = 1, t[3] = 1, t
        }, t.createCommonjsModule = e, t.createExpression = Gr, t.createLayout = ki, t.createStyleLayer = function(t) {
            return "custom" === t.type ? new Sl(t) : new kl[t.type](t)
        }, t.cross = function(t, e, r) {
            var n = e[0],
                i = e[1],
                a = e[2],
                o = r[0],
                s = r[1],
                u = r[2];
            return t[0] = i * u - a * s, t[1] = a * o - n * u, t[2] = n * s - i * o, t
        }, t.deepEqual = function t(e, r) {
            if (Array.isArray(e)) {
                if (!Array.isArray(r) || e.length !== r.length) return !1;
                for (var n = 0; n < e.length; n++)
                    if (!t(e[n], r[n])) return !1;
                return !0
            }
            if ("object" == typeof e && null !== e && null !== r) {
                if ("object" != typeof r) return !1;
                if (Object.keys(e).length !== Object.keys(r).length) return !1;
                for (var i in e)
                    if (!t(e[i], r[i])) return !1;
                return !0
            }
            return e === r
        }, t.dot = function(t, e) {
            return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
        }, t.dot$1 = function(t, e) {
            return t[0] * e[0] + t[1] * e[1] + t[2] * e[2] + t[3] * e[3]
        }, t.ease = l, t.emitValidationErrors = Mn, t.endsWith = g, t.enforceCacheSizeLimit = function(t) {
            lt(), tt && tt.then((function(e) {
                e.keys().then((function(r) {
                    for (var n = 0; n < r.length - t; n++) e.delete(r[n]);
                }));
            }));
        }, t.evaluateSizeForFeature = Fu, t.evaluateSizeForZoom = Du, t.evaluateVariableOffset = nl, t.evented = ri, t.extend = h, t.featureFilter = an, t.filterObject = b, t.fromRotation = function(t, e) {
            var r = Math.sin(e),
                n = Math.cos(e);
            return t[0] = n, t[1] = r, t[2] = 0, t[3] = -r, t[4] = n, t[5] = 0, t[6] = 0, t[7] = 0, t[8] = 1, t
        }, t.getAnchorAlignment = Pu, t.getAnchorJustification = il, t.getArrayBuffer = bt, t.getImage = _t, t.getJSON = function(t, e) {
            return xt(h(t, {
                type: "json"
            }), e)
        }, t.getRTLTextPluginStatus = ni, t.getReferrer = mt, t.getVideo = function(t, e) {
            var r, n, i = o.document.createElement("video");
            i.muted = !0, i.onloadstart = function() {
                e(null, i);
            };
            for (var a = 0; a < t.length; a++) {
                var s = o.document.createElement("source");
                r = t[a], n = void 0, (n = o.document.createElement("a")).href = r, (n.protocol !== o.document.location.protocol || n.host !== o.document.location.host) && (i.crossOrigin = "Anonymous"), s.src = t[a], i.appendChild(s);
            }
            return {
                cancel: function() {}
            }
        }, t.identity = io, t.invert = function(t, e) {
            var r = e[0],
                n = e[1],
                i = e[2],
                a = e[3],
                o = e[4],
                s = e[5],
                u = e[6],
                l = e[7],
                p = e[8],
                c = e[9],
                h = e[10],
                f = e[11],
                y = e[12],
                d = e[13],
                m = e[14],
                v = e[15],
                g = r * s - n * o,
                x = r * u - i * o,
                b = r * l - a * o,
                w = n * u - i * s,
                _ = n * l - a * s,
                A = i * l - a * u,
                S = p * d - c * y,
                k = p * m - h * y,
                I = p * v - f * y,
                z = c * m - h * d,
                C = c * v - f * d,
                E = h * v - f * m,
                P = g * E - x * C + b * z + w * I - _ * k + A * S;
            return P ? (t[0] = (s * E - u * C + l * z) * (P = 1 / P), t[1] = (i * C - n * E - a * z) * P, t[2] = (d * A - m * _ + v * w) * P, t[3] = (h * _ - c * A - f * w) * P, t[4] = (u * I - o * E - l * k) * P, t[5] = (r * E - i * I + a * k) * P, t[6] = (m * b - y * A - v * x) * P, t[7] = (p * A - h * b + f * x) * P, t[8] = (o * C - s * I + l * S) * P, t[9] = (n * I - r * C - a * S) * P, t[10] = (y * _ - d * b + v * g) * P, t[11] = (c * b - p * _ - f * g) * P, t[12] = (s * k - o * z - u * S) * P, t[13] = (r * z - n * k + i * S) * P, t[14] = (d * x - y * w - m * g) * P, t[15] = (p * w - c * x + h * g) * P, t) : null
        }, t.isChar = Kn, t.isMapboxURL = Z, t.keysDifference = function(t, e) {
            var r = [];
            for (var n in t) n in e || r.push(n);
            return r
        }, t.makeRequest = xt, t.mapObject = x, t.mercatorXfromLng = Ol, t.mercatorYfromLat = Ul, t.mercatorZfromAltitude = jl, t.mul = so, t.multiply = ao, t.mvt = gs, t.nextPowerOfTwo = function(t) {
            return t <= 1 ? 1 : Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
        }, t.normalize = function(t, e) {
            var r = e[0],
                n = e[1],
                i = e[2],
                a = r * r + n * n + i * i;
            return a > 0 && (a = 1 / Math.sqrt(a)), t[0] = e[0] * a, t[1] = e[1] * a, t[2] = e[2] * a, t
        }, t.number = Ne, t.offscreenCanvasSupported = ft, t.ortho = function(t, e, r, n, i, a, o) {
            var s = 1 / (e - r),
                u = 1 / (n - i),
                l = 1 / (a - o);
            return t[0] = -2 * s, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = -2 * u, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[10] = 2 * l, t[11] = 0, t[12] = (e + r) * s, t[13] = (i + n) * u, t[14] = (o + a) * l, t[15] = 1, t
        }, t.parseGlyphPBF = function(t) {
            return new Js(t).readFields(hu, [])
        }, t.pbf = Js, t.performSymbolLayout = function(t, e, r, n, i, a, o) {
            t.createArrays(), t.tilePixelRatio = 8192 / (512 * t.overscaling), t.compareText = {}, t.iconsNeedLinear = !1;
            var s = t.layers[0].layout,
                u = t.layers[0]._unevaluatedLayout._values,
                l = {};
            if ("composite" === t.textSizeData.kind) {
                var p = t.textSizeData,
                    c = p.maxZoom;
                l.compositeTextSizes = [u["text-size"].possiblyEvaluate(new oi(p.minZoom), o), u["text-size"].possiblyEvaluate(new oi(c), o)];
            }
            if ("composite" === t.iconSizeData.kind) {
                var h = t.iconSizeData,
                    f = h.maxZoom;
                l.compositeIconSizes = [u["icon-size"].possiblyEvaluate(new oi(h.minZoom), o), u["icon-size"].possiblyEvaluate(new oi(f), o)];
            }
            l.layoutTextSize = u["text-size"].possiblyEvaluate(new oi(t.zoom + 1), o), l.layoutIconSize = u["icon-size"].possiblyEvaluate(new oi(t.zoom + 1), o), l.textMaxSize = u["text-size"].possiblyEvaluate(new oi(18));
            for (var y = 24 * s.get("text-line-height"), d = "map" === s.get("text-rotation-alignment") && "point" !== s.get("symbol-placement"), m = s.get("text-keep-upright"), v = s.get("text-size"), g = function() {
                    var a = b[x],
                        u = s.get("text-font").evaluate(a, {}, o).join(","),
                        p = v.evaluate(a, {}, o),
                        c = l.layoutTextSize.evaluate(a, {}, o),
                        h = l.layoutIconSize.evaluate(a, {}, o),
                        f = {
                            horizontal: {},
                            vertical: void 0
                        },
                        g = a.text,
                        w = [0, 0];
                    if (g) {
                        var _ = g.toString(),
                            S = 24 * s.get("text-letter-spacing").evaluate(a, {}, o),
                            k = function(t) {
                                for (var e = 0, r = t; e < r.length; e += 1)
                                    if (n = r[e].charCodeAt(0), Kn.Arabic(n) || Kn["Arabic Supplement"](n) || Kn["Arabic Extended-A"](n) || Kn["Arabic Presentation Forms-A"](n) || Kn["Arabic Presentation Forms-B"](n)) return !1;
                                var n;
                                return !0
                            }(_) ? S : 0,
                            I = s.get("text-anchor").evaluate(a, {}, o),
                            z = s.get("text-variable-anchor");
                        if (!z) {
                            var C = s.get("text-radial-offset").evaluate(a, {}, o);
                            w = C ? nl(I, [24 * C, rl]) : s.get("text-offset").evaluate(a, {}, o).map((function(t) {
                                return 24 * t
                            }));
                        }
                        var E = d ? "center" : s.get("text-justify").evaluate(a, {}, o),
                            P = s.get("symbol-placement"),
                            M = "point" === P ? 24 * s.get("text-max-width").evaluate(a, {}, o) : 0,
                            B = function() {
                                t.allowVerticalPlacement && Gn(_) && (f.vertical = _u(g, e, r, i, u, M, y, I, "left", k, w, xu.vertical, !0, P, c, p));
                            };
                        if (!d && z) {
                            for (var T = "auto" === E ? z.map((function(t) {
                                    return il(t)
                                })) : [E], V = !1, F = 0; F < T.length; F++) {
                                var D = T[F];
                                if (!f.horizontal[D])
                                    if (V) f.horizontal[D] = f.horizontal[0];
                                    else {
                                        var L = _u(g, e, r, i, u, M, y, "center", D, k, w, xu.horizontal, !1, P, c, p);
                                        L && (f.horizontal[D] = L, V = 1 === L.positionedLines.length);
                                    }
                            }
                            B();
                        } else {
                            "auto" === E && (E = il(I));
                            var R = _u(g, e, r, i, u, M, y, I, E, k, w, xu.horizontal, !1, P, c, p);
                            R && (f.horizontal[E] = R), B(), Gn(_) && d && m && (f.vertical = _u(g, e, r, i, u, M, y, I, E, k, w, xu.vertical, !1, P, c, p));
                        }
                    }
                    var O = void 0,
                        U = !1;
                    if (a.icon && a.icon.name) {
                        var j = n[a.icon.name];
                        j && (O = function(t, e, r) {
                            var n = Pu(r),
                                i = e[0] - t.displaySize[0] * n.horizontalAlign,
                                a = e[1] - t.displaySize[1] * n.verticalAlign;
                            return {
                                image: t,
                                top: a,
                                bottom: a + t.displaySize[1],
                                left: i,
                                right: i + t.displaySize[0]
                            }
                        }(i[a.icon.name], s.get("icon-offset").evaluate(a, {}, o), s.get("icon-anchor").evaluate(a, {}, o)), U = j.sdf, void 0 === t.sdfIcons ? t.sdfIcons = j.sdf : t.sdfIcons !== j.sdf && A("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"), (j.pixelRatio !== t.pixelRatio || 0 !== s.get("icon-rotate").constantOr(1)) && (t.iconsNeedLinear = !0));
                    }
                    var q = ol(f.horizontal) || f.vertical;
                    t.iconsInText = !!q && q.iconsInText, (q || O) && function(t, e, r, n, i, a, o, s, u, l, p) {
                        var c = a.textMaxSize.evaluate(e, {});
                        void 0 === c && (c = o);
                        var h, f = t.layers[0].layout,
                            y = f.get("icon-offset").evaluate(e, {}, p),
                            d = ol(r.horizontal),
                            m = o / 24,
                            v = t.tilePixelRatio * m,
                            g = t.tilePixelRatio * c / 24,
                            x = t.tilePixelRatio * s,
                            b = t.tilePixelRatio * f.get("symbol-spacing"),
                            w = f.get("text-padding") * t.tilePixelRatio,
                            _ = f.get("icon-padding") * t.tilePixelRatio,
                            S = f.get("text-max-angle") / 180 * Math.PI,
                            k = "map" === f.get("text-rotation-alignment") && "point" !== f.get("symbol-placement"),
                            I = "map" === f.get("icon-rotation-alignment") && "point" !== f.get("symbol-placement"),
                            z = f.get("symbol-placement"),
                            C = b / 2,
                            E = f.get("icon-text-fit");
                        n && "none" !== E && (t.allowVerticalPlacement && r.vertical && (h = Bu(n, r.vertical, E, f.get("icon-text-fit-padding"), y, m)), d && (n = Bu(n, d, E, f.get("icon-text-fit-padding"), y, m)));
                        var P = function(s, c) {
                            c.x < 0 || c.x >= 8192 || c.y < 0 || c.y >= 8192 || function(t, e, r, n, i, a, o, s, u, l, p, c, h, f, y, d, m, v, g, x, b, w, _, S, k) {
                                var I, z, C, E, P, M = t.addToLineVertexArray(e, r),
                                    B = 0,
                                    T = 0,
                                    V = 0,
                                    F = 0,
                                    D = -1,
                                    L = -1,
                                    R = {},
                                    O = ca(""),
                                    U = 0,
                                    j = 0;
                                if (void 0 === s._unevaluatedLayout.getValue("text-radial-offset") ? (U = (I = s.layout.get("text-offset").evaluate(b, {}, S).map((function(t) {
                                        return 24 * t
                                    })))[0], j = I[1]) : (U = 24 * s.layout.get("text-radial-offset").evaluate(b, {}, S), j = rl), t.allowVerticalPlacement && n.vertical) {
                                    var q = s.layout.get("text-rotate").evaluate(b, {}, S) + 90;
                                    E = new Yu(u, e, l, p, c, n.vertical, h, f, y, q), o && (P = new Yu(u, e, l, p, c, o, m, v, y, q));
                                }
                                if (i) {
                                    var N = s.layout.get("icon-rotate").evaluate(b, {}),
                                        K = "none" !== s.layout.get("icon-text-fit"),
                                        G = Gu(i, N, _, K),
                                        Z = o ? Gu(o, N, _, K) : void 0;
                                    C = new Yu(u, e, l, p, c, i, m, v, !1, N), B = 4 * G.length;
                                    var X = t.iconSizeData,
                                        J = null;
                                    "source" === X.kind ? (J = [128 * s.layout.get("icon-size").evaluate(b, {})])[0] > 32640 && A(t.layerIds[0] + ': Value for "icon-size" is >= 255. Reduce your "icon-size".') : "composite" === X.kind && ((J = [128 * w.compositeIconSizes[0].evaluate(b, {}, S), 128 * w.compositeIconSizes[1].evaluate(b, {}, S)])[0] > 32640 || J[1] > 32640) && A(t.layerIds[0] + ': Value for "icon-size" is >= 255. Reduce your "icon-size".'), t.addSymbols(t.icon, G, J, x, g, b, !1, e, M.lineStartIndex, M.lineLength, -1, S), D = t.icon.placedSymbolArray.length - 1, Z && (T = 4 * Z.length, t.addSymbols(t.icon, Z, J, x, g, b, xu.vertical, e, M.lineStartIndex, M.lineLength, -1, S), L = t.icon.placedSymbolArray.length - 1);
                                }
                                for (var H in n.horizontal) {
                                    var Y = n.horizontal[H];
                                    if (!z) {
                                        O = ca(Y.text);
                                        var $ = s.layout.get("text-rotate").evaluate(b, {}, S);
                                        z = new Yu(u, e, l, p, c, Y, h, f, y, $);
                                    }
                                    var W = 1 === Y.positionedLines.length;
                                    if (V += al(t, e, Y, a, s, y, b, d, M, n.vertical ? xu.horizontal : xu.horizontalOnly, W ? Object.keys(n.horizontal) : [H], R, D, w, S), W) break
                                }
                                n.vertical && (F += al(t, e, n.vertical, a, s, y, b, d, M, xu.vertical, ["vertical"], R, L, w, S));
                                var Q = z ? z.boxStartIndex : t.collisionBoxArray.length,
                                    tt = z ? z.boxEndIndex : t.collisionBoxArray.length,
                                    et = E ? E.boxStartIndex : t.collisionBoxArray.length,
                                    rt = E ? E.boxEndIndex : t.collisionBoxArray.length,
                                    nt = C ? C.boxStartIndex : t.collisionBoxArray.length,
                                    it = C ? C.boxEndIndex : t.collisionBoxArray.length,
                                    at = P ? P.boxStartIndex : t.collisionBoxArray.length,
                                    ot = P ? P.boxEndIndex : t.collisionBoxArray.length,
                                    st = -1,
                                    ut = function(t, e) {
                                        return t && t.circleDiameter ? Math.max(t.circleDiameter, e) : e
                                    };
                                st = ut(z, st), st = ut(E, st), st = ut(C, st);
                                var lt = (st = ut(P, st)) > -1 ? 1 : 0;
                                lt && (st *= k / 24), t.glyphOffsetArray.length >= dl.MAX_GLYPHS && A("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"), void 0 !== b.sortKey && t.addToSortKeyRanges(t.symbolInstances.length, b.sortKey), t.symbolInstances.emplaceBack(e.x, e.y, R.right >= 0 ? R.right : -1, R.center >= 0 ? R.center : -1, R.left >= 0 ? R.left : -1, R.vertical || -1, D, L, O, Q, tt, et, rt, nt, it, at, ot, l, V, F, B, T, lt, 0, h, U, j, st);
                            }(t, c, s, r, n, i, h, t.layers[0], t.collisionBoxArray, e.index, e.sourceLayerIndex, t.index, v, w, k, u, x, _, I, y, e, a, l, p, o);
                        };
                        if ("line" === z)
                            for (var M = 0, B = Ku(e.geometry, 0, 0, 8192, 8192); M < B.length; M += 1)
                                for (var T = B[M], V = 0, F = Nu(T, b, S, r.vertical || d, n, 24, g, t.overscaling, 8192); V < F.length; V += 1) {
                                    var D = F[V];
                                    d && sl(t, d.text, C, D) || P(T, D);
                                } else if ("line-center" === z)
                                    for (var L = 0, R = e.geometry; L < R.length; L += 1) {
                                        var O = R[L];
                                        if (O.length > 1) {
                                            var U = qu(O, S, r.vertical || d, n, 24, g);
                                            U && P(O, U);
                                        }
                                    } else if ("Polygon" === e.type)
                                        for (var j = 0, q = es(e.geometry, 0); j < q.length; j += 1) {
                                            var N = q[j],
                                                K = Qu(N, 16);
                                            P(N[0], new Tu(K.x, K.y, 0));
                                        } else if ("LineString" === e.type)
                                            for (var G = 0, Z = e.geometry; G < Z.length; G += 1) {
                                                var X = Z[G];
                                                P(X, new Tu(X[0].x, X[0].y, 0));
                                            } else if ("Point" === e.type)
                                                for (var J = 0, H = e.geometry; J < H.length; J += 1)
                                                    for (var Y = 0, $ = H[J]; Y < $.length; Y += 1) {
                                                        var W = $[Y];
                                                        P([W], new Tu(W.x, W.y, 0));
                                                    }
                    }(t, a, f, O, n, l, c, h, w, U, o);
                }, x = 0, b = t.features; x < b.length; x += 1) g();
            a && t.generateCollisionDebugBuffers();
        }, t.perspective = function(t, e, r, n, i) {
            var a, o = 1 / Math.tan(e / 2);
            return t[0] = o / r, t[1] = 0, t[2] = 0, t[3] = 0, t[4] = 0, t[5] = o, t[6] = 0, t[7] = 0, t[8] = 0, t[9] = 0, t[11] = -1, t[12] = 0, t[13] = 0, t[15] = 0, null != i && i !== 1 / 0 ? (t[10] = (i + n) * (a = 1 / (n - i)), t[14] = 2 * i * n * a) : (t[10] = -1, t[14] = -2 * n), t
        }, t.pick = function(t, e) {
            for (var r = {}, n = 0; n < e.length; n++) {
                var i = e[n];
                i in t && (r[i] = t[i]);
            }
            return r
        }, t.plugin = ai, t.polygonIntersectsPolygon = ja, t.postMapLoadEvent = ot, t.postTurnstileEvent = it, t.potpack = du, t.refProperties = ["type", "source", "source-layer", "minzoom", "maxzoom", "filter", "layout"], t.register = Ln, t.registerForPluginStateChange = function(t) {
            return t({
                pluginStatus: Wn,
                pluginURL: Qn
            }), ri.on("pluginStateChange", t), t
        }, t.renderColorRamp = xo, t.rotate = function(t, e, r) {
            var n = e[0],
                i = e[1],
                a = e[2],
                o = e[3],
                s = Math.sin(r),
                u = Math.cos(r);
            return t[0] = n * u + a * s, t[1] = i * u + o * s, t[2] = n * -s + a * u, t[3] = i * -s + o * u, t
        }, t.rotateX = function(t, e, r) {
            var n = Math.sin(r),
                i = Math.cos(r),
                a = e[4],
                o = e[5],
                s = e[6],
                u = e[7],
                l = e[8],
                p = e[9],
                c = e[10],
                h = e[11];
            return e !== t && (t[0] = e[0], t[1] = e[1], t[2] = e[2], t[3] = e[3], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[4] = a * i + l * n, t[5] = o * i + p * n, t[6] = s * i + c * n, t[7] = u * i + h * n, t[8] = l * i - a * n, t[9] = p * i - o * n, t[10] = c * i - s * n, t[11] = h * i - u * n, t
        }, t.rotateZ = function(t, e, r) {
            var n = Math.sin(r),
                i = Math.cos(r),
                a = e[0],
                o = e[1],
                s = e[2],
                u = e[3],
                l = e[4],
                p = e[5],
                c = e[6],
                h = e[7];
            return e !== t && (t[8] = e[8], t[9] = e[9], t[10] = e[10], t[11] = e[11], t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15]), t[0] = a * i + l * n, t[1] = o * i + p * n, t[2] = s * i + c * n, t[3] = u * i + h * n, t[4] = l * i - a * n, t[5] = p * i - o * n, t[6] = c * i - s * n, t[7] = h * i - u * n, t
        }, t.scale = function(t, e, r) {
            var n = r[0],
                i = r[1],
                a = r[2];
            return t[0] = e[0] * n, t[1] = e[1] * n, t[2] = e[2] * n, t[3] = e[3] * n, t[4] = e[4] * i, t[5] = e[5] * i, t[6] = e[6] * i, t[7] = e[7] * i, t[8] = e[8] * a, t[9] = e[9] * a, t[10] = e[10] * a, t[11] = e[11] * a, t[12] = e[12], t[13] = e[13], t[14] = e[14], t[15] = e[15], t
        }, t.scale$1 = function(t, e, r) {
            return t[0] = e[0] * r, t[1] = e[1] * r, t[2] = e[2] * r, t[3] = e[3] * r, t
        }, t.scale$2 = function(t, e, r) {
            return t[0] = e[0] * r, t[1] = e[1] * r, t[2] = e[2] * r, t
        }, t.setCacheLimits = function(t, e) {
            st = t, ut = e;
        }, t.setRTLTextPlugin = function(t, e, r) {
            if (void 0 === r && (r = !1), "deferred" === Wn || "loading" === Wn || "loaded" === Wn) throw new Error("setRTLTextPlugin cannot be called multiple times.");
            Qn = R.resolveURL(t), Wn = "deferred", $n = e, ei(), r || ii();
        }, t.sphericalToCartesian = function(t) {
            var e = t[0],
                r = t[1],
                n = t[2];
            return r += 90, r *= Math.PI / 180, n *= Math.PI / 180, {
                x: e * Math.cos(r) * Math.sin(n),
                y: e * Math.sin(r) * Math.sin(n),
                z: e * Math.cos(n)
            }
        }, t.sqrLen = function(t) {
            var e = t[0],
                r = t[1];
            return e * e + r * r
        }, t.styleSpec = Ct, t.sub = function(t, e, r) {
            return t[0] = e[0] - r[0], t[1] = e[1] - r[1], t[2] = e[2] - r[2], t
        }, t.symbolSize = Lu, t.transformMat3 = function(t, e, r) {
            var n = e[0],
                i = e[1],
                a = e[2];
            return t[0] = n * r[0] + i * r[3] + a * r[6], t[1] = n * r[1] + i * r[4] + a * r[7], t[2] = n * r[2] + i * r[5] + a * r[8], t
        }, t.transformMat4 = uo, t.translate = function(t, e, r) {
            var n, i, a, o, s, u, l, p, c, h, f, y, d = r[0],
                m = r[1],
                v = r[2];
            return e === t ? (t[12] = e[0] * d + e[4] * m + e[8] * v + e[12], t[13] = e[1] * d + e[5] * m + e[9] * v + e[13], t[14] = e[2] * d + e[6] * m + e[10] * v + e[14], t[15] = e[3] * d + e[7] * m + e[11] * v + e[15]) : (i = e[1], a = e[2], o = e[3], s = e[4], u = e[5], l = e[6], p = e[7], c = e[8], h = e[9], f = e[10], y = e[11], t[0] = n = e[0], t[1] = i, t[2] = a, t[3] = o, t[4] = s, t[5] = u, t[6] = l, t[7] = p, t[8] = c, t[9] = h, t[10] = f, t[11] = y, t[12] = n * d + s * m + c * v + e[12], t[13] = i * d + u * m + h * v + e[13], t[14] = a * d + l * m + f * v + e[14], t[15] = o * d + p * m + y * v + e[15]), t
        }, t.triggerPluginCompletionEvent = ti, t.uniqueId = y, t.validateCustomStyleLayer = function(t) {
            var e = [],
                r = t.id;
            return void 0 === r && e.push({
                message: "layers." + r + ': missing required property "id"'
            }), void 0 === t.render && e.push({
                message: "layers." + r + ': missing required method "render"'
            }), t.renderingMode && "2d" !== t.renderingMode && "3d" !== t.renderingMode && e.push({
                message: "layers." + r + ': property "renderingMode" must be either "2d" or "3d"'
            }), e
        }, t.validateLight = Cn, t.validateStyle = zn, t.values = function(t) {
            var e = [];
            for (var r in t) e.push(t[r]);
            return e
        }, t.vectorTile = gs, t.version = "1.12.0", t.warnOnce = A, t.webpSupported = U, t.window = o, t.wrap = c;
    }));
    define(["./shared"], (function(e) {
        "use strict";

        function t(e) {
            var r = typeof e;
            if ("number" === r || "boolean" === r || "string" === r || null == e) return JSON.stringify(e);
            if (Array.isArray(e)) {
                for (var i = "[", o = 0, n = e; o < n.length; o += 1) i += t(n[o]) + ",";
                return i + "]"
            }
            for (var s = Object.keys(e).sort(), a = "{", l = 0; l < s.length; l++) a += JSON.stringify(s[l]) + ":" + t(e[s[l]]) + ",";
            return a + "}"
        }

        function r(r) {
            for (var i = "", o = 0, n = e.refProperties; o < n.length; o += 1) i += "/" + t(r[n[o]]);
            return i
        }
        var i = function(e) {
            this.keyCache = {}, e && this.replace(e);
        };
        i.prototype.replace = function(e) {
            this._layerConfigs = {}, this._layers = {}, this.update(e, []);
        }, i.prototype.update = function(t, i) {
            for (var o = this, n = 0, s = t; n < s.length; n += 1) {
                var a = s[n];
                this._layerConfigs[a.id] = a;
                var l = this._layers[a.id] = e.createStyleLayer(a);
                l._featureFilter = e.featureFilter(l.filter), this.keyCache[a.id] && delete this.keyCache[a.id];
            }
            for (var u = 0, h = i; u < h.length; u += 1) {
                var c = h[u];
                delete this.keyCache[c], delete this._layerConfigs[c], delete this._layers[c];
            }
            this.familiesBySource = {};
            for (var p = 0, f = function(e, t) {
                    for (var i = {}, o = 0; o < e.length; o++) {
                        var n = t && t[e[o].id] || r(e[o]);
                        t && (t[e[o].id] = n);
                        var s = i[n];
                        s || (s = i[n] = []), s.push(e[o]);
                    }
                    var a = [];
                    for (var l in i) a.push(i[l]);
                    return a
                }(e.values(this._layerConfigs), this.keyCache); p < f.length; p += 1) {
                var d = f[p].map((function(e) {
                        return o._layers[e.id]
                    })),
                    g = d[0];
                if ("none" !== g.visibility) {
                    var v = g.source || "",
                        m = this.familiesBySource[v];
                    m || (m = this.familiesBySource[v] = {});
                    var y = g.sourceLayer || "_geojsonTileLayer",
                        x = m[y];
                    x || (x = m[y] = []), x.push(d);
                }
            }
        };
        var o = function(t) {
            var r = {},
                i = [];
            for (var o in t) {
                var n = t[o],
                    s = r[o] = {};
                for (var a in n) {
                    var l = n[+a];
                    if (l && 0 !== l.bitmap.width && 0 !== l.bitmap.height) {
                        var u = {
                            x: 0,
                            y: 0,
                            w: l.bitmap.width + 2,
                            h: l.bitmap.height + 2
                        };
                        i.push(u), s[a] = {
                            rect: u,
                            metrics: l.metrics
                        };
                    }
                }
            }
            var h = e.potpack(i),
                c = new e.AlphaImage({
                    width: h.w || 1,
                    height: h.h || 1
                });
            for (var p in t) {
                var f = t[p];
                for (var d in f) {
                    var g = f[+d];
                    if (g && 0 !== g.bitmap.width && 0 !== g.bitmap.height) {
                        var v = r[p][d].rect;
                        e.AlphaImage.copy(g.bitmap, c, {
                            x: 0,
                            y: 0
                        }, {
                            x: v.x + 1,
                            y: v.y + 1
                        }, g.bitmap);
                    }
                }
            }
            this.image = c, this.positions = r;
        };
        e.register("GlyphAtlas", o);
        var n = function(t) {
            this.tileID = new e.OverscaledTileID(t.tileID.overscaledZ, t.tileID.wrap, t.tileID.canonical.z, t.tileID.canonical.x, t.tileID.canonical.y), this.uid = t.uid, this.zoom = t.zoom, this.pixelRatio = t.pixelRatio, this.tileSize = t.tileSize, this.source = t.source, this.overscaling = this.tileID.overscaleFactor(), this.showCollisionBoxes = t.showCollisionBoxes, this.collectResourceTiming = !!t.collectResourceTiming, this.returnDependencies = !!t.returnDependencies, this.promoteId = t.promoteId;
        };

        function s(t, r, i) {
            for (var o = new e.EvaluationParameters(r), n = 0, s = t; n < s.length; n += 1) s[n].recalculate(o, i);
        }

        function a(t, r) {
            var i = e.getArrayBuffer(t.request, (function(t, i, o, n) {
                t ? r(t) : i && r(null, {
                    vectorTile: new e.vectorTile.VectorTile(new e.pbf(i)),
                    rawData: i,
                    cacheControl: o,
                    expires: n
                });
            }));
            return function() {
                i.cancel(), r();
            }
        }
        n.prototype.parse = function(t, r, i, n, a) {
            var l = this;
            this.status = "parsing", this.data = t, this.collisionBoxArray = new e.CollisionBoxArray;
            var u = new e.DictionaryCoder(Object.keys(t.layers).sort()),
                h = new e.FeatureIndex(this.tileID, this.promoteId);
            h.bucketLayerIDs = [];
            var c, p, f, d, g = {},
                v = {
                    featureIndex: h,
                    iconDependencies: {},
                    patternDependencies: {},
                    glyphDependencies: {},
                    availableImages: i
                },
                m = r.familiesBySource[this.source];
            for (var y in m) {
                var x = t.layers[y];
                if (x) {
                    1 === x.version && e.warnOnce('Vector tile source "' + this.source + '" layer "' + y + '" does not use vector tile spec v2 and therefore may have some rendering errors.');
                    for (var w = u.encode(y), S = [], I = 0; I < x.length; I++) {
                        var M = x.feature(I),
                            b = h.getId(M, y);
                        S.push({
                            feature: M,
                            id: b,
                            index: I,
                            sourceLayerIndex: w
                        });
                    }
                    for (var _ = 0, k = m[y]; _ < k.length; _ += 1) {
                        var P = k[_],
                            T = P[0];
                        T.minzoom && this.zoom < Math.floor(T.minzoom) || T.maxzoom && this.zoom >= T.maxzoom || "none" !== T.visibility && (s(P, this.zoom, i), (g[T.id] = T.createBucket({
                            index: h.bucketLayerIDs.length,
                            layers: P,
                            zoom: this.zoom,
                            pixelRatio: this.pixelRatio,
                            overscaling: this.overscaling,
                            collisionBoxArray: this.collisionBoxArray,
                            sourceLayerIndex: w,
                            sourceID: this.source
                        })).populate(S, v, this.tileID.canonical), h.bucketLayerIDs.push(P.map((function(e) {
                            return e.id
                        }))));
                    }
                }
            }
            var C = e.mapObject(v.glyphDependencies, (function(e) {
                return Object.keys(e).map(Number)
            }));
            Object.keys(C).length ? n.send("getGlyphs", {
                uid: this.uid,
                stacks: C
            }, (function(e, t) {
                c || (c = e, p = t, z.call(l));
            })) : p = {};
            var D = Object.keys(v.iconDependencies);
            D.length ? n.send("getImages", {
                icons: D,
                source: this.source,
                tileID: this.tileID,
                type: "icons"
            }, (function(e, t) {
                c || (c = e, f = t, z.call(l));
            })) : f = {};
            var L = Object.keys(v.patternDependencies);

            function z() {
                if (c) return a(c);
                if (p && f && d) {
                    var t = new o(p),
                        r = new e.ImageAtlas(f, d);
                    for (var n in g) {
                        var l = g[n];
                        l instanceof e.SymbolBucket ? (s(l.layers, this.zoom, i), e.performSymbolLayout(l, p, t.positions, f, r.iconPositions, this.showCollisionBoxes, this.tileID.canonical)) : l.hasPattern && (l instanceof e.LineBucket || l instanceof e.FillBucket || l instanceof e.FillExtrusionBucket) && (s(l.layers, this.zoom, i), l.addFeatures(v, this.tileID.canonical, r.patternPositions));
                    }
                    this.status = "done", a(null, {
                        buckets: e.values(g).filter((function(e) {
                            return !e.isEmpty()
                        })),
                        featureIndex: h,
                        collisionBoxArray: this.collisionBoxArray,
                        glyphAtlasImage: t.image,
                        imageAtlas: r,
                        glyphMap: this.returnDependencies ? p : null,
                        iconMap: this.returnDependencies ? f : null,
                        glyphPositions: this.returnDependencies ? t.positions : null
                    });
                }
            }
            L.length ? n.send("getImages", {
                icons: L,
                source: this.source,
                tileID: this.tileID,
                type: "patterns"
            }, (function(e, t) {
                c || (c = e, d = t, z.call(l));
            })) : d = {}, z.call(this);
        };
        var l = function(e, t, r, i) {
            this.actor = e, this.layerIndex = t, this.availableImages = r, this.loadVectorData = i || a, this.loading = {}, this.loaded = {};
        };
        l.prototype.loadTile = function(t, r) {
            var i = this,
                o = t.uid;
            this.loading || (this.loading = {});
            var s = !!(t && t.request && t.request.collectResourceTiming) && new e.RequestPerformance(t.request),
                a = this.loading[o] = new n(t);
            a.abort = this.loadVectorData(t, (function(t, n) {
                if (delete i.loading[o], t || !n) return a.status = "done", i.loaded[o] = a, r(t);
                var l = n.rawData,
                    u = {};
                n.expires && (u.expires = n.expires), n.cacheControl && (u.cacheControl = n.cacheControl);
                var h = {};
                if (s) {
                    var c = s.finish();
                    c && (h.resourceTiming = JSON.parse(JSON.stringify(c)));
                }
                a.vectorTile = n.vectorTile, a.parse(n.vectorTile, i.layerIndex, i.availableImages, i.actor, (function(t, i) {
                    if (t || !i) return r(t);
                    r(null, e.extend({
                        rawTileData: l.slice(0)
                    }, i, u, h));
                })), i.loaded = i.loaded || {}, i.loaded[o] = a;
            }));
        }, l.prototype.reloadTile = function(e, t) {
            var r = this,
                i = this.loaded,
                o = e.uid,
                n = this;
            if (i && i[o]) {
                var s = i[o];
                s.showCollisionBoxes = e.showCollisionBoxes;
                var a = function(e, i) {
                    var o = s.reloadCallback;
                    o && (delete s.reloadCallback, s.parse(s.vectorTile, n.layerIndex, r.availableImages, n.actor, o)), t(e, i);
                };
                "parsing" === s.status ? s.reloadCallback = a : "done" === s.status && (s.vectorTile ? s.parse(s.vectorTile, this.layerIndex, this.availableImages, this.actor, a) : a());
            }
        }, l.prototype.abortTile = function(e, t) {
            var r = this.loading,
                i = e.uid;
            r && r[i] && r[i].abort && (r[i].abort(), delete r[i]), t();
        }, l.prototype.removeTile = function(e, t) {
            var r = this.loaded,
                i = e.uid;
            r && r[i] && delete r[i], t();
        };
        var u = e.window.ImageBitmap,
            h = function() {
                this.loaded = {};
            };

        function c(e, t) {
            if (0 !== e.length) {
                p(e[0], t);
                for (var r = 1; r < e.length; r++) p(e[r], !t);
            }
        }

        function p(e, t) {
            for (var r = 0, i = 0, o = e.length, n = o - 1; i < o; n = i++) r += (e[i][0] - e[n][0]) * (e[n][1] + e[i][1]);
            r >= 0 != !!t && e.reverse();
        }
        h.prototype.loadTile = function(t, r) {
            var i = t.uid,
                o = t.encoding,
                n = t.rawImageData,
                s = u && n instanceof u ? this.getImageData(n) : n,
                a = new e.DEMData(i, s, o);
            this.loaded = this.loaded || {}, this.loaded[i] = a, r(null, a);
        }, h.prototype.getImageData = function(t) {
            this.offscreenCanvas && this.offscreenCanvasContext || (this.offscreenCanvas = new OffscreenCanvas(t.width, t.height), this.offscreenCanvasContext = this.offscreenCanvas.getContext("2d")), this.offscreenCanvas.width = t.width, this.offscreenCanvas.height = t.height, this.offscreenCanvasContext.drawImage(t, 0, 0, t.width, t.height);
            var r = this.offscreenCanvasContext.getImageData(-1, -1, t.width + 2, t.height + 2);
            return this.offscreenCanvasContext.clearRect(0, 0, this.offscreenCanvas.width, this.offscreenCanvas.height), new e.RGBAImage({
                width: r.width,
                height: r.height
            }, r.data)
        }, h.prototype.removeTile = function(e) {
            var t = this.loaded,
                r = e.uid;
            t && t[r] && delete t[r];
        };
        var f = e.vectorTile.VectorTileFeature.prototype.toGeoJSON,
            d = function(t) {
                this._feature = t, this.extent = e.EXTENT, this.type = t.type, this.properties = t.tags, "id" in t && !isNaN(t.id) && (this.id = parseInt(t.id, 10));
            };
        d.prototype.loadGeometry = function() {
            if (1 === this._feature.type) {
                for (var t = [], r = 0, i = this._feature.geometry; r < i.length; r += 1) {
                    var o = i[r];
                    t.push([new e.Point$1(o[0], o[1])]);
                }
                return t
            }
            for (var n = [], s = 0, a = this._feature.geometry; s < a.length; s += 1) {
                for (var l = [], u = 0, h = a[s]; u < h.length; u += 1) {
                    var c = h[u];
                    l.push(new e.Point$1(c[0], c[1]));
                }
                n.push(l);
            }
            return n
        }, d.prototype.toGeoJSON = function(e, t, r) {
            return f.call(this, e, t, r)
        };
        var g = function(t) {
            this.layers = {
                _geojsonTileLayer: this
            }, this.name = "_geojsonTileLayer", this.extent = e.EXTENT, this.length = t.length, this._features = t;
        };
        g.prototype.feature = function(e) {
            return new d(this._features[e])
        };
        var v = e.vectorTile.VectorTileFeature,
            m = y;

        function y(e, t) {
            this.options = t || {}, this.features = e, this.length = e.length;
        }

        function x(e, t) {
            this.id = "number" == typeof e.id ? e.id : void 0, this.type = e.type, this.rawGeometry = 1 === e.type ? [e.geometry] : e.geometry, this.properties = e.tags, this.extent = t || 4096;
        }
        y.prototype.feature = function(e) {
            return new x(this.features[e], this.options.extent)
        }, x.prototype.loadGeometry = function() {
            var t = this.rawGeometry;
            this.geometry = [];
            for (var r = 0; r < t.length; r++) {
                for (var i = t[r], o = [], n = 0; n < i.length; n++) o.push(new e.Point$1(i[n][0], i[n][1]));
                this.geometry.push(o);
            }
            return this.geometry
        }, x.prototype.bbox = function() {
            this.geometry || this.loadGeometry();
            for (var e = this.geometry, t = 1 / 0, r = -1 / 0, i = 1 / 0, o = -1 / 0, n = 0; n < e.length; n++)
                for (var s = e[n], a = 0; a < s.length; a++) {
                    var l = s[a];
                    t = Math.min(t, l.x), r = Math.max(r, l.x), i = Math.min(i, l.y), o = Math.max(o, l.y);
                }
            return [t, i, r, o]
        }, x.prototype.toGeoJSON = v.prototype.toGeoJSON;
        var w = I,
            S = m;

        function I(t) {
            var r = new e.pbf;
            return function(e, t) {
                for (var r in e.layers) t.writeMessage(3, M, e.layers[r]);
            }(t, r), r.finish()
        }

        function M(e, t) {
            var r;
            t.writeVarintField(15, e.version || 1), t.writeStringField(1, e.name || ""), t.writeVarintField(5, e.extent || 4096);
            var i = {
                keys: [],
                values: [],
                keycache: {},
                valuecache: {}
            };
            for (r = 0; r < e.length; r++) i.feature = e.feature(r), t.writeMessage(2, b, i);
            var o = i.keys;
            for (r = 0; r < o.length; r++) t.writeStringField(3, o[r]);
            var n = i.values;
            for (r = 0; r < n.length; r++) t.writeMessage(4, C, n[r]);
        }

        function b(e, t) {
            var r = e.feature;
            void 0 !== r.id && t.writeVarintField(1, r.id), t.writeMessage(2, _, e), t.writeVarintField(3, r.type), t.writeMessage(4, T, r);
        }

        function _(e, t) {
            var r = e.feature,
                i = e.keys,
                o = e.values,
                n = e.keycache,
                s = e.valuecache;
            for (var a in r.properties) {
                var l = n[a];
                void 0 === l && (i.push(a), n[a] = l = i.length - 1), t.writeVarint(l);
                var u = r.properties[a],
                    h = typeof u;
                "string" !== h && "boolean" !== h && "number" !== h && (u = JSON.stringify(u));
                var c = h + ":" + u,
                    p = s[c];
                void 0 === p && (o.push(u), s[c] = p = o.length - 1), t.writeVarint(p);
            }
        }

        function k(e, t) {
            return (t << 3) + (7 & e)
        }

        function P(e) {
            return e << 1 ^ e >> 31
        }

        function T(e, t) {
            for (var r = e.loadGeometry(), i = e.type, o = 0, n = 0, s = r.length, a = 0; a < s; a++) {
                var l = r[a],
                    u = 1;
                1 === i && (u = l.length), t.writeVarint(k(1, u));
                for (var h = 3 === i ? l.length - 1 : l.length, c = 0; c < h; c++) {
                    1 === c && 1 !== i && t.writeVarint(k(2, h - 1));
                    var p = l[c].x - o,
                        f = l[c].y - n;
                    t.writeVarint(P(p)), t.writeVarint(P(f)), o += p, n += f;
                }
                3 === i && t.writeVarint(k(7, 1));
            }
        }

        function C(e, t) {
            var r = typeof e;
            "string" === r ? t.writeStringField(1, e) : "boolean" === r ? t.writeBooleanField(7, e) : "number" === r && (e % 1 != 0 ? t.writeDoubleField(3, e) : e < 0 ? t.writeSVarintField(6, e) : t.writeVarintField(5, e));
        }

        function D(e, t, r, i) {
            L(e, r, i), L(t, 2 * r, 2 * i), L(t, 2 * r + 1, 2 * i + 1);
        }

        function L(e, t, r) {
            var i = e[t];
            e[t] = e[r], e[r] = i;
        }

        function z(e, t, r, i) {
            var o = e - r,
                n = t - i;
            return o * o + n * n
        }
        w.fromVectorTileJs = I, w.fromGeojsonVt = function(e, t) {
            t = t || {};
            var r = {};
            for (var i in e) r[i] = new m(e[i].features, t), r[i].name = i, r[i].version = t.version, r[i].extent = t.extent;
            return I({
                layers: r
            })
        }, w.GeoJSONWrapper = S;
        var O = function(e) {
                return e[0]
            },
            E = function(e) {
                return e[1]
            },
            F = function(e, t, r, i, o) {
                void 0 === t && (t = O), void 0 === r && (r = E), void 0 === i && (i = 64), void 0 === o && (o = Float64Array), this.nodeSize = i, this.points = e;
                for (var n = e.length < 65536 ? Uint16Array : Uint32Array, s = this.ids = new n(e.length), a = this.coords = new o(2 * e.length), l = 0; l < e.length; l++) s[l] = l, a[2 * l] = t(e[l]), a[2 * l + 1] = r(e[l]);
                ! function e(t, r, i, o, n, s) {
                    if (!(n - o <= i)) {
                        var a = o + n >> 1;
                        ! function e(t, r, i, o, n, s) {
                            for (; n > o;) {
                                if (n - o > 600) {
                                    var a = n - o + 1,
                                        l = i - o + 1,
                                        u = Math.log(a),
                                        h = .5 * Math.exp(2 * u / 3),
                                        c = .5 * Math.sqrt(u * h * (a - h) / a) * (l - a / 2 < 0 ? -1 : 1);
                                    e(t, r, i, Math.max(o, Math.floor(i - l * h / a + c)), Math.min(n, Math.floor(i + (a - l) * h / a + c)), s);
                                }
                                var p = r[2 * i + s],
                                    f = o,
                                    d = n;
                                for (D(t, r, o, i), r[2 * n + s] > p && D(t, r, o, n); f < d;) {
                                    for (D(t, r, f, d), f++, d--; r[2 * f + s] < p;) f++;
                                    for (; r[2 * d + s] > p;) d--;
                                }
                                r[2 * o + s] === p ? D(t, r, o, d) : D(t, r, ++d, n), d <= i && (o = d + 1), i <= d && (n = d - 1);
                            }
                        }(t, r, a, o, n, s % 2), e(t, r, i, o, a - 1, s + 1), e(t, r, i, a + 1, n, s + 1);
                    }
                }(s, a, i, 0, s.length - 1, 0);
            };
        F.prototype.range = function(e, t, r, i) {
            return function(e, t, r, i, o, n, s) {
                for (var a, l, u = [0, e.length - 1, 0], h = []; u.length;) {
                    var c = u.pop(),
                        p = u.pop(),
                        f = u.pop();
                    if (p - f <= s)
                        for (var d = f; d <= p; d++) l = t[2 * d + 1], (a = t[2 * d]) >= r && a <= o && l >= i && l <= n && h.push(e[d]);
                    else {
                        var g = Math.floor((f + p) / 2);
                        l = t[2 * g + 1], (a = t[2 * g]) >= r && a <= o && l >= i && l <= n && h.push(e[g]);
                        var v = (c + 1) % 2;
                        (0 === c ? r <= a : i <= l) && (u.push(f), u.push(g - 1), u.push(v)), (0 === c ? o >= a : n >= l) && (u.push(g + 1), u.push(p), u.push(v));
                    }
                }
                return h
            }(this.ids, this.coords, e, t, r, i, this.nodeSize)
        }, F.prototype.within = function(e, t, r) {
            return function(e, t, r, i, o, n) {
                for (var s = [0, e.length - 1, 0], a = [], l = o * o; s.length;) {
                    var u = s.pop(),
                        h = s.pop(),
                        c = s.pop();
                    if (h - c <= n)
                        for (var p = c; p <= h; p++) z(t[2 * p], t[2 * p + 1], r, i) <= l && a.push(e[p]);
                    else {
                        var f = Math.floor((c + h) / 2),
                            d = t[2 * f],
                            g = t[2 * f + 1];
                        z(d, g, r, i) <= l && a.push(e[f]);
                        var v = (u + 1) % 2;
                        (0 === u ? r - o <= d : i - o <= g) && (s.push(c), s.push(f - 1), s.push(v)), (0 === u ? r + o >= d : i + o >= g) && (s.push(f + 1), s.push(h), s.push(v));
                    }
                }
                return a
            }(this.ids, this.coords, e, t, r, this.nodeSize)
        };
        var N = {
                minZoom: 0,
                maxZoom: 16,
                minPoints: 2,
                radius: 40,
                extent: 512,
                nodeSize: 64,
                log: !1,
                generateId: !1,
                reduce: null,
                map: function(e) {
                    return e
                }
            },
            J = function(e) {
                this.options = V(Object.create(N), e), this.trees = new Array(this.options.maxZoom + 1);
            };

        function Z(e, t, r, i, o) {
            return {
                x: e,
                y: t,
                zoom: 1 / 0,
                id: r,
                parentId: -1,
                numPoints: i,
                properties: o
            }
        }

        function A(e, t) {
            var r = e.geometry.coordinates,
                i = r[1];
            return {
                x: Y(r[0]),
                y: j(i),
                zoom: 1 / 0,
                index: t,
                parentId: -1
            }
        }

        function B(e) {
            return {
                type: "Feature",
                id: e.id,
                properties: G(e),
                geometry: {
                    type: "Point",
                    coordinates: [(i = e.x, 360 * (i - .5)), (t = e.y, r = (180 - 360 * t) * Math.PI / 180, 360 * Math.atan(Math.exp(r)) / Math.PI - 90)]
                }
            };
            var t, r, i;
        }

        function G(e) {
            var t = e.numPoints,
                r = t >= 1e4 ? Math.round(t / 1e3) + "k" : t >= 1e3 ? Math.round(t / 100) / 10 + "k" : t;
            return V(V({}, e.properties), {
                cluster: !0,
                cluster_id: e.id,
                point_count: t,
                point_count_abbreviated: r
            })
        }

        function Y(e) {
            return e / 360 + .5
        }

        function j(e) {
            var t = Math.sin(e * Math.PI / 180),
                r = .5 - .25 * Math.log((1 + t) / (1 - t)) / Math.PI;
            return r < 0 ? 0 : r > 1 ? 1 : r
        }

        function V(e, t) {
            for (var r in t) e[r] = t[r];
            return e
        }

        function X(e) {
            return e.x
        }

        function W(e) {
            return e.y
        }

        function R(e, t, r, i, o, n) {
            var s = o - r,
                a = n - i;
            if (0 !== s || 0 !== a) {
                var l = ((e - r) * s + (t - i) * a) / (s * s + a * a);
                l > 1 ? (r = o, i = n) : l > 0 && (r += s * l, i += a * l);
            }
            return (s = e - r) * s + (a = t - i) * a
        }

        function q(e, t, r, i) {
            var o = {
                id: void 0 === e ? null : e,
                type: t,
                geometry: r,
                tags: i,
                minX: 1 / 0,
                minY: 1 / 0,
                maxX: -1 / 0,
                maxY: -1 / 0
            };
            return function(e) {
                var t = e.geometry,
                    r = e.type;
                if ("Point" === r || "MultiPoint" === r || "LineString" === r) U(e, t);
                else if ("Polygon" === r || "MultiLineString" === r)
                    for (var i = 0; i < t.length; i++) U(e, t[i]);
                else if ("MultiPolygon" === r)
                    for (i = 0; i < t.length; i++)
                        for (var o = 0; o < t[i].length; o++) U(e, t[i][o]);
            }(o), o
        }

        function U(e, t) {
            for (var r = 0; r < t.length; r += 3) e.minX = Math.min(e.minX, t[r]), e.minY = Math.min(e.minY, t[r + 1]), e.maxX = Math.max(e.maxX, t[r]), e.maxY = Math.max(e.maxY, t[r + 1]);
        }

        function $(e, t, r, i) {
            if (t.geometry) {
                var o = t.geometry.coordinates,
                    n = t.geometry.type,
                    s = Math.pow(r.tolerance / ((1 << r.maxZoom) * r.extent), 2),
                    a = [],
                    l = t.id;
                if (r.promoteId ? l = t.properties[r.promoteId] : r.generateId && (l = i || 0), "Point" === n) H(o, a);
                else if ("MultiPoint" === n)
                    for (var u = 0; u < o.length; u++) H(o[u], a);
                else if ("LineString" === n) K(o, a, s, !1);
                else if ("MultiLineString" === n) {
                    if (r.lineMetrics) {
                        for (u = 0; u < o.length; u++) K(o[u], a = [], s, !1), e.push(q(l, "LineString", a, t.properties));
                        return
                    }
                    Q(o, a, s, !1);
                } else if ("Polygon" === n) Q(o, a, s, !0);
                else {
                    if ("MultiPolygon" !== n) {
                        if ("GeometryCollection" === n) {
                            for (u = 0; u < t.geometry.geometries.length; u++) $(e, {
                                id: l,
                                geometry: t.geometry.geometries[u],
                                properties: t.properties
                            }, r, i);
                            return
                        }
                        throw new Error("Input data is not a valid GeoJSON object.")
                    }
                    for (u = 0; u < o.length; u++) {
                        var h = [];
                        Q(o[u], h, s, !0), a.push(h);
                    }
                }
                e.push(q(l, n, a, t.properties));
            }
        }

        function H(e, t) {
            t.push(ee(e[0])), t.push(te(e[1])), t.push(0);
        }

        function K(e, t, r, i) {
            for (var o, n, s = 0, a = 0; a < e.length; a++) {
                var l = ee(e[a][0]),
                    u = te(e[a][1]);
                t.push(l), t.push(u), t.push(0), a > 0 && (s += i ? (o * u - l * n) / 2 : Math.sqrt(Math.pow(l - o, 2) + Math.pow(u - n, 2))), o = l, n = u;
            }
            var h = t.length - 3;
            t[2] = 1,
                function e(t, r, i, o) {
                    for (var n, s = o, a = i - r >> 1, l = i - r, u = t[r], h = t[r + 1], c = t[i], p = t[i + 1], f = r + 3; f < i; f += 3) {
                        var d = R(t[f], t[f + 1], u, h, c, p);
                        if (d > s) n = f, s = d;
                        else if (d === s) {
                            var g = Math.abs(f - a);
                            g < l && (n = f, l = g);
                        }
                    }
                    s > o && (n - r > 3 && e(t, r, n, o), t[n + 2] = s, i - n > 3 && e(t, n, i, o));
                }(t, 0, h, r), t[h + 2] = 1, t.size = Math.abs(s), t.start = 0, t.end = t.size;
        }

        function Q(e, t, r, i) {
            for (var o = 0; o < e.length; o++) {
                var n = [];
                K(e[o], n, r, i), t.push(n);
            }
        }

        function ee(e) {
            return e / 360 + .5
        }

        function te(e) {
            var t = Math.sin(e * Math.PI / 180),
                r = .5 - .25 * Math.log((1 + t) / (1 - t)) / Math.PI;
            return r < 0 ? 0 : r > 1 ? 1 : r
        }

        function re(e, t, r, i, o, n, s, a) {
            if (i /= t, n >= (r /= t) && s < i) return e;
            if (s < r || n >= i) return null;
            for (var l = [], u = 0; u < e.length; u++) {
                var h = e[u],
                    c = h.geometry,
                    p = h.type,
                    f = 0 === o ? h.minX : h.minY,
                    d = 0 === o ? h.maxX : h.maxY;
                if (f >= r && d < i) l.push(h);
                else if (!(d < r || f >= i)) {
                    var g = [];
                    if ("Point" === p || "MultiPoint" === p) ie(c, g, r, i, o);
                    else if ("LineString" === p) oe(c, g, r, i, o, !1, a.lineMetrics);
                    else if ("MultiLineString" === p) se(c, g, r, i, o, !1);
                    else if ("Polygon" === p) se(c, g, r, i, o, !0);
                    else if ("MultiPolygon" === p)
                        for (var v = 0; v < c.length; v++) {
                            var m = [];
                            se(c[v], m, r, i, o, !0), m.length && g.push(m);
                        }
                    if (g.length) {
                        if (a.lineMetrics && "LineString" === p) {
                            for (v = 0; v < g.length; v++) l.push(q(h.id, p, g[v], h.tags));
                            continue
                        }
                        "LineString" !== p && "MultiLineString" !== p || (1 === g.length ? (p = "LineString", g = g[0]) : p = "MultiLineString"), "Point" !== p && "MultiPoint" !== p || (p = 3 === g.length ? "Point" : "MultiPoint"), l.push(q(h.id, p, g, h.tags));
                    }
                }
            }
            return l.length ? l : null
        }

        function ie(e, t, r, i, o) {
            for (var n = 0; n < e.length; n += 3) {
                var s = e[n + o];
                s >= r && s <= i && (t.push(e[n]), t.push(e[n + 1]), t.push(e[n + 2]));
            }
        }

        function oe(e, t, r, i, o, n, s) {
            for (var a, l, u = ne(e), h = 0 === o ? le : ue, c = e.start, p = 0; p < e.length - 3; p += 3) {
                var f = e[p],
                    d = e[p + 1],
                    g = e[p + 2],
                    v = e[p + 3],
                    m = e[p + 4],
                    y = 0 === o ? f : d,
                    x = 0 === o ? v : m,
                    w = !1;
                s && (a = Math.sqrt(Math.pow(f - v, 2) + Math.pow(d - m, 2))), y < r ? x > r && (l = h(u, f, d, v, m, r), s && (u.start = c + a * l)) : y > i ? x < i && (l = h(u, f, d, v, m, i), s && (u.start = c + a * l)) : ae(u, f, d, g), x < r && y >= r && (l = h(u, f, d, v, m, r), w = !0), x > i && y <= i && (l = h(u, f, d, v, m, i), w = !0), !n && w && (s && (u.end = c + a * l), t.push(u), u = ne(e)), s && (c += a);
            }
            var S = e.length - 3;
            f = e[S], d = e[S + 1], g = e[S + 2], (y = 0 === o ? f : d) >= r && y <= i && ae(u, f, d, g), S = u.length - 3, n && S >= 3 && (u[S] !== u[0] || u[S + 1] !== u[1]) && ae(u, u[0], u[1], u[2]), u.length && t.push(u);
        }

        function ne(e) {
            var t = [];
            return t.size = e.size, t.start = e.start, t.end = e.end, t
        }

        function se(e, t, r, i, o, n) {
            for (var s = 0; s < e.length; s++) oe(e[s], t, r, i, o, n, !1);
        }

        function ae(e, t, r, i) {
            e.push(t), e.push(r), e.push(i);
        }

        function le(e, t, r, i, o, n) {
            var s = (n - t) / (i - t);
            return e.push(n), e.push(r + (o - r) * s), e.push(1), s
        }

        function ue(e, t, r, i, o, n) {
            var s = (n - r) / (o - r);
            return e.push(t + (i - t) * s), e.push(n), e.push(1), s
        }

        function he(e, t) {
            for (var r = [], i = 0; i < e.length; i++) {
                var o, n = e[i],
                    s = n.type;
                if ("Point" === s || "MultiPoint" === s || "LineString" === s) o = ce(n.geometry, t);
                else if ("MultiLineString" === s || "Polygon" === s) {
                    o = [];
                    for (var a = 0; a < n.geometry.length; a++) o.push(ce(n.geometry[a], t));
                } else if ("MultiPolygon" === s)
                    for (o = [], a = 0; a < n.geometry.length; a++) {
                        for (var l = [], u = 0; u < n.geometry[a].length; u++) l.push(ce(n.geometry[a][u], t));
                        o.push(l);
                    }
                r.push(q(n.id, s, o, n.tags));
            }
            return r
        }

        function ce(e, t) {
            var r = [];
            r.size = e.size, void 0 !== e.start && (r.start = e.start, r.end = e.end);
            for (var i = 0; i < e.length; i += 3) r.push(e[i] + t, e[i + 1], e[i + 2]);
            return r
        }

        function pe(e, t) {
            if (e.transformed) return e;
            var r, i, o, n = 1 << e.z,
                s = e.x,
                a = e.y;
            for (r = 0; r < e.features.length; r++) {
                var l = e.features[r],
                    u = l.geometry,
                    h = l.type;
                if (l.geometry = [], 1 === h)
                    for (i = 0; i < u.length; i += 2) l.geometry.push(fe(u[i], u[i + 1], t, n, s, a));
                else
                    for (i = 0; i < u.length; i++) {
                        var c = [];
                        for (o = 0; o < u[i].length; o += 2) c.push(fe(u[i][o], u[i][o + 1], t, n, s, a));
                        l.geometry.push(c);
                    }
            }
            return e.transformed = !0, e
        }

        function fe(e, t, r, i, o, n) {
            return [Math.round(r * (e * i - o)), Math.round(r * (t * i - n))]
        }

        function de(e, t, r, i, o) {
            for (var n = t === o.maxZoom ? 0 : o.tolerance / ((1 << t) * o.extent), s = {
                    features: [],
                    numPoints: 0,
                    numSimplified: 0,
                    numFeatures: 0,
                    source: null,
                    x: r,
                    y: i,
                    z: t,
                    transformed: !1,
                    minX: 2,
                    minY: 1,
                    maxX: -1,
                    maxY: 0
                }, a = 0; a < e.length; a++) {
                s.numFeatures++, ge(s, e[a], n, o);
                var l = e[a].minX,
                    u = e[a].minY,
                    h = e[a].maxX,
                    c = e[a].maxY;
                l < s.minX && (s.minX = l), u < s.minY && (s.minY = u), h > s.maxX && (s.maxX = h), c > s.maxY && (s.maxY = c);
            }
            return s
        }

        function ge(e, t, r, i) {
            var o = t.geometry,
                n = t.type,
                s = [];
            if ("Point" === n || "MultiPoint" === n)
                for (var a = 0; a < o.length; a += 3) s.push(o[a]), s.push(o[a + 1]), e.numPoints++, e.numSimplified++;
            else if ("LineString" === n) ve(s, o, e, r, !1, !1);
            else if ("MultiLineString" === n || "Polygon" === n)
                for (a = 0; a < o.length; a++) ve(s, o[a], e, r, "Polygon" === n, 0 === a);
            else if ("MultiPolygon" === n)
                for (var l = 0; l < o.length; l++) {
                    var u = o[l];
                    for (a = 0; a < u.length; a++) ve(s, u[a], e, r, !0, 0 === a);
                }
            if (s.length) {
                var h = t.tags || null;
                if ("LineString" === n && i.lineMetrics) {
                    for (var c in h = {}, t.tags) h[c] = t.tags[c];
                    h.mapbox_clip_start = o.start / o.size, h.mapbox_clip_end = o.end / o.size;
                }
                var p = {
                    geometry: s,
                    type: "Polygon" === n || "MultiPolygon" === n ? 3 : "LineString" === n || "MultiLineString" === n ? 2 : 1,
                    tags: h
                };
                null !== t.id && (p.id = t.id), e.features.push(p);
            }
        }

        function ve(e, t, r, i, o, n) {
            var s = i * i;
            if (i > 0 && t.size < (o ? s : i)) r.numPoints += t.length / 3;
            else {
                for (var a = [], l = 0; l < t.length; l += 3)(0 === i || t[l + 2] > s) && (r.numSimplified++, a.push(t[l]), a.push(t[l + 1])), r.numPoints++;
                o && function(e, t) {
                    for (var r = 0, i = 0, o = e.length, n = o - 2; i < o; n = i, i += 2) r += (e[i] - e[n]) * (e[i + 1] + e[n + 1]);
                    if (r > 0 === t)
                        for (i = 0, o = e.length; i < o / 2; i += 2) {
                            var s = e[i],
                                a = e[i + 1];
                            e[i] = e[o - 2 - i], e[i + 1] = e[o - 1 - i], e[o - 2 - i] = s, e[o - 1 - i] = a;
                        }
                }(a, n), e.push(a);
            }
        }

        function me(e, t) {
            var r = (t = this.options = function(e, t) {
                for (var r in t) e[r] = t[r];
                return e
            }(Object.create(this.options), t)).debug;
            if (r && console.time("preprocess data"), t.maxZoom < 0 || t.maxZoom > 24) throw new Error("maxZoom should be in the 0-24 range");
            if (t.promoteId && t.generateId) throw new Error("promoteId and generateId cannot be used together.");
            var i = function(e, t) {
                var r = [];
                if ("FeatureCollection" === e.type)
                    for (var i = 0; i < e.features.length; i++) $(r, e.features[i], t, i);
                else $(r, "Feature" === e.type ? e : {
                    geometry: e
                }, t);
                return r
            }(e, t);
            this.tiles = {}, this.tileCoords = [], r && (console.timeEnd("preprocess data"), console.log("index: maxZoom: %d, maxPoints: %d", t.indexMaxZoom, t.indexMaxPoints), console.time("generate tiles"), this.stats = {}, this.total = 0), (i = function(e, t) {
                var r = t.buffer / t.extent,
                    i = e,
                    o = re(e, 1, -1 - r, r, 0, -1, 2, t),
                    n = re(e, 1, 1 - r, 2 + r, 0, -1, 2, t);
                return (o || n) && (i = re(e, 1, -r, 1 + r, 0, -1, 2, t) || [], o && (i = he(o, 1).concat(i)), n && (i = i.concat(he(n, -1)))), i
            }(i, t)).length && this.splitTile(i, 0, 0, 0), r && (i.length && console.log("features: %d, points: %d", this.tiles[0].numFeatures, this.tiles[0].numPoints), console.timeEnd("generate tiles"), console.log("tiles generated:", this.total, JSON.stringify(this.stats)));
        }

        function ye(e, t, r) {
            return 32 * ((1 << e) * r + t) + e
        }

        function xe(e, t) {
            var r = e.tileID.canonical;
            if (!this._geoJSONIndex) return t(null, null);
            var i = this._geoJSONIndex.getTile(r.z, r.x, r.y);
            if (!i) return t(null, null);
            var o = new g(i.features),
                n = w(o);
            0 === n.byteOffset && n.byteLength === n.buffer.byteLength || (n = new Uint8Array(n)), t(null, {
                vectorTile: o,
                rawData: n.buffer
            });
        }
        J.prototype.load = function(e) {
            var t = this.options,
                r = t.log,
                i = t.minZoom,
                o = t.maxZoom,
                n = t.nodeSize;
            r && console.time("total time");
            var s = "prepare " + e.length + " points";
            r && console.time(s), this.points = e;
            for (var a = [], l = 0; l < e.length; l++) e[l].geometry && a.push(A(e[l], l));
            this.trees[o + 1] = new F(a, X, W, n, Float32Array), r && console.timeEnd(s);
            for (var u = o; u >= i; u--) {
                var h = +Date.now();
                a = this._cluster(a, u), this.trees[u] = new F(a, X, W, n, Float32Array), r && console.log("z%d: %d clusters in %dms", u, a.length, +Date.now() - h);
            }
            return r && console.timeEnd("total time"), this
        }, J.prototype.getClusters = function(e, t) {
            var r = ((e[0] + 180) % 360 + 360) % 360 - 180,
                i = Math.max(-90, Math.min(90, e[1])),
                o = 180 === e[2] ? 180 : ((e[2] + 180) % 360 + 360) % 360 - 180,
                n = Math.max(-90, Math.min(90, e[3]));
            if (e[2] - e[0] >= 360) r = -180, o = 180;
            else if (r > o) {
                var s = this.getClusters([r, i, 180, n], t),
                    a = this.getClusters([-180, i, o, n], t);
                return s.concat(a)
            }
            for (var l = this.trees[this._limitZoom(t)], u = [], h = 0, c = l.range(Y(r), j(n), Y(o), j(i)); h < c.length; h += 1) {
                var p = l.points[c[h]];
                u.push(p.numPoints ? B(p) : this.points[p.index]);
            }
            return u
        }, J.prototype.getChildren = function(e) {
            var t = this._getOriginId(e),
                r = this._getOriginZoom(e),
                i = "No cluster with the specified id.",
                o = this.trees[r];
            if (!o) throw new Error(i);
            var n = o.points[t];
            if (!n) throw new Error(i);
            for (var s = this.options.radius / (this.options.extent * Math.pow(2, r - 1)), a = [], l = 0, u = o.within(n.x, n.y, s); l < u.length; l += 1) {
                var h = o.points[u[l]];
                h.parentId === e && a.push(h.numPoints ? B(h) : this.points[h.index]);
            }
            if (0 === a.length) throw new Error(i);
            return a
        }, J.prototype.getLeaves = function(e, t, r) {
            var i = [];
            return this._appendLeaves(i, e, t = t || 10, r = r || 0, 0), i
        }, J.prototype.getTile = function(e, t, r) {
            var i = this.trees[this._limitZoom(e)],
                o = Math.pow(2, e),
                n = this.options,
                s = n.radius / n.extent,
                a = (r - s) / o,
                l = (r + 1 + s) / o,
                u = {
                    features: []
                };
            return this._addTileFeatures(i.range((t - s) / o, a, (t + 1 + s) / o, l), i.points, t, r, o, u), 0 === t && this._addTileFeatures(i.range(1 - s / o, a, 1, l), i.points, o, r, o, u), t === o - 1 && this._addTileFeatures(i.range(0, a, s / o, l), i.points, -1, r, o, u), u.features.length ? u : null
        }, J.prototype.getClusterExpansionZoom = function(e) {
            for (var t = this._getOriginZoom(e) - 1; t <= this.options.maxZoom;) {
                var r = this.getChildren(e);
                if (t++, 1 !== r.length) break;
                e = r[0].properties.cluster_id;
            }
            return t
        }, J.prototype._appendLeaves = function(e, t, r, i, o) {
            for (var n = 0, s = this.getChildren(t); n < s.length; n += 1) {
                var a = s[n],
                    l = a.properties;
                if (l && l.cluster ? o + l.point_count <= i ? o += l.point_count : o = this._appendLeaves(e, l.cluster_id, r, i, o) : o < i ? o++ : e.push(a), e.length === r) break
            }
            return o
        }, J.prototype._addTileFeatures = function(e, t, r, i, o, n) {
            for (var s = 0, a = e; s < a.length; s += 1) {
                var l = t[a[s]],
                    u = l.numPoints,
                    h = {
                        type: 1,
                        geometry: [
                            [Math.round(this.options.extent * (l.x * o - r)), Math.round(this.options.extent * (l.y * o - i))]
                        ],
                        tags: u ? G(l) : this.points[l.index].properties
                    },
                    c = void 0;
                u ? c = l.id : this.options.generateId ? c = l.index : this.points[l.index].id && (c = this.points[l.index].id), void 0 !== c && (h.id = c), n.features.push(h);
            }
        }, J.prototype._limitZoom = function(e) {
            return Math.max(this.options.minZoom, Math.min(+e, this.options.maxZoom + 1))
        }, J.prototype._cluster = function(e, t) {
            for (var r = [], i = this.options, o = i.reduce, n = i.minPoints, s = i.radius / (i.extent * Math.pow(2, t)), a = 0; a < e.length; a++) {
                var l = e[a];
                if (!(l.zoom <= t)) {
                    l.zoom = t;
                    for (var u = this.trees[t + 1], h = u.within(l.x, l.y, s), c = l.numPoints || 1, p = c, f = 0, d = h; f < d.length; f += 1) {
                        var g = u.points[d[f]];
                        g.zoom > t && (p += g.numPoints || 1);
                    }
                    if (p >= n) {
                        for (var v = l.x * c, m = l.y * c, y = o && c > 1 ? this._map(l, !0) : null, x = (a << 5) + (t + 1) + this.points.length, w = 0, S = h; w < S.length; w += 1) {
                            var I = u.points[S[w]];
                            if (!(I.zoom <= t)) {
                                I.zoom = t;
                                var M = I.numPoints || 1;
                                v += I.x * M, m += I.y * M, I.parentId = x, o && (y || (y = this._map(l, !0)), o(y, this._map(I)));
                            }
                        }
                        l.parentId = x, r.push(Z(v / p, m / p, x, p, y));
                    } else if (r.push(l), p > 1)
                        for (var b = 0, _ = h; b < _.length; b += 1) {
                            var k = u.points[_[b]];
                            k.zoom <= t || (k.zoom = t, r.push(k));
                        }
                }
            }
            return r
        }, J.prototype._getOriginId = function(e) {
            return e - this.points.length >> 5
        }, J.prototype._getOriginZoom = function(e) {
            return (e - this.points.length) % 32
        }, J.prototype._map = function(e, t) {
            if (e.numPoints) return t ? V({}, e.properties) : e.properties;
            var r = this.points[e.index].properties,
                i = this.options.map(r);
            return t && i === r ? V({}, i) : i
        }, me.prototype.options = {
            maxZoom: 14,
            indexMaxZoom: 5,
            indexMaxPoints: 1e5,
            tolerance: 3,
            extent: 4096,
            buffer: 64,
            lineMetrics: !1,
            promoteId: null,
            generateId: !1,
            debug: 0
        }, me.prototype.splitTile = function(e, t, r, i, o, n, s) {
            for (var a = [e, t, r, i], l = this.options, u = l.debug; a.length;) {
                i = a.pop(), r = a.pop(), t = a.pop(), e = a.pop();
                var h = 1 << t,
                    c = ye(t, r, i),
                    p = this.tiles[c];
                if (!p && (u > 1 && console.time("creation"), p = this.tiles[c] = de(e, t, r, i, l), this.tileCoords.push({
                        z: t,
                        x: r,
                        y: i
                    }), u)) {
                    u > 1 && (console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)", t, r, i, p.numFeatures, p.numPoints, p.numSimplified), console.timeEnd("creation"));
                    var f = "z" + t;
                    this.stats[f] = (this.stats[f] || 0) + 1, this.total++;
                }
                if (p.source = e, o) {
                    if (t === l.maxZoom || t === o) continue;
                    var d = 1 << o - t;
                    if (r !== Math.floor(n / d) || i !== Math.floor(s / d)) continue
                } else if (t === l.indexMaxZoom || p.numPoints <= l.indexMaxPoints) continue;
                if (p.source = null, 0 !== e.length) {
                    u > 1 && console.time("clipping");
                    var g, v, m, y, x, w, S = .5 * l.buffer / l.extent,
                        I = .5 - S,
                        M = .5 + S,
                        b = 1 + S;
                    g = v = m = y = null, x = re(e, h, r - S, r + M, 0, p.minX, p.maxX, l), w = re(e, h, r + I, r + b, 0, p.minX, p.maxX, l), e = null, x && (g = re(x, h, i - S, i + M, 1, p.minY, p.maxY, l), v = re(x, h, i + I, i + b, 1, p.minY, p.maxY, l), x = null), w && (m = re(w, h, i - S, i + M, 1, p.minY, p.maxY, l), y = re(w, h, i + I, i + b, 1, p.minY, p.maxY, l), w = null), u > 1 && console.timeEnd("clipping"), a.push(g || [], t + 1, 2 * r, 2 * i), a.push(v || [], t + 1, 2 * r, 2 * i + 1), a.push(m || [], t + 1, 2 * r + 1, 2 * i), a.push(y || [], t + 1, 2 * r + 1, 2 * i + 1);
                }
            }
        }, me.prototype.getTile = function(e, t, r) {
            var i = this.options,
                o = i.extent,
                n = i.debug;
            if (e < 0 || e > 24) return null;
            var s = 1 << e,
                a = ye(e, t = (t % s + s) % s, r);
            if (this.tiles[a]) return pe(this.tiles[a], o);
            n > 1 && console.log("drilling down to z%d-%d-%d", e, t, r);
            for (var l, u = e, h = t, c = r; !l && u > 0;) u--, h = Math.floor(h / 2), c = Math.floor(c / 2), l = this.tiles[ye(u, h, c)];
            return l && l.source ? (n > 1 && console.log("found parent tile z%d-%d-%d", u, h, c), n > 1 && console.time("drilling down"), this.splitTile(l.source, u, h, c, e, t, r), n > 1 && console.timeEnd("drilling down"), this.tiles[a] ? pe(this.tiles[a], o) : null) : null
        };
        var we = function(t) {
                function r(e, r, i, o) {
                    t.call(this, e, r, i, xe), o && (this.loadGeoJSON = o);
                }
                return t && (r.__proto__ = t), (r.prototype = Object.create(t && t.prototype)).constructor = r, r.prototype.loadData = function(e, t) {
                    this._pendingCallback && this._pendingCallback(null, {
                        abandoned: !0
                    }), this._pendingCallback = t, this._pendingLoadDataParams = e, this._state && "Idle" !== this._state ? this._state = "NeedsLoadData" : (this._state = "Coalescing", this._loadData());
                }, r.prototype._loadData = function() {
                    var t = this;
                    if (this._pendingCallback && this._pendingLoadDataParams) {
                        var r = this._pendingCallback,
                            i = this._pendingLoadDataParams;
                        delete this._pendingCallback, delete this._pendingLoadDataParams;
                        var o = !!(i && i.request && i.request.collectResourceTiming) && new e.RequestPerformance(i.request);
                        this.loadGeoJSON(i, (function(n, s) {
                            if (n || !s) return r(n);
                            if ("object" != typeof s) return r(new Error("Input data given to '" + i.source + "' is not a valid GeoJSON object."));
                            ! function e(t, r) {
                                var i, o = t && t.type;
                                if ("FeatureCollection" === o)
                                    for (i = 0; i < t.features.length; i++) e(t.features[i], r);
                                else if ("GeometryCollection" === o)
                                    for (i = 0; i < t.geometries.length; i++) e(t.geometries[i], r);
                                else if ("Feature" === o) e(t.geometry, r);
                                else if ("Polygon" === o) c(t.coordinates, r);
                                else if ("MultiPolygon" === o)
                                    for (i = 0; i < t.coordinates.length; i++) c(t.coordinates[i], r);
                                return t
                            }(s, !0);
                            try {
                                if (i.filter) {
                                    var a = e.createExpression(i.filter, {
                                        type: "boolean",
                                        "property-type": "data-driven",
                                        overridable: !1,
                                        transition: !1
                                    });
                                    if ("error" === a.result) throw new Error(a.value.map((function(e) {
                                        return e.key + ": " + e.message
                                    })).join(", "));
                                    var l = s.features.filter((function(e) {
                                        return a.value.evaluate({
                                            zoom: 0
                                        }, e)
                                    }));
                                    s = {
                                        type: "FeatureCollection",
                                        features: l
                                    };
                                }
                                t._geoJSONIndex = i.cluster ? new J(function(t) {
                                    var r = t.superclusterOptions,
                                        i = t.clusterProperties;
                                    if (!i || !r) return r;
                                    for (var o = {}, n = {}, s = {
                                            accumulated: null,
                                            zoom: 0
                                        }, a = {
                                            properties: null
                                        }, l = Object.keys(i), u = 0, h = l; u < h.length; u += 1) {
                                        var c = h[u],
                                            p = i[c],
                                            f = p[0],
                                            d = e.createExpression(p[1]),
                                            g = e.createExpression("string" == typeof f ? [f, ["accumulated"],
                                                ["get", c]
                                            ] : f);
                                        o[c] = d.value, n[c] = g.value;
                                    }
                                    return r.map = function(e) {
                                        a.properties = e;
                                        for (var t = {}, r = 0, i = l; r < i.length; r += 1) {
                                            var n = i[r];
                                            t[n] = o[n].evaluate(s, a);
                                        }
                                        return t
                                    }, r.reduce = function(e, t) {
                                        a.properties = t;
                                        for (var r = 0, i = l; r < i.length; r += 1) {
                                            var o = i[r];
                                            s.accumulated = e[o], e[o] = n[o].evaluate(s, a);
                                        }
                                    }, r
                                }(i)).load(s.features) : function(e, t) {
                                    return new me(e, t)
                                }(s, i.geojsonVtOptions);
                            } catch (n) {
                                return r(n)
                            }
                            t.loaded = {};
                            var u = {};
                            if (o) {
                                var h = o.finish();
                                h && (u.resourceTiming = {}, u.resourceTiming[i.source] = JSON.parse(JSON.stringify(h)));
                            }
                            r(null, u);
                        }));
                    }
                }, r.prototype.coalesce = function() {
                    "Coalescing" === this._state ? this._state = "Idle" : "NeedsLoadData" === this._state && (this._state = "Coalescing", this._loadData());
                }, r.prototype.reloadTile = function(e, r) {
                    var i = this.loaded;
                    return i && i[e.uid] ? t.prototype.reloadTile.call(this, e, r) : this.loadTile(e, r)
                }, r.prototype.loadGeoJSON = function(t, r) {
                    if (t.request) e.getJSON(t.request, r);
                    else {
                        if ("string" != typeof t.data) return r(new Error("Input data given to '" + t.source + "' is not a valid GeoJSON object."));
                        try {
                            return r(null, JSON.parse(t.data))
                        } catch (e) {
                            return r(new Error("Input data given to '" + t.source + "' is not a valid GeoJSON object."))
                        }
                    }
                }, r.prototype.removeSource = function(e, t) {
                    this._pendingCallback && this._pendingCallback(null, {
                        abandoned: !0
                    }), t();
                }, r.prototype.getClusterExpansionZoom = function(e, t) {
                    try {
                        t(null, this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));
                    } catch (e) {
                        t(e);
                    }
                }, r.prototype.getClusterChildren = function(e, t) {
                    try {
                        t(null, this._geoJSONIndex.getChildren(e.clusterId));
                    } catch (e) {
                        t(e);
                    }
                }, r.prototype.getClusterLeaves = function(e, t) {
                    try {
                        t(null, this._geoJSONIndex.getLeaves(e.clusterId, e.limit, e.offset));
                    } catch (e) {
                        t(e);
                    }
                }, r
            }(l),
            Se = function(t) {
                var r = this;
                this.self = t, this.actor = new e.Actor(t, this), this.layerIndexes = {}, this.availableImages = {}, this.workerSourceTypes = {
                    vector: l,
                    geojson: we
                }, this.workerSources = {}, this.demWorkerSources = {}, this.self.registerWorkerSource = function(e, t) {
                    if (r.workerSourceTypes[e]) throw new Error('Worker source with name "' + e + '" already registered.');
                    r.workerSourceTypes[e] = t;
                }, this.self.registerRTLTextPlugin = function(t) {
                    if (e.plugin.isParsed()) throw new Error("RTL text plugin already registered.");
                    e.plugin.applyArabicShaping = t.applyArabicShaping, e.plugin.processBidirectionalText = t.processBidirectionalText, e.plugin.processStyledBidirectionalText = t.processStyledBidirectionalText;
                };
            };
        return Se.prototype.setReferrer = function(e, t) {
            this.referrer = t;
        }, Se.prototype.setImages = function(e, t, r) {
            for (var i in this.availableImages[e] = t, this.workerSources[e]) {
                var o = this.workerSources[e][i];
                for (var n in o) o[n].availableImages = t;
            }
            r();
        }, Se.prototype.setLayers = function(e, t, r) {
            this.getLayerIndex(e).replace(t), r();
        }, Se.prototype.updateLayers = function(e, t, r) {
            this.getLayerIndex(e).update(t.layers, t.removedIds), r();
        }, Se.prototype.loadTile = function(e, t, r) {
            this.getWorkerSource(e, t.type, t.source).loadTile(t, r);
        }, Se.prototype.loadDEMTile = function(e, t, r) {
            this.getDEMWorkerSource(e, t.source).loadTile(t, r);
        }, Se.prototype.reloadTile = function(e, t, r) {
            this.getWorkerSource(e, t.type, t.source).reloadTile(t, r);
        }, Se.prototype.abortTile = function(e, t, r) {
            this.getWorkerSource(e, t.type, t.source).abortTile(t, r);
        }, Se.prototype.removeTile = function(e, t, r) {
            this.getWorkerSource(e, t.type, t.source).removeTile(t, r);
        }, Se.prototype.removeDEMTile = function(e, t) {
            this.getDEMWorkerSource(e, t.source).removeTile(t);
        }, Se.prototype.removeSource = function(e, t, r) {
            if (this.workerSources[e] && this.workerSources[e][t.type] && this.workerSources[e][t.type][t.source]) {
                var i = this.workerSources[e][t.type][t.source];
                delete this.workerSources[e][t.type][t.source], void 0 !== i.removeSource ? i.removeSource(t, r) : r();
            }
        }, Se.prototype.loadWorkerSource = function(e, t, r) {
            try {
                this.self.importScripts(t.url), r();
            } catch (e) {
                r(e.toString());
            }
        }, Se.prototype.syncRTLPluginState = function(t, r, i) {
            try {
                e.plugin.setState(r);
                var o = e.plugin.getPluginURL();
                if (e.plugin.isLoaded() && !e.plugin.isParsed() && null != o) {
                    this.self.importScripts(o);
                    var n = e.plugin.isParsed();
                    i(n ? void 0 : new Error("RTL Text Plugin failed to import scripts from " + o), n);
                }
            } catch (e) {
                i(e.toString());
            }
        }, Se.prototype.getAvailableImages = function(e) {
            var t = this.availableImages[e];
            return t || (t = []), t
        }, Se.prototype.getLayerIndex = function(e) {
            var t = this.layerIndexes[e];
            return t || (t = this.layerIndexes[e] = new i), t
        }, Se.prototype.getWorkerSource = function(e, t, r) {
            var i = this;
            return this.workerSources[e] || (this.workerSources[e] = {}), this.workerSources[e][t] || (this.workerSources[e][t] = {}), this.workerSources[e][t][r] || (this.workerSources[e][t][r] = new this.workerSourceTypes[t]({
                send: function(t, r, o) {
                    i.actor.send(t, r, o, e);
                }
            }, this.getLayerIndex(e), this.getAvailableImages(e))), this.workerSources[e][t][r]
        }, Se.prototype.getDEMWorkerSource = function(e, t) {
            return this.demWorkerSources[e] || (this.demWorkerSources[e] = {}), this.demWorkerSources[e][t] || (this.demWorkerSources[e][t] = new h), this.demWorkerSources[e][t]
        }, Se.prototype.enforceCacheSizeLimit = function(t, r) {
            e.enforceCacheSizeLimit(r);
        }, "undefined" != typeof WorkerGlobalScope && "undefined" != typeof self && self instanceof WorkerGlobalScope && (self.worker = new Se(self)), Se
    }));
    define(["./shared"], (function(t) {
        "use strict";
        var e = t.createCommonjsModule((function(t) {
                function e(t) {
                    return !i(t)
                }

                function i(t) {
                    return "undefined" == typeof window || "undefined" == typeof document ? "not a browser" : Array.prototype && Array.prototype.every && Array.prototype.filter && Array.prototype.forEach && Array.prototype.indexOf && Array.prototype.lastIndexOf && Array.prototype.map && Array.prototype.some && Array.prototype.reduce && Array.prototype.reduceRight && Array.isArray ? Function.prototype && Function.prototype.bind ? Object.keys && Object.create && Object.getPrototypeOf && Object.getOwnPropertyNames && Object.isSealed && Object.isFrozen && Object.isExtensible && Object.getOwnPropertyDescriptor && Object.defineProperty && Object.defineProperties && Object.seal && Object.freeze && Object.preventExtensions ? "JSON" in window && "parse" in JSON && "stringify" in JSON ? function() {
                        if (!("Worker" in window && "Blob" in window && "URL" in window)) return !1;
                        var t, e, i = new Blob([""], {
                                type: "text/javascript"
                            }),
                            o = URL.createObjectURL(i);
                        try {
                            e = new Worker(o), t = !0;
                        } catch (e) {
                            t = !1;
                        }
                        return e && e.terminate(), URL.revokeObjectURL(o), t
                    }() ? "Uint8ClampedArray" in window ? ArrayBuffer.isView ? function() {
                        var t = document.createElement("canvas");
                        t.width = t.height = 1;
                        var e = t.getContext("2d");
                        if (!e) return !1;
                        var i = e.getImageData(0, 0, 1, 1);
                        return i && i.width === t.width
                    }() ? (void 0 === o[i = t && t.failIfMajorPerformanceCaveat] && (o[i] = function(t) {
                        var i = function(t) {
                            var i = document.createElement("canvas"),
                                o = Object.create(e.webGLContextAttributes);
                            return o.failIfMajorPerformanceCaveat = t, i.probablySupportsContext ? i.probablySupportsContext("webgl", o) || i.probablySupportsContext("experimental-webgl", o) : i.supportsContext ? i.supportsContext("webgl", o) || i.supportsContext("experimental-webgl", o) : i.getContext("webgl", o) || i.getContext("experimental-webgl", o)
                        }(t);
                        if (!i) return !1;
                        var o = i.createShader(i.VERTEX_SHADER);
                        return !(!o || i.isContextLost()) && (i.shaderSource(o, "void main() {}"), i.compileShader(o), !0 === i.getShaderParameter(o, i.COMPILE_STATUS))
                    }(i)), o[i] ? void 0 : "insufficient WebGL support") : "insufficient Canvas/getImageData support" : "insufficient ArrayBuffer support" : "insufficient Uint8ClampedArray support" : "insufficient worker support" : "insufficient JSON support" : "insufficient Object support" : "insufficient Function support" : "insufficent Array support";
                    var i;
                }
                t.exports ? t.exports = e : window && (window.mapboxgl = window.mapboxgl || {}, window.mapboxgl.supported = e, window.mapboxgl.notSupportedReason = i);
                var o = {};
                e.webGLContextAttributes = {
                    antialias: !1,
                    alpha: !0,
                    stencil: !0,
                    depth: !0
                };
            })),
            i = {
                create: function(e, i, o) {
                    var r = t.window.document.createElement(e);
                    return void 0 !== i && (r.className = i), o && o.appendChild(r), r
                },
                createNS: function(e, i) {
                    return t.window.document.createElementNS(e, i)
                }
            },
            o = t.window.document && t.window.document.documentElement.style;

        function r(t) {
            if (!o) return t[0];
            for (var e = 0; e < t.length; e++)
                if (t[e] in o) return t[e];
            return t[0]
        }
        var a, n = r(["userSelect", "MozUserSelect", "WebkitUserSelect", "msUserSelect"]);
        i.disableDrag = function() {
            o && n && (a = o[n], o[n] = "none");
        }, i.enableDrag = function() {
            o && n && (o[n] = a);
        };
        var s = r(["transform", "WebkitTransform"]);
        i.setTransform = function(t, e) {
            t.style[s] = e;
        };
        var l = !1;
        try {
            var c = Object.defineProperty({}, "passive", {
                get: function() {
                    l = !0;
                }
            });
            t.window.addEventListener("test", c, c), t.window.removeEventListener("test", c, c);
        } catch (t) {
            l = !1;
        }
        i.addEventListener = function(t, e, i, o) {
            void 0 === o && (o = {}), t.addEventListener(e, i, "passive" in o && l ? o : o.capture);
        }, i.removeEventListener = function(t, e, i, o) {
            void 0 === o && (o = {}), t.removeEventListener(e, i, "passive" in o && l ? o : o.capture);
        };
        var u = function(e) {
            e.preventDefault(), e.stopPropagation(), t.window.removeEventListener("click", u, !0);
        };

        function h(t) {
            var e = t.userImage;
            return !!(e && e.render && e.render()) && (t.data.replace(new Uint8Array(e.data.buffer)), !0)
        }
        i.suppressClick = function() {
            t.window.addEventListener("click", u, !0), t.window.setTimeout((function() {
                t.window.removeEventListener("click", u, !0);
            }), 0);
        }, i.mousePos = function(e, i) {
            var o = e.getBoundingClientRect();
            return new t.Point(i.clientX - o.left - e.clientLeft, i.clientY - o.top - e.clientTop)
        }, i.touchPos = function(e, i) {
            for (var o = e.getBoundingClientRect(), r = [], a = 0; a < i.length; a++) r.push(new t.Point(i[a].clientX - o.left - e.clientLeft, i[a].clientY - o.top - e.clientTop));
            return r
        }, i.mouseButton = function(e) {
            return void 0 !== t.window.InstallTrigger && 2 === e.button && e.ctrlKey && t.window.navigator.platform.toUpperCase().indexOf("MAC") >= 0 ? 0 : e.button
        }, i.remove = function(t) {
            t.parentNode && t.parentNode.removeChild(t);
        };
        var p = function(e) {
                function i() {
                    e.call(this), this.images = {}, this.updatedImages = {}, this.callbackDispatchedThisFrame = {}, this.loaded = !1, this.requestors = [], this.patterns = {}, this.atlasImage = new t.RGBAImage({
                        width: 1,
                        height: 1
                    }), this.dirty = !0;
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.isLoaded = function() {
                    return this.loaded
                }, i.prototype.setLoaded = function(t) {
                    if (this.loaded !== t && (this.loaded = t, t)) {
                        for (var e = 0, i = this.requestors; e < i.length; e += 1) {
                            var o = i[e];
                            this._notify(o.ids, o.callback);
                        }
                        this.requestors = [];
                    }
                }, i.prototype.getImage = function(t) {
                    return this.images[t]
                }, i.prototype.addImage = function(t, e) {
                    this._validate(t, e) && (this.images[t] = e);
                }, i.prototype._validate = function(e, i) {
                    var o = !0;
                    return this._validateStretch(i.stretchX, i.data && i.data.width) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "stretchX" value'))), o = !1), this._validateStretch(i.stretchY, i.data && i.data.height) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "stretchY" value'))), o = !1), this._validateContent(i.content, i) || (this.fire(new t.ErrorEvent(new Error('Image "' + e + '" has invalid "content" value'))), o = !1), o
                }, i.prototype._validateStretch = function(t, e) {
                    if (!t) return !0;
                    for (var i = 0, o = 0, r = t; o < r.length; o += 1) {
                        var a = r[o];
                        if (a[0] < i || a[1] < a[0] || e < a[1]) return !1;
                        i = a[1];
                    }
                    return !0
                }, i.prototype._validateContent = function(t, e) {
                    return !(t && (4 !== t.length || t[0] < 0 || e.data.width < t[0] || t[1] < 0 || e.data.height < t[1] || t[2] < 0 || e.data.width < t[2] || t[3] < 0 || e.data.height < t[3] || t[2] < t[0] || t[3] < t[1]))
                }, i.prototype.updateImage = function(t, e) {
                    e.version = this.images[t].version + 1, this.images[t] = e, this.updatedImages[t] = !0;
                }, i.prototype.removeImage = function(t) {
                    var e = this.images[t];
                    delete this.images[t], delete this.patterns[t], e.userImage && e.userImage.onRemove && e.userImage.onRemove();
                }, i.prototype.listImages = function() {
                    return Object.keys(this.images)
                }, i.prototype.getImages = function(t, e) {
                    var i = !0;
                    if (!this.isLoaded())
                        for (var o = 0, r = t; o < r.length; o += 1) this.images[r[o]] || (i = !1);
                    this.isLoaded() || i ? this._notify(t, e) : this.requestors.push({
                        ids: t,
                        callback: e
                    });
                }, i.prototype._notify = function(e, i) {
                    for (var o = {}, r = 0, a = e; r < a.length; r += 1) {
                        var n = a[r];
                        this.images[n] || this.fire(new t.Event("styleimagemissing", {
                            id: n
                        }));
                        var s = this.images[n];
                        s ? o[n] = {
                            data: s.data.clone(),
                            pixelRatio: s.pixelRatio,
                            sdf: s.sdf,
                            version: s.version,
                            stretchX: s.stretchX,
                            stretchY: s.stretchY,
                            content: s.content,
                            hasRenderCallback: Boolean(s.userImage && s.userImage.render)
                        } : t.warnOnce('Image "' + n + '" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.');
                    }
                    i(null, o);
                }, i.prototype.getPixelSize = function() {
                    var t = this.atlasImage;
                    return {
                        width: t.width,
                        height: t.height
                    }
                }, i.prototype.getPattern = function(e) {
                    var i = this.patterns[e],
                        o = this.getImage(e);
                    if (!o) return null;
                    if (i && i.position.version === o.version) return i.position;
                    if (i) i.position.version = o.version;
                    else {
                        var r = {
                                w: o.data.width + 2,
                                h: o.data.height + 2,
                                x: 0,
                                y: 0
                            },
                            a = new t.ImagePosition(r, o);
                        this.patterns[e] = {
                            bin: r,
                            position: a
                        };
                    }
                    return this._updatePatternAtlas(), this.patterns[e].position
                }, i.prototype.bind = function(e) {
                    var i = e.gl;
                    this.atlasTexture ? this.dirty && (this.atlasTexture.update(this.atlasImage), this.dirty = !1) : this.atlasTexture = new t.Texture(e, this.atlasImage, i.RGBA), this.atlasTexture.bind(i.LINEAR, i.CLAMP_TO_EDGE);
                }, i.prototype._updatePatternAtlas = function() {
                    var e = [];
                    for (var i in this.patterns) e.push(this.patterns[i].bin);
                    var o = t.potpack(e),
                        r = o.w,
                        a = o.h,
                        n = this.atlasImage;
                    for (var s in n.resize({
                            width: r || 1,
                            height: a || 1
                        }), this.patterns) {
                        var l = this.patterns[s].bin,
                            c = l.x + 1,
                            u = l.y + 1,
                            h = this.images[s].data,
                            p = h.width,
                            d = h.height;
                        t.RGBAImage.copy(h, n, {
                            x: 0,
                            y: 0
                        }, {
                            x: c,
                            y: u
                        }, {
                            width: p,
                            height: d
                        }), t.RGBAImage.copy(h, n, {
                            x: 0,
                            y: d - 1
                        }, {
                            x: c,
                            y: u - 1
                        }, {
                            width: p,
                            height: 1
                        }), t.RGBAImage.copy(h, n, {
                            x: 0,
                            y: 0
                        }, {
                            x: c,
                            y: u + d
                        }, {
                            width: p,
                            height: 1
                        }), t.RGBAImage.copy(h, n, {
                            x: p - 1,
                            y: 0
                        }, {
                            x: c - 1,
                            y: u
                        }, {
                            width: 1,
                            height: d
                        }), t.RGBAImage.copy(h, n, {
                            x: 0,
                            y: 0
                        }, {
                            x: c + p,
                            y: u
                        }, {
                            width: 1,
                            height: d
                        });
                    }
                    this.dirty = !0;
                }, i.prototype.beginFrame = function() {
                    this.callbackDispatchedThisFrame = {};
                }, i.prototype.dispatchRenderCallbacks = function(t) {
                    for (var e = 0, i = t; e < i.length; e += 1) {
                        var o = i[e];
                        if (!this.callbackDispatchedThisFrame[o]) {
                            this.callbackDispatchedThisFrame[o] = !0;
                            var r = this.images[o];
                            h(r) && this.updateImage(o, r);
                        }
                    }
                }, i
            }(t.Evented),
            d = m,
            _ = m,
            f = 1e20;

        function m(t, e, i, o, r, a) {
            this.fontSize = t || 24, this.buffer = void 0 === e ? 3 : e, this.cutoff = o || .25, this.fontFamily = r || "sans-serif", this.fontWeight = a || "normal", this.radius = i || 8;
            var n = this.size = this.fontSize + 2 * this.buffer;
            this.canvas = document.createElement("canvas"), this.canvas.width = this.canvas.height = n, this.ctx = this.canvas.getContext("2d"), this.ctx.font = this.fontWeight + " " + this.fontSize + "px " + this.fontFamily, this.ctx.textBaseline = "middle", this.ctx.fillStyle = "black", this.gridOuter = new Float64Array(n * n), this.gridInner = new Float64Array(n * n), this.f = new Float64Array(n), this.d = new Float64Array(n), this.z = new Float64Array(n + 1), this.v = new Int16Array(n), this.middle = Math.round(n / 2 * (navigator.userAgent.indexOf("Gecko/") >= 0 ? 1.2 : 1));
        }

        function g(t, e, i, o, r, a, n) {
            for (var s = 0; s < e; s++) {
                for (var l = 0; l < i; l++) o[l] = t[l * e + s];
                for (v(o, r, a, n, i), l = 0; l < i; l++) t[l * e + s] = r[l];
            }
            for (l = 0; l < i; l++) {
                for (s = 0; s < e; s++) o[s] = t[l * e + s];
                for (v(o, r, a, n, e), s = 0; s < e; s++) t[l * e + s] = Math.sqrt(r[s]);
            }
        }

        function v(t, e, i, o, r) {
            i[0] = 0, o[0] = -f, o[1] = +f;
            for (var a = 1, n = 0; a < r; a++) {
                for (var s = (t[a] + a * a - (t[i[n]] + i[n] * i[n])) / (2 * a - 2 * i[n]); s <= o[n];) n--, s = (t[a] + a * a - (t[i[n]] + i[n] * i[n])) / (2 * a - 2 * i[n]);
                i[++n] = a, o[n] = s, o[n + 1] = +f;
            }
            for (a = 0, n = 0; a < r; a++) {
                for (; o[n + 1] < a;) n++;
                e[a] = (a - i[n]) * (a - i[n]) + t[i[n]];
            }
        }
        m.prototype.draw = function(t) {
            this.ctx.clearRect(0, 0, this.size, this.size), this.ctx.fillText(t, this.buffer, this.middle);
            for (var e = this.ctx.getImageData(0, 0, this.size, this.size), i = new Uint8ClampedArray(this.size * this.size), o = 0; o < this.size * this.size; o++) {
                var r = e.data[4 * o + 3] / 255;
                this.gridOuter[o] = 1 === r ? 0 : 0 === r ? f : Math.pow(Math.max(0, .5 - r), 2), this.gridInner[o] = 1 === r ? f : 0 === r ? 0 : Math.pow(Math.max(0, r - .5), 2);
            }
            for (g(this.gridOuter, this.size, this.size, this.f, this.d, this.v, this.z), g(this.gridInner, this.size, this.size, this.f, this.d, this.v, this.z), o = 0; o < this.size * this.size; o++) i[o] = Math.max(0, Math.min(255, Math.round(255 - 255 * ((this.gridOuter[o] - this.gridInner[o]) / this.radius + this.cutoff))));
            return i
        }, d.default = _;
        var y = function(t, e) {
            this.requestManager = t, this.localIdeographFontFamily = e, this.entries = {};
        };
        y.prototype.setURL = function(t) {
            this.url = t;
        }, y.prototype.getGlyphs = function(e, i) {
            var o = this,
                r = [];
            for (var a in e)
                for (var n = 0, s = e[a]; n < s.length; n += 1) r.push({
                    stack: a,
                    id: s[n]
                });
            t.asyncAll(r, (function(t, e) {
                var i = t.stack,
                    r = t.id,
                    a = o.entries[i];
                a || (a = o.entries[i] = {
                    glyphs: {},
                    requests: {},
                    ranges: {}
                });
                var n = a.glyphs[r];
                if (void 0 === n) {
                    if (n = o._tinySDF(a, i, r)) return a.glyphs[r] = n, void e(null, {
                        stack: i,
                        id: r,
                        glyph: n
                    });
                    var s = Math.floor(r / 256);
                    if (256 * s > 65535) e(new Error("glyphs > 65535 not supported"));
                    else if (a.ranges[s]) e(null, {
                        stack: i,
                        id: r,
                        glyph: n
                    });
                    else {
                        var l = a.requests[s];
                        l || (l = a.requests[s] = [], y.loadGlyphRange(i, s, o.url, o.requestManager, (function(t, e) {
                            if (e) {
                                for (var i in e) o._doesCharSupportLocalGlyph(+i) || (a.glyphs[+i] = e[+i]);
                                a.ranges[s] = !0;
                            }
                            for (var r = 0, n = l; r < n.length; r += 1)(0, n[r])(t, e);
                            delete a.requests[s];
                        }))), l.push((function(t, o) {
                            t ? e(t) : o && e(null, {
                                stack: i,
                                id: r,
                                glyph: o[r] || null
                            });
                        }));
                    }
                } else e(null, {
                    stack: i,
                    id: r,
                    glyph: n
                });
            }), (function(t, e) {
                if (t) i(t);
                else if (e) {
                    for (var o = {}, r = 0, a = e; r < a.length; r += 1) {
                        var n = a[r],
                            s = n.stack,
                            l = n.id,
                            c = n.glyph;
                        (o[s] || (o[s] = {}))[l] = c && {
                            id: c.id,
                            bitmap: c.bitmap.clone(),
                            metrics: c.metrics
                        };
                    }
                    i(null, o);
                }
            }));
        }, y.prototype._doesCharSupportLocalGlyph = function(e) {
            return !!this.localIdeographFontFamily && (t.isChar["CJK Unified Ideographs"](e) || t.isChar["Hangul Syllables"](e) || t.isChar.Hiragana(e) || t.isChar.Katakana(e))
        }, y.prototype._tinySDF = function(e, i, o) {
            var r = this.localIdeographFontFamily;
            if (r && this._doesCharSupportLocalGlyph(o)) {
                var a = e.tinySDF;
                if (!a) {
                    var n = "400";
                    /bold/i.test(i) ? n = "900" : /medium/i.test(i) ? n = "500" : /light/i.test(i) && (n = "200"), a = e.tinySDF = new y.TinySDF(24, 3, 8, .25, r, n);
                }
                return {
                    id: o,
                    bitmap: new t.AlphaImage({
                        width: 30,
                        height: 30
                    }, a.draw(String.fromCharCode(o))),
                    metrics: {
                        width: 24,
                        height: 24,
                        left: 0,
                        top: -8,
                        advance: 24
                    }
                }
            }
        }, y.loadGlyphRange = function(e, i, o, r, a) {
            var n = 256 * i,
                s = n + 255,
                l = r.transformRequest(r.normalizeGlyphsURL(o).replace("{fontstack}", e).replace("{range}", n + "-" + s), t.ResourceType.Glyphs);
            t.getArrayBuffer(l, (function(e, i) {
                if (e) a(e);
                else if (i) {
                    for (var o = {}, r = 0, n = t.parseGlyphPBF(i); r < n.length; r += 1) {
                        var s = n[r];
                        o[s.id] = s;
                    }
                    a(null, o);
                }
            }));
        }, y.TinySDF = d;
        var x = function() {
            this.specification = t.styleSpec.light.position;
        };
        x.prototype.possiblyEvaluate = function(e, i) {
            return t.sphericalToCartesian(e.expression.evaluate(i))
        }, x.prototype.interpolate = function(e, i, o) {
            return {
                x: t.number(e.x, i.x, o),
                y: t.number(e.y, i.y, o),
                z: t.number(e.z, i.z, o)
            }
        };
        var b = new t.Properties({
                anchor: new t.DataConstantProperty(t.styleSpec.light.anchor),
                position: new x,
                color: new t.DataConstantProperty(t.styleSpec.light.color),
                intensity: new t.DataConstantProperty(t.styleSpec.light.intensity)
            }),
            w = function(e) {
                function i(i) {
                    e.call(this), this._transitionable = new t.Transitionable(b), this.setLight(i), this._transitioning = this._transitionable.untransitioned();
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.getLight = function() {
                    return this._transitionable.serialize()
                }, i.prototype.setLight = function(e, i) {
                    if (void 0 === i && (i = {}), !this._validate(t.validateLight, e, i))
                        for (var o in e) {
                            var r = e[o];
                            t.endsWith(o, "-transition") ? this._transitionable.setTransition(o.slice(0, -"-transition".length), r) : this._transitionable.setValue(o, r);
                        }
                }, i.prototype.updateTransitions = function(t) {
                    this._transitioning = this._transitionable.transitioned(t, this._transitioning);
                }, i.prototype.hasTransition = function() {
                    return this._transitioning.hasTransition()
                }, i.prototype.recalculate = function(t) {
                    this.properties = this._transitioning.possiblyEvaluate(t);
                }, i.prototype._validate = function(e, i, o) {
                    return (!o || !1 !== o.validate) && t.emitValidationErrors(this, e.call(t.validateStyle, t.extend({
                        value: i,
                        style: {
                            glyphs: !0,
                            sprite: !0
                        },
                        styleSpec: t.styleSpec
                    })))
                }, i
            }(t.Evented),
            T = function(t, e) {
                this.width = t, this.height = e, this.nextRow = 0, this.data = new Uint8Array(this.width * this.height), this.dashEntry = {};
            };
        T.prototype.getDash = function(t, e) {
            var i = t.join(",") + String(e);
            return this.dashEntry[i] || (this.dashEntry[i] = this.addDash(t, e)), this.dashEntry[i]
        }, T.prototype.getDashRanges = function(t, e, i) {
            var o = [],
                r = t.length % 2 == 1 ? -t[t.length - 1] * i : 0,
                a = t[0] * i,
                n = !0;
            o.push({
                left: r,
                right: a,
                isDash: n,
                zeroLength: 0 === t[0]
            });
            for (var s = t[0], l = 1; l < t.length; l++) {
                var c = t[l];
                o.push({
                    left: r = s * i,
                    right: a = (s += c) * i,
                    isDash: n = !n,
                    zeroLength: 0 === c
                });
            }
            return o
        }, T.prototype.addRoundDash = function(t, e, i) {
            for (var o = e / 2, r = -i; r <= i; r++)
                for (var a = this.width * (this.nextRow + i + r), n = 0, s = t[n], l = 0; l < this.width; l++) {
                    l / s.right > 1 && (s = t[++n]);
                    var c = Math.abs(l - s.left),
                        u = Math.abs(l - s.right),
                        h = Math.min(c, u),
                        p = void 0,
                        d = r / i * (o + 1);
                    if (s.isDash) {
                        var _ = o - Math.abs(d);
                        p = Math.sqrt(h * h + _ * _);
                    } else p = o - Math.sqrt(h * h + d * d);
                    this.data[a + l] = Math.max(0, Math.min(255, p + 128));
                }
        }, T.prototype.addRegularDash = function(t) {
            for (var e = t.length - 1; e >= 0; --e) {
                var i = t[e],
                    o = t[e + 1];
                i.zeroLength ? t.splice(e, 1) : o && o.isDash === i.isDash && (o.left = i.left, t.splice(e, 1));
            }
            var r = t[0],
                a = t[t.length - 1];
            r.isDash === a.isDash && (r.left = a.left - this.width, a.right = r.right + this.width);
            for (var n = this.width * this.nextRow, s = 0, l = t[s], c = 0; c < this.width; c++) {
                c / l.right > 1 && (l = t[++s]);
                var u = Math.abs(c - l.left),
                    h = Math.abs(c - l.right),
                    p = Math.min(u, h);
                this.data[n + c] = Math.max(0, Math.min(255, (l.isDash ? p : -p) + 128));
            }
        }, T.prototype.addDash = function(e, i) {
            var o = i ? 7 : 0,
                r = 2 * o + 1;
            if (this.nextRow + r > this.height) return t.warnOnce("LineAtlas out of space"), null;
            for (var a = 0, n = 0; n < e.length; n++) a += e[n];
            if (0 !== a) {
                var s = this.width / a,
                    l = this.getDashRanges(e, this.width, s);
                i ? this.addRoundDash(l, s, o) : this.addRegularDash(l);
            }
            var c = {
                y: (this.nextRow + o + .5) / this.height,
                height: 2 * o / this.height,
                width: a
            };
            return this.nextRow += r, this.dirty = !0, c
        }, T.prototype.bind = function(t) {
            var e = t.gl;
            this.texture ? (e.bindTexture(e.TEXTURE_2D, this.texture), this.dirty && (this.dirty = !1, e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.width, this.height, e.ALPHA, e.UNSIGNED_BYTE, this.data))) : (this.texture = e.createTexture(), e.bindTexture(e.TEXTURE_2D, this.texture), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.REPEAT), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texImage2D(e.TEXTURE_2D, 0, e.ALPHA, this.width, this.height, 0, e.ALPHA, e.UNSIGNED_BYTE, this.data));
        };
        var E = function e(i, o) {
            this.workerPool = i, this.actors = [], this.currentActor = 0, this.id = t.uniqueId();
            for (var r = this.workerPool.acquire(this.id), a = 0; a < r.length; a++) {
                var n = new e.Actor(r[a], o, this.id);
                n.name = "Worker " + a, this.actors.push(n);
            }
        };

        function I(e, i, o) {
            var r = function(r, a) {
                if (r) return o(r);
                if (a) {
                    var n = t.pick(t.extend(a, e), ["tiles", "minzoom", "maxzoom", "attribution", "mapbox_logo", "bounds", "scheme", "tileSize", "encoding"]);
                    a.vector_layers && (n.vectorLayers = a.vector_layers, n.vectorLayerIds = n.vectorLayers.map((function(t) {
                        return t.id
                    }))), n.tiles = i.canonicalizeTileset(n, e.url), o(null, n);
                }
            };
            return e.url ? t.getJSON(i.transformRequest(i.normalizeSourceURL(e.url), t.ResourceType.Source), r) : t.browser.frame((function() {
                return r(null, e)
            }))
        }
        E.prototype.broadcast = function(e, i, o) {
            t.asyncAll(this.actors, (function(t, o) {
                t.send(e, i, o);
            }), o = o || function() {});
        }, E.prototype.getActor = function() {
            return this.currentActor = (this.currentActor + 1) % this.actors.length, this.actors[this.currentActor]
        }, E.prototype.remove = function() {
            this.actors.forEach((function(t) {
                t.remove();
            })), this.actors = [], this.workerPool.release(this.id);
        }, E.Actor = t.Actor;
        var P = function(e, i, o) {
            this.bounds = t.LngLatBounds.convert(this.validateBounds(e)), this.minzoom = i || 0, this.maxzoom = o || 24;
        };
        P.prototype.validateBounds = function(t) {
            return Array.isArray(t) && 4 === t.length ? [Math.max(-180, t[0]), Math.max(-90, t[1]), Math.min(180, t[2]), Math.min(90, t[3])] : [-180, -90, 180, 90]
        }, P.prototype.contains = function(e) {
            var i = Math.pow(2, e.z),
                o = Math.floor(t.mercatorXfromLng(this.bounds.getWest()) * i),
                r = Math.floor(t.mercatorYfromLat(this.bounds.getNorth()) * i),
                a = Math.ceil(t.mercatorXfromLng(this.bounds.getEast()) * i),
                n = Math.ceil(t.mercatorYfromLat(this.bounds.getSouth()) * i);
            return e.x >= o && e.x < a && e.y >= r && e.y < n
        };
        var S = function(e) {
                function i(i, o, r, a) {
                    if (e.call(this), this.id = i, this.dispatcher = r, this.type = "vector", this.minzoom = 0, this.maxzoom = 22, this.scheme = "xyz", this.tileSize = 512, this.reparseOverscaled = !0, this.isTileClipped = !0, this._loaded = !1, t.extend(this, t.pick(o, ["url", "scheme", "tileSize", "promoteId"])), this._options = t.extend({
                            type: "vector"
                        }, o), this._collectResourceTiming = o.collectResourceTiming, 512 !== this.tileSize) throw new Error("vector tile sources must have a tileSize of 512");
                    this.setEventedParent(a);
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function() {
                    var e = this;
                    this._loaded = !1, this.fire(new t.Event("dataloading", {
                        dataType: "source"
                    })), this._tileJSONRequest = I(this._options, this.map._requestManager, (function(i, o) {
                        e._tileJSONRequest = null, e._loaded = !0, i ? e.fire(new t.ErrorEvent(i)) : o && (t.extend(e, o), o.bounds && (e.tileBounds = new P(o.bounds, e.minzoom, e.maxzoom)), t.postTurnstileEvent(o.tiles, e.map._requestManager._customAccessToken), t.postMapLoadEvent(o.tiles, e.map._getMapId(), e.map._requestManager._skuToken, e.map._requestManager._customAccessToken), e.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "metadata"
                        })), e.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "content"
                        })));
                    }));
                }, i.prototype.loaded = function() {
                    return this._loaded
                }, i.prototype.hasTile = function(t) {
                    return !this.tileBounds || this.tileBounds.contains(t.canonical)
                }, i.prototype.onAdd = function(t) {
                    this.map = t, this.load();
                }, i.prototype.setSourceProperty = function(t) {
                    this._tileJSONRequest && this._tileJSONRequest.cancel(), t(), this.map.style.sourceCaches[this.id].clearTiles(), this.load();
                }, i.prototype.setTiles = function(t) {
                    var e = this;
                    return this.setSourceProperty((function() {
                        e._options.tiles = t;
                    })), this
                }, i.prototype.setUrl = function(t) {
                    var e = this;
                    return this.setSourceProperty((function() {
                        e.url = t, e._options.url = t;
                    })), this
                }, i.prototype.onRemove = function() {
                    this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
                }, i.prototype.serialize = function() {
                    return t.extend({}, this._options)
                }, i.prototype.loadTile = function(e, i) {
                    var o = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme)),
                        r = {
                            request: this.map._requestManager.transformRequest(o, t.ResourceType.Tile),
                            uid: e.uid,
                            tileID: e.tileID,
                            zoom: e.tileID.overscaledZ,
                            tileSize: this.tileSize * e.tileID.overscaleFactor(),
                            type: this.type,
                            source: this.id,
                            pixelRatio: t.browser.devicePixelRatio,
                            showCollisionBoxes: this.map.showCollisionBoxes,
                            promoteId: this.promoteId
                        };

                    function a(o, r) {
                        return delete e.request, e.aborted ? i(null) : o && 404 !== o.status ? i(o) : (r && r.resourceTiming && (e.resourceTiming = r.resourceTiming), this.map._refreshExpiredTiles && r && e.setExpiryData(r), e.loadVectorData(r, this.map.painter), t.cacheEntryPossiblyAdded(this.dispatcher), i(null), void(e.reloadCallback && (this.loadTile(e, e.reloadCallback), e.reloadCallback = null)))
                    }
                    r.request.collectResourceTiming = this._collectResourceTiming, e.actor && "expired" !== e.state ? "loading" === e.state ? e.reloadCallback = i : e.request = e.actor.send("reloadTile", r, a.bind(this)) : (e.actor = this.dispatcher.getActor(), e.request = e.actor.send("loadTile", r, a.bind(this)));
                }, i.prototype.abortTile = function(t) {
                    t.request && (t.request.cancel(), delete t.request), t.actor && t.actor.send("abortTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.id
                    }, void 0);
                }, i.prototype.unloadTile = function(t) {
                    t.unloadVectorData(), t.actor && t.actor.send("removeTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.id
                    }, void 0);
                }, i.prototype.hasTransition = function() {
                    return !1
                }, i
            }(t.Evented),
            C = function(e) {
                function i(i, o, r, a) {
                    e.call(this), this.id = i, this.dispatcher = r, this.setEventedParent(a), this.type = "raster", this.minzoom = 0, this.maxzoom = 22, this.roundZoom = !0, this.scheme = "xyz", this.tileSize = 512, this._loaded = !1, this._options = t.extend({
                        type: "raster"
                    }, o), t.extend(this, t.pick(o, ["url", "scheme", "tileSize"]));
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function() {
                    var e = this;
                    this._loaded = !1, this.fire(new t.Event("dataloading", {
                        dataType: "source"
                    })), this._tileJSONRequest = I(this._options, this.map._requestManager, (function(i, o) {
                        e._tileJSONRequest = null, e._loaded = !0, i ? e.fire(new t.ErrorEvent(i)) : o && (t.extend(e, o), o.bounds && (e.tileBounds = new P(o.bounds, e.minzoom, e.maxzoom)), t.postTurnstileEvent(o.tiles), t.postMapLoadEvent(o.tiles, e.map._getMapId(), e.map._requestManager._skuToken), e.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "metadata"
                        })), e.fire(new t.Event("data", {
                            dataType: "source",
                            sourceDataType: "content"
                        })));
                    }));
                }, i.prototype.loaded = function() {
                    return this._loaded
                }, i.prototype.onAdd = function(t) {
                    this.map = t, this.load();
                }, i.prototype.onRemove = function() {
                    this._tileJSONRequest && (this._tileJSONRequest.cancel(), this._tileJSONRequest = null);
                }, i.prototype.serialize = function() {
                    return t.extend({}, this._options)
                }, i.prototype.hasTile = function(t) {
                    return !this.tileBounds || this.tileBounds.contains(t.canonical)
                }, i.prototype.loadTile = function(e, i) {
                    var o = this,
                        r = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme), this.tileSize);
                    e.request = t.getImage(this.map._requestManager.transformRequest(r, t.ResourceType.Tile), (function(r, a) {
                        if (delete e.request, e.aborted) e.state = "unloaded", i(null);
                        else if (r) e.state = "errored", i(r);
                        else if (a) {
                            o.map._refreshExpiredTiles && e.setExpiryData(a), delete a.cacheControl, delete a.expires;
                            var n = o.map.painter.context,
                                s = n.gl;
                            e.texture = o.map.painter.getTileTexture(a.width), e.texture ? e.texture.update(a, {
                                useMipmap: !0
                            }) : (e.texture = new t.Texture(n, a, s.RGBA, {
                                useMipmap: !0
                            }), e.texture.bind(s.LINEAR, s.CLAMP_TO_EDGE, s.LINEAR_MIPMAP_NEAREST), n.extTextureFilterAnisotropic && s.texParameterf(s.TEXTURE_2D, n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT, n.extTextureFilterAnisotropicMax)), e.state = "loaded", t.cacheEntryPossiblyAdded(o.dispatcher), i(null);
                        }
                    }));
                }, i.prototype.abortTile = function(t, e) {
                    t.request && (t.request.cancel(), delete t.request), e();
                }, i.prototype.unloadTile = function(t, e) {
                    t.texture && this.map.painter.saveTileTexture(t.texture), e();
                }, i.prototype.hasTransition = function() {
                    return !1
                }, i
            }(t.Evented),
            z = function(e) {
                function i(i, o, r, a) {
                    e.call(this, i, o, r, a), this.type = "raster-dem", this.maxzoom = 22, this._options = t.extend({
                        type: "raster-dem"
                    }, o), this.encoding = o.encoding || "mapbox";
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.serialize = function() {
                    return {
                        type: "raster-dem",
                        url: this.url,
                        tileSize: this.tileSize,
                        tiles: this.tiles,
                        bounds: this.bounds,
                        encoding: this.encoding
                    }
                }, i.prototype.loadTile = function(e, i) {
                    var o = this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles, this.scheme), this.tileSize);

                    function r(t, o) {
                        t && (e.state = "errored", i(t)), o && (e.dem = o, e.needsHillshadePrepare = !0, e.state = "loaded", i(null));
                    }
                    e.request = t.getImage(this.map._requestManager.transformRequest(o, t.ResourceType.Tile), function(o, a) {
                        if (delete e.request, e.aborted) e.state = "unloaded", i(null);
                        else if (o) e.state = "errored", i(o);
                        else if (a) {
                            this.map._refreshExpiredTiles && e.setExpiryData(a), delete a.cacheControl, delete a.expires;
                            var n = t.window.ImageBitmap && a instanceof t.window.ImageBitmap && t.offscreenCanvasSupported() ? a : t.browser.getImageData(a, 1),
                                s = {
                                    uid: e.uid,
                                    coord: e.tileID,
                                    source: this.id,
                                    rawImageData: n,
                                    encoding: this.encoding
                                };
                            e.actor && "expired" !== e.state || (e.actor = this.dispatcher.getActor(), e.actor.send("loadDEMTile", s, r.bind(this)));
                        }
                    }.bind(this)), e.neighboringTiles = this._getNeighboringTiles(e.tileID);
                }, i.prototype._getNeighboringTiles = function(e) {
                    var i = e.canonical,
                        o = Math.pow(2, i.z),
                        r = (i.x - 1 + o) % o,
                        a = 0 === i.x ? e.wrap - 1 : e.wrap,
                        n = (i.x + 1 + o) % o,
                        s = i.x + 1 === o ? e.wrap + 1 : e.wrap,
                        l = {};
                    return l[new t.OverscaledTileID(e.overscaledZ, a, i.z, r, i.y).key] = {
                        backfilled: !1
                    }, l[new t.OverscaledTileID(e.overscaledZ, s, i.z, n, i.y).key] = {
                        backfilled: !1
                    }, i.y > 0 && (l[new t.OverscaledTileID(e.overscaledZ, a, i.z, r, i.y - 1).key] = {
                        backfilled: !1
                    }, l[new t.OverscaledTileID(e.overscaledZ, e.wrap, i.z, i.x, i.y - 1).key] = {
                        backfilled: !1
                    }, l[new t.OverscaledTileID(e.overscaledZ, s, i.z, n, i.y - 1).key] = {
                        backfilled: !1
                    }), i.y + 1 < o && (l[new t.OverscaledTileID(e.overscaledZ, a, i.z, r, i.y + 1).key] = {
                        backfilled: !1
                    }, l[new t.OverscaledTileID(e.overscaledZ, e.wrap, i.z, i.x, i.y + 1).key] = {
                        backfilled: !1
                    }, l[new t.OverscaledTileID(e.overscaledZ, s, i.z, n, i.y + 1).key] = {
                        backfilled: !1
                    }), l
                }, i.prototype.unloadTile = function(t) {
                    t.demTexture && this.map.painter.saveTileTexture(t.demTexture), t.fbo && (t.fbo.destroy(), delete t.fbo), t.dem && delete t.dem, delete t.neighboringTiles, t.state = "unloaded", t.actor && t.actor.send("removeDEMTile", {
                        uid: t.uid,
                        source: this.id
                    });
                }, i
            }(C),
            D = function(e) {
                function i(i, o, r, a) {
                    e.call(this), this.id = i, this.type = "geojson", this.minzoom = 0, this.maxzoom = 18, this.tileSize = 512, this.isTileClipped = !0, this.reparseOverscaled = !0, this._removed = !1, this._loaded = !1, this.actor = r.getActor(), this.setEventedParent(a), this._data = o.data, this._options = t.extend({}, o), this._collectResourceTiming = o.collectResourceTiming, this._resourceTiming = [], void 0 !== o.maxzoom && (this.maxzoom = o.maxzoom), o.type && (this.type = o.type), o.attribution && (this.attribution = o.attribution), this.promoteId = o.promoteId;
                    var n = t.EXTENT / this.tileSize;
                    this.workerOptions = t.extend({
                        source: this.id,
                        cluster: o.cluster || !1,
                        geojsonVtOptions: {
                            buffer: (void 0 !== o.buffer ? o.buffer : 128) * n,
                            tolerance: (void 0 !== o.tolerance ? o.tolerance : .375) * n,
                            extent: t.EXTENT,
                            maxZoom: this.maxzoom,
                            lineMetrics: o.lineMetrics || !1,
                            generateId: o.generateId || !1
                        },
                        superclusterOptions: {
                            maxZoom: void 0 !== o.clusterMaxZoom ? Math.min(o.clusterMaxZoom, this.maxzoom - 1) : this.maxzoom - 1,
                            minPoints: Math.max(2, o.clusterMinPoints || 2),
                            extent: t.EXTENT,
                            radius: (o.clusterRadius || 50) * n,
                            log: !1,
                            generateId: o.generateId || !1
                        },
                        clusterProperties: o.clusterProperties,
                        filter: o.filter
                    }, o.workerOptions);
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function() {
                    var e = this;
                    this.fire(new t.Event("dataloading", {
                        dataType: "source"
                    })), this._updateWorkerData((function(i) {
                        if (i) e.fire(new t.ErrorEvent(i));
                        else {
                            var o = {
                                dataType: "source",
                                sourceDataType: "metadata"
                            };
                            e._collectResourceTiming && e._resourceTiming && e._resourceTiming.length > 0 && (o.resourceTiming = e._resourceTiming, e._resourceTiming = []), e.fire(new t.Event("data", o));
                        }
                    }));
                }, i.prototype.onAdd = function(t) {
                    this.map = t, this.load();
                }, i.prototype.setData = function(e) {
                    var i = this;
                    return this._data = e, this.fire(new t.Event("dataloading", {
                        dataType: "source"
                    })), this._updateWorkerData((function(e) {
                        if (e) i.fire(new t.ErrorEvent(e));
                        else {
                            var o = {
                                dataType: "source",
                                sourceDataType: "content"
                            };
                            i._collectResourceTiming && i._resourceTiming && i._resourceTiming.length > 0 && (o.resourceTiming = i._resourceTiming, i._resourceTiming = []), i.fire(new t.Event("data", o));
                        }
                    })), this
                }, i.prototype.getClusterExpansionZoom = function(t, e) {
                    return this.actor.send("geojson.getClusterExpansionZoom", {
                        clusterId: t,
                        source: this.id
                    }, e), this
                }, i.prototype.getClusterChildren = function(t, e) {
                    return this.actor.send("geojson.getClusterChildren", {
                        clusterId: t,
                        source: this.id
                    }, e), this
                }, i.prototype.getClusterLeaves = function(t, e, i, o) {
                    return this.actor.send("geojson.getClusterLeaves", {
                        source: this.id,
                        clusterId: t,
                        limit: e,
                        offset: i
                    }, o), this
                }, i.prototype._updateWorkerData = function(e) {
                    var i = this;
                    this._loaded = !1;
                    var o = t.extend({}, this.workerOptions),
                        r = this._data;
                    "string" == typeof r ? (o.request = this.map._requestManager.transformRequest(t.browser.resolveURL(r), t.ResourceType.Source), o.request.collectResourceTiming = this._collectResourceTiming) : o.data = JSON.stringify(r), this.actor.send(this.type + ".loadData", o, (function(t, r) {
                        i._removed || r && r.abandoned || (i._loaded = !0, r && r.resourceTiming && r.resourceTiming[i.id] && (i._resourceTiming = r.resourceTiming[i.id].slice(0)), i.actor.send(i.type + ".coalesce", {
                            source: o.source
                        }, null), e(t));
                    }));
                }, i.prototype.loaded = function() {
                    return this._loaded
                }, i.prototype.loadTile = function(e, i) {
                    var o = this,
                        r = e.actor ? "reloadTile" : "loadTile";
                    e.actor = this.actor, e.request = this.actor.send(r, {
                        type: this.type,
                        uid: e.uid,
                        tileID: e.tileID,
                        zoom: e.tileID.overscaledZ,
                        maxZoom: this.maxzoom,
                        tileSize: this.tileSize,
                        source: this.id,
                        pixelRatio: t.browser.devicePixelRatio,
                        showCollisionBoxes: this.map.showCollisionBoxes,
                        promoteId: this.promoteId
                    }, (function(t, a) {
                        return delete e.request, e.unloadVectorData(), e.aborted ? i(null) : t ? i(t) : (e.loadVectorData(a, o.map.painter, "reloadTile" === r), i(null))
                    }));
                }, i.prototype.abortTile = function(t) {
                    t.request && (t.request.cancel(), delete t.request), t.aborted = !0;
                }, i.prototype.unloadTile = function(t) {
                    t.unloadVectorData(), this.actor.send("removeTile", {
                        uid: t.uid,
                        type: this.type,
                        source: this.id
                    });
                }, i.prototype.onRemove = function() {
                    this._removed = !0, this.actor.send("removeSource", {
                        type: this.type,
                        source: this.id
                    });
                }, i.prototype.serialize = function() {
                    return t.extend({}, this._options, {
                        type: this.type,
                        data: this._data
                    })
                }, i.prototype.hasTransition = function() {
                    return !1
                }, i
            }(t.Evented),
            M = t.createLayout([{
                name: "a_pos",
                type: "Int16",
                components: 2
            }, {
                name: "a_texture_pos",
                type: "Int16",
                components: 2
            }]),
            L = function(e) {
                function i(t, i, o, r) {
                    e.call(this), this.id = t, this.dispatcher = o, this.coordinates = i.coordinates, this.type = "image", this.minzoom = 0, this.maxzoom = 22, this.tileSize = 512, this.tiles = {}, this._loaded = !1, this.setEventedParent(r), this.options = i;
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function(e, i) {
                    var o = this;
                    this._loaded = !1, this.fire(new t.Event("dataloading", {
                        dataType: "source"
                    })), this.url = this.options.url, t.getImage(this.map._requestManager.transformRequest(this.url, t.ResourceType.Image), (function(r, a) {
                        o._loaded = !0, r ? o.fire(new t.ErrorEvent(r)) : a && (o.image = a, e && (o.coordinates = e), i && i(), o._finishLoading());
                    }));
                }, i.prototype.loaded = function() {
                    return this._loaded
                }, i.prototype.updateImage = function(t) {
                    var e = this;
                    return this.image && t.url ? (this.options.url = t.url, this.load(t.coordinates, (function() {
                        e.texture = null;
                    })), this) : this
                }, i.prototype._finishLoading = function() {
                    this.map && (this.setCoordinates(this.coordinates), this.fire(new t.Event("data", {
                        dataType: "source",
                        sourceDataType: "metadata"
                    })));
                }, i.prototype.onAdd = function(t) {
                    this.map = t, this.load();
                }, i.prototype.setCoordinates = function(e) {
                    var i = this;
                    this.coordinates = e;
                    var o = e.map(t.MercatorCoordinate.fromLngLat);
                    this.tileID = function(e) {
                        for (var i = 1 / 0, o = 1 / 0, r = -1 / 0, a = -1 / 0, n = 0, s = e; n < s.length; n += 1) {
                            var l = s[n];
                            i = Math.min(i, l.x), o = Math.min(o, l.y), r = Math.max(r, l.x), a = Math.max(a, l.y);
                        }
                        var c = Math.max(r - i, a - o),
                            u = Math.max(0, Math.floor(-Math.log(c) / Math.LN2)),
                            h = Math.pow(2, u);
                        return new t.CanonicalTileID(u, Math.floor((i + r) / 2 * h), Math.floor((o + a) / 2 * h))
                    }(o), this.minzoom = this.maxzoom = this.tileID.z;
                    var r = o.map((function(t) {
                        return i.tileID.getTilePoint(t)._round()
                    }));
                    return this._boundsArray = new t.StructArrayLayout4i8, this._boundsArray.emplaceBack(r[0].x, r[0].y, 0, 0), this._boundsArray.emplaceBack(r[1].x, r[1].y, t.EXTENT, 0), this._boundsArray.emplaceBack(r[3].x, r[3].y, 0, t.EXTENT), this._boundsArray.emplaceBack(r[2].x, r[2].y, t.EXTENT, t.EXTENT), this.boundsBuffer && (this.boundsBuffer.destroy(), delete this.boundsBuffer), this.fire(new t.Event("data", {
                        dataType: "source",
                        sourceDataType: "content"
                    })), this
                }, i.prototype.prepare = function() {
                    if (0 !== Object.keys(this.tiles).length && this.image) {
                        var e = this.map.painter.context,
                            i = e.gl;
                        for (var o in this.boundsBuffer || (this.boundsBuffer = e.createVertexBuffer(this._boundsArray, M.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture || (this.texture = new t.Texture(e, this.image, i.RGBA), this.texture.bind(i.LINEAR, i.CLAMP_TO_EDGE)), this.tiles) {
                            var r = this.tiles[o];
                            "loaded" !== r.state && (r.state = "loaded", r.texture = this.texture);
                        }
                    }
                }, i.prototype.loadTile = function(t, e) {
                    this.tileID && this.tileID.equals(t.tileID.canonical) ? (this.tiles[String(t.tileID.wrap)] = t, t.buckets = {}, e(null)) : (t.state = "errored", e(null));
                }, i.prototype.serialize = function() {
                    return {
                        type: "image",
                        url: this.options.url,
                        coordinates: this.coordinates
                    }
                }, i.prototype.hasTransition = function() {
                    return !1
                }, i
            }(t.Evented),
            A = function(e) {
                function i(t, i, o, r) {
                    e.call(this, t, i, o, r), this.roundZoom = !0, this.type = "video", this.options = i;
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function() {
                    var e = this;
                    this._loaded = !1;
                    var i = this.options;
                    this.urls = [];
                    for (var o = 0, r = i.urls; o < r.length; o += 1) this.urls.push(this.map._requestManager.transformRequest(r[o], t.ResourceType.Source).url);
                    t.getVideo(this.urls, (function(i, o) {
                        e._loaded = !0, i ? e.fire(new t.ErrorEvent(i)) : o && (e.video = o, e.video.loop = !0, e.video.addEventListener("playing", (function() {
                            e.map.triggerRepaint();
                        })), e.map && e.video.play(), e._finishLoading());
                    }));
                }, i.prototype.pause = function() {
                    this.video && this.video.pause();
                }, i.prototype.play = function() {
                    this.video && this.video.play();
                }, i.prototype.seek = function(e) {
                    if (this.video) {
                        var i = this.video.seekable;
                        e < i.start(0) || e > i.end(0) ? this.fire(new t.ErrorEvent(new t.ValidationError("sources." + this.id, null, "Playback for this video can be set only between the " + i.start(0) + " and " + i.end(0) + "-second mark."))) : this.video.currentTime = e;
                    }
                }, i.prototype.getVideo = function() {
                    return this.video
                }, i.prototype.onAdd = function(t) {
                    this.map || (this.map = t, this.load(), this.video && (this.video.play(), this.setCoordinates(this.coordinates)));
                }, i.prototype.prepare = function() {
                    if (!(0 === Object.keys(this.tiles).length || this.video.readyState < 2)) {
                        var e = this.map.painter.context,
                            i = e.gl;
                        for (var o in this.boundsBuffer || (this.boundsBuffer = e.createVertexBuffer(this._boundsArray, M.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? this.video.paused || (this.texture.bind(i.LINEAR, i.CLAMP_TO_EDGE), i.texSubImage2D(i.TEXTURE_2D, 0, 0, 0, i.RGBA, i.UNSIGNED_BYTE, this.video)) : (this.texture = new t.Texture(e, this.video, i.RGBA), this.texture.bind(i.LINEAR, i.CLAMP_TO_EDGE)), this.tiles) {
                            var r = this.tiles[o];
                            "loaded" !== r.state && (r.state = "loaded", r.texture = this.texture);
                        }
                    }
                }, i.prototype.serialize = function() {
                    return {
                        type: "video",
                        urls: this.urls,
                        coordinates: this.coordinates
                    }
                }, i.prototype.hasTransition = function() {
                    return this.video && !this.video.paused
                }, i
            }(L),
            R = function(e) {
                function i(i, o, r, a) {
                    e.call(this, i, o, r, a), o.coordinates ? Array.isArray(o.coordinates) && 4 === o.coordinates.length && !o.coordinates.some((function(t) {
                        return !Array.isArray(t) || 2 !== t.length || t.some((function(t) {
                            return "number" != typeof t
                        }))
                    })) || this.fire(new t.ErrorEvent(new t.ValidationError("sources." + i, null, '"coordinates" property must be an array of 4 longitude/latitude array pairs'))) : this.fire(new t.ErrorEvent(new t.ValidationError("sources." + i, null, 'missing required property "coordinates"'))), o.animate && "boolean" != typeof o.animate && this.fire(new t.ErrorEvent(new t.ValidationError("sources." + i, null, 'optional "animate" property must be a boolean value'))), o.canvas ? "string" == typeof o.canvas || o.canvas instanceof t.window.HTMLCanvasElement || this.fire(new t.ErrorEvent(new t.ValidationError("sources." + i, null, '"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))) : this.fire(new t.ErrorEvent(new t.ValidationError("sources." + i, null, 'missing required property "canvas"'))), this.options = o, this.animate = void 0 === o.animate || o.animate;
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.load = function() {
                    this._loaded = !0, this.canvas || (this.canvas = this.options.canvas instanceof t.window.HTMLCanvasElement ? this.options.canvas : t.window.document.getElementById(this.options.canvas)), this.width = this.canvas.width, this.height = this.canvas.height, this._hasInvalidDimensions() ? this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))) : (this.play = function() {
                        this._playing = !0, this.map.triggerRepaint();
                    }, this.pause = function() {
                        this._playing && (this.prepare(), this._playing = !1);
                    }, this._finishLoading());
                }, i.prototype.getCanvas = function() {
                    return this.canvas
                }, i.prototype.onAdd = function(t) {
                    this.map = t, this.load(), this.canvas && this.animate && this.play();
                }, i.prototype.onRemove = function() {
                    this.pause();
                }, i.prototype.prepare = function() {
                    var e = !1;
                    if (this.canvas.width !== this.width && (this.width = this.canvas.width, e = !0), this.canvas.height !== this.height && (this.height = this.canvas.height, e = !0), !this._hasInvalidDimensions() && 0 !== Object.keys(this.tiles).length) {
                        var i = this.map.painter.context,
                            o = i.gl;
                        for (var r in this.boundsBuffer || (this.boundsBuffer = i.createVertexBuffer(this._boundsArray, M.members)), this.boundsSegments || (this.boundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2)), this.texture ? (e || this._playing) && this.texture.update(this.canvas, {
                                premultiply: !0
                            }) : this.texture = new t.Texture(i, this.canvas, o.RGBA, {
                                premultiply: !0
                            }), this.tiles) {
                            var a = this.tiles[r];
                            "loaded" !== a.state && (a.state = "loaded", a.texture = this.texture);
                        }
                    }
                }, i.prototype.serialize = function() {
                    return {
                        type: "canvas",
                        coordinates: this.coordinates
                    }
                }, i.prototype.hasTransition = function() {
                    return this._playing
                }, i.prototype._hasInvalidDimensions = function() {
                    for (var t = 0, e = [this.canvas.width, this.canvas.height]; t < e.length; t += 1) {
                        var i = e[t];
                        if (isNaN(i) || i <= 0) return !0
                    }
                    return !1
                }, i
            }(L),
            k = {
                vector: S,
                raster: C,
                "raster-dem": z,
                geojson: D,
                video: A,
                image: L,
                canvas: R
            };

        function B(e, i) {
            var o = t.identity([]);
            return t.translate(o, o, [1, 1, 0]), t.scale(o, o, [.5 * e.width, .5 * e.height, 1]), t.multiply(o, o, e.calculatePosMatrix(i.toUnwrapped()))
        }

        function O(t, e, i, o, r, a) {
            var n = function(t, e, i) {
                    if (t)
                        for (var o = 0, r = t; o < r.length; o += 1) {
                            var a = e[r[o]];
                            if (a && a.source === i && "fill-extrusion" === a.type) return !0
                        } else
                            for (var n in e) {
                                var s = e[n];
                                if (s.source === i && "fill-extrusion" === s.type) return !0
                            }
                    return !1
                }(r && r.layers, e, t.id),
                s = a.maxPitchScaleFactor(),
                l = t.tilesIn(o, s, n);
            l.sort(F);
            for (var c = [], u = 0, h = l; u < h.length; u += 1) {
                var p = h[u];
                c.push({
                    wrappedTileID: p.tileID.wrapped().key,
                    queryResults: p.tile.queryRenderedFeatures(e, i, t._state, p.queryGeometry, p.cameraQueryGeometry, p.scale, r, a, s, B(t.transform, p.tileID))
                });
            }
            var d = function(t) {
                for (var e = {}, i = {}, o = 0, r = t; o < r.length; o += 1) {
                    var a = r[o],
                        n = a.queryResults,
                        s = a.wrappedTileID,
                        l = i[s] = i[s] || {};
                    for (var c in n)
                        for (var u = n[c], h = l[c] = l[c] || {}, p = e[c] = e[c] || [], d = 0, _ = u; d < _.length; d += 1) {
                            var f = _[d];
                            h[f.featureIndex] || (h[f.featureIndex] = !0, p.push(f));
                        }
                }
                return e
            }(c);
            for (var _ in d) d[_].forEach((function(e) {
                var i = e.feature,
                    o = t.getFeatureState(i.layer["source-layer"], i.id);
                i.source = i.layer.source, i.layer["source-layer"] && (i.sourceLayer = i.layer["source-layer"]), i.state = o;
            }));
            return d
        }

        function F(t, e) {
            var i = t.tileID,
                o = e.tileID;
            return i.overscaledZ - o.overscaledZ || i.canonical.y - o.canonical.y || i.wrap - o.wrap || i.canonical.x - o.canonical.x
        }
        var U = function(t, e) {
            this.max = t, this.onRemove = e, this.reset();
        };
        U.prototype.reset = function() {
            for (var t in this.data)
                for (var e = 0, i = this.data[t]; e < i.length; e += 1) {
                    var o = i[e];
                    o.timeout && clearTimeout(o.timeout), this.onRemove(o.value);
                }
            return this.data = {}, this.order = [], this
        }, U.prototype.add = function(t, e, i) {
            var o = this,
                r = t.wrapped().key;
            void 0 === this.data[r] && (this.data[r] = []);
            var a = {
                value: e,
                timeout: void 0
            };
            if (void 0 !== i && (a.timeout = setTimeout((function() {
                    o.remove(t, a);
                }), i)), this.data[r].push(a), this.order.push(r), this.order.length > this.max) {
                var n = this._getAndRemoveByKey(this.order[0]);
                n && this.onRemove(n);
            }
            return this
        }, U.prototype.has = function(t) {
            return t.wrapped().key in this.data
        }, U.prototype.getAndRemove = function(t) {
            return this.has(t) ? this._getAndRemoveByKey(t.wrapped().key) : null
        }, U.prototype._getAndRemoveByKey = function(t) {
            var e = this.data[t].shift();
            return e.timeout && clearTimeout(e.timeout), 0 === this.data[t].length && delete this.data[t], this.order.splice(this.order.indexOf(t), 1), e.value
        }, U.prototype.getByKey = function(t) {
            var e = this.data[t];
            return e ? e[0].value : null
        }, U.prototype.get = function(t) {
            return this.has(t) ? this.data[t.wrapped().key][0].value : null
        }, U.prototype.remove = function(t, e) {
            if (!this.has(t)) return this;
            var i = t.wrapped().key,
                o = void 0 === e ? 0 : this.data[i].indexOf(e),
                r = this.data[i][o];
            return this.data[i].splice(o, 1), r.timeout && clearTimeout(r.timeout), 0 === this.data[i].length && delete this.data[i], this.onRemove(r.value), this.order.splice(this.order.indexOf(i), 1), this
        }, U.prototype.setMaxSize = function(t) {
            for (this.max = t; this.order.length > this.max;) {
                var e = this._getAndRemoveByKey(this.order[0]);
                e && this.onRemove(e);
            }
            return this
        }, U.prototype.filter = function(t) {
            var e = [];
            for (var i in this.data)
                for (var o = 0, r = this.data[i]; o < r.length; o += 1) {
                    var a = r[o];
                    t(a.value) || e.push(a);
                }
            for (var n = 0, s = e; n < s.length; n += 1) {
                var l = s[n];
                this.remove(l.value.tileID, l);
            }
        };
        var N = function(t, e, i) {
            this.context = t;
            var o = t.gl;
            this.buffer = o.createBuffer(), this.dynamicDraw = Boolean(i), this.context.unbindVAO(), t.bindElementBuffer.set(this.buffer), o.bufferData(o.ELEMENT_ARRAY_BUFFER, e.arrayBuffer, this.dynamicDraw ? o.DYNAMIC_DRAW : o.STATIC_DRAW), this.dynamicDraw || delete e.arrayBuffer;
        };
        N.prototype.bind = function() {
            this.context.bindElementBuffer.set(this.buffer);
        }, N.prototype.updateData = function(t) {
            var e = this.context.gl;
            this.context.unbindVAO(), this.bind(), e.bufferSubData(e.ELEMENT_ARRAY_BUFFER, 0, t.arrayBuffer);
        }, N.prototype.destroy = function() {
            this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
        };
        var Z = {
                Int8: "BYTE",
                Uint8: "UNSIGNED_BYTE",
                Int16: "SHORT",
                Uint16: "UNSIGNED_SHORT",
                Int32: "INT",
                Uint32: "UNSIGNED_INT",
                Float32: "FLOAT"
            },
            q = function(t, e, i, o) {
                this.length = e.length, this.attributes = i, this.itemSize = e.bytesPerElement, this.dynamicDraw = o, this.context = t;
                var r = t.gl;
                this.buffer = r.createBuffer(), t.bindVertexBuffer.set(this.buffer), r.bufferData(r.ARRAY_BUFFER, e.arrayBuffer, this.dynamicDraw ? r.DYNAMIC_DRAW : r.STATIC_DRAW), this.dynamicDraw || delete e.arrayBuffer;
            };
        q.prototype.bind = function() {
            this.context.bindVertexBuffer.set(this.buffer);
        }, q.prototype.updateData = function(t) {
            var e = this.context.gl;
            this.bind(), e.bufferSubData(e.ARRAY_BUFFER, 0, t.arrayBuffer);
        }, q.prototype.enableAttributes = function(t, e) {
            for (var i = 0; i < this.attributes.length; i++) {
                var o = e.attributes[this.attributes[i].name];
                void 0 !== o && t.enableVertexAttribArray(o);
            }
        }, q.prototype.setVertexAttribPointers = function(t, e, i) {
            for (var o = 0; o < this.attributes.length; o++) {
                var r = this.attributes[o],
                    a = e.attributes[r.name];
                void 0 !== a && t.vertexAttribPointer(a, r.components, t[Z[r.type]], !1, this.itemSize, r.offset + this.itemSize * (i || 0));
            }
        }, q.prototype.destroy = function() {
            this.buffer && (this.context.gl.deleteBuffer(this.buffer), delete this.buffer);
        };
        var j = function(t) {
            this.gl = t.gl, this.default = this.getDefault(), this.current = this.default, this.dirty = !1;
        };
        j.prototype.get = function() {
            return this.current
        }, j.prototype.set = function(t) {}, j.prototype.getDefault = function() {
            return this.default
        }, j.prototype.setDefault = function() {
            this.set(this.default);
        };
        var V = function(e) {
                function i() {
                    e.apply(this, arguments);
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.getDefault = function() {
                    return t.Color.transparent
                }, i.prototype.set = function(t) {
                    var e = this.current;
                    (t.r !== e.r || t.g !== e.g || t.b !== e.b || t.a !== e.a || this.dirty) && (this.gl.clearColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1);
                }, i
            }(j),
            G = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return 1
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.clearDepth(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            W = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return 0
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.clearStencil(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            X = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return [!0, !0, !0, !0]
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || this.dirty) && (this.gl.colorMask(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1);
                }, e
            }(j),
            H = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !0
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.depthMask(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            K = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return 255
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.stencilMask(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            Y = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return {
                        func: this.gl.ALWAYS,
                        ref: 0,
                        mask: 255
                    }
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t.func !== e.func || t.ref !== e.ref || t.mask !== e.mask || this.dirty) && (this.gl.stencilFunc(t.func, t.ref, t.mask), this.current = t, this.dirty = !1);
                }, e
            }(j),
            J = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    var t = this.gl;
                    return [t.KEEP, t.KEEP, t.KEEP]
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || this.dirty) && (this.gl.stencilOp(t[0], t[1], t[2]), this.current = t, this.dirty = !1);
                }, e
            }(j),
            Q = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        t ? e.enable(e.STENCIL_TEST) : e.disable(e.STENCIL_TEST), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            $ = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return [0, 1]
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t[0] !== e[0] || t[1] !== e[1] || this.dirty) && (this.gl.depthRange(t[0], t[1]), this.current = t, this.dirty = !1);
                }, e
            }(j),
            tt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        t ? e.enable(e.DEPTH_TEST) : e.disable(e.DEPTH_TEST), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            et = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return this.gl.LESS
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.depthFunc(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            it = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        t ? e.enable(e.BLEND) : e.disable(e.BLEND), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            ot = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    var t = this.gl;
                    return [t.ONE, t.ZERO]
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t[0] !== e[0] || t[1] !== e[1] || this.dirty) && (this.gl.blendFunc(t[0], t[1]), this.current = t, this.dirty = !1);
                }, e
            }(j),
            rt = function(e) {
                function i() {
                    e.apply(this, arguments);
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.getDefault = function() {
                    return t.Color.transparent
                }, i.prototype.set = function(t) {
                    var e = this.current;
                    (t.r !== e.r || t.g !== e.g || t.b !== e.b || t.a !== e.a || this.dirty) && (this.gl.blendColor(t.r, t.g, t.b, t.a), this.current = t, this.dirty = !1);
                }, i
            }(j),
            at = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return this.gl.FUNC_ADD
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.blendEquation(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            nt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        t ? e.enable(e.CULL_FACE) : e.disable(e.CULL_FACE), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            st = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return this.gl.BACK
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.cullFace(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            lt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return this.gl.CCW
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.frontFace(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            ct = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.useProgram(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            ut = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return this.gl.TEXTURE0
                }, e.prototype.set = function(t) {
                    (t !== this.current || this.dirty) && (this.gl.activeTexture(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            ht = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    var t = this.gl;
                    return [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]
                }, e.prototype.set = function(t) {
                    var e = this.current;
                    (t[0] !== e[0] || t[1] !== e[1] || t[2] !== e[2] || t[3] !== e[3] || this.dirty) && (this.gl.viewport(t[0], t[1], t[2], t[3]), this.current = t, this.dirty = !1);
                }, e
            }(j),
            pt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.bindFramebuffer(e.FRAMEBUFFER, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            dt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.bindRenderbuffer(e.RENDERBUFFER, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            _t = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.bindTexture(e.TEXTURE_2D, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            ft = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.bindBuffer(e.ARRAY_BUFFER, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            mt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    var e = this.gl;
                    e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t), this.current = t, this.dirty = !1;
                }, e
            }(j),
            gt = function(t) {
                function e(e) {
                    t.call(this, e), this.vao = e.extVertexArrayObject;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e.prototype.set = function(t) {
                    this.vao && (t !== this.current || this.dirty) && (this.vao.bindVertexArrayOES(t), this.current = t, this.dirty = !1);
                }, e
            }(j),
            vt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return 4
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.pixelStorei(e.UNPACK_ALIGNMENT, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            yt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            xt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return !1
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        var e = this.gl;
                        e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(j),
            bt = function(t) {
                function e(e, i) {
                    t.call(this, e), this.context = e, this.parent = i;
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.getDefault = function() {
                    return null
                }, e
            }(j),
            wt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.setDirty = function() {
                    this.dirty = !0;
                }, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        this.context.bindFramebuffer.set(this.parent);
                        var e = this.gl;
                        e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, t, 0), this.current = t, this.dirty = !1;
                    }
                }, e
            }(bt),
            Tt = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.set = function(t) {
                    if (t !== this.current || this.dirty) {
                        this.context.bindFramebuffer.set(this.parent);
                        var e = this.gl;
                        e.framebufferRenderbuffer(e.FRAMEBUFFER, e.DEPTH_ATTACHMENT, e.RENDERBUFFER, t), this.current = t, this.dirty = !1;
                    }
                }, e
            }(bt),
            Et = function(t, e, i, o) {
                this.context = t, this.width = e, this.height = i;
                var r = this.framebuffer = t.gl.createFramebuffer();
                this.colorAttachment = new wt(t, r), o && (this.depthAttachment = new Tt(t, r));
            };
        Et.prototype.destroy = function() {
            var t = this.context.gl,
                e = this.colorAttachment.get();
            if (e && t.deleteTexture(e), this.depthAttachment) {
                var i = this.depthAttachment.get();
                i && t.deleteRenderbuffer(i);
            }
            t.deleteFramebuffer(this.framebuffer);
        };
        var It = function(t, e, i) {
            this.func = t, this.mask = e, this.range = i;
        };
        It.ReadOnly = !1, It.ReadWrite = !0, It.disabled = new It(519, It.ReadOnly, [0, 1]);
        var Pt = function(t, e, i, o, r, a) {
            this.test = t, this.ref = e, this.mask = i, this.fail = o, this.depthFail = r, this.pass = a;
        };
        Pt.disabled = new Pt({
            func: 519,
            mask: 0
        }, 0, 0, 7680, 7680, 7680);
        var St = function(t, e, i) {
            this.blendFunction = t, this.blendColor = e, this.mask = i;
        };
        St.disabled = new St(St.Replace = [1, 0], t.Color.transparent, [!1, !1, !1, !1]), St.unblended = new St(St.Replace, t.Color.transparent, [!0, !0, !0, !0]), St.alphaBlended = new St([1, 771], t.Color.transparent, [!0, !0, !0, !0]);
        var Ct = function(t, e, i) {
            this.enable = t, this.mode = e, this.frontFace = i;
        };
        Ct.disabled = new Ct(!1, 1029, 2305), Ct.backCCW = new Ct(!0, 1029, 2305);
        var zt = function(t) {
            this.gl = t, this.extVertexArrayObject = this.gl.getExtension("OES_vertex_array_object"), this.clearColor = new V(this), this.clearDepth = new G(this), this.clearStencil = new W(this), this.colorMask = new X(this), this.depthMask = new H(this), this.stencilMask = new K(this), this.stencilFunc = new Y(this), this.stencilOp = new J(this), this.stencilTest = new Q(this), this.depthRange = new $(this), this.depthTest = new tt(this), this.depthFunc = new et(this), this.blend = new it(this), this.blendFunc = new ot(this), this.blendColor = new rt(this), this.blendEquation = new at(this), this.cullFace = new nt(this), this.cullFaceSide = new st(this), this.frontFace = new lt(this), this.program = new ct(this), this.activeTexture = new ut(this), this.viewport = new ht(this), this.bindFramebuffer = new pt(this), this.bindRenderbuffer = new dt(this), this.bindTexture = new _t(this), this.bindVertexBuffer = new ft(this), this.bindElementBuffer = new mt(this), this.bindVertexArrayOES = this.extVertexArrayObject && new gt(this), this.pixelStoreUnpack = new vt(this), this.pixelStoreUnpackPremultiplyAlpha = new yt(this), this.pixelStoreUnpackFlipY = new xt(this), this.extTextureFilterAnisotropic = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"), this.extTextureFilterAnisotropic && (this.extTextureFilterAnisotropicMax = t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)), this.extTextureHalfFloat = t.getExtension("OES_texture_half_float"), this.extTextureHalfFloat && (t.getExtension("OES_texture_half_float_linear"), this.extRenderToTextureHalfFloat = t.getExtension("EXT_color_buffer_half_float")), this.extTimerQuery = t.getExtension("EXT_disjoint_timer_query"), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE);
        };
        zt.prototype.setDefault = function() {
            this.unbindVAO(), this.clearColor.setDefault(), this.clearDepth.setDefault(), this.clearStencil.setDefault(), this.colorMask.setDefault(), this.depthMask.setDefault(), this.stencilMask.setDefault(), this.stencilFunc.setDefault(), this.stencilOp.setDefault(), this.stencilTest.setDefault(), this.depthRange.setDefault(), this.depthTest.setDefault(), this.depthFunc.setDefault(), this.blend.setDefault(), this.blendFunc.setDefault(), this.blendColor.setDefault(), this.blendEquation.setDefault(), this.cullFace.setDefault(), this.cullFaceSide.setDefault(), this.frontFace.setDefault(), this.program.setDefault(), this.activeTexture.setDefault(), this.bindFramebuffer.setDefault(), this.pixelStoreUnpack.setDefault(), this.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.pixelStoreUnpackFlipY.setDefault();
        }, zt.prototype.setDirty = function() {
            this.clearColor.dirty = !0, this.clearDepth.dirty = !0, this.clearStencil.dirty = !0, this.colorMask.dirty = !0, this.depthMask.dirty = !0, this.stencilMask.dirty = !0, this.stencilFunc.dirty = !0, this.stencilOp.dirty = !0, this.stencilTest.dirty = !0, this.depthRange.dirty = !0, this.depthTest.dirty = !0, this.depthFunc.dirty = !0, this.blend.dirty = !0, this.blendFunc.dirty = !0, this.blendColor.dirty = !0, this.blendEquation.dirty = !0, this.cullFace.dirty = !0, this.cullFaceSide.dirty = !0, this.frontFace.dirty = !0, this.program.dirty = !0, this.activeTexture.dirty = !0, this.viewport.dirty = !0, this.bindFramebuffer.dirty = !0, this.bindRenderbuffer.dirty = !0, this.bindTexture.dirty = !0, this.bindVertexBuffer.dirty = !0, this.bindElementBuffer.dirty = !0, this.extVertexArrayObject && (this.bindVertexArrayOES.dirty = !0), this.pixelStoreUnpack.dirty = !0, this.pixelStoreUnpackPremultiplyAlpha.dirty = !0, this.pixelStoreUnpackFlipY.dirty = !0;
        }, zt.prototype.createIndexBuffer = function(t, e) {
            return new N(this, t, e)
        }, zt.prototype.createVertexBuffer = function(t, e, i) {
            return new q(this, t, e, i)
        }, zt.prototype.createRenderbuffer = function(t, e, i) {
            var o = this.gl,
                r = o.createRenderbuffer();
            return this.bindRenderbuffer.set(r), o.renderbufferStorage(o.RENDERBUFFER, t, e, i), this.bindRenderbuffer.set(null), r
        }, zt.prototype.createFramebuffer = function(t, e, i) {
            return new Et(this, t, e, i)
        }, zt.prototype.clear = function(t) {
            var e = t.color,
                i = t.depth,
                o = this.gl,
                r = 0;
            e && (r |= o.COLOR_BUFFER_BIT, this.clearColor.set(e), this.colorMask.set([!0, !0, !0, !0])), void 0 !== i && (r |= o.DEPTH_BUFFER_BIT, this.depthRange.set([0, 1]), this.clearDepth.set(i), this.depthMask.set(!0)), o.clear(r);
        }, zt.prototype.setCullFace = function(t) {
            !1 === t.enable ? this.cullFace.set(!1) : (this.cullFace.set(!0), this.cullFaceSide.set(t.mode), this.frontFace.set(t.frontFace));
        }, zt.prototype.setDepthMode = function(t) {
            t.func !== this.gl.ALWAYS || t.mask ? (this.depthTest.set(!0), this.depthFunc.set(t.func), this.depthMask.set(t.mask), this.depthRange.set(t.range)) : this.depthTest.set(!1);
        }, zt.prototype.setStencilMode = function(t) {
            t.test.func !== this.gl.ALWAYS || t.mask ? (this.stencilTest.set(!0), this.stencilMask.set(t.mask), this.stencilOp.set([t.fail, t.depthFail, t.pass]), this.stencilFunc.set({
                func: t.test.func,
                ref: t.ref,
                mask: t.test.mask
            })) : this.stencilTest.set(!1);
        }, zt.prototype.setColorMode = function(e) {
            t.deepEqual(e.blendFunction, St.Replace) ? this.blend.set(!1) : (this.blend.set(!0), this.blendFunc.set(e.blendFunction), this.blendColor.set(e.blendColor)), this.colorMask.set(e.mask);
        }, zt.prototype.unbindVAO = function() {
            this.extVertexArrayObject && this.bindVertexArrayOES.set(null);
        };
        var Dt = function(e) {
            function i(i, o, r) {
                var a = this;
                e.call(this), this.id = i, this.dispatcher = r, this.on("data", (function(t) {
                    "source" === t.dataType && "metadata" === t.sourceDataType && (a._sourceLoaded = !0), a._sourceLoaded && !a._paused && "source" === t.dataType && "content" === t.sourceDataType && (a.reload(), a.transform && a.update(a.transform));
                })), this.on("error", (function() {
                    a._sourceErrored = !0;
                })), this._source = function(e, i, o, r) {
                    var a = new k[i.type](e, i, o, r);
                    if (a.id !== e) throw new Error("Expected Source id to be " + e + " instead of " + a.id);
                    return t.bindAll(["load", "abort", "unload", "serialize", "prepare"], a), a
                }(i, o, r, this), this._tiles = {}, this._cache = new U(0, this._unloadTile.bind(this)), this._timers = {}, this._cacheTimers = {}, this._maxTileCacheSize = null, this._loadedParentTiles = {}, this._coveredTiles = {}, this._state = new t.SourceFeatureState;
            }
            return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.onAdd = function(t) {
                this.map = t, this._maxTileCacheSize = t ? t._maxTileCacheSize : null, this._source && this._source.onAdd && this._source.onAdd(t);
            }, i.prototype.onRemove = function(t) {
                this._source && this._source.onRemove && this._source.onRemove(t);
            }, i.prototype.loaded = function() {
                if (this._sourceErrored) return !0;
                if (!this._sourceLoaded) return !1;
                if (!this._source.loaded()) return !1;
                for (var t in this._tiles) {
                    var e = this._tiles[t];
                    if ("loaded" !== e.state && "errored" !== e.state) return !1
                }
                return !0
            }, i.prototype.getSource = function() {
                return this._source
            }, i.prototype.pause = function() {
                this._paused = !0;
            }, i.prototype.resume = function() {
                if (this._paused) {
                    var t = this._shouldReloadOnResume;
                    this._paused = !1, this._shouldReloadOnResume = !1, t && this.reload(), this.transform && this.update(this.transform);
                }
            }, i.prototype._loadTile = function(t, e) {
                return this._source.loadTile(t, e)
            }, i.prototype._unloadTile = function(t) {
                if (this._source.unloadTile) return this._source.unloadTile(t, (function() {}))
            }, i.prototype._abortTile = function(t) {
                if (this._source.abortTile) return this._source.abortTile(t, (function() {}))
            }, i.prototype.serialize = function() {
                return this._source.serialize()
            }, i.prototype.prepare = function(t) {
                for (var e in this._source.prepare && this._source.prepare(), this._state.coalesceChanges(this._tiles, this.map ? this.map.painter : null), this._tiles) {
                    var i = this._tiles[e];
                    i.upload(t), i.prepare(this.map.style.imageManager);
                }
            }, i.prototype.getIds = function() {
                return t.values(this._tiles).map((function(t) {
                    return t.tileID
                })).sort(Mt).map((function(t) {
                    return t.key
                }))
            }, i.prototype.getRenderableIds = function(e) {
                var i = this,
                    o = [];
                for (var r in this._tiles) this._isIdRenderable(r, e) && o.push(this._tiles[r]);
                return e ? o.sort((function(e, o) {
                    var r = e.tileID,
                        a = o.tileID,
                        n = new t.Point(r.canonical.x, r.canonical.y)._rotate(i.transform.angle),
                        s = new t.Point(a.canonical.x, a.canonical.y)._rotate(i.transform.angle);
                    return r.overscaledZ - a.overscaledZ || s.y - n.y || s.x - n.x
                })).map((function(t) {
                    return t.tileID.key
                })) : o.map((function(t) {
                    return t.tileID
                })).sort(Mt).map((function(t) {
                    return t.key
                }))
            }, i.prototype.hasRenderableParent = function(t) {
                var e = this.findLoadedParent(t, 0);
                return !!e && this._isIdRenderable(e.tileID.key)
            }, i.prototype._isIdRenderable = function(t, e) {
                return this._tiles[t] && this._tiles[t].hasData() && !this._coveredTiles[t] && (e || !this._tiles[t].holdingForFade())
            }, i.prototype.reload = function() {
                if (this._paused) this._shouldReloadOnResume = !0;
                else
                    for (var t in this._cache.reset(), this._tiles) "errored" !== this._tiles[t].state && this._reloadTile(t, "reloading");
            }, i.prototype._reloadTile = function(t, e) {
                var i = this._tiles[t];
                i && ("loading" !== i.state && (i.state = e), this._loadTile(i, this._tileLoaded.bind(this, i, t, e)));
            }, i.prototype._tileLoaded = function(e, i, o, r) {
                if (r) return e.state = "errored", void(404 !== r.status ? this._source.fire(new t.ErrorEvent(r, {
                    tile: e
                })) : this.update(this.transform));
                e.timeAdded = t.browser.now(), "expired" === o && (e.refreshedUponExpiration = !0), this._setTileReloadTimer(i, e), "raster-dem" === this.getSource().type && e.dem && this._backfillDEM(e), this._state.initializeTileState(e, this.map ? this.map.painter : null), this._source.fire(new t.Event("data", {
                    dataType: "source",
                    tile: e,
                    coord: e.tileID
                }));
            }, i.prototype._backfillDEM = function(t) {
                for (var e = this.getRenderableIds(), i = 0; i < e.length; i++) {
                    var o = e[i];
                    if (t.neighboringTiles && t.neighboringTiles[o]) {
                        var r = this.getTileByID(o);
                        a(t, r), a(r, t);
                    }
                }

                function a(t, e) {
                    t.needsHillshadePrepare = !0;
                    var i = e.tileID.canonical.x - t.tileID.canonical.x,
                        o = e.tileID.canonical.y - t.tileID.canonical.y,
                        r = Math.pow(2, t.tileID.canonical.z),
                        a = e.tileID.key;
                    0 === i && 0 === o || Math.abs(o) > 1 || (Math.abs(i) > 1 && (1 === Math.abs(i + r) ? i += r : 1 === Math.abs(i - r) && (i -= r)), e.dem && t.dem && (t.dem.backfillBorder(e.dem, i, o), t.neighboringTiles && t.neighboringTiles[a] && (t.neighboringTiles[a].backfilled = !0)));
                }
            }, i.prototype.getTile = function(t) {
                return this.getTileByID(t.key)
            }, i.prototype.getTileByID = function(t) {
                return this._tiles[t]
            }, i.prototype._retainLoadedChildren = function(t, e, i, o) {
                for (var r in this._tiles) {
                    var a = this._tiles[r];
                    if (!(o[r] || !a.hasData() || a.tileID.overscaledZ <= e || a.tileID.overscaledZ > i)) {
                        for (var n = a.tileID; a && a.tileID.overscaledZ > e + 1;) {
                            var s = a.tileID.scaledTo(a.tileID.overscaledZ - 1);
                            (a = this._tiles[s.key]) && a.hasData() && (n = s);
                        }
                        for (var l = n; l.overscaledZ > e;)
                            if (t[(l = l.scaledTo(l.overscaledZ - 1)).key]) {
                                o[n.key] = n;
                                break
                            }
                    }
                }
            }, i.prototype.findLoadedParent = function(t, e) {
                if (t.key in this._loadedParentTiles) {
                    var i = this._loadedParentTiles[t.key];
                    return i && i.tileID.overscaledZ >= e ? i : null
                }
                for (var o = t.overscaledZ - 1; o >= e; o--) {
                    var r = t.scaledTo(o),
                        a = this._getLoadedTile(r);
                    if (a) return a
                }
            }, i.prototype._getLoadedTile = function(t) {
                var e = this._tiles[t.key];
                return e && e.hasData() ? e : this._cache.getByKey(t.wrapped().key)
            }, i.prototype.updateCacheSize = function(t) {
                var e = Math.ceil(t.width / this._source.tileSize) + 1,
                    i = Math.ceil(t.height / this._source.tileSize) + 1,
                    o = Math.floor(e * i * 5),
                    r = "number" == typeof this._maxTileCacheSize ? Math.min(this._maxTileCacheSize, o) : o;
                this._cache.setMaxSize(r);
            }, i.prototype.handleWrapJump = function(t) {
                var e = Math.round((t - (void 0 === this._prevLng ? t : this._prevLng)) / 360);
                if (this._prevLng = t, e) {
                    var i = {};
                    for (var o in this._tiles) {
                        var r = this._tiles[o];
                        r.tileID = r.tileID.unwrapTo(r.tileID.wrap + e), i[r.tileID.key] = r;
                    }
                    for (var a in this._tiles = i, this._timers) clearTimeout(this._timers[a]), delete this._timers[a];
                    for (var n in this._tiles) this._setTileReloadTimer(n, this._tiles[n]);
                }
            }, i.prototype.update = function(e) {
                var o = this;
                if (this.transform = e, this._sourceLoaded && !this._paused) {
                    var r;
                    this.updateCacheSize(e), this.handleWrapJump(this.transform.center.lng), this._coveredTiles = {}, this.used ? this._source.tileID ? r = e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e) {
                        return new t.OverscaledTileID(e.canonical.z, e.wrap, e.canonical.z, e.canonical.x, e.canonical.y)
                    })) : (r = e.coveringTiles({
                        tileSize: this._source.tileSize,
                        minzoom: this._source.minzoom,
                        maxzoom: this._source.maxzoom,
                        roundZoom: this._source.roundZoom,
                        reparseOverscaled: this._source.reparseOverscaled
                    }), this._source.hasTile && (r = r.filter((function(t) {
                        return o._source.hasTile(t)
                    })))) : r = [];
                    var a = e.coveringZoomLevel(this._source),
                        n = Math.max(a - i.maxOverzooming, this._source.minzoom),
                        s = Math.max(a + i.maxUnderzooming, this._source.minzoom),
                        l = this._updateRetainedTiles(r, a);
                    if (Lt(this._source.type)) {
                        for (var c = {}, u = {}, h = 0, p = Object.keys(l); h < p.length; h += 1) {
                            var d = p[h],
                                _ = l[d],
                                f = this._tiles[d];
                            if (f && !(f.fadeEndTime && f.fadeEndTime <= t.browser.now())) {
                                var m = this.findLoadedParent(_, n);
                                m && (this._addTile(m.tileID), c[m.tileID.key] = m.tileID), u[d] = _;
                            }
                        }
                        for (var g in this._retainLoadedChildren(u, a, s, l), c) l[g] || (this._coveredTiles[g] = !0, l[g] = c[g]);
                    }
                    for (var v in l) this._tiles[v].clearFadeHold();
                    for (var y = 0, x = t.keysDifference(this._tiles, l); y < x.length; y += 1) {
                        var b = x[y],
                            w = this._tiles[b];
                        w.hasSymbolBuckets && !w.holdingForFade() ? w.setHoldDuration(this.map._fadeDuration) : w.hasSymbolBuckets && !w.symbolFadeFinished() || this._removeTile(b);
                    }
                    this._updateLoadedParentTileCache();
                }
            }, i.prototype.releaseSymbolFadeTiles = function() {
                for (var t in this._tiles) this._tiles[t].holdingForFade() && this._removeTile(t);
            }, i.prototype._updateRetainedTiles = function(t, e) {
                for (var o = {}, r = {}, a = Math.max(e - i.maxOverzooming, this._source.minzoom), n = Math.max(e + i.maxUnderzooming, this._source.minzoom), s = {}, l = 0, c = t; l < c.length; l += 1) {
                    var u = c[l],
                        h = this._addTile(u);
                    o[u.key] = u, h.hasData() || e < this._source.maxzoom && (s[u.key] = u);
                }
                this._retainLoadedChildren(s, e, n, o);
                for (var p = 0, d = t; p < d.length; p += 1) {
                    var _ = d[p],
                        f = this._tiles[_.key];
                    if (!f.hasData()) {
                        if (e + 1 > this._source.maxzoom) {
                            var m = _.children(this._source.maxzoom)[0],
                                g = this.getTile(m);
                            if (g && g.hasData()) {
                                o[m.key] = m;
                                continue
                            }
                        } else {
                            var v = _.children(this._source.maxzoom);
                            if (o[v[0].key] && o[v[1].key] && o[v[2].key] && o[v[3].key]) continue
                        }
                        for (var y = f.wasRequested(), x = _.overscaledZ - 1; x >= a; --x) {
                            var b = _.scaledTo(x);
                            if (r[b.key]) break;
                            if (r[b.key] = !0, !(f = this.getTile(b)) && y && (f = this._addTile(b)), f && (o[b.key] = b, y = f.wasRequested(), f.hasData())) break
                        }
                    }
                }
                return o
            }, i.prototype._updateLoadedParentTileCache = function() {
                for (var t in this._loadedParentTiles = {}, this._tiles) {
                    for (var e = [], i = void 0, o = this._tiles[t].tileID; o.overscaledZ > 0;) {
                        if (o.key in this._loadedParentTiles) {
                            i = this._loadedParentTiles[o.key];
                            break
                        }
                        e.push(o.key);
                        var r = o.scaledTo(o.overscaledZ - 1);
                        if (i = this._getLoadedTile(r)) break;
                        o = r;
                    }
                    for (var a = 0, n = e; a < n.length; a += 1) this._loadedParentTiles[n[a]] = i;
                }
            }, i.prototype._addTile = function(e) {
                var i = this._tiles[e.key];
                if (i) return i;
                (i = this._cache.getAndRemove(e)) && (this._setTileReloadTimer(e.key, i), i.tileID = e, this._state.initializeTileState(i, this.map ? this.map.painter : null), this._cacheTimers[e.key] && (clearTimeout(this._cacheTimers[e.key]), delete this._cacheTimers[e.key], this._setTileReloadTimer(e.key, i)));
                var o = Boolean(i);
                return o || (i = new t.Tile(e, this._source.tileSize * e.overscaleFactor()), this._loadTile(i, this._tileLoaded.bind(this, i, e.key, i.state))), i ? (i.uses++, this._tiles[e.key] = i, o || this._source.fire(new t.Event("dataloading", {
                    tile: i,
                    coord: i.tileID,
                    dataType: "source"
                })), i) : null
            }, i.prototype._setTileReloadTimer = function(t, e) {
                var i = this;
                t in this._timers && (clearTimeout(this._timers[t]), delete this._timers[t]);
                var o = e.getExpiryTimeout();
                o && (this._timers[t] = setTimeout((function() {
                    i._reloadTile(t, "expired"), delete i._timers[t];
                }), o));
            }, i.prototype._removeTile = function(t) {
                var e = this._tiles[t];
                e && (e.uses--, delete this._tiles[t], this._timers[t] && (clearTimeout(this._timers[t]), delete this._timers[t]), e.uses > 0 || (e.hasData() && "reloading" !== e.state ? this._cache.add(e.tileID, e, e.getExpiryTimeout()) : (e.aborted = !0, this._abortTile(e), this._unloadTile(e))));
            }, i.prototype.clearTiles = function() {
                for (var t in this._shouldReloadOnResume = !1, this._paused = !1, this._tiles) this._removeTile(t);
                this._cache.reset();
            }, i.prototype.tilesIn = function(e, i, o) {
                var r = this,
                    a = [],
                    n = this.transform;
                if (!n) return a;
                for (var s = o ? n.getCameraQueryGeometry(e) : e, l = e.map((function(t) {
                        return n.pointCoordinate(t)
                    })), c = s.map((function(t) {
                        return n.pointCoordinate(t)
                    })), u = this.getIds(), h = 1 / 0, p = 1 / 0, d = -1 / 0, _ = -1 / 0, f = 0, m = c; f < m.length; f += 1) {
                    var g = m[f];
                    h = Math.min(h, g.x), p = Math.min(p, g.y), d = Math.max(d, g.x), _ = Math.max(_, g.y);
                }
                for (var v = function(e) {
                        var o = r._tiles[u[e]];
                        if (!o.holdingForFade()) {
                            var s = o.tileID,
                                f = Math.pow(2, n.zoom - o.tileID.overscaledZ),
                                m = i * o.queryPadding * t.EXTENT / o.tileSize / f,
                                g = [s.getTilePoint(new t.MercatorCoordinate(h, p)), s.getTilePoint(new t.MercatorCoordinate(d, _))];
                            if (g[0].x - m < t.EXTENT && g[0].y - m < t.EXTENT && g[1].x + m >= 0 && g[1].y + m >= 0) {
                                var v = l.map((function(t) {
                                        return s.getTilePoint(t)
                                    })),
                                    y = c.map((function(t) {
                                        return s.getTilePoint(t)
                                    }));
                                a.push({
                                    tile: o,
                                    tileID: s,
                                    queryGeometry: v,
                                    cameraQueryGeometry: y,
                                    scale: f
                                });
                            }
                        }
                    }, y = 0; y < u.length; y++) v(y);
                return a
            }, i.prototype.getVisibleCoordinates = function(t) {
                for (var e = this, i = this.getRenderableIds(t).map((function(t) {
                        return e._tiles[t].tileID
                    })), o = 0, r = i; o < r.length; o += 1) {
                    var a = r[o];
                    a.posMatrix = this.transform.calculatePosMatrix(a.toUnwrapped());
                }
                return i
            }, i.prototype.hasTransition = function() {
                if (this._source.hasTransition()) return !0;
                if (Lt(this._source.type))
                    for (var e in this._tiles) {
                        var i = this._tiles[e];
                        if (void 0 !== i.fadeEndTime && i.fadeEndTime >= t.browser.now()) return !0
                    }
                return !1
            }, i.prototype.setFeatureState = function(t, e, i) {
                this._state.updateState(t = t || "_geojsonTileLayer", e, i);
            }, i.prototype.removeFeatureState = function(t, e, i) {
                this._state.removeFeatureState(t = t || "_geojsonTileLayer", e, i);
            }, i.prototype.getFeatureState = function(t, e) {
                return this._state.getState(t = t || "_geojsonTileLayer", e)
            }, i.prototype.setDependencies = function(t, e, i) {
                var o = this._tiles[t];
                o && o.setDependencies(e, i);
            }, i.prototype.reloadTilesForDependencies = function(t, e) {
                for (var i in this._tiles) this._tiles[i].hasDependency(t, e) && this._reloadTile(i, "reloading");
                this._cache.filter((function(i) {
                    return !i.hasDependency(t, e)
                }));
            }, i
        }(t.Evented);

        function Mt(t, e) {
            var i = Math.abs(2 * t.wrap) - +(t.wrap < 0),
                o = Math.abs(2 * e.wrap) - +(e.wrap < 0);
            return t.overscaledZ - e.overscaledZ || o - i || e.canonical.y - t.canonical.y || e.canonical.x - t.canonical.x
        }

        function Lt(t) {
            return "raster" === t || "image" === t || "video" === t
        }

        function At() {
            return new t.window.Worker(Hr.workerUrl)
        }
        Dt.maxOverzooming = 10, Dt.maxUnderzooming = 3;
        var Rt = "mapboxgl_preloaded_worker_pool",
            kt = function() {
                this.active = {};
            };
        kt.prototype.acquire = function(t) {
            if (!this.workers)
                for (this.workers = []; this.workers.length < kt.workerCount;) this.workers.push(new At);
            return this.active[t] = !0, this.workers.slice()
        }, kt.prototype.release = function(t) {
            delete this.active[t], 0 === this.numActive() && (this.workers.forEach((function(t) {
                t.terminate();
            })), this.workers = null);
        }, kt.prototype.isPreloaded = function() {
            return !!this.active[Rt]
        }, kt.prototype.numActive = function() {
            return Object.keys(this.active).length
        };
        var Bt, Ot = Math.floor(t.browser.hardwareConcurrency / 2);

        function Ft() {
            return Bt || (Bt = new kt), Bt
        }

        function Ut(e, i) {
            var o = {};
            for (var r in e) "ref" !== r && (o[r] = e[r]);
            return t.refProperties.forEach((function(t) {
                t in i && (o[t] = i[t]);
            })), o
        }

        function Nt(t) {
            t = t.slice();
            for (var e = Object.create(null), i = 0; i < t.length; i++) e[t[i].id] = t[i];
            for (var o = 0; o < t.length; o++) "ref" in t[o] && (t[o] = Ut(t[o], e[t[o].ref]));
            return t
        }
        kt.workerCount = Math.max(Math.min(Ot, 6), 1);
        var Zt = {
            setStyle: "setStyle",
            addLayer: "addLayer",
            removeLayer: "removeLayer",
            setPaintProperty: "setPaintProperty",
            setLayoutProperty: "setLayoutProperty",
            setFilter: "setFilter",
            addSource: "addSource",
            removeSource: "removeSource",
            setGeoJSONSourceData: "setGeoJSONSourceData",
            setLayerZoomRange: "setLayerZoomRange",
            setLayerProperty: "setLayerProperty",
            setCenter: "setCenter",
            setZoom: "setZoom",
            setBearing: "setBearing",
            setPitch: "setPitch",
            setSprite: "setSprite",
            setGlyphs: "setGlyphs",
            setTransition: "setTransition",
            setLight: "setLight"
        };

        function qt(t, e, i) {
            i.push({
                command: Zt.addSource,
                args: [t, e[t]]
            });
        }

        function jt(t, e, i) {
            e.push({
                command: Zt.removeSource,
                args: [t]
            }), i[t] = !0;
        }

        function Vt(t, e, i, o) {
            jt(t, i, o), qt(t, e, i);
        }

        function Gt(e, i, o) {
            var r;
            for (r in e[o])
                if (e[o].hasOwnProperty(r) && "data" !== r && !t.deepEqual(e[o][r], i[o][r])) return !1;
            for (r in i[o])
                if (i[o].hasOwnProperty(r) && "data" !== r && !t.deepEqual(e[o][r], i[o][r])) return !1;
            return !0
        }

        function Wt(e, i, o, r, a, n) {
            var s;
            for (s in i = i || {}, e = e || {}) e.hasOwnProperty(s) && (t.deepEqual(e[s], i[s]) || o.push({
                command: n,
                args: [r, s, i[s], a]
            }));
            for (s in i) i.hasOwnProperty(s) && !e.hasOwnProperty(s) && (t.deepEqual(e[s], i[s]) || o.push({
                command: n,
                args: [r, s, i[s], a]
            }));
        }

        function Xt(t) {
            return t.id
        }

        function Ht(t, e) {
            return t[e.id] = e, t
        }
        var Kt = function(t, e) {
            this.reset(t, e);
        };
        Kt.prototype.reset = function(t, e) {
            this.points = t || [], this._distances = [0];
            for (var i = 1; i < this.points.length; i++) this._distances[i] = this._distances[i - 1] + this.points[i].dist(this.points[i - 1]);
            this.length = this._distances[this._distances.length - 1], this.padding = Math.min(e || 0, .5 * this.length), this.paddedLength = this.length - 2 * this.padding;
        }, Kt.prototype.lerp = function(e) {
            if (1 === this.points.length) return this.points[0];
            e = t.clamp(e, 0, 1);
            for (var i = 1, o = this._distances[i], r = e * this.paddedLength + this.padding; o < r && i < this._distances.length;) o = this._distances[++i];
            var a = i - 1,
                n = this._distances[a],
                s = o - n,
                l = s > 0 ? (r - n) / s : 0;
            return this.points[a].mult(1 - l).add(this.points[i].mult(l))
        };
        var Yt = function(t, e, i) {
            var o = this.boxCells = [],
                r = this.circleCells = [];
            this.xCellCount = Math.ceil(t / i), this.yCellCount = Math.ceil(e / i);
            for (var a = 0; a < this.xCellCount * this.yCellCount; a++) o.push([]), r.push([]);
            this.circleKeys = [], this.boxKeys = [], this.bboxes = [], this.circles = [], this.width = t, this.height = e, this.xScale = this.xCellCount / t, this.yScale = this.yCellCount / e, this.boxUid = 0, this.circleUid = 0;
        };

        function Jt(e, i, o, r, a) {
            var n = t.create();
            return i ? (t.scale(n, n, [1 / a, 1 / a, 1]), o || t.rotateZ(n, n, r.angle)) : t.multiply(n, r.labelPlaneMatrix, e), n
        }

        function Qt(e, i, o, r, a) {
            if (i) {
                var n = t.clone(e);
                return t.scale(n, n, [a, a, 1]), o || t.rotateZ(n, n, -r.angle), n
            }
            return r.glCoordMatrix
        }

        function $t(e, i) {
            var o = [e.x, e.y, 0, 1];
            ue(o, o, i);
            var r = o[3];
            return {
                point: new t.Point(o[0] / r, o[1] / r),
                signedDistanceFromCamera: r
            }
        }

        function te(t, e) {
            return .5 + t / e * .5
        }

        function ee(t, e) {
            var i = t[0] / t[3],
                o = t[1] / t[3];
            return i >= -e[0] && i <= e[0] && o >= -e[1] && o <= e[1]
        }

        function ie(e, i, o, r, a, n, s, l) {
            var c = r ? e.textSizeData : e.iconSizeData,
                u = t.evaluateSizeForZoom(c, o.transform.zoom),
                h = [256 / o.width * 2 + 1, 256 / o.height * 2 + 1],
                p = r ? e.text.dynamicLayoutVertexArray : e.icon.dynamicLayoutVertexArray;
            p.clear();
            for (var d = e.lineVertexArray, _ = r ? e.text.placedSymbolArray : e.icon.placedSymbolArray, f = o.transform.width / o.transform.height, m = !1, g = 0; g < _.length; g++) {
                var v = _.get(g);
                if (v.hidden || v.writingMode === t.WritingMode.vertical && !m) ce(v.numGlyphs, p);
                else {
                    m = !1;
                    var y = [v.anchorX, v.anchorY, 0, 1];
                    if (t.transformMat4(y, y, i), ee(y, h)) {
                        var x = te(o.transform.cameraToCenterDistance, y[3]),
                            b = t.evaluateSizeForFeature(c, u, v),
                            w = s ? b / x : b * x,
                            T = new t.Point(v.anchorX, v.anchorY),
                            E = $t(T, a).point,
                            I = {},
                            P = ae(v, w, !1, l, i, a, n, e.glyphOffsetArray, d, p, E, T, I, f);
                        m = P.useVertical, (P.notEnoughRoom || m || P.needsFlipping && ae(v, w, !0, l, i, a, n, e.glyphOffsetArray, d, p, E, T, I, f).notEnoughRoom) && ce(v.numGlyphs, p);
                    } else ce(v.numGlyphs, p);
                }
            }
            r ? e.text.dynamicLayoutVertexBuffer.updateData(p) : e.icon.dynamicLayoutVertexBuffer.updateData(p);
        }

        function oe(t, e, i, o, r, a, n, s, l, c, u) {
            var h = s.glyphStartIndex + s.numGlyphs,
                p = s.lineStartIndex,
                d = s.lineStartIndex + s.lineLength,
                _ = e.getoffsetX(s.glyphStartIndex),
                f = e.getoffsetX(h - 1),
                m = se(t * _, i, o, r, a, n, s.segment, p, d, l, c, u);
            if (!m) return null;
            var g = se(t * f, i, o, r, a, n, s.segment, p, d, l, c, u);
            return g ? {
                first: m,
                last: g
            } : null
        }

        function re(e, i, o, r) {
            return e === t.WritingMode.horizontal && Math.abs(o.y - i.y) > Math.abs(o.x - i.x) * r ? {
                useVertical: !0
            } : (e === t.WritingMode.vertical ? i.y < o.y : i.x > o.x) ? {
                needsFlipping: !0
            } : null
        }

        function ae(e, i, o, r, a, n, s, l, c, u, h, p, d, _) {
            var f, m = i / 24,
                g = e.lineOffsetX * m,
                v = e.lineOffsetY * m;
            if (e.numGlyphs > 1) {
                var y = e.glyphStartIndex + e.numGlyphs,
                    x = e.lineStartIndex,
                    b = e.lineStartIndex + e.lineLength,
                    w = oe(m, l, g, v, o, h, p, e, c, n, d);
                if (!w) return {
                    notEnoughRoom: !0
                };
                var T = $t(w.first.point, s).point,
                    E = $t(w.last.point, s).point;
                if (r && !o) {
                    var I = re(e.writingMode, T, E, _);
                    if (I) return I
                }
                f = [w.first];
                for (var P = e.glyphStartIndex + 1; P < y - 1; P++) f.push(se(m * l.getoffsetX(P), g, v, o, h, p, e.segment, x, b, c, n, d));
                f.push(w.last);
            } else {
                if (r && !o) {
                    var S = $t(p, a).point,
                        C = e.lineStartIndex + e.segment + 1,
                        z = new t.Point(c.getx(C), c.gety(C)),
                        D = $t(z, a),
                        M = D.signedDistanceFromCamera > 0 ? D.point : ne(p, z, S, 1, a),
                        L = re(e.writingMode, S, M, _);
                    if (L) return L
                }
                var A = se(m * l.getoffsetX(e.glyphStartIndex), g, v, o, h, p, e.segment, e.lineStartIndex, e.lineStartIndex + e.lineLength, c, n, d);
                if (!A) return {
                    notEnoughRoom: !0
                };
                f = [A];
            }
            for (var R = 0, k = f; R < k.length; R += 1) {
                var B = k[R];
                t.addDynamicAttributes(u, B.point, B.angle);
            }
            return {}
        }

        function ne(t, e, i, o, r) {
            var a = $t(t.add(t.sub(e)._unit()), r).point,
                n = i.sub(a);
            return i.add(n._mult(o / n.mag()))
        }

        function se(e, i, o, r, a, n, s, l, c, u, h, p) {
            var d = r ? e - i : e + i,
                _ = d > 0 ? 1 : -1,
                f = 0;
            r && (_ *= -1, f = Math.PI), _ < 0 && (f += Math.PI);
            for (var m = _ > 0 ? l + s : l + s + 1, g = a, v = a, y = 0, x = 0, b = Math.abs(d), w = []; y + x <= b;) {
                if ((m += _) < l || m >= c) return null;
                if (v = g, w.push(g), void 0 === (g = p[m])) {
                    var T = new t.Point(u.getx(m), u.gety(m)),
                        E = $t(T, h);
                    if (E.signedDistanceFromCamera > 0) g = p[m] = E.point;
                    else {
                        var I = m - _;
                        g = ne(0 === y ? n : new t.Point(u.getx(I), u.gety(I)), T, v, b - y + 1, h);
                    }
                }
                y += x, x = v.dist(g);
            }
            var P = (b - y) / x,
                S = g.sub(v),
                C = S.mult(P)._add(v);
            C._add(S._unit()._perp()._mult(o * _));
            var z = f + Math.atan2(g.y - v.y, g.x - v.x);
            return w.push(C), {
                point: C,
                angle: z,
                path: w
            }
        }
        Yt.prototype.keysLength = function() {
            return this.boxKeys.length + this.circleKeys.length
        }, Yt.prototype.insert = function(t, e, i, o, r) {
            this._forEachCell(e, i, o, r, this._insertBoxCell, this.boxUid++), this.boxKeys.push(t), this.bboxes.push(e), this.bboxes.push(i), this.bboxes.push(o), this.bboxes.push(r);
        }, Yt.prototype.insertCircle = function(t, e, i, o) {
            this._forEachCell(e - o, i - o, e + o, i + o, this._insertCircleCell, this.circleUid++), this.circleKeys.push(t), this.circles.push(e), this.circles.push(i), this.circles.push(o);
        }, Yt.prototype._insertBoxCell = function(t, e, i, o, r, a) {
            this.boxCells[r].push(a);
        }, Yt.prototype._insertCircleCell = function(t, e, i, o, r, a) {
            this.circleCells[r].push(a);
        }, Yt.prototype._query = function(t, e, i, o, r, a) {
            if (i < 0 || t > this.width || o < 0 || e > this.height) return !r && [];
            var n = [];
            if (t <= 0 && e <= 0 && this.width <= i && this.height <= o) {
                if (r) return !0;
                for (var s = 0; s < this.boxKeys.length; s++) n.push({
                    key: this.boxKeys[s],
                    x1: this.bboxes[4 * s],
                    y1: this.bboxes[4 * s + 1],
                    x2: this.bboxes[4 * s + 2],
                    y2: this.bboxes[4 * s + 3]
                });
                for (var l = 0; l < this.circleKeys.length; l++) {
                    var c = this.circles[3 * l],
                        u = this.circles[3 * l + 1],
                        h = this.circles[3 * l + 2];
                    n.push({
                        key: this.circleKeys[l],
                        x1: c - h,
                        y1: u - h,
                        x2: c + h,
                        y2: u + h
                    });
                }
                return a ? n.filter(a) : n
            }
            return this._forEachCell(t, e, i, o, this._queryCell, n, {
                hitTest: r,
                seenUids: {
                    box: {},
                    circle: {}
                }
            }, a), r ? n.length > 0 : n
        }, Yt.prototype._queryCircle = function(t, e, i, o, r) {
            var a = t - i,
                n = t + i,
                s = e - i,
                l = e + i;
            if (n < 0 || a > this.width || l < 0 || s > this.height) return !o && [];
            var c = [];
            return this._forEachCell(a, s, n, l, this._queryCellCircle, c, {
                hitTest: o,
                circle: {
                    x: t,
                    y: e,
                    radius: i
                },
                seenUids: {
                    box: {},
                    circle: {}
                }
            }, r), o ? c.length > 0 : c
        }, Yt.prototype.query = function(t, e, i, o, r) {
            return this._query(t, e, i, o, !1, r)
        }, Yt.prototype.hitTest = function(t, e, i, o, r) {
            return this._query(t, e, i, o, !0, r)
        }, Yt.prototype.hitTestCircle = function(t, e, i, o) {
            return this._queryCircle(t, e, i, !0, o)
        }, Yt.prototype._queryCell = function(t, e, i, o, r, a, n, s) {
            var l = n.seenUids,
                c = this.boxCells[r];
            if (null !== c)
                for (var u = this.bboxes, h = 0, p = c; h < p.length; h += 1) {
                    var d = p[h];
                    if (!l.box[d]) {
                        l.box[d] = !0;
                        var _ = 4 * d;
                        if (t <= u[_ + 2] && e <= u[_ + 3] && i >= u[_ + 0] && o >= u[_ + 1] && (!s || s(this.boxKeys[d]))) {
                            if (n.hitTest) return a.push(!0), !0;
                            a.push({
                                key: this.boxKeys[d],
                                x1: u[_],
                                y1: u[_ + 1],
                                x2: u[_ + 2],
                                y2: u[_ + 3]
                            });
                        }
                    }
                }
            var f = this.circleCells[r];
            if (null !== f)
                for (var m = this.circles, g = 0, v = f; g < v.length; g += 1) {
                    var y = v[g];
                    if (!l.circle[y]) {
                        l.circle[y] = !0;
                        var x = 3 * y;
                        if (this._circleAndRectCollide(m[x], m[x + 1], m[x + 2], t, e, i, o) && (!s || s(this.circleKeys[y]))) {
                            if (n.hitTest) return a.push(!0), !0;
                            var b = m[x],
                                w = m[x + 1],
                                T = m[x + 2];
                            a.push({
                                key: this.circleKeys[y],
                                x1: b - T,
                                y1: w - T,
                                x2: b + T,
                                y2: w + T
                            });
                        }
                    }
                }
        }, Yt.prototype._queryCellCircle = function(t, e, i, o, r, a, n, s) {
            var l = n.circle,
                c = n.seenUids,
                u = this.boxCells[r];
            if (null !== u)
                for (var h = this.bboxes, p = 0, d = u; p < d.length; p += 1) {
                    var _ = d[p];
                    if (!c.box[_]) {
                        c.box[_] = !0;
                        var f = 4 * _;
                        if (this._circleAndRectCollide(l.x, l.y, l.radius, h[f + 0], h[f + 1], h[f + 2], h[f + 3]) && (!s || s(this.boxKeys[_]))) return a.push(!0), !0
                    }
                }
            var m = this.circleCells[r];
            if (null !== m)
                for (var g = this.circles, v = 0, y = m; v < y.length; v += 1) {
                    var x = y[v];
                    if (!c.circle[x]) {
                        c.circle[x] = !0;
                        var b = 3 * x;
                        if (this._circlesCollide(g[b], g[b + 1], g[b + 2], l.x, l.y, l.radius) && (!s || s(this.circleKeys[x]))) return a.push(!0), !0
                    }
                }
        }, Yt.prototype._forEachCell = function(t, e, i, o, r, a, n, s) {
            for (var l = this._convertToXCellCoord(t), c = this._convertToYCellCoord(e), u = this._convertToXCellCoord(i), h = this._convertToYCellCoord(o), p = l; p <= u; p++)
                for (var d = c; d <= h; d++)
                    if (r.call(this, t, e, i, o, this.xCellCount * d + p, a, n, s)) return
        }, Yt.prototype._convertToXCellCoord = function(t) {
            return Math.max(0, Math.min(this.xCellCount - 1, Math.floor(t * this.xScale)))
        }, Yt.prototype._convertToYCellCoord = function(t) {
            return Math.max(0, Math.min(this.yCellCount - 1, Math.floor(t * this.yScale)))
        }, Yt.prototype._circlesCollide = function(t, e, i, o, r, a) {
            var n = o - t,
                s = r - e,
                l = i + a;
            return l * l > n * n + s * s
        }, Yt.prototype._circleAndRectCollide = function(t, e, i, o, r, a, n) {
            var s = (a - o) / 2,
                l = Math.abs(t - (o + s));
            if (l > s + i) return !1;
            var c = (n - r) / 2,
                u = Math.abs(e - (r + c));
            if (u > c + i) return !1;
            if (l <= s || u <= c) return !0;
            var h = l - s,
                p = u - c;
            return h * h + p * p <= i * i
        };
        var le = new Float32Array([-1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0, -1 / 0, -1 / 0, 0]);

        function ce(t, e) {
            for (var i = 0; i < t; i++) {
                var o = e.length;
                e.resize(o + 4), e.float32.set(le, 3 * o);
            }
        }

        function ue(t, e, i) {
            var o = e[0],
                r = e[1];
            return t[0] = i[0] * o + i[4] * r + i[12], t[1] = i[1] * o + i[5] * r + i[13], t[3] = i[3] * o + i[7] * r + i[15], t
        }
        var he = function(t, e, i) {
            void 0 === e && (e = new Yt(t.width + 200, t.height + 200, 25)), void 0 === i && (i = new Yt(t.width + 200, t.height + 200, 25)), this.transform = t, this.grid = e, this.ignoredGrid = i, this.pitchfactor = Math.cos(t._pitch) * t.cameraToCenterDistance, this.screenRightBoundary = t.width + 100, this.screenBottomBoundary = t.height + 100, this.gridRightBoundary = t.width + 200, this.gridBottomBoundary = t.height + 200;
        };

        function pe(e, i, o) {
            return i * (t.EXTENT / (e.tileSize * Math.pow(2, o - e.tileID.overscaledZ)))
        }
        he.prototype.placeCollisionBox = function(t, e, i, o, r) {
            var a = this.projectAndGetPerspectiveRatio(o, t.anchorPointX, t.anchorPointY),
                n = i * a.perspectiveRatio,
                s = t.x1 * n + a.point.x,
                l = t.y1 * n + a.point.y,
                c = t.x2 * n + a.point.x,
                u = t.y2 * n + a.point.y;
            return !this.isInsideGrid(s, l, c, u) || !e && this.grid.hitTest(s, l, c, u, r) ? {
                box: [],
                offscreen: !1
            } : {
                box: [s, l, c, u],
                offscreen: this.isOffscreen(s, l, c, u)
            }
        }, he.prototype.placeCollisionCircles = function(e, i, o, r, a, n, s, l, c, u, h, p, d) {
            var _ = [],
                f = new t.Point(i.anchorX, i.anchorY),
                m = $t(f, n),
                g = te(this.transform.cameraToCenterDistance, m.signedDistanceFromCamera),
                v = (u ? a / g : a * g) / t.ONE_EM,
                y = $t(f, s).point,
                x = oe(v, r, i.lineOffsetX * v, i.lineOffsetY * v, !1, y, f, i, o, s, {}),
                b = !1,
                w = !1,
                T = !0;
            if (x) {
                for (var E = .5 * p * g + d, I = new t.Point(-100, -100), P = new t.Point(this.screenRightBoundary, this.screenBottomBoundary), S = new Kt, C = x.first, z = x.last, D = [], M = C.path.length - 1; M >= 1; M--) D.push(C.path[M]);
                for (var L = 1; L < z.path.length; L++) D.push(z.path[L]);
                var A = 2.5 * E;
                if (l) {
                    var R = D.map((function(t) {
                        return $t(t, l)
                    }));
                    D = R.some((function(t) {
                        return t.signedDistanceFromCamera <= 0
                    })) ? [] : R.map((function(t) {
                        return t.point
                    }));
                }
                var k = [];
                if (D.length > 0) {
                    for (var B = D[0].clone(), O = D[0].clone(), F = 1; F < D.length; F++) B.x = Math.min(B.x, D[F].x), B.y = Math.min(B.y, D[F].y), O.x = Math.max(O.x, D[F].x), O.y = Math.max(O.y, D[F].y);
                    k = B.x >= I.x && O.x <= P.x && B.y >= I.y && O.y <= P.y ? [D] : O.x < I.x || B.x > P.x || O.y < I.y || B.y > P.y ? [] : t.clipLine([D], I.x, I.y, P.x, P.y);
                }
                for (var U = 0, N = k; U < N.length; U += 1) {
                    var Z;
                    S.reset(N[U], .25 * E), Z = S.length <= .5 * E ? 1 : Math.ceil(S.paddedLength / A) + 1;
                    for (var q = 0; q < Z; q++) {
                        var j = q / Math.max(Z - 1, 1),
                            V = S.lerp(j),
                            G = V.x + 100,
                            W = V.y + 100;
                        _.push(G, W, E, 0);
                        var X = G - E,
                            H = W - E,
                            K = G + E,
                            Y = W + E;
                        if (T = T && this.isOffscreen(X, H, K, Y), w = w || this.isInsideGrid(X, H, K, Y), !e && this.grid.hitTestCircle(G, W, E, h) && (b = !0, !c)) return {
                            circles: [],
                            offscreen: !1,
                            collisionDetected: b
                        }
                    }
                }
            }
            return {
                circles: !c && b || !w ? [] : _,
                offscreen: T,
                collisionDetected: b
            }
        }, he.prototype.queryRenderedSymbols = function(e) {
            if (0 === e.length || 0 === this.grid.keysLength() && 0 === this.ignoredGrid.keysLength()) return {};
            for (var i = [], o = 1 / 0, r = 1 / 0, a = -1 / 0, n = -1 / 0, s = 0, l = e; s < l.length; s += 1) {
                var c = l[s],
                    u = new t.Point(c.x + 100, c.y + 100);
                o = Math.min(o, u.x), r = Math.min(r, u.y), a = Math.max(a, u.x), n = Math.max(n, u.y), i.push(u);
            }
            for (var h = {}, p = {}, d = 0, _ = this.grid.query(o, r, a, n).concat(this.ignoredGrid.query(o, r, a, n)); d < _.length; d += 1) {
                var f = _[d],
                    m = f.key;
                if (void 0 === h[m.bucketInstanceId] && (h[m.bucketInstanceId] = {}), !h[m.bucketInstanceId][m.featureIndex]) {
                    var g = [new t.Point(f.x1, f.y1), new t.Point(f.x2, f.y1), new t.Point(f.x2, f.y2), new t.Point(f.x1, f.y2)];
                    t.polygonIntersectsPolygon(i, g) && (h[m.bucketInstanceId][m.featureIndex] = !0, void 0 === p[m.bucketInstanceId] && (p[m.bucketInstanceId] = []), p[m.bucketInstanceId].push(m.featureIndex));
                }
            }
            return p
        }, he.prototype.insertCollisionBox = function(t, e, i, o, r) {
            (e ? this.ignoredGrid : this.grid).insert({
                bucketInstanceId: i,
                featureIndex: o,
                collisionGroupID: r
            }, t[0], t[1], t[2], t[3]);
        }, he.prototype.insertCollisionCircles = function(t, e, i, o, r) {
            for (var a = e ? this.ignoredGrid : this.grid, n = {
                    bucketInstanceId: i,
                    featureIndex: o,
                    collisionGroupID: r
                }, s = 0; s < t.length; s += 4) a.insertCircle(n, t[s], t[s + 1], t[s + 2]);
        }, he.prototype.projectAndGetPerspectiveRatio = function(e, i, o) {
            var r = [i, o, 0, 1];
            return ue(r, r, e), {
                point: new t.Point((r[0] / r[3] + 1) / 2 * this.transform.width + 100, (-r[1] / r[3] + 1) / 2 * this.transform.height + 100),
                perspectiveRatio: .5 + this.transform.cameraToCenterDistance / r[3] * .5
            }
        }, he.prototype.isOffscreen = function(t, e, i, o) {
            return i < 100 || t >= this.screenRightBoundary || o < 100 || e > this.screenBottomBoundary
        }, he.prototype.isInsideGrid = function(t, e, i, o) {
            return i >= 0 && t < this.gridRightBoundary && o >= 0 && e < this.gridBottomBoundary
        }, he.prototype.getViewportMatrix = function() {
            var e = t.identity([]);
            return t.translate(e, e, [-100, -100, 0]), e
        };
        var de = function(t, e, i, o) {
            this.opacity = t ? Math.max(0, Math.min(1, t.opacity + (t.placed ? e : -e))) : o && i ? 1 : 0, this.placed = i;
        };
        de.prototype.isHidden = function() {
            return 0 === this.opacity && !this.placed
        };
        var _e = function(t, e, i, o, r) {
            this.text = new de(t ? t.text : null, e, i, r), this.icon = new de(t ? t.icon : null, e, o, r);
        };
        _e.prototype.isHidden = function() {
            return this.text.isHidden() && this.icon.isHidden()
        };
        var fe = function(t, e, i) {
                this.text = t, this.icon = e, this.skipFade = i;
            },
            me = function() {
                this.invProjMatrix = t.create(), this.viewportMatrix = t.create(), this.circles = [];
            },
            ge = function(t, e, i, o, r) {
                this.bucketInstanceId = t, this.featureIndex = e, this.sourceLayerIndex = i, this.bucketIndex = o, this.tileID = r;
            },
            ve = function(t) {
                this.crossSourceCollisions = t, this.maxGroupID = 0, this.collisionGroups = {};
            };

        function ye(e, i, o, r, a) {
            var n = t.getAnchorAlignment(e),
                s = -(n.horizontalAlign - .5) * i,
                l = -(n.verticalAlign - .5) * o,
                c = t.evaluateVariableOffset(e, r);
            return new t.Point(s + c[0] * a, l + c[1] * a)
        }

        function xe(e, i, o, r, a, n) {
            var s = e.x1,
                l = e.x2,
                c = e.y1,
                u = e.y2,
                h = e.anchorPointX,
                p = e.anchorPointY,
                d = new t.Point(i, o);
            return r && d._rotate(a ? n : -n), {
                x1: s + d.x,
                y1: c + d.y,
                x2: l + d.x,
                y2: u + d.y,
                anchorPointX: h,
                anchorPointY: p
            }
        }
        ve.prototype.get = function(t) {
            if (this.crossSourceCollisions) return {
                ID: 0,
                predicate: null
            };
            if (!this.collisionGroups[t]) {
                var e = ++this.maxGroupID;
                this.collisionGroups[t] = {
                    ID: e,
                    predicate: function(t) {
                        return t.collisionGroupID === e
                    }
                };
            }
            return this.collisionGroups[t]
        };
        var be = function(t, e, i, o) {
            this.transform = t.clone(), this.collisionIndex = new he(this.transform), this.placements = {}, this.opacities = {}, this.variableOffsets = {}, this.stale = !1, this.commitTime = 0, this.fadeDuration = e, this.retainedQueryData = {}, this.collisionGroups = new ve(i), this.collisionCircleArrays = {}, this.prevPlacement = o, o && (o.prevPlacement = void 0), this.placedOrientations = {};
        };

        function we(t, e, i, o, r) {
            t.emplaceBack(e ? 1 : 0, i ? 1 : 0, o || 0, r || 0), t.emplaceBack(e ? 1 : 0, i ? 1 : 0, o || 0, r || 0), t.emplaceBack(e ? 1 : 0, i ? 1 : 0, o || 0, r || 0), t.emplaceBack(e ? 1 : 0, i ? 1 : 0, o || 0, r || 0);
        }
        be.prototype.getBucketParts = function(e, i, o, r) {
            var a = o.getBucket(i),
                n = o.latestFeatureIndex;
            if (a && n && i.id === a.layerIds[0]) {
                var s = o.collisionBoxArray,
                    l = a.layers[0].layout,
                    c = Math.pow(2, this.transform.zoom - o.tileID.overscaledZ),
                    u = o.tileSize / t.EXTENT,
                    h = this.transform.calculatePosMatrix(o.tileID.toUnwrapped()),
                    p = "map" === l.get("text-pitch-alignment"),
                    d = "map" === l.get("text-rotation-alignment"),
                    _ = pe(o, 1, this.transform.zoom),
                    f = Jt(h, p, d, this.transform, _),
                    m = null;
                if (p) {
                    var g = Qt(h, p, d, this.transform, _);
                    m = t.multiply([], this.transform.labelPlaneMatrix, g);
                }
                this.retainedQueryData[a.bucketInstanceId] = new ge(a.bucketInstanceId, n, a.sourceLayerIndex, a.index, o.tileID);
                var v = {
                    bucket: a,
                    layout: l,
                    posMatrix: h,
                    textLabelPlaneMatrix: f,
                    labelToScreenMatrix: m,
                    scale: c,
                    textPixelRatio: u,
                    holdingForFade: o.holdingForFade(),
                    collisionBoxArray: s,
                    partiallyEvaluatedTextSize: t.evaluateSizeForZoom(a.textSizeData, this.transform.zoom),
                    collisionGroup: this.collisionGroups.get(a.sourceID)
                };
                if (r)
                    for (var y = 0, x = a.sortKeyRanges; y < x.length; y += 1) {
                        var b = x[y];
                        e.push({
                            sortKey: b.sortKey,
                            symbolInstanceStart: b.symbolInstanceStart,
                            symbolInstanceEnd: b.symbolInstanceEnd,
                            parameters: v
                        });
                    } else e.push({
                        symbolInstanceStart: 0,
                        symbolInstanceEnd: a.symbolInstances.length,
                        parameters: v
                    });
            }
        }, be.prototype.attemptAnchorPlacement = function(t, e, i, o, r, a, n, s, l, c, u, h, p, d, _) {
            var f, m = [h.textOffset0, h.textOffset1],
                g = ye(t, i, o, m, r),
                v = this.collisionIndex.placeCollisionBox(xe(e, g.x, g.y, a, n, this.transform.angle), u, s, l, c.predicate);
            if (!_ || 0 !== this.collisionIndex.placeCollisionBox(xe(_, g.x, g.y, a, n, this.transform.angle), u, s, l, c.predicate).box.length) return v.box.length > 0 ? (this.prevPlacement && this.prevPlacement.variableOffsets[h.crossTileID] && this.prevPlacement.placements[h.crossTileID] && this.prevPlacement.placements[h.crossTileID].text && (f = this.prevPlacement.variableOffsets[h.crossTileID].anchor), this.variableOffsets[h.crossTileID] = {
                textOffset: m,
                width: i,
                height: o,
                anchor: t,
                textBoxScale: r,
                prevAnchor: f
            }, this.markUsedJustification(p, t, h, d), p.allowVerticalPlacement && (this.markUsedOrientation(p, d, h), this.placedOrientations[h.crossTileID] = d), {
                shift: g,
                placedGlyphBoxes: v
            }) : void 0
        }, be.prototype.placeLayerBucketPart = function(e, i, o) {
            var r = this,
                a = e.parameters,
                n = a.bucket,
                s = a.layout,
                l = a.posMatrix,
                c = a.textLabelPlaneMatrix,
                u = a.labelToScreenMatrix,
                h = a.textPixelRatio,
                p = a.holdingForFade,
                d = a.collisionBoxArray,
                _ = a.partiallyEvaluatedTextSize,
                f = a.collisionGroup,
                m = s.get("text-optional"),
                g = s.get("icon-optional"),
                v = s.get("text-allow-overlap"),
                y = s.get("icon-allow-overlap"),
                x = "map" === s.get("text-rotation-alignment"),
                b = "map" === s.get("text-pitch-alignment"),
                w = "none" !== s.get("icon-text-fit"),
                T = "viewport-y" === s.get("symbol-z-order"),
                E = v && (y || !n.hasIconData() || g),
                I = y && (v || !n.hasTextData() || m);
            !n.collisionArrays && d && n.deserializeCollisionBoxes(d);
            var P = function(e, a) {
                if (!i[e.crossTileID])
                    if (p) r.placements[e.crossTileID] = new fe(!1, !1, !1);
                    else {
                        var d, T = !1,
                            P = !1,
                            S = !0,
                            C = null,
                            z = {
                                box: null,
                                offscreen: null
                            },
                            D = {
                                box: null,
                                offscreen: null
                            },
                            M = null,
                            L = null,
                            A = 0,
                            R = 0,
                            k = 0;
                        a.textFeatureIndex ? A = a.textFeatureIndex : e.useRuntimeCollisionCircles && (A = e.featureIndex), a.verticalTextFeatureIndex && (R = a.verticalTextFeatureIndex);
                        var B = a.textBox;
                        if (B) {
                            var O = function(i) {
                                    var o = t.WritingMode.horizontal;
                                    if (n.allowVerticalPlacement && !i && r.prevPlacement) {
                                        var a = r.prevPlacement.placedOrientations[e.crossTileID];
                                        a && (r.placedOrientations[e.crossTileID] = a, r.markUsedOrientation(n, o = a, e));
                                    }
                                    return o
                                },
                                F = function(i, o) {
                                    if (n.allowVerticalPlacement && e.numVerticalGlyphVertices > 0 && a.verticalTextBox)
                                        for (var r = 0, s = n.writingModes; r < s.length && (s[r] === t.WritingMode.vertical ? (z = o(), D = z) : z = i(), !(z && z.box && z.box.length)); r += 1);
                                    else z = i();
                                };
                            if (s.get("text-variable-anchor")) {
                                var U = s.get("text-variable-anchor");
                                if (r.prevPlacement && r.prevPlacement.variableOffsets[e.crossTileID]) {
                                    var N = r.prevPlacement.variableOffsets[e.crossTileID];
                                    U.indexOf(N.anchor) > 0 && (U = U.filter((function(t) {
                                        return t !== N.anchor
                                    }))).unshift(N.anchor);
                                }
                                var Z = function(t, i, o) {
                                    for (var a = t.x2 - t.x1, s = t.y2 - t.y1, c = e.textBoxScale, u = w && !y ? i : null, p = {
                                            box: [],
                                            offscreen: !1
                                        }, d = v ? 2 * U.length : U.length, _ = 0; _ < d; ++_) {
                                        var m = r.attemptAnchorPlacement(U[_ % U.length], t, a, s, c, x, b, h, l, f, _ >= U.length, e, n, o, u);
                                        if (m && (p = m.placedGlyphBoxes) && p.box && p.box.length) {
                                            T = !0, C = m.shift;
                                            break
                                        }
                                    }
                                    return p
                                };
                                F((function() {
                                    return Z(B, a.iconBox, t.WritingMode.horizontal)
                                }), (function() {
                                    var i = a.verticalTextBox;
                                    return n.allowVerticalPlacement && !(z && z.box && z.box.length) && e.numVerticalGlyphVertices > 0 && i ? Z(i, a.verticalIconBox, t.WritingMode.vertical) : {
                                        box: null,
                                        offscreen: null
                                    }
                                })), z && (T = z.box, S = z.offscreen);
                                var q = O(z && z.box);
                                if (!T && r.prevPlacement) {
                                    var j = r.prevPlacement.variableOffsets[e.crossTileID];
                                    j && (r.variableOffsets[e.crossTileID] = j, r.markUsedJustification(n, j.anchor, e, q));
                                }
                            } else {
                                var V = function(t, i) {
                                    var o = r.collisionIndex.placeCollisionBox(t, v, h, l, f.predicate);
                                    return o && o.box && o.box.length && (r.markUsedOrientation(n, i, e), r.placedOrientations[e.crossTileID] = i), o
                                };
                                F((function() {
                                    return V(B, t.WritingMode.horizontal)
                                }), (function() {
                                    var i = a.verticalTextBox;
                                    return n.allowVerticalPlacement && e.numVerticalGlyphVertices > 0 && i ? V(i, t.WritingMode.vertical) : {
                                        box: null,
                                        offscreen: null
                                    }
                                })), O(z && z.box && z.box.length);
                            }
                        }
                        if (T = (d = z) && d.box && d.box.length > 0, S = d && d.offscreen, e.useRuntimeCollisionCircles) {
                            var G = n.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),
                                W = t.evaluateSizeForFeature(n.textSizeData, _, G),
                                X = s.get("text-padding");
                            M = r.collisionIndex.placeCollisionCircles(v, G, n.lineVertexArray, n.glyphOffsetArray, W, l, c, u, o, b, f.predicate, e.collisionCircleDiameter, X), T = v || M.circles.length > 0 && !M.collisionDetected, S = S && M.offscreen;
                        }
                        if (a.iconFeatureIndex && (k = a.iconFeatureIndex), a.iconBox) {
                            var H = function(t) {
                                var e = w && C ? xe(t, C.x, C.y, x, b, r.transform.angle) : t;
                                return r.collisionIndex.placeCollisionBox(e, y, h, l, f.predicate)
                            };
                            P = D && D.box && D.box.length && a.verticalIconBox ? (L = H(a.verticalIconBox)).box.length > 0 : (L = H(a.iconBox)).box.length > 0, S = S && L.offscreen;
                        }
                        var K = m || 0 === e.numHorizontalGlyphVertices && 0 === e.numVerticalGlyphVertices,
                            Y = g || 0 === e.numIconVertices;
                        if (K || Y ? Y ? K || (P = P && T) : T = P && T : P = T = P && T, T && d && d.box && r.collisionIndex.insertCollisionBox(d.box, s.get("text-ignore-placement"), n.bucketInstanceId, D && D.box && R ? R : A, f.ID), P && L && r.collisionIndex.insertCollisionBox(L.box, s.get("icon-ignore-placement"), n.bucketInstanceId, k, f.ID), M && (T && r.collisionIndex.insertCollisionCircles(M.circles, s.get("text-ignore-placement"), n.bucketInstanceId, A, f.ID), o)) {
                            var J = n.bucketInstanceId,
                                Q = r.collisionCircleArrays[J];
                            void 0 === Q && (Q = r.collisionCircleArrays[J] = new me);
                            for (var $ = 0; $ < M.circles.length; $ += 4) Q.circles.push(M.circles[$ + 0]), Q.circles.push(M.circles[$ + 1]), Q.circles.push(M.circles[$ + 2]), Q.circles.push(M.collisionDetected ? 1 : 0);
                        }
                        r.placements[e.crossTileID] = new fe(T || E, P || I, S || n.justReloaded), i[e.crossTileID] = !0;
                    }
            };
            if (T)
                for (var S = n.getSortedSymbolIndexes(this.transform.angle), C = S.length - 1; C >= 0; --C) {
                    var z = S[C];
                    P(n.symbolInstances.get(z), n.collisionArrays[z]);
                } else
                    for (var D = e.symbolInstanceStart; D < e.symbolInstanceEnd; D++) P(n.symbolInstances.get(D), n.collisionArrays[D]);
            if (o && n.bucketInstanceId in this.collisionCircleArrays) {
                var M = this.collisionCircleArrays[n.bucketInstanceId];
                t.invert(M.invProjMatrix, l), M.viewportMatrix = this.collisionIndex.getViewportMatrix();
            }
            n.justReloaded = !1;
        }, be.prototype.markUsedJustification = function(e, i, o, r) {
            var a;
            a = r === t.WritingMode.vertical ? o.verticalPlacedTextSymbolIndex : {
                left: o.leftJustifiedTextSymbolIndex,
                center: o.centerJustifiedTextSymbolIndex,
                right: o.rightJustifiedTextSymbolIndex
            }[t.getAnchorJustification(i)];
            for (var n = 0, s = [o.leftJustifiedTextSymbolIndex, o.centerJustifiedTextSymbolIndex, o.rightJustifiedTextSymbolIndex, o.verticalPlacedTextSymbolIndex]; n < s.length; n += 1) {
                var l = s[n];
                l >= 0 && (e.text.placedSymbolArray.get(l).crossTileID = a >= 0 && l !== a ? 0 : o.crossTileID);
            }
        }, be.prototype.markUsedOrientation = function(e, i, o) {
            for (var r = i === t.WritingMode.horizontal || i === t.WritingMode.horizontalOnly ? i : 0, a = i === t.WritingMode.vertical ? i : 0, n = 0, s = [o.leftJustifiedTextSymbolIndex, o.centerJustifiedTextSymbolIndex, o.rightJustifiedTextSymbolIndex]; n < s.length; n += 1) e.text.placedSymbolArray.get(s[n]).placedOrientation = r;
            o.verticalPlacedTextSymbolIndex && (e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation = a);
        }, be.prototype.commit = function(t) {
            this.commitTime = t, this.zoomAtLastRecencyCheck = this.transform.zoom;
            var e = this.prevPlacement,
                i = !1;
            this.prevZoomAdjustment = e ? e.zoomAdjustment(this.transform.zoom) : 0;
            var o = e ? e.symbolFadeChange(t) : 1,
                r = e ? e.opacities : {},
                a = e ? e.variableOffsets : {},
                n = e ? e.placedOrientations : {};
            for (var s in this.placements) {
                var l = this.placements[s],
                    c = r[s];
                c ? (this.opacities[s] = new _e(c, o, l.text, l.icon), i = i || l.text !== c.text.placed || l.icon !== c.icon.placed) : (this.opacities[s] = new _e(null, o, l.text, l.icon, l.skipFade), i = i || l.text || l.icon);
            }
            for (var u in r) {
                var h = r[u];
                if (!this.opacities[u]) {
                    var p = new _e(h, o, !1, !1);
                    p.isHidden() || (this.opacities[u] = p, i = i || h.text.placed || h.icon.placed);
                }
            }
            for (var d in a) this.variableOffsets[d] || !this.opacities[d] || this.opacities[d].isHidden() || (this.variableOffsets[d] = a[d]);
            for (var _ in n) this.placedOrientations[_] || !this.opacities[_] || this.opacities[_].isHidden() || (this.placedOrientations[_] = n[_]);
            i ? this.lastPlacementChangeTime = t : "number" != typeof this.lastPlacementChangeTime && (this.lastPlacementChangeTime = e ? e.lastPlacementChangeTime : t);
        }, be.prototype.updateLayerOpacities = function(t, e) {
            for (var i = {}, o = 0, r = e; o < r.length; o += 1) {
                var a = r[o],
                    n = a.getBucket(t);
                n && a.latestFeatureIndex && t.id === n.layerIds[0] && this.updateBucketOpacities(n, i, a.collisionBoxArray);
            }
        }, be.prototype.updateBucketOpacities = function(e, i, o) {
            var r = this;
            e.hasTextData() && e.text.opacityVertexArray.clear(), e.hasIconData() && e.icon.opacityVertexArray.clear(), e.hasIconCollisionBoxData() && e.iconCollisionBox.collisionVertexArray.clear(), e.hasTextCollisionBoxData() && e.textCollisionBox.collisionVertexArray.clear();
            var a = e.layers[0].layout,
                n = new _e(null, 0, !1, !1, !0),
                s = a.get("text-allow-overlap"),
                l = a.get("icon-allow-overlap"),
                c = a.get("text-variable-anchor"),
                u = "map" === a.get("text-rotation-alignment"),
                h = "map" === a.get("text-pitch-alignment"),
                p = "none" !== a.get("icon-text-fit"),
                d = new _e(null, 0, s && (l || !e.hasIconData() || a.get("icon-optional")), l && (s || !e.hasTextData() || a.get("text-optional")), !0);
            !e.collisionArrays && o && (e.hasIconCollisionBoxData() || e.hasTextCollisionBoxData()) && e.deserializeCollisionBoxes(o);
            for (var _ = function(t, e, i) {
                    for (var o = 0; o < e / 4; o++) t.opacityVertexArray.emplaceBack(i);
                }, f = function(o) {
                    var a = e.symbolInstances.get(o),
                        s = a.numHorizontalGlyphVertices,
                        l = a.numVerticalGlyphVertices,
                        f = a.crossTileID,
                        m = r.opacities[f];
                    i[f] ? m = n : m || (r.opacities[f] = m = d), i[f] = !0;
                    var g = a.numIconVertices > 0,
                        v = r.placedOrientations[a.crossTileID],
                        y = v === t.WritingMode.vertical,
                        x = v === t.WritingMode.horizontal || v === t.WritingMode.horizontalOnly;
                    if (s > 0 || l > 0) {
                        var b = De(m.text);
                        _(e.text, s, y ? Me : b), _(e.text, l, x ? Me : b);
                        var w = m.text.isHidden();
                        [a.rightJustifiedTextSymbolIndex, a.centerJustifiedTextSymbolIndex, a.leftJustifiedTextSymbolIndex].forEach((function(t) {
                            t >= 0 && (e.text.placedSymbolArray.get(t).hidden = w || y ? 1 : 0);
                        })), a.verticalPlacedTextSymbolIndex >= 0 && (e.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden = w || x ? 1 : 0);
                        var T = r.variableOffsets[a.crossTileID];
                        T && r.markUsedJustification(e, T.anchor, a, v);
                        var E = r.placedOrientations[a.crossTileID];
                        E && (r.markUsedJustification(e, "left", a, E), r.markUsedOrientation(e, E, a));
                    }
                    if (g) {
                        var I = De(m.icon),
                            P = !(p && a.verticalPlacedIconSymbolIndex && y);
                        a.placedIconSymbolIndex >= 0 && (_(e.icon, a.numIconVertices, P ? I : Me), e.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden = m.icon.isHidden()), a.verticalPlacedIconSymbolIndex >= 0 && (_(e.icon, a.numVerticalIconVertices, P ? Me : I), e.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden = m.icon.isHidden());
                    }
                    if (e.hasIconCollisionBoxData() || e.hasTextCollisionBoxData()) {
                        var S = e.collisionArrays[o];
                        if (S) {
                            var C = new t.Point(0, 0);
                            if (S.textBox || S.verticalTextBox) {
                                var z = !0;
                                if (c) {
                                    var D = r.variableOffsets[f];
                                    D ? (C = ye(D.anchor, D.width, D.height, D.textOffset, D.textBoxScale), u && C._rotate(h ? r.transform.angle : -r.transform.angle)) : z = !1;
                                }
                                S.textBox && we(e.textCollisionBox.collisionVertexArray, m.text.placed, !z || y, C.x, C.y), S.verticalTextBox && we(e.textCollisionBox.collisionVertexArray, m.text.placed, !z || x, C.x, C.y);
                            }
                            var M = Boolean(!x && S.verticalIconBox);
                            S.iconBox && we(e.iconCollisionBox.collisionVertexArray, m.icon.placed, M, p ? C.x : 0, p ? C.y : 0), S.verticalIconBox && we(e.iconCollisionBox.collisionVertexArray, m.icon.placed, !M, p ? C.x : 0, p ? C.y : 0);
                        }
                    }
                }, m = 0; m < e.symbolInstances.length; m++) f(m);
            if (e.sortFeatures(this.transform.angle), this.retainedQueryData[e.bucketInstanceId] && (this.retainedQueryData[e.bucketInstanceId].featureSortOrder = e.featureSortOrder), e.hasTextData() && e.text.opacityVertexBuffer && e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray), e.hasIconData() && e.icon.opacityVertexBuffer && e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray), e.hasIconCollisionBoxData() && e.iconCollisionBox.collisionVertexBuffer && e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray), e.hasTextCollisionBoxData() && e.textCollisionBox.collisionVertexBuffer && e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray), e.bucketInstanceId in this.collisionCircleArrays) {
                var g = this.collisionCircleArrays[e.bucketInstanceId];
                e.placementInvProjMatrix = g.invProjMatrix, e.placementViewportMatrix = g.viewportMatrix, e.collisionCircleArray = g.circles, delete this.collisionCircleArrays[e.bucketInstanceId];
            }
        }, be.prototype.symbolFadeChange = function(t) {
            return 0 === this.fadeDuration ? 1 : (t - this.commitTime) / this.fadeDuration + this.prevZoomAdjustment
        }, be.prototype.zoomAdjustment = function(t) {
            return Math.max(0, (this.transform.zoom - t) / 1.5)
        }, be.prototype.hasTransitions = function(t) {
            return this.stale || t - this.lastPlacementChangeTime < this.fadeDuration
        }, be.prototype.stillRecent = function(t, e) {
            var i = this.zoomAtLastRecencyCheck === e ? 1 - this.zoomAdjustment(e) : 1;
            return this.zoomAtLastRecencyCheck = e, this.commitTime + this.fadeDuration * i > t
        }, be.prototype.setStale = function() {
            this.stale = !0;
        };
        var Te = Math.pow(2, 25),
            Ee = Math.pow(2, 24),
            Ie = Math.pow(2, 17),
            Pe = Math.pow(2, 16),
            Se = Math.pow(2, 9),
            Ce = Math.pow(2, 8),
            ze = Math.pow(2, 1);

        function De(t) {
            if (0 === t.opacity && !t.placed) return 0;
            if (1 === t.opacity && t.placed) return 4294967295;
            var e = t.placed ? 1 : 0,
                i = Math.floor(127 * t.opacity);
            return i * Te + e * Ee + i * Ie + e * Pe + i * Se + e * Ce + i * ze + e
        }
        var Me = 0,
            Le = function(t) {
                this._sortAcrossTiles = "viewport-y" !== t.layout.get("symbol-z-order") && void 0 !== t.layout.get("symbol-sort-key").constantOr(1), this._currentTileIndex = 0, this._currentPartIndex = 0, this._seenCrossTileIDs = {}, this._bucketParts = [];
            };
        Le.prototype.continuePlacement = function(t, e, i, o, r) {
            for (var a = this._bucketParts; this._currentTileIndex < t.length;)
                if (e.getBucketParts(a, o, t[this._currentTileIndex], this._sortAcrossTiles), this._currentTileIndex++, r()) return !0;
            for (this._sortAcrossTiles && (this._sortAcrossTiles = !1, a.sort((function(t, e) {
                    return t.sortKey - e.sortKey
                }))); this._currentPartIndex < a.length;)
                if (e.placeLayerBucketPart(a[this._currentPartIndex], this._seenCrossTileIDs, i), this._currentPartIndex++, r()) return !0;
            return !1
        };
        var Ae = function(t, e, i, o, r, a, n) {
            this.placement = new be(t, r, a, n), this._currentPlacementIndex = e.length - 1, this._forceFullPlacement = i, this._showCollisionBoxes = o, this._done = !1;
        };
        Ae.prototype.isDone = function() {
            return this._done
        }, Ae.prototype.continuePlacement = function(e, i, o) {
            for (var r = this, a = t.browser.now(), n = function() {
                    var e = t.browser.now() - a;
                    return !r._forceFullPlacement && e > 2
                }; this._currentPlacementIndex >= 0;) {
                var s = i[e[this._currentPlacementIndex]],
                    l = this.placement.collisionIndex.transform.zoom;
                if ("symbol" === s.type && (!s.minzoom || s.minzoom <= l) && (!s.maxzoom || s.maxzoom > l)) {
                    if (this._inProgressLayer || (this._inProgressLayer = new Le(s)), this._inProgressLayer.continuePlacement(o[s.source], this.placement, this._showCollisionBoxes, s, n)) return;
                    delete this._inProgressLayer;
                }
                this._currentPlacementIndex--;
            }
            this._done = !0;
        }, Ae.prototype.commit = function(t) {
            return this.placement.commit(t), this.placement
        };
        var Re = 512 / t.EXTENT / 2,
            ke = function(t, e, i) {
                this.tileID = t, this.indexedSymbolInstances = {}, this.bucketInstanceId = i;
                for (var o = 0; o < e.length; o++) {
                    var r = e.get(o),
                        a = r.key;
                    this.indexedSymbolInstances[a] || (this.indexedSymbolInstances[a] = []), this.indexedSymbolInstances[a].push({
                        crossTileID: r.crossTileID,
                        coord: this.getScaledCoordinates(r, t)
                    });
                }
            };
        ke.prototype.getScaledCoordinates = function(e, i) {
            var o = Re / Math.pow(2, i.canonical.z - this.tileID.canonical.z);
            return {
                x: Math.floor((i.canonical.x * t.EXTENT + e.anchorX) * o),
                y: Math.floor((i.canonical.y * t.EXTENT + e.anchorY) * o)
            }
        }, ke.prototype.findMatches = function(t, e, i) {
            for (var o = this.tileID.canonical.z < e.canonical.z ? 1 : Math.pow(2, this.tileID.canonical.z - e.canonical.z), r = 0; r < t.length; r++) {
                var a = t.get(r);
                if (!a.crossTileID) {
                    var n = this.indexedSymbolInstances[a.key];
                    if (n)
                        for (var s = this.getScaledCoordinates(a, e), l = 0, c = n; l < c.length; l += 1) {
                            var u = c[l];
                            if (Math.abs(u.coord.x - s.x) <= o && Math.abs(u.coord.y - s.y) <= o && !i[u.crossTileID]) {
                                i[u.crossTileID] = !0, a.crossTileID = u.crossTileID;
                                break
                            }
                        }
                }
            }
        };
        var Be = function() {
            this.maxCrossTileID = 0;
        };
        Be.prototype.generate = function() {
            return ++this.maxCrossTileID
        };
        var Oe = function() {
            this.indexes = {}, this.usedCrossTileIDs = {}, this.lng = 0;
        };
        Oe.prototype.handleWrapJump = function(t) {
            var e = Math.round((t - this.lng) / 360);
            if (0 !== e)
                for (var i in this.indexes) {
                    var o = this.indexes[i],
                        r = {};
                    for (var a in o) {
                        var n = o[a];
                        n.tileID = n.tileID.unwrapTo(n.tileID.wrap + e), r[n.tileID.key] = n;
                    }
                    this.indexes[i] = r;
                }
            this.lng = t;
        }, Oe.prototype.addBucket = function(t, e, i) {
            if (this.indexes[t.overscaledZ] && this.indexes[t.overscaledZ][t.key]) {
                if (this.indexes[t.overscaledZ][t.key].bucketInstanceId === e.bucketInstanceId) return !1;
                this.removeBucketCrossTileIDs(t.overscaledZ, this.indexes[t.overscaledZ][t.key]);
            }
            for (var o = 0; o < e.symbolInstances.length; o++) e.symbolInstances.get(o).crossTileID = 0;
            this.usedCrossTileIDs[t.overscaledZ] || (this.usedCrossTileIDs[t.overscaledZ] = {});
            var r = this.usedCrossTileIDs[t.overscaledZ];
            for (var a in this.indexes) {
                var n = this.indexes[a];
                if (Number(a) > t.overscaledZ)
                    for (var s in n) {
                        var l = n[s];
                        l.tileID.isChildOf(t) && l.findMatches(e.symbolInstances, t, r);
                    } else {
                        var c = n[t.scaledTo(Number(a)).key];
                        c && c.findMatches(e.symbolInstances, t, r);
                    }
            }
            for (var u = 0; u < e.symbolInstances.length; u++) {
                var h = e.symbolInstances.get(u);
                h.crossTileID || (h.crossTileID = i.generate(), r[h.crossTileID] = !0);
            }
            return void 0 === this.indexes[t.overscaledZ] && (this.indexes[t.overscaledZ] = {}), this.indexes[t.overscaledZ][t.key] = new ke(t, e.symbolInstances, e.bucketInstanceId), !0
        }, Oe.prototype.removeBucketCrossTileIDs = function(t, e) {
            for (var i in e.indexedSymbolInstances)
                for (var o = 0, r = e.indexedSymbolInstances[i]; o < r.length; o += 1) delete this.usedCrossTileIDs[t][r[o].crossTileID];
        }, Oe.prototype.removeStaleBuckets = function(t) {
            var e = !1;
            for (var i in this.indexes) {
                var o = this.indexes[i];
                for (var r in o) t[o[r].bucketInstanceId] || (this.removeBucketCrossTileIDs(i, o[r]), delete o[r], e = !0);
            }
            return e
        };
        var Fe = function() {
            this.layerIndexes = {}, this.crossTileIDs = new Be, this.maxBucketInstanceId = 0, this.bucketsInCurrentPlacement = {};
        };
        Fe.prototype.addLayer = function(t, e, i) {
            var o = this.layerIndexes[t.id];
            void 0 === o && (o = this.layerIndexes[t.id] = new Oe);
            var r = !1,
                a = {};
            o.handleWrapJump(i);
            for (var n = 0, s = e; n < s.length; n += 1) {
                var l = s[n],
                    c = l.getBucket(t);
                c && t.id === c.layerIds[0] && (c.bucketInstanceId || (c.bucketInstanceId = ++this.maxBucketInstanceId), o.addBucket(l.tileID, c, this.crossTileIDs) && (r = !0), a[c.bucketInstanceId] = !0);
            }
            return o.removeStaleBuckets(a) && (r = !0), r
        }, Fe.prototype.pruneUnusedLayers = function(t) {
            var e = {};
            for (var i in t.forEach((function(t) {
                    e[t] = !0;
                })), this.layerIndexes) e[i] || delete this.layerIndexes[i];
        };
        var Ue = function(e, i) {
                return t.emitValidationErrors(e, i && i.filter((function(t) {
                    return "source.canvas" !== t.identifier
                })))
            },
            Ne = t.pick(Zt, ["addLayer", "removeLayer", "setPaintProperty", "setLayoutProperty", "setFilter", "addSource", "removeSource", "setLayerZoomRange", "setLight", "setTransition", "setGeoJSONSourceData"]),
            Ze = t.pick(Zt, ["setCenter", "setZoom", "setBearing", "setPitch"]),
            qe = function() {
                var e = {},
                    i = t.styleSpec.$version;
                for (var o in t.styleSpec.$root) {
                    var r, a = t.styleSpec.$root[o];
                    if (a.required) null != (r = "version" === o ? i : "array" === a.type ? [] : {}) && (e[o] = r);
                }
                return e
            }(),
            je = function(e) {
                function i(o, r) {
                    var a = this;
                    void 0 === r && (r = {}), e.call(this), this.map = o, this.dispatcher = new E(Ft(), this), this.imageManager = new p, this.imageManager.setEventedParent(this), this.glyphManager = new y(o._requestManager, r.localIdeographFontFamily), this.lineAtlas = new T(256, 512), this.crossTileSymbolIndex = new Fe, this._layers = {}, this._serializedLayers = {}, this._order = [], this.sourceCaches = {}, this.zoomHistory = new t.ZoomHistory, this._loaded = !1, this._availableImages = [], this._resetUpdates(), this.dispatcher.broadcast("setReferrer", t.getReferrer());
                    var n = this;
                    this._rtlTextPluginCallback = i.registerForPluginStateChange((function(e) {
                        n.dispatcher.broadcast("syncRTLPluginState", {
                            pluginStatus: e.pluginStatus,
                            pluginURL: e.pluginURL
                        }, (function(e, i) {
                            if (t.triggerPluginCompletionEvent(e), i && i.every((function(t) {
                                    return t
                                })))
                                for (var o in n.sourceCaches) n.sourceCaches[o].reload();
                        }));
                    })), this.on("data", (function(t) {
                        if ("source" === t.dataType && "metadata" === t.sourceDataType) {
                            var e = a.sourceCaches[t.sourceId];
                            if (e) {
                                var i = e.getSource();
                                if (i && i.vectorLayerIds)
                                    for (var o in a._layers) {
                                        var r = a._layers[o];
                                        r.source === i.id && a._validateLayer(r);
                                    }
                            }
                        }
                    }));
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.loadURL = function(e, i) {
                    var o = this;
                    void 0 === i && (i = {}), this.fire(new t.Event("dataloading", {
                        dataType: "style"
                    }));
                    var r = "boolean" == typeof i.validate ? i.validate : !t.isMapboxURL(e);
                    e = this.map._requestManager.normalizeStyleURL(e, i.accessToken);
                    var a = this.map._requestManager.transformRequest(e, t.ResourceType.Style);
                    this._request = t.getJSON(a, (function(e, i) {
                        o._request = null, e ? o.fire(new t.ErrorEvent(e)) : i && o._load(i, r);
                    }));
                }, i.prototype.loadJSON = function(e, i) {
                    var o = this;
                    void 0 === i && (i = {}), this.fire(new t.Event("dataloading", {
                        dataType: "style"
                    })), this._request = t.browser.frame((function() {
                        o._request = null, o._load(e, !1 !== i.validate);
                    }));
                }, i.prototype.loadEmpty = function() {
                    this.fire(new t.Event("dataloading", {
                        dataType: "style"
                    })), this._load(qe, !1);
                }, i.prototype._load = function(e, i) {
                    if (!i || !Ue(this, t.validateStyle(e))) {
                        for (var o in this._loaded = !0, this.stylesheet = e, e.sources) this.addSource(o, e.sources[o], {
                            validate: !1
                        });
                        e.sprite ? this._loadSprite(e.sprite) : this.imageManager.setLoaded(!0), this.glyphManager.setURL(e.glyphs);
                        var r = Nt(this.stylesheet.layers);
                        this._order = r.map((function(t) {
                            return t.id
                        })), this._layers = {}, this._serializedLayers = {};
                        for (var a = 0, n = r; a < n.length; a += 1) {
                            var s = n[a];
                            (s = t.createStyleLayer(s)).setEventedParent(this, {
                                layer: {
                                    id: s.id
                                }
                            }), this._layers[s.id] = s, this._serializedLayers[s.id] = s.serialize();
                        }
                        this.dispatcher.broadcast("setLayers", this._serializeLayers(this._order)), this.light = new w(this.stylesheet.light), this.fire(new t.Event("data", {
                            dataType: "style"
                        })), this.fire(new t.Event("style.load"));
                    }
                }, i.prototype._loadSprite = function(e) {
                    var i = this;
                    this._spriteRequest = function(e, i, o) {
                        var r, a, n, s = t.browser.devicePixelRatio > 1 ? "@2x" : "",
                            l = t.getJSON(i.transformRequest(i.normalizeSpriteURL(e, s, ".json"), t.ResourceType.SpriteJSON), (function(t, e) {
                                l = null, n || (n = t, r = e, u());
                            })),
                            c = t.getImage(i.transformRequest(i.normalizeSpriteURL(e, s, ".png"), t.ResourceType.SpriteImage), (function(t, e) {
                                c = null, n || (n = t, a = e, u());
                            }));

                        function u() {
                            if (n) o(n);
                            else if (r && a) {
                                var e = t.browser.getImageData(a),
                                    i = {};
                                for (var s in r) {
                                    var l = r[s],
                                        c = l.width,
                                        u = l.height,
                                        h = l.x,
                                        p = l.y,
                                        d = l.sdf,
                                        _ = l.pixelRatio,
                                        f = l.stretchX,
                                        m = l.stretchY,
                                        g = l.content,
                                        v = new t.RGBAImage({
                                            width: c,
                                            height: u
                                        });
                                    t.RGBAImage.copy(e, v, {
                                        x: h,
                                        y: p
                                    }, {
                                        x: 0,
                                        y: 0
                                    }, {
                                        width: c,
                                        height: u
                                    }), i[s] = {
                                        data: v,
                                        pixelRatio: _,
                                        sdf: d,
                                        stretchX: f,
                                        stretchY: m,
                                        content: g
                                    };
                                }
                                o(null, i);
                            }
                        }
                        return {
                            cancel: function() {
                                l && (l.cancel(), l = null), c && (c.cancel(), c = null);
                            }
                        }
                    }(e, this.map._requestManager, (function(e, o) {
                        if (i._spriteRequest = null, e) i.fire(new t.ErrorEvent(e));
                        else if (o)
                            for (var r in o) i.imageManager.addImage(r, o[r]);
                        i.imageManager.setLoaded(!0), i._availableImages = i.imageManager.listImages(), i.dispatcher.broadcast("setImages", i._availableImages), i.fire(new t.Event("data", {
                            dataType: "style"
                        }));
                    }));
                }, i.prototype._validateLayer = function(e) {
                    var i = this.sourceCaches[e.source];
                    if (i) {
                        var o = e.sourceLayer;
                        if (o) {
                            var r = i.getSource();
                            ("geojson" === r.type || r.vectorLayerIds && -1 === r.vectorLayerIds.indexOf(o)) && this.fire(new t.ErrorEvent(new Error('Source layer "' + o + '" does not exist on source "' + r.id + '" as specified by style layer "' + e.id + '"')));
                        }
                    }
                }, i.prototype.loaded = function() {
                    if (!this._loaded) return !1;
                    if (Object.keys(this._updatedSources).length) return !1;
                    for (var t in this.sourceCaches)
                        if (!this.sourceCaches[t].loaded()) return !1;
                    return !!this.imageManager.isLoaded()
                }, i.prototype._serializeLayers = function(t) {
                    for (var e = [], i = 0, o = t; i < o.length; i += 1) {
                        var r = this._layers[o[i]];
                        "custom" !== r.type && e.push(r.serialize());
                    }
                    return e
                }, i.prototype.hasTransitions = function() {
                    if (this.light && this.light.hasTransition()) return !0;
                    for (var t in this.sourceCaches)
                        if (this.sourceCaches[t].hasTransition()) return !0;
                    for (var e in this._layers)
                        if (this._layers[e].hasTransition()) return !0;
                    return !1
                }, i.prototype._checkLoaded = function() {
                    if (!this._loaded) throw new Error("Style is not done loading")
                }, i.prototype.update = function(e) {
                    if (this._loaded) {
                        var i = this._changed;
                        if (this._changed) {
                            var o = Object.keys(this._updatedLayers),
                                r = Object.keys(this._removedLayers);
                            for (var a in (o.length || r.length) && this._updateWorkerLayers(o, r), this._updatedSources) {
                                var n = this._updatedSources[a];
                                "reload" === n ? this._reloadSource(a) : "clear" === n && this._clearSource(a);
                            }
                            for (var s in this._updateTilesForChangedImages(), this._updatedPaintProps) this._layers[s].updateTransitions(e);
                            this.light.updateTransitions(e), this._resetUpdates();
                        }
                        for (var l in this.sourceCaches) this.sourceCaches[l].used = !1;
                        for (var c = 0, u = this._order; c < u.length; c += 1) {
                            var h = this._layers[u[c]];
                            h.recalculate(e, this._availableImages), !h.isHidden(e.zoom) && h.source && (this.sourceCaches[h.source].used = !0);
                        }
                        this.light.recalculate(e), this.z = e.zoom, i && this.fire(new t.Event("data", {
                            dataType: "style"
                        }));
                    }
                }, i.prototype._updateTilesForChangedImages = function() {
                    var t = Object.keys(this._changedImages);
                    if (t.length) {
                        for (var e in this.sourceCaches) this.sourceCaches[e].reloadTilesForDependencies(["icons", "patterns"], t);
                        this._changedImages = {};
                    }
                }, i.prototype._updateWorkerLayers = function(t, e) {
                    this.dispatcher.broadcast("updateLayers", {
                        layers: this._serializeLayers(t),
                        removedIds: e
                    });
                }, i.prototype._resetUpdates = function() {
                    this._changed = !1, this._updatedLayers = {}, this._removedLayers = {}, this._updatedSources = {}, this._updatedPaintProps = {}, this._changedImages = {};
                }, i.prototype.setState = function(e) {
                    var i = this;
                    if (this._checkLoaded(), Ue(this, t.validateStyle(e))) return !1;
                    (e = t.clone$1(e)).layers = Nt(e.layers);
                    var o = function(e, i) {
                        if (!e) return [{
                            command: Zt.setStyle,
                            args: [i]
                        }];
                        var o = [];
                        try {
                            if (!t.deepEqual(e.version, i.version)) return [{
                                command: Zt.setStyle,
                                args: [i]
                            }];
                            t.deepEqual(e.center, i.center) || o.push({
                                command: Zt.setCenter,
                                args: [i.center]
                            }), t.deepEqual(e.zoom, i.zoom) || o.push({
                                command: Zt.setZoom,
                                args: [i.zoom]
                            }), t.deepEqual(e.bearing, i.bearing) || o.push({
                                command: Zt.setBearing,
                                args: [i.bearing]
                            }), t.deepEqual(e.pitch, i.pitch) || o.push({
                                command: Zt.setPitch,
                                args: [i.pitch]
                            }), t.deepEqual(e.sprite, i.sprite) || o.push({
                                command: Zt.setSprite,
                                args: [i.sprite]
                            }), t.deepEqual(e.glyphs, i.glyphs) || o.push({
                                command: Zt.setGlyphs,
                                args: [i.glyphs]
                            }), t.deepEqual(e.transition, i.transition) || o.push({
                                command: Zt.setTransition,
                                args: [i.transition]
                            }), t.deepEqual(e.light, i.light) || o.push({
                                command: Zt.setLight,
                                args: [i.light]
                            });
                            var r = {},
                                a = [];
                            ! function(e, i, o, r) {
                                var a;
                                for (a in i = i || {}, e = e || {}) e.hasOwnProperty(a) && (i.hasOwnProperty(a) || jt(a, o, r));
                                for (a in i) i.hasOwnProperty(a) && (e.hasOwnProperty(a) ? t.deepEqual(e[a], i[a]) || ("geojson" === e[a].type && "geojson" === i[a].type && Gt(e, i, a) ? o.push({
                                    command: Zt.setGeoJSONSourceData,
                                    args: [a, i[a].data]
                                }) : Vt(a, i, o, r)) : qt(a, i, o));
                            }(e.sources, i.sources, a, r);
                            var n = [];
                            e.layers && e.layers.forEach((function(t) {
                                    r[t.source] ? o.push({
                                        command: Zt.removeLayer,
                                        args: [t.id]
                                    }) : n.push(t);
                                })), o = o.concat(a),
                                function(e, i, o) {
                                    i = i || [];
                                    var r, a, n, s, l, c, u, h = (e = e || []).map(Xt),
                                        p = i.map(Xt),
                                        d = e.reduce(Ht, {}),
                                        _ = i.reduce(Ht, {}),
                                        f = h.slice(),
                                        m = Object.create(null);
                                    for (r = 0, a = 0; r < h.length; r++) _.hasOwnProperty(n = h[r]) ? a++ : (o.push({
                                        command: Zt.removeLayer,
                                        args: [n]
                                    }), f.splice(f.indexOf(n, a), 1));
                                    for (r = 0, a = 0; r < p.length; r++) f[f.length - 1 - r] !== (n = p[p.length - 1 - r]) && (d.hasOwnProperty(n) ? (o.push({
                                        command: Zt.removeLayer,
                                        args: [n]
                                    }), f.splice(f.lastIndexOf(n, f.length - a), 1)) : a++, o.push({
                                        command: Zt.addLayer,
                                        args: [_[n], c = f[f.length - r]]
                                    }), f.splice(f.length - r, 0, n), m[n] = !0);
                                    for (r = 0; r < p.length; r++)
                                        if (s = d[n = p[r]], l = _[n], !m[n] && !t.deepEqual(s, l))
                                            if (t.deepEqual(s.source, l.source) && t.deepEqual(s["source-layer"], l["source-layer"]) && t.deepEqual(s.type, l.type)) {
                                                for (u in Wt(s.layout, l.layout, o, n, null, Zt.setLayoutProperty), Wt(s.paint, l.paint, o, n, null, Zt.setPaintProperty), t.deepEqual(s.filter, l.filter) || o.push({
                                                        command: Zt.setFilter,
                                                        args: [n, l.filter]
                                                    }), t.deepEqual(s.minzoom, l.minzoom) && t.deepEqual(s.maxzoom, l.maxzoom) || o.push({
                                                        command: Zt.setLayerZoomRange,
                                                        args: [n, l.minzoom, l.maxzoom]
                                                    }), s) s.hasOwnProperty(u) && "layout" !== u && "paint" !== u && "filter" !== u && "metadata" !== u && "minzoom" !== u && "maxzoom" !== u && (0 === u.indexOf("paint.") ? Wt(s[u], l[u], o, n, u.slice(6), Zt.setPaintProperty) : t.deepEqual(s[u], l[u]) || o.push({
                                                    command: Zt.setLayerProperty,
                                                    args: [n, u, l[u]]
                                                }));
                                                for (u in l) l.hasOwnProperty(u) && !s.hasOwnProperty(u) && "layout" !== u && "paint" !== u && "filter" !== u && "metadata" !== u && "minzoom" !== u && "maxzoom" !== u && (0 === u.indexOf("paint.") ? Wt(s[u], l[u], o, n, u.slice(6), Zt.setPaintProperty) : t.deepEqual(s[u], l[u]) || o.push({
                                                    command: Zt.setLayerProperty,
                                                    args: [n, u, l[u]]
                                                }));
                                            } else o.push({
                                                command: Zt.removeLayer,
                                                args: [n]
                                            }), c = f[f.lastIndexOf(n) + 1], o.push({
                                                command: Zt.addLayer,
                                                args: [l, c]
                                            });
                                }(n, i.layers, o);
                        } catch (t) {
                            console.warn("Unable to compute style diff:", t), o = [{
                                command: Zt.setStyle,
                                args: [i]
                            }];
                        }
                        return o
                    }(this.serialize(), e).filter((function(t) {
                        return !(t.command in Ze)
                    }));
                    if (0 === o.length) return !1;
                    var r = o.filter((function(t) {
                        return !(t.command in Ne)
                    }));
                    if (r.length > 0) throw new Error("Unimplemented: " + r.map((function(t) {
                        return t.command
                    })).join(", ") + ".");
                    return o.forEach((function(t) {
                        "setTransition" !== t.command && i[t.command].apply(i, t.args);
                    })), this.stylesheet = e, !0
                }, i.prototype.addImage = function(e, i) {
                    if (this.getImage(e)) return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));
                    this.imageManager.addImage(e, i), this._afterImageUpdated(e);
                }, i.prototype.updateImage = function(t, e) {
                    this.imageManager.updateImage(t, e);
                }, i.prototype.getImage = function(t) {
                    return this.imageManager.getImage(t)
                }, i.prototype.removeImage = function(e) {
                    if (!this.getImage(e)) return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));
                    this.imageManager.removeImage(e), this._afterImageUpdated(e);
                }, i.prototype._afterImageUpdated = function(e) {
                    this._availableImages = this.imageManager.listImages(), this._changedImages[e] = !0, this._changed = !0, this.dispatcher.broadcast("setImages", this._availableImages), this.fire(new t.Event("data", {
                        dataType: "style"
                    }));
                }, i.prototype.listImages = function() {
                    return this._checkLoaded(), this.imageManager.listImages()
                }, i.prototype.addSource = function(e, i, o) {
                    var r = this;
                    if (void 0 === o && (o = {}), this._checkLoaded(), void 0 !== this.sourceCaches[e]) throw new Error("There is already a source with this ID");
                    if (!i.type) throw new Error("The type property must be defined, but only the following properties were given: " + Object.keys(i).join(", ") + ".");
                    if (!(["vector", "raster", "geojson", "video", "image"].indexOf(i.type) >= 0 && this._validate(t.validateStyle.source, "sources." + e, i, null, o))) {
                        this.map && this.map._collectResourceTiming && (i.collectResourceTiming = !0);
                        var a = this.sourceCaches[e] = new Dt(e, i, this.dispatcher);
                        a.style = this, a.setEventedParent(this, (function() {
                            return {
                                isSourceLoaded: r.loaded(),
                                source: a.serialize(),
                                sourceId: e
                            }
                        })), a.onAdd(this.map), this._changed = !0;
                    }
                }, i.prototype.removeSource = function(e) {
                    if (this._checkLoaded(), void 0 === this.sourceCaches[e]) throw new Error("There is no source with this ID");
                    for (var i in this._layers)
                        if (this._layers[i].source === e) return this.fire(new t.ErrorEvent(new Error('Source "' + e + '" cannot be removed while layer "' + i + '" is using it.')));
                    var o = this.sourceCaches[e];
                    delete this.sourceCaches[e], delete this._updatedSources[e], o.fire(new t.Event("data", {
                        sourceDataType: "metadata",
                        dataType: "source",
                        sourceId: e
                    })), o.setEventedParent(null), o.clearTiles(), o.onRemove && o.onRemove(this.map), this._changed = !0;
                }, i.prototype.setGeoJSONSourceData = function(t, e) {
                    this._checkLoaded(), this.sourceCaches[t].getSource().setData(e), this._changed = !0;
                }, i.prototype.getSource = function(t) {
                    return this.sourceCaches[t] && this.sourceCaches[t].getSource()
                }, i.prototype.addLayer = function(e, i, o) {
                    void 0 === o && (o = {}), this._checkLoaded();
                    var r = e.id;
                    if (this.getLayer(r)) this.fire(new t.ErrorEvent(new Error('Layer with id "' + r + '" already exists on this map')));
                    else {
                        var a;
                        if ("custom" === e.type) {
                            if (Ue(this, t.validateCustomStyleLayer(e))) return;
                            a = t.createStyleLayer(e);
                        } else {
                            if ("object" == typeof e.source && (this.addSource(r, e.source), e = t.clone$1(e), e = t.extend(e, {
                                    source: r
                                })), this._validate(t.validateStyle.layer, "layers." + r, e, {
                                    arrayIndex: -1
                                }, o)) return;
                            a = t.createStyleLayer(e), this._validateLayer(a), a.setEventedParent(this, {
                                layer: {
                                    id: r
                                }
                            }), this._serializedLayers[a.id] = a.serialize();
                        }
                        var n = i ? this._order.indexOf(i) : this._order.length;
                        if (i && -1 === n) this.fire(new t.ErrorEvent(new Error('Layer with id "' + i + '" does not exist on this map.')));
                        else {
                            if (this._order.splice(n, 0, r), this._layerOrderChanged = !0, this._layers[r] = a, this._removedLayers[r] && a.source && "custom" !== a.type) {
                                var s = this._removedLayers[r];
                                delete this._removedLayers[r], s.type !== a.type ? this._updatedSources[a.source] = "clear" : (this._updatedSources[a.source] = "reload", this.sourceCaches[a.source].pause());
                            }
                            this._updateLayer(a), a.onAdd && a.onAdd(this.map);
                        }
                    }
                }, i.prototype.moveLayer = function(e, i) {
                    if (this._checkLoaded(), this._changed = !0, this._layers[e]) {
                        if (e !== i) {
                            var o = this._order.indexOf(e);
                            this._order.splice(o, 1);
                            var r = i ? this._order.indexOf(i) : this._order.length;
                            i && -1 === r ? this.fire(new t.ErrorEvent(new Error('Layer with id "' + i + '" does not exist on this map.'))) : (this._order.splice(r, 0, e), this._layerOrderChanged = !0);
                        }
                    } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be moved.")));
                }, i.prototype.removeLayer = function(e) {
                    this._checkLoaded();
                    var i = this._layers[e];
                    if (i) {
                        i.setEventedParent(null);
                        var o = this._order.indexOf(e);
                        this._order.splice(o, 1), this._layerOrderChanged = !0, this._changed = !0, this._removedLayers[e] = i, delete this._layers[e], delete this._serializedLayers[e], delete this._updatedLayers[e], delete this._updatedPaintProps[e], i.onRemove && i.onRemove(this.map);
                    } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be removed.")));
                }, i.prototype.getLayer = function(t) {
                    return this._layers[t]
                }, i.prototype.hasLayer = function(t) {
                    return t in this._layers
                }, i.prototype.setLayerZoomRange = function(e, i, o) {
                    this._checkLoaded();
                    var r = this.getLayer(e);
                    r ? r.minzoom === i && r.maxzoom === o || (null != i && (r.minzoom = i), null != o && (r.maxzoom = o), this._updateLayer(r)) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot have zoom extent.")));
                }, i.prototype.setFilter = function(e, i, o) {
                    void 0 === o && (o = {}), this._checkLoaded();
                    var r = this.getLayer(e);
                    if (r) {
                        if (!t.deepEqual(r.filter, i)) return null == i ? (r.filter = void 0, void this._updateLayer(r)) : void(this._validate(t.validateStyle.filter, "layers." + r.id + ".filter", i, null, o) || (r.filter = t.clone$1(i), this._updateLayer(r)))
                    } else this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be filtered.")));
                }, i.prototype.getFilter = function(e) {
                    return t.clone$1(this.getLayer(e).filter)
                }, i.prototype.setLayoutProperty = function(e, i, o, r) {
                    void 0 === r && (r = {}), this._checkLoaded();
                    var a = this.getLayer(e);
                    a ? t.deepEqual(a.getLayoutProperty(i), o) || (a.setLayoutProperty(i, o, r), this._updateLayer(a)) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be styled.")));
                }, i.prototype.getLayoutProperty = function(e, i) {
                    var o = this.getLayer(e);
                    if (o) return o.getLayoutProperty(i);
                    this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style.")));
                }, i.prototype.setPaintProperty = function(e, i, o, r) {
                    void 0 === r && (r = {}), this._checkLoaded();
                    var a = this.getLayer(e);
                    a ? t.deepEqual(a.getPaintProperty(i), o) || (a.setPaintProperty(i, o, r) && this._updateLayer(a), this._changed = !0, this._updatedPaintProps[e] = !0) : this.fire(new t.ErrorEvent(new Error("The layer '" + e + "' does not exist in the map's style and cannot be styled.")));
                }, i.prototype.getPaintProperty = function(t, e) {
                    return this.getLayer(t).getPaintProperty(e)
                }, i.prototype.setFeatureState = function(e, i) {
                    this._checkLoaded();
                    var o = e.source,
                        r = e.sourceLayer,
                        a = this.sourceCaches[o];
                    if (void 0 !== a) {
                        var n = a.getSource().type;
                        "geojson" === n && r ? this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))) : "vector" !== n || r ? (void 0 === e.id && this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))), a.setFeatureState(r, e.id, i)) : this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
                    } else this.fire(new t.ErrorEvent(new Error("The source '" + o + "' does not exist in the map's style.")));
                }, i.prototype.removeFeatureState = function(e, i) {
                    this._checkLoaded();
                    var o = e.source,
                        r = this.sourceCaches[o];
                    if (void 0 !== r) {
                        var a = r.getSource().type,
                            n = "vector" === a ? e.sourceLayer : void 0;
                        "vector" !== a || n ? i && "string" != typeof e.id && "number" != typeof e.id ? this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))) : r.removeFeatureState(n, e.id, i) : this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
                    } else this.fire(new t.ErrorEvent(new Error("The source '" + o + "' does not exist in the map's style.")));
                }, i.prototype.getFeatureState = function(e) {
                    this._checkLoaded();
                    var i = e.source,
                        o = e.sourceLayer,
                        r = this.sourceCaches[i];
                    if (void 0 !== r) {
                        if ("vector" !== r.getSource().type || o) return void 0 === e.id && this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))), r.getFeatureState(o, e.id);
                        this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));
                    } else this.fire(new t.ErrorEvent(new Error("The source '" + i + "' does not exist in the map's style.")));
                }, i.prototype.getTransition = function() {
                    return t.extend({
                        duration: 300,
                        delay: 0
                    }, this.stylesheet && this.stylesheet.transition)
                }, i.prototype.serialize = function() {
                    return t.filterObject({
                        version: this.stylesheet.version,
                        name: this.stylesheet.name,
                        metadata: this.stylesheet.metadata,
                        light: this.stylesheet.light,
                        center: this.stylesheet.center,
                        zoom: this.stylesheet.zoom,
                        bearing: this.stylesheet.bearing,
                        pitch: this.stylesheet.pitch,
                        sprite: this.stylesheet.sprite,
                        glyphs: this.stylesheet.glyphs,
                        transition: this.stylesheet.transition,
                        sources: t.mapObject(this.sourceCaches, (function(t) {
                            return t.serialize()
                        })),
                        layers: this._serializeLayers(this._order)
                    }, (function(t) {
                        return void 0 !== t
                    }))
                }, i.prototype._updateLayer = function(t) {
                    this._updatedLayers[t.id] = !0, t.source && !this._updatedSources[t.source] && "raster" !== this.sourceCaches[t.source].getSource().type && (this._updatedSources[t.source] = "reload", this.sourceCaches[t.source].pause()), this._changed = !0;
                }, i.prototype._flattenAndSortRenderedFeatures = function(t) {
                    for (var e = this, i = function(t) {
                            return "fill-extrusion" === e._layers[t].type
                        }, o = {}, r = [], a = this._order.length - 1; a >= 0; a--) {
                        var n = this._order[a];
                        if (i(n)) {
                            o[n] = a;
                            for (var s = 0, l = t; s < l.length; s += 1) {
                                var c = l[s][n];
                                if (c)
                                    for (var u = 0, h = c; u < h.length; u += 1) r.push(h[u]);
                            }
                        }
                    }
                    r.sort((function(t, e) {
                        return e.intersectionZ - t.intersectionZ
                    }));
                    for (var p = [], d = this._order.length - 1; d >= 0; d--) {
                        var _ = this._order[d];
                        if (i(_))
                            for (var f = r.length - 1; f >= 0; f--) {
                                var m = r[f].feature;
                                if (o[m.layer.id] < d) break;
                                p.push(m), r.pop();
                            } else
                                for (var g = 0, v = t; g < v.length; g += 1) {
                                    var y = v[g][_];
                                    if (y)
                                        for (var x = 0, b = y; x < b.length; x += 1) p.push(b[x].feature);
                                }
                    }
                    return p
                }, i.prototype.queryRenderedFeatures = function(e, i, o) {
                    i && i.filter && this._validate(t.validateStyle.filter, "queryRenderedFeatures.filter", i.filter, null, i);
                    var r = {};
                    if (i && i.layers) {
                        if (!Array.isArray(i.layers)) return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))), [];
                        for (var a = 0, n = i.layers; a < n.length; a += 1) {
                            var s = n[a],
                                l = this._layers[s];
                            if (!l) return this.fire(new t.ErrorEvent(new Error("The layer '" + s + "' does not exist in the map's style and cannot be queried for features."))), [];
                            r[l.source] = !0;
                        }
                    }
                    var c = [];
                    for (var u in i.availableImages = this._availableImages, this.sourceCaches) i.layers && !r[u] || c.push(O(this.sourceCaches[u], this._layers, this._serializedLayers, e, i, o));
                    return this.placement && c.push(function(t, e, i, o, r, a, n) {
                        for (var s = {}, l = a.queryRenderedSymbols(o), c = [], u = 0, h = Object.keys(l).map(Number); u < h.length; u += 1) c.push(n[h[u]]);
                        c.sort(F);
                        for (var p = function() {
                                var i = _[d],
                                    o = i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId], e, i.bucketIndex, i.sourceLayerIndex, r.filter, r.layers, r.availableImages, t);
                                for (var a in o) {
                                    var n = s[a] = s[a] || [],
                                        c = o[a];
                                    c.sort((function(t, e) {
                                        var o = i.featureSortOrder;
                                        if (o) {
                                            var r = o.indexOf(t.featureIndex);
                                            return o.indexOf(e.featureIndex) - r
                                        }
                                        return e.featureIndex - t.featureIndex
                                    }));
                                    for (var u = 0, h = c; u < h.length; u += 1) n.push(h[u]);
                                }
                            }, d = 0, _ = c; d < _.length; d += 1) p();
                        var f = function(e) {
                            s[e].forEach((function(o) {
                                var r = o.feature,
                                    a = i[t[e].source].getFeatureState(r.layer["source-layer"], r.id);
                                r.source = r.layer.source, r.layer["source-layer"] && (r.sourceLayer = r.layer["source-layer"]), r.state = a;
                            }));
                        };
                        for (var m in s) f(m);
                        return s
                    }(this._layers, this._serializedLayers, this.sourceCaches, e, i, this.placement.collisionIndex, this.placement.retainedQueryData)), this._flattenAndSortRenderedFeatures(c)
                }, i.prototype.querySourceFeatures = function(e, i) {
                    i && i.filter && this._validate(t.validateStyle.filter, "querySourceFeatures.filter", i.filter, null, i);
                    var o = this.sourceCaches[e];
                    return o ? function(t, e) {
                        for (var i = t.getRenderableIds().map((function(e) {
                                return t.getTileByID(e)
                            })), o = [], r = {}, a = 0; a < i.length; a++) {
                            var n = i[a],
                                s = n.tileID.canonical.key;
                            r[s] || (r[s] = !0, n.querySourceFeatures(o, e));
                        }
                        return o
                    }(o, i) : []
                }, i.prototype.addSourceType = function(t, e, o) {
                    return i.getSourceType(t) ? o(new Error('A source type called "' + t + '" already exists.')) : (i.setSourceType(t, e), e.workerSourceURL ? void this.dispatcher.broadcast("loadWorkerSource", {
                        name: t,
                        url: e.workerSourceURL
                    }, o) : o(null, null))
                }, i.prototype.getLight = function() {
                    return this.light.getLight()
                }, i.prototype.setLight = function(e, i) {
                    void 0 === i && (i = {}), this._checkLoaded();
                    var o = this.light.getLight(),
                        r = !1;
                    for (var a in e)
                        if (!t.deepEqual(e[a], o[a])) {
                            r = !0;
                            break
                        }
                    if (r) {
                        var n = {
                            now: t.browser.now(),
                            transition: t.extend({
                                duration: 300,
                                delay: 0
                            }, this.stylesheet.transition)
                        };
                        this.light.setLight(e, i), this.light.updateTransitions(n);
                    }
                }, i.prototype._validate = function(e, i, o, r, a) {
                    return void 0 === a && (a = {}), (!a || !1 !== a.validate) && Ue(this, e.call(t.validateStyle, t.extend({
                        key: i,
                        style: this.serialize(),
                        value: o,
                        styleSpec: t.styleSpec
                    }, r)))
                }, i.prototype._remove = function() {
                    for (var e in this._request && (this._request.cancel(), this._request = null), this._spriteRequest && (this._spriteRequest.cancel(), this._spriteRequest = null), t.evented.off("pluginStateChange", this._rtlTextPluginCallback), this._layers) this._layers[e].setEventedParent(null);
                    for (var i in this.sourceCaches) this.sourceCaches[i].clearTiles(), this.sourceCaches[i].setEventedParent(null);
                    this.imageManager.setEventedParent(null), this.setEventedParent(null), this.dispatcher.remove();
                }, i.prototype._clearSource = function(t) {
                    this.sourceCaches[t].clearTiles();
                }, i.prototype._reloadSource = function(t) {
                    this.sourceCaches[t].resume(), this.sourceCaches[t].reload();
                }, i.prototype._updateSources = function(t) {
                    for (var e in this.sourceCaches) this.sourceCaches[e].update(t);
                }, i.prototype._generateCollisionBoxes = function() {
                    for (var t in this.sourceCaches) this._reloadSource(t);
                }, i.prototype._updatePlacement = function(e, i, o, r, a) {
                    void 0 === a && (a = !1);
                    for (var n = !1, s = !1, l = {}, c = 0, u = this._order; c < u.length; c += 1) {
                        var h = this._layers[u[c]];
                        if ("symbol" === h.type) {
                            if (!l[h.source]) {
                                var p = this.sourceCaches[h.source];
                                l[h.source] = p.getRenderableIds(!0).map((function(t) {
                                    return p.getTileByID(t)
                                })).sort((function(t, e) {
                                    return e.tileID.overscaledZ - t.tileID.overscaledZ || (t.tileID.isLessThan(e.tileID) ? -1 : 1)
                                }));
                            }
                            var d = this.crossTileSymbolIndex.addLayer(h, l[h.source], e.center.lng);
                            n = n || d;
                        }
                    }
                    if (this.crossTileSymbolIndex.pruneUnusedLayers(this._order), ((a = a || this._layerOrderChanged || 0 === o) || !this.pauseablePlacement || this.pauseablePlacement.isDone() && !this.placement.stillRecent(t.browser.now(), e.zoom)) && (this.pauseablePlacement = new Ae(e, this._order, a, i, o, r, this.placement), this._layerOrderChanged = !1), this.pauseablePlacement.isDone() ? this.placement.setStale() : (this.pauseablePlacement.continuePlacement(this._order, this._layers, l), this.pauseablePlacement.isDone() && (this.placement = this.pauseablePlacement.commit(t.browser.now()), s = !0), n && this.pauseablePlacement.placement.setStale()), s || n)
                        for (var _ = 0, f = this._order; _ < f.length; _ += 1) {
                            var m = this._layers[f[_]];
                            "symbol" === m.type && this.placement.updateLayerOpacities(m, l[m.source]);
                        }
                    return !this.pauseablePlacement.isDone() || this.placement.hasTransitions(t.browser.now())
                }, i.prototype._releaseSymbolFadeTiles = function() {
                    for (var t in this.sourceCaches) this.sourceCaches[t].releaseSymbolFadeTiles();
                }, i.prototype.getImages = function(t, e, i) {
                    this.imageManager.getImages(e.icons, i), this._updateTilesForChangedImages();
                    var o = this.sourceCaches[e.source];
                    o && o.setDependencies(e.tileID.key, e.type, e.icons);
                }, i.prototype.getGlyphs = function(t, e, i) {
                    this.glyphManager.getGlyphs(e.stacks, i);
                }, i.prototype.getResource = function(e, i, o) {
                    return t.makeRequest(i, o)
                }, i
            }(t.Evented);
        je.getSourceType = function(t) {
            return k[t]
        }, je.setSourceType = function(t, e) {
            k[t] = e;
        }, je.registerForPluginStateChange = t.registerForPluginStateChange;
        var Ve = t.createLayout([{
                name: "a_pos",
                type: "Int16",
                components: 2
            }]),
            Ge = gi("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif", "#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),
            We = gi("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
            Xe = gi("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),
            He = gi("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),
            Ke = gi("void main() {gl_FragColor=vec4(1.0);}", "attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),
            Ye = gi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),
            Je = gi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),
            Qe = gi("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}", "attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),
            $e = gi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}", "attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),
            ti = gi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}", "attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),
            ei = gi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),
            ii = gi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
            oi = gi("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),
            ri = gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),
            ai = gi("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),
            ni = gi("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),
            si = gi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),
            li = gi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),
            ci = gi("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),
            ui = gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),
            hi = gi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),
            pi = gi("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),
            di = gi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),
            _i = gi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),
            fi = gi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),
            mi = gi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}", "const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");

        function gi(t, e) {
            var i = /#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,
                o = e.match(/attribute ([\w]+) ([\w]+)/g),
                r = t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),
                a = e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),
                n = a ? a.concat(r) : r,
                s = {};
            return {
                fragmentSource: t = t.replace(i, (function(t, e, i, o, r) {
                    return s[r] = !0, "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + r + "\nvarying " + i + " " + o + " " + r + ";\n#else\nuniform " + i + " " + o + " u_" + r + ";\n#endif\n" : "\n#ifdef HAS_UNIFORM_u_" + r + "\n    " + i + " " + o + " " + r + " = u_" + r + ";\n#endif\n"
                })),
                vertexSource: e = e.replace(i, (function(t, e, i, o, r) {
                    var a = "float" === o ? "vec2" : "vec4",
                        n = r.match(/color/) ? "color" : a;
                    return s[r] ? "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + r + "\nuniform lowp float u_" + r + "_t;\nattribute " + i + " " + a + " a_" + r + ";\nvarying " + i + " " + o + " " + r + ";\n#else\nuniform " + i + " " + o + " u_" + r + ";\n#endif\n" : "vec4" === n ? "\n#ifndef HAS_UNIFORM_u_" + r + "\n    " + r + " = a_" + r + ";\n#else\n    " + i + " " + o + " " + r + " = u_" + r + ";\n#endif\n" : "\n#ifndef HAS_UNIFORM_u_" + r + "\n    " + r + " = unpack_mix_" + n + "(a_" + r + ", u_" + r + "_t);\n#else\n    " + i + " " + o + " " + r + " = u_" + r + ";\n#endif\n" : "define" === e ? "\n#ifndef HAS_UNIFORM_u_" + r + "\nuniform lowp float u_" + r + "_t;\nattribute " + i + " " + a + " a_" + r + ";\n#else\nuniform " + i + " " + o + " u_" + r + ";\n#endif\n" : "vec4" === n ? "\n#ifndef HAS_UNIFORM_u_" + r + "\n    " + i + " " + o + " " + r + " = a_" + r + ";\n#else\n    " + i + " " + o + " " + r + " = u_" + r + ";\n#endif\n" : "\n#ifndef HAS_UNIFORM_u_" + r + "\n    " + i + " " + o + " " + r + " = unpack_mix_" + n + "(a_" + r + ", u_" + r + "_t);\n#else\n    " + i + " " + o + " " + r + " = u_" + r + ";\n#endif\n"
                })),
                staticAttributes: o,
                staticUniforms: n
            }
        }
        var vi = Object.freeze({
                __proto__: null,
                prelude: Ge,
                background: We,
                backgroundPattern: Xe,
                circle: He,
                clippingMask: Ke,
                heatmap: Ye,
                heatmapTexture: Je,
                collisionBox: Qe,
                collisionCircle: $e,
                debug: ti,
                fill: ei,
                fillOutline: ii,
                fillOutlinePattern: oi,
                fillPattern: ri,
                fillExtrusion: ai,
                fillExtrusionPattern: ni,
                hillshadePrepare: si,
                hillshade: li,
                line: ci,
                lineGradient: ui,
                linePattern: hi,
                lineSDF: pi,
                raster: di,
                symbolIcon: _i,
                symbolSDF: fi,
                symbolTextAndIcon: mi
            }),
            yi = function() {
                this.boundProgram = null, this.boundLayoutVertexBuffer = null, this.boundPaintVertexBuffers = [], this.boundIndexBuffer = null, this.boundVertexOffset = null, this.boundDynamicVertexBuffer = null, this.vao = null;
            };

        function xi(t) {
            for (var e = [], i = 0; i < t.length; i++)
                if (null !== t[i]) {
                    var o = t[i].split(" ");
                    e.push(o.pop());
                }
            return e
        }
        yi.prototype.bind = function(t, e, i, o, r, a, n, s) {
            this.context = t;
            for (var l = this.boundPaintVertexBuffers.length !== o.length, c = 0; !l && c < o.length; c++) this.boundPaintVertexBuffers[c] !== o[c] && (l = !0);
            t.extVertexArrayObject && this.vao && this.boundProgram === e && this.boundLayoutVertexBuffer === i && !l && this.boundIndexBuffer === r && this.boundVertexOffset === a && this.boundDynamicVertexBuffer === n && this.boundDynamicVertexBuffer2 === s ? (t.bindVertexArrayOES.set(this.vao), n && n.bind(), r && r.dynamicDraw && r.bind(), s && s.bind()) : this.freshBind(e, i, o, r, a, n, s);
        }, yi.prototype.freshBind = function(t, e, i, o, r, a, n) {
            var s, l = t.numAttributes,
                c = this.context,
                u = c.gl;
            if (c.extVertexArrayObject) this.vao && this.destroy(), this.vao = c.extVertexArrayObject.createVertexArrayOES(), c.bindVertexArrayOES.set(this.vao), s = 0, this.boundProgram = t, this.boundLayoutVertexBuffer = e, this.boundPaintVertexBuffers = i, this.boundIndexBuffer = o, this.boundVertexOffset = r, this.boundDynamicVertexBuffer = a, this.boundDynamicVertexBuffer2 = n;
            else {
                s = c.currentNumAttributes || 0;
                for (var h = l; h < s; h++) u.disableVertexAttribArray(h);
            }
            e.enableAttributes(u, t);
            for (var p = 0, d = i; p < d.length; p += 1) d[p].enableAttributes(u, t);
            a && a.enableAttributes(u, t), n && n.enableAttributes(u, t), e.bind(), e.setVertexAttribPointers(u, t, r);
            for (var _ = 0, f = i; _ < f.length; _ += 1) {
                var m = f[_];
                m.bind(), m.setVertexAttribPointers(u, t, r);
            }
            a && (a.bind(), a.setVertexAttribPointers(u, t, r)), o && o.bind(), n && (n.bind(), n.setVertexAttribPointers(u, t, r)), c.currentNumAttributes = l;
        }, yi.prototype.destroy = function() {
            this.vao && (this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao), this.vao = null);
        };
        var bi = function(t, e, i, o, r, a) {
            var n = t.gl;
            this.program = n.createProgram();
            for (var s = xi(i.staticAttributes), l = o ? o.getBinderAttributes() : [], c = s.concat(l), u = i.staticUniforms ? xi(i.staticUniforms) : [], h = o ? o.getBinderUniforms() : [], p = [], d = 0, _ = u.concat(h); d < _.length; d += 1) {
                var f = _[d];
                p.indexOf(f) < 0 && p.push(f);
            }
            var m = o ? o.defines() : [];
            a && m.push("#define OVERDRAW_INSPECTOR;");
            var g = m.concat(Ge.fragmentSource, i.fragmentSource).join("\n"),
                v = m.concat(Ge.vertexSource, i.vertexSource).join("\n"),
                y = n.createShader(n.FRAGMENT_SHADER);
            if (n.isContextLost()) this.failedToCreate = !0;
            else {
                n.shaderSource(y, g), n.compileShader(y), n.attachShader(this.program, y);
                var x = n.createShader(n.VERTEX_SHADER);
                if (n.isContextLost()) this.failedToCreate = !0;
                else {
                    n.shaderSource(x, v), n.compileShader(x), n.attachShader(this.program, x), this.attributes = {};
                    var b = {};
                    this.numAttributes = c.length;
                    for (var w = 0; w < this.numAttributes; w++) c[w] && (n.bindAttribLocation(this.program, w, c[w]), this.attributes[c[w]] = w);
                    n.linkProgram(this.program), n.deleteShader(x), n.deleteShader(y);
                    for (var T = 0; T < p.length; T++) {
                        var E = p[T];
                        if (E && !b[E]) {
                            var I = n.getUniformLocation(this.program, E);
                            I && (b[E] = I);
                        }
                    }
                    this.fixedUniforms = r(t, b), this.binderUniforms = o ? o.getUniforms(t, b) : [];
                }
            }
        };

        function wi(t, e, i) {
            var o = 1 / pe(i, 1, e.transform.tileZoom),
                r = Math.pow(2, i.tileID.overscaledZ),
                a = i.tileSize * Math.pow(2, e.transform.tileZoom) / r,
                n = a * (i.tileID.canonical.x + i.tileID.wrap * r),
                s = a * i.tileID.canonical.y;
            return {
                u_image: 0,
                u_texsize: i.imageAtlasTexture.size,
                u_scale: [o, t.fromScale, t.toScale],
                u_fade: t.t,
                u_pixel_coord_upper: [n >> 16, s >> 16],
                u_pixel_coord_lower: [65535 & n, 65535 & s]
            }
        }
        bi.prototype.draw = function(t, e, i, o, r, a, n, s, l, c, u, h, p, d, _, f) {
            var m, g = t.gl;
            if (!this.failedToCreate) {
                for (var v in t.program.set(this.program), t.setDepthMode(i), t.setStencilMode(o), t.setColorMode(r), t.setCullFace(a), this.fixedUniforms) this.fixedUniforms[v].set(n[v]);
                d && d.setUniforms(t, this.binderUniforms, h, {
                    zoom: p
                });
                for (var y = (m = {}, m[g.LINES] = 2, m[g.TRIANGLES] = 3, m[g.LINE_STRIP] = 1, m)[e], x = 0, b = u.get(); x < b.length; x += 1) {
                    var w = b[x],
                        T = w.vaos || (w.vaos = {});
                    (T[s] || (T[s] = new yi)).bind(t, this, l, d ? d.getPaintVertexBuffers() : [], c, w.vertexOffset, _, f), g.drawElements(e, w.primitiveLength * y, g.UNSIGNED_SHORT, w.primitiveOffset * y * 2);
                }
            }
        };
        var Ti = function(e, i, o, r) {
                var a = i.style.light,
                    n = a.properties.get("position"),
                    s = [n.x, n.y, n.z],
                    l = t.create$1();
                "viewport" === a.properties.get("anchor") && t.fromRotation(l, -i.transform.angle), t.transformMat3(s, s, l);
                var c = a.properties.get("color");
                return {
                    u_matrix: e,
                    u_lightpos: s,
                    u_lightintensity: a.properties.get("intensity"),
                    u_lightcolor: [c.r, c.g, c.b],
                    u_vertical_gradient: +o,
                    u_opacity: r
                }
            },
            Ei = function(e, i, o, r, a, n, s) {
                return t.extend(Ti(e, i, o, r), wi(n, i, s), {
                    u_height_factor: -Math.pow(2, a.overscaledZ) / s.tileSize / 8
                })
            },
            Ii = function(t) {
                return {
                    u_matrix: t
                }
            },
            Pi = function(e, i, o, r) {
                return t.extend(Ii(e), wi(o, i, r))
            },
            Si = function(t, e) {
                return {
                    u_matrix: t,
                    u_world: e
                }
            },
            Ci = function(e, i, o, r, a) {
                return t.extend(Pi(e, i, o, r), {
                    u_world: a
                })
            },
            zi = function(e, i, o, r) {
                var a, n, s = e.transform;
                if ("map" === r.paint.get("circle-pitch-alignment")) {
                    var l = pe(o, 1, s.zoom);
                    a = !0, n = [l, l];
                } else a = !1, n = s.pixelsToGLUnits;
                return {
                    u_camera_to_center_distance: s.cameraToCenterDistance,
                    u_scale_with_map: +("map" === r.paint.get("circle-pitch-scale")),
                    u_matrix: e.translatePosMatrix(i.posMatrix, o, r.paint.get("circle-translate"), r.paint.get("circle-translate-anchor")),
                    u_pitch_with_map: +a,
                    u_device_pixel_ratio: t.browser.devicePixelRatio,
                    u_extrude_scale: n
                }
            },
            Di = function(t, e, i) {
                var o = pe(i, 1, e.zoom),
                    r = Math.pow(2, e.zoom - i.tileID.overscaledZ),
                    a = i.tileID.overscaleFactor();
                return {
                    u_matrix: t,
                    u_camera_to_center_distance: e.cameraToCenterDistance,
                    u_pixels_to_tile_units: o,
                    u_extrude_scale: [e.pixelsToGLUnits[0] / (o * r), e.pixelsToGLUnits[1] / (o * r)],
                    u_overscale_factor: a
                }
            },
            Mi = function(t, e, i) {
                return {
                    u_matrix: t,
                    u_inv_matrix: e,
                    u_camera_to_center_distance: i.cameraToCenterDistance,
                    u_viewport_size: [i.width, i.height]
                }
            },
            Li = function(t, e, i) {
                return void 0 === i && (i = 1), {
                    u_matrix: t,
                    u_color: e,
                    u_overlay: 0,
                    u_overlay_scale: i
                }
            },
            Ai = function(t) {
                return {
                    u_matrix: t
                }
            },
            Ri = function(t, e, i, o) {
                return {
                    u_matrix: t,
                    u_extrude_scale: pe(e, 1, i),
                    u_intensity: o
                }
            },
            ki = function(e, i, o) {
                var r = e.transform;
                return {
                    u_matrix: Ni(e, i, o),
                    u_ratio: 1 / pe(i, 1, r.zoom),
                    u_device_pixel_ratio: t.browser.devicePixelRatio,
                    u_units_to_pixels: [1 / r.pixelsToGLUnits[0], 1 / r.pixelsToGLUnits[1]]
                }
            },
            Bi = function(e, i, o, r) {
                return t.extend(ki(e, i, o), {
                    u_image: 0,
                    u_image_height: r
                })
            },
            Oi = function(e, i, o, r) {
                var a = e.transform,
                    n = Ui(i, a);
                return {
                    u_matrix: Ni(e, i, o),
                    u_texsize: i.imageAtlasTexture.size,
                    u_ratio: 1 / pe(i, 1, a.zoom),
                    u_device_pixel_ratio: t.browser.devicePixelRatio,
                    u_image: 0,
                    u_scale: [n, r.fromScale, r.toScale],
                    u_fade: r.t,
                    u_units_to_pixels: [1 / a.pixelsToGLUnits[0], 1 / a.pixelsToGLUnits[1]]
                }
            },
            Fi = function(e, i, o, r, a) {
                var n = e.lineAtlas,
                    s = Ui(i, e.transform),
                    l = "round" === o.layout.get("line-cap"),
                    c = n.getDash(r.from, l),
                    u = n.getDash(r.to, l),
                    h = c.width * a.fromScale,
                    p = u.width * a.toScale;
                return t.extend(ki(e, i, o), {
                    u_patternscale_a: [s / h, -c.height / 2],
                    u_patternscale_b: [s / p, -u.height / 2],
                    u_sdfgamma: n.width / (256 * Math.min(h, p) * t.browser.devicePixelRatio) / 2,
                    u_image: 0,
                    u_tex_y_a: c.y,
                    u_tex_y_b: u.y,
                    u_mix: a.t
                })
            };

        function Ui(t, e) {
            return 1 / pe(t, 1, e.tileZoom)
        }

        function Ni(t, e, i) {
            return t.translatePosMatrix(e.tileID.posMatrix, e, i.paint.get("line-translate"), i.paint.get("line-translate-anchor"))
        }
        var Zi = function(t, e, i, o, r) {
            return {
                u_matrix: t,
                u_tl_parent: e,
                u_scale_parent: i,
                u_buffer_scale: 1,
                u_fade_t: o.mix,
                u_opacity: o.opacity * r.paint.get("raster-opacity"),
                u_image0: 0,
                u_image1: 1,
                u_brightness_low: r.paint.get("raster-brightness-min"),
                u_brightness_high: r.paint.get("raster-brightness-max"),
                u_saturation_factor: (n = r.paint.get("raster-saturation"), n > 0 ? 1 - 1 / (1.001 - n) : -n),
                u_contrast_factor: (a = r.paint.get("raster-contrast"), a > 0 ? 1 / (1 - a) : 1 + a),
                u_spin_weights: qi(r.paint.get("raster-hue-rotate"))
            };
            var a, n;
        };

        function qi(t) {
            t *= Math.PI / 180;
            var e = Math.sin(t),
                i = Math.cos(t);
            return [(2 * i + 1) / 3, (-Math.sqrt(3) * e - i + 1) / 3, (Math.sqrt(3) * e - i + 1) / 3]
        }
        var ji, Vi = function(t, e, i, o, r, a, n, s, l, c) {
                var u = r.transform;
                return {
                    u_is_size_zoom_constant: +("constant" === t || "source" === t),
                    u_is_size_feature_constant: +("constant" === t || "camera" === t),
                    u_size_t: e ? e.uSizeT : 0,
                    u_size: e ? e.uSize : 0,
                    u_camera_to_center_distance: u.cameraToCenterDistance,
                    u_pitch: u.pitch / 360 * 2 * Math.PI,
                    u_rotate_symbol: +i,
                    u_aspect_ratio: u.width / u.height,
                    u_fade_change: r.options.fadeDuration ? r.symbolFadeChange : 1,
                    u_matrix: a,
                    u_label_plane_matrix: n,
                    u_coord_matrix: s,
                    u_is_text: +l,
                    u_pitch_with_map: +o,
                    u_texsize: c,
                    u_texture: 0
                }
            },
            Gi = function(e, i, o, r, a, n, s, l, c, u, h) {
                var p = a.transform;
                return t.extend(Vi(e, i, o, r, a, n, s, l, c, u), {
                    u_gamma_scale: r ? Math.cos(p._pitch) * p.cameraToCenterDistance : 1,
                    u_device_pixel_ratio: t.browser.devicePixelRatio,
                    u_is_halo: +h
                })
            },
            Wi = function(e, i, o, r, a, n, s, l, c, u) {
                return t.extend(Gi(e, i, o, r, a, n, s, l, !0, c, !0), {
                    u_texsize_icon: u,
                    u_texture_icon: 1
                })
            },
            Xi = function(t, e, i) {
                return {
                    u_matrix: t,
                    u_opacity: e,
                    u_color: i
                }
            },
            Hi = function(e, i, o, r, a, n) {
                return t.extend(function(t, e, i, o) {
                    var r = i.imageManager.getPattern(t.from.toString()),
                        a = i.imageManager.getPattern(t.to.toString()),
                        n = i.imageManager.getPixelSize(),
                        s = n.width,
                        l = n.height,
                        c = Math.pow(2, o.tileID.overscaledZ),
                        u = o.tileSize * Math.pow(2, i.transform.tileZoom) / c,
                        h = u * (o.tileID.canonical.x + o.tileID.wrap * c),
                        p = u * o.tileID.canonical.y;
                    return {
                        u_image: 0,
                        u_pattern_tl_a: r.tl,
                        u_pattern_br_a: r.br,
                        u_pattern_tl_b: a.tl,
                        u_pattern_br_b: a.br,
                        u_texsize: [s, l],
                        u_mix: e.t,
                        u_pattern_size_a: r.displaySize,
                        u_pattern_size_b: a.displaySize,
                        u_scale_a: e.fromScale,
                        u_scale_b: e.toScale,
                        u_tile_units_to_pixels: 1 / pe(o, 1, i.transform.tileZoom),
                        u_pixel_coord_upper: [h >> 16, p >> 16],
                        u_pixel_coord_lower: [65535 & h, 65535 & p]
                    }
                }(r, n, o, a), {
                    u_matrix: e,
                    u_opacity: i
                })
            },
            Ki = {
                fillExtrusion: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_lightpos: new t.Uniform3f(e, i.u_lightpos),
                        u_lightintensity: new t.Uniform1f(e, i.u_lightintensity),
                        u_lightcolor: new t.Uniform3f(e, i.u_lightcolor),
                        u_vertical_gradient: new t.Uniform1f(e, i.u_vertical_gradient),
                        u_opacity: new t.Uniform1f(e, i.u_opacity)
                    }
                },
                fillExtrusionPattern: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_lightpos: new t.Uniform3f(e, i.u_lightpos),
                        u_lightintensity: new t.Uniform1f(e, i.u_lightintensity),
                        u_lightcolor: new t.Uniform3f(e, i.u_lightcolor),
                        u_vertical_gradient: new t.Uniform1f(e, i.u_vertical_gradient),
                        u_height_factor: new t.Uniform1f(e, i.u_height_factor),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_pixel_coord_upper: new t.Uniform2f(e, i.u_pixel_coord_upper),
                        u_pixel_coord_lower: new t.Uniform2f(e, i.u_pixel_coord_lower),
                        u_scale: new t.Uniform3f(e, i.u_scale),
                        u_fade: new t.Uniform1f(e, i.u_fade),
                        u_opacity: new t.Uniform1f(e, i.u_opacity)
                    }
                },
                fill: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix)
                    }
                },
                fillPattern: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_pixel_coord_upper: new t.Uniform2f(e, i.u_pixel_coord_upper),
                        u_pixel_coord_lower: new t.Uniform2f(e, i.u_pixel_coord_lower),
                        u_scale: new t.Uniform3f(e, i.u_scale),
                        u_fade: new t.Uniform1f(e, i.u_fade)
                    }
                },
                fillOutline: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_world: new t.Uniform2f(e, i.u_world)
                    }
                },
                fillOutlinePattern: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_world: new t.Uniform2f(e, i.u_world),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_pixel_coord_upper: new t.Uniform2f(e, i.u_pixel_coord_upper),
                        u_pixel_coord_lower: new t.Uniform2f(e, i.u_pixel_coord_lower),
                        u_scale: new t.Uniform3f(e, i.u_scale),
                        u_fade: new t.Uniform1f(e, i.u_fade)
                    }
                },
                circle: function(e, i) {
                    return {
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_scale_with_map: new t.Uniform1i(e, i.u_scale_with_map),
                        u_pitch_with_map: new t.Uniform1i(e, i.u_pitch_with_map),
                        u_extrude_scale: new t.Uniform2f(e, i.u_extrude_scale),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix)
                    }
                },
                collisionBox: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_pixels_to_tile_units: new t.Uniform1f(e, i.u_pixels_to_tile_units),
                        u_extrude_scale: new t.Uniform2f(e, i.u_extrude_scale),
                        u_overscale_factor: new t.Uniform1f(e, i.u_overscale_factor)
                    }
                },
                collisionCircle: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_inv_matrix: new t.UniformMatrix4f(e, i.u_inv_matrix),
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_viewport_size: new t.Uniform2f(e, i.u_viewport_size)
                    }
                },
                debug: function(e, i) {
                    return {
                        u_color: new t.UniformColor(e, i.u_color),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_overlay: new t.Uniform1i(e, i.u_overlay),
                        u_overlay_scale: new t.Uniform1f(e, i.u_overlay_scale)
                    }
                },
                clippingMask: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix)
                    }
                },
                heatmap: function(e, i) {
                    return {
                        u_extrude_scale: new t.Uniform1f(e, i.u_extrude_scale),
                        u_intensity: new t.Uniform1f(e, i.u_intensity),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix)
                    }
                },
                heatmapTexture: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_world: new t.Uniform2f(e, i.u_world),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_color_ramp: new t.Uniform1i(e, i.u_color_ramp),
                        u_opacity: new t.Uniform1f(e, i.u_opacity)
                    }
                },
                hillshade: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_latrange: new t.Uniform2f(e, i.u_latrange),
                        u_light: new t.Uniform2f(e, i.u_light),
                        u_shadow: new t.UniformColor(e, i.u_shadow),
                        u_highlight: new t.UniformColor(e, i.u_highlight),
                        u_accent: new t.UniformColor(e, i.u_accent)
                    }
                },
                hillshadePrepare: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_dimension: new t.Uniform2f(e, i.u_dimension),
                        u_zoom: new t.Uniform1f(e, i.u_zoom),
                        u_unpack: new t.Uniform4f(e, i.u_unpack)
                    }
                },
                line: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_ratio: new t.Uniform1f(e, i.u_ratio),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_units_to_pixels: new t.Uniform2f(e, i.u_units_to_pixels)
                    }
                },
                lineGradient: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_ratio: new t.Uniform1f(e, i.u_ratio),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_units_to_pixels: new t.Uniform2f(e, i.u_units_to_pixels),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_image_height: new t.Uniform1f(e, i.u_image_height)
                    }
                },
                linePattern: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_ratio: new t.Uniform1f(e, i.u_ratio),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_units_to_pixels: new t.Uniform2f(e, i.u_units_to_pixels),
                        u_scale: new t.Uniform3f(e, i.u_scale),
                        u_fade: new t.Uniform1f(e, i.u_fade)
                    }
                },
                lineSDF: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_ratio: new t.Uniform1f(e, i.u_ratio),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_units_to_pixels: new t.Uniform2f(e, i.u_units_to_pixels),
                        u_patternscale_a: new t.Uniform2f(e, i.u_patternscale_a),
                        u_patternscale_b: new t.Uniform2f(e, i.u_patternscale_b),
                        u_sdfgamma: new t.Uniform1f(e, i.u_sdfgamma),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_tex_y_a: new t.Uniform1f(e, i.u_tex_y_a),
                        u_tex_y_b: new t.Uniform1f(e, i.u_tex_y_b),
                        u_mix: new t.Uniform1f(e, i.u_mix)
                    }
                },
                raster: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_tl_parent: new t.Uniform2f(e, i.u_tl_parent),
                        u_scale_parent: new t.Uniform1f(e, i.u_scale_parent),
                        u_buffer_scale: new t.Uniform1f(e, i.u_buffer_scale),
                        u_fade_t: new t.Uniform1f(e, i.u_fade_t),
                        u_opacity: new t.Uniform1f(e, i.u_opacity),
                        u_image0: new t.Uniform1i(e, i.u_image0),
                        u_image1: new t.Uniform1i(e, i.u_image1),
                        u_brightness_low: new t.Uniform1f(e, i.u_brightness_low),
                        u_brightness_high: new t.Uniform1f(e, i.u_brightness_high),
                        u_saturation_factor: new t.Uniform1f(e, i.u_saturation_factor),
                        u_contrast_factor: new t.Uniform1f(e, i.u_contrast_factor),
                        u_spin_weights: new t.Uniform3f(e, i.u_spin_weights)
                    }
                },
                symbolIcon: function(e, i) {
                    return {
                        u_is_size_zoom_constant: new t.Uniform1i(e, i.u_is_size_zoom_constant),
                        u_is_size_feature_constant: new t.Uniform1i(e, i.u_is_size_feature_constant),
                        u_size_t: new t.Uniform1f(e, i.u_size_t),
                        u_size: new t.Uniform1f(e, i.u_size),
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_pitch: new t.Uniform1f(e, i.u_pitch),
                        u_rotate_symbol: new t.Uniform1i(e, i.u_rotate_symbol),
                        u_aspect_ratio: new t.Uniform1f(e, i.u_aspect_ratio),
                        u_fade_change: new t.Uniform1f(e, i.u_fade_change),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_label_plane_matrix: new t.UniformMatrix4f(e, i.u_label_plane_matrix),
                        u_coord_matrix: new t.UniformMatrix4f(e, i.u_coord_matrix),
                        u_is_text: new t.Uniform1i(e, i.u_is_text),
                        u_pitch_with_map: new t.Uniform1i(e, i.u_pitch_with_map),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_texture: new t.Uniform1i(e, i.u_texture)
                    }
                },
                symbolSDF: function(e, i) {
                    return {
                        u_is_size_zoom_constant: new t.Uniform1i(e, i.u_is_size_zoom_constant),
                        u_is_size_feature_constant: new t.Uniform1i(e, i.u_is_size_feature_constant),
                        u_size_t: new t.Uniform1f(e, i.u_size_t),
                        u_size: new t.Uniform1f(e, i.u_size),
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_pitch: new t.Uniform1f(e, i.u_pitch),
                        u_rotate_symbol: new t.Uniform1i(e, i.u_rotate_symbol),
                        u_aspect_ratio: new t.Uniform1f(e, i.u_aspect_ratio),
                        u_fade_change: new t.Uniform1f(e, i.u_fade_change),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_label_plane_matrix: new t.UniformMatrix4f(e, i.u_label_plane_matrix),
                        u_coord_matrix: new t.UniformMatrix4f(e, i.u_coord_matrix),
                        u_is_text: new t.Uniform1i(e, i.u_is_text),
                        u_pitch_with_map: new t.Uniform1i(e, i.u_pitch_with_map),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_texture: new t.Uniform1i(e, i.u_texture),
                        u_gamma_scale: new t.Uniform1f(e, i.u_gamma_scale),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_is_halo: new t.Uniform1i(e, i.u_is_halo)
                    }
                },
                symbolTextAndIcon: function(e, i) {
                    return {
                        u_is_size_zoom_constant: new t.Uniform1i(e, i.u_is_size_zoom_constant),
                        u_is_size_feature_constant: new t.Uniform1i(e, i.u_is_size_feature_constant),
                        u_size_t: new t.Uniform1f(e, i.u_size_t),
                        u_size: new t.Uniform1f(e, i.u_size),
                        u_camera_to_center_distance: new t.Uniform1f(e, i.u_camera_to_center_distance),
                        u_pitch: new t.Uniform1f(e, i.u_pitch),
                        u_rotate_symbol: new t.Uniform1i(e, i.u_rotate_symbol),
                        u_aspect_ratio: new t.Uniform1f(e, i.u_aspect_ratio),
                        u_fade_change: new t.Uniform1f(e, i.u_fade_change),
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_label_plane_matrix: new t.UniformMatrix4f(e, i.u_label_plane_matrix),
                        u_coord_matrix: new t.UniformMatrix4f(e, i.u_coord_matrix),
                        u_is_text: new t.Uniform1i(e, i.u_is_text),
                        u_pitch_with_map: new t.Uniform1i(e, i.u_pitch_with_map),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_texsize_icon: new t.Uniform2f(e, i.u_texsize_icon),
                        u_texture: new t.Uniform1i(e, i.u_texture),
                        u_texture_icon: new t.Uniform1i(e, i.u_texture_icon),
                        u_gamma_scale: new t.Uniform1f(e, i.u_gamma_scale),
                        u_device_pixel_ratio: new t.Uniform1f(e, i.u_device_pixel_ratio),
                        u_is_halo: new t.Uniform1i(e, i.u_is_halo)
                    }
                },
                background: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_opacity: new t.Uniform1f(e, i.u_opacity),
                        u_color: new t.UniformColor(e, i.u_color)
                    }
                },
                backgroundPattern: function(e, i) {
                    return {
                        u_matrix: new t.UniformMatrix4f(e, i.u_matrix),
                        u_opacity: new t.Uniform1f(e, i.u_opacity),
                        u_image: new t.Uniform1i(e, i.u_image),
                        u_pattern_tl_a: new t.Uniform2f(e, i.u_pattern_tl_a),
                        u_pattern_br_a: new t.Uniform2f(e, i.u_pattern_br_a),
                        u_pattern_tl_b: new t.Uniform2f(e, i.u_pattern_tl_b),
                        u_pattern_br_b: new t.Uniform2f(e, i.u_pattern_br_b),
                        u_texsize: new t.Uniform2f(e, i.u_texsize),
                        u_mix: new t.Uniform1f(e, i.u_mix),
                        u_pattern_size_a: new t.Uniform2f(e, i.u_pattern_size_a),
                        u_pattern_size_b: new t.Uniform2f(e, i.u_pattern_size_b),
                        u_scale_a: new t.Uniform1f(e, i.u_scale_a),
                        u_scale_b: new t.Uniform1f(e, i.u_scale_b),
                        u_pixel_coord_upper: new t.Uniform2f(e, i.u_pixel_coord_upper),
                        u_pixel_coord_lower: new t.Uniform2f(e, i.u_pixel_coord_lower),
                        u_tile_units_to_pixels: new t.Uniform1f(e, i.u_tile_units_to_pixels)
                    }
                }
            };

        function Yi(e, i, o, r, a, n, s) {
            for (var l = e.context, c = l.gl, u = e.useProgram("collisionBox"), h = [], p = 0, d = 0, _ = 0; _ < r.length; _++) {
                var f = r[_],
                    m = i.getTile(f),
                    g = m.getBucket(o);
                if (g) {
                    var v = f.posMatrix;
                    0 === a[0] && 0 === a[1] || (v = e.translatePosMatrix(f.posMatrix, m, a, n));
                    var y = s ? g.textCollisionBox : g.iconCollisionBox,
                        x = g.collisionCircleArray;
                    if (x.length > 0) {
                        var b = t.create(),
                            w = v;
                        t.mul(b, g.placementInvProjMatrix, e.transform.glCoordMatrix), t.mul(b, b, g.placementViewportMatrix), h.push({
                            circleArray: x,
                            circleOffset: d,
                            transform: w,
                            invTransform: b
                        }), d = p += x.length / 4;
                    }
                    y && u.draw(l, c.LINES, It.disabled, Pt.disabled, e.colorModeForRenderPass(), Ct.disabled, Di(v, e.transform, m), o.id, y.layoutVertexBuffer, y.indexBuffer, y.segments, null, e.transform.zoom, null, null, y.collisionVertexBuffer);
                }
            }
            if (s && h.length) {
                var T = e.useProgram("collisionCircle"),
                    E = new t.StructArrayLayout2f1f2i16;
                E.resize(4 * p), E._trim();
                for (var I = 0, P = 0, S = h; P < S.length; P += 1)
                    for (var C = S[P], z = 0; z < C.circleArray.length / 4; z++) {
                        var D = 4 * z,
                            M = C.circleArray[D + 0],
                            L = C.circleArray[D + 1],
                            A = C.circleArray[D + 2],
                            R = C.circleArray[D + 3];
                        E.emplace(I++, M, L, A, R, 0), E.emplace(I++, M, L, A, R, 1), E.emplace(I++, M, L, A, R, 2), E.emplace(I++, M, L, A, R, 3);
                    }(!ji || ji.length < 2 * p) && (ji = function(e) {
                        var i = 2 * e,
                            o = new t.StructArrayLayout3ui6;
                        o.resize(i), o._trim();
                        for (var r = 0; r < i; r++) {
                            var a = 6 * r;
                            o.uint16[a + 0] = 4 * r + 0, o.uint16[a + 1] = 4 * r + 1, o.uint16[a + 2] = 4 * r + 2, o.uint16[a + 3] = 4 * r + 2, o.uint16[a + 4] = 4 * r + 3, o.uint16[a + 5] = 4 * r + 0;
                        }
                        return o
                    }(p));
                for (var k = l.createIndexBuffer(ji, !0), B = l.createVertexBuffer(E, t.collisionCircleLayout.members, !0), O = 0, F = h; O < F.length; O += 1) {
                    var U = F[O],
                        N = Mi(U.transform, U.invTransform, e.transform);
                    T.draw(l, c.TRIANGLES, It.disabled, Pt.disabled, e.colorModeForRenderPass(), Ct.disabled, N, o.id, B, k, t.SegmentVector.simpleSegment(0, 2 * U.circleOffset, U.circleArray.length, U.circleArray.length / 2), null, e.transform.zoom, null, null, null);
                }
                B.destroy(), k.destroy();
            }
        }
        var Ji = t.identity(new Float32Array(16));

        function Qi(e, i, o, r, a, n) {
            var s = t.getAnchorAlignment(e),
                l = -(s.horizontalAlign - .5) * i,
                c = -(s.verticalAlign - .5) * o,
                u = t.evaluateVariableOffset(e, r);
            return new t.Point((l / a + u[0]) * n, (c / a + u[1]) * n)
        }

        function $i(e, i, o, r, a, n, s, l, c, u, h) {
            var p = e.text.placedSymbolArray,
                d = e.text.dynamicLayoutVertexArray,
                _ = e.icon.dynamicLayoutVertexArray,
                f = {};
            d.clear();
            for (var m = 0; m < p.length; m++) {
                var g = p.get(m),
                    v = g.hidden || !g.crossTileID || e.allowVerticalPlacement && !g.placedOrientation ? null : r[g.crossTileID];
                if (v) {
                    var y = new t.Point(g.anchorX, g.anchorY),
                        x = $t(y, o ? l : s),
                        b = te(n.cameraToCenterDistance, x.signedDistanceFromCamera),
                        w = a.evaluateSizeForFeature(e.textSizeData, u, g) * b / t.ONE_EM;
                    o && (w *= e.tilePixelRatio / c);
                    for (var T = Qi(v.anchor, v.width, v.height, v.textOffset, v.textBoxScale, w), E = o ? $t(y.add(T), s).point : x.point.add(i ? T.rotate(-n.angle) : T), I = e.allowVerticalPlacement && g.placedOrientation === t.WritingMode.vertical ? Math.PI / 2 : 0, P = 0; P < g.numGlyphs; P++) t.addDynamicAttributes(d, E, I);
                    h && g.associatedIconIndex >= 0 && (f[g.associatedIconIndex] = {
                        shiftedAnchor: E,
                        angle: I
                    });
                } else ce(g.numGlyphs, d);
            }
            if (h) {
                _.clear();
                for (var S = e.icon.placedSymbolArray, C = 0; C < S.length; C++) {
                    var z = S.get(C);
                    if (z.hidden) ce(z.numGlyphs, _);
                    else {
                        var D = f[C];
                        if (D)
                            for (var M = 0; M < z.numGlyphs; M++) t.addDynamicAttributes(_, D.shiftedAnchor, D.angle);
                        else ce(z.numGlyphs, _);
                    }
                }
                e.icon.dynamicLayoutVertexBuffer.updateData(_);
            }
            e.text.dynamicLayoutVertexBuffer.updateData(d);
        }

        function to(t, e, i) {
            return i.iconsInText && e ? "symbolTextAndIcon" : t ? "symbolSDF" : "symbolIcon"
        }

        function eo(e, i, o, r, a, n, s, l, c, u, h, p) {
            for (var d = e.context, _ = d.gl, f = e.transform, m = "map" === l, g = "map" === c, v = m && "point" !== o.layout.get("symbol-placement"), y = m && !g && !v, x = void 0 !== o.layout.get("symbol-sort-key").constantOr(1), b = e.depthModeForSublayer(0, It.ReadOnly), w = o.layout.get("text-variable-anchor"), T = [], E = 0, I = r; E < I.length; E += 1) {
                var P = I[E],
                    S = i.getTile(P),
                    C = S.getBucket(o);
                if (C) {
                    var z = a ? C.text : C.icon;
                    if (z && z.segments.get().length) {
                        var D = z.programConfigurations.get(o.id),
                            M = a || C.sdfIcons,
                            L = a ? C.textSizeData : C.iconSizeData,
                            A = g || 0 !== f.pitch,
                            R = e.useProgram(to(M, a, C), D),
                            k = t.evaluateSizeForZoom(L, f.zoom),
                            B = void 0,
                            O = [0, 0],
                            F = void 0,
                            U = void 0,
                            N = null,
                            Z = void 0;
                        if (a) F = S.glyphAtlasTexture, U = _.LINEAR, B = S.glyphAtlasTexture.size, C.iconsInText && (O = S.imageAtlasTexture.size, N = S.imageAtlasTexture, Z = A || e.options.rotating || e.options.zooming || "composite" === L.kind || "camera" === L.kind ? _.LINEAR : _.NEAREST);
                        else {
                            var q = 1 !== o.layout.get("icon-size").constantOr(0) || C.iconsNeedLinear;
                            F = S.imageAtlasTexture, U = M || e.options.rotating || e.options.zooming || q || A ? _.LINEAR : _.NEAREST, B = S.imageAtlasTexture.size;
                        }
                        var j = pe(S, 1, e.transform.zoom),
                            V = Jt(P.posMatrix, g, m, e.transform, j),
                            G = Qt(P.posMatrix, g, m, e.transform, j),
                            W = w && C.hasTextData(),
                            X = "none" !== o.layout.get("icon-text-fit") && W && C.hasIconData();
                        v && ie(C, P.posMatrix, e, a, V, G, g, u);
                        var H = e.translatePosMatrix(P.posMatrix, S, n, s),
                            K = v || a && w || X ? Ji : V,
                            Y = e.translatePosMatrix(G, S, n, s, !0),
                            J = M && 0 !== o.paint.get(a ? "text-halo-width" : "icon-halo-width").constantOr(1),
                            Q = {
                                program: R,
                                buffers: z,
                                uniformValues: M ? C.iconsInText ? Wi(L.kind, k, y, g, e, H, K, Y, B, O) : Gi(L.kind, k, y, g, e, H, K, Y, a, B, !0) : Vi(L.kind, k, y, g, e, H, K, Y, a, B),
                                atlasTexture: F,
                                atlasTextureIcon: N,
                                atlasInterpolation: U,
                                atlasInterpolationIcon: Z,
                                isSDF: M,
                                hasHalo: J
                            };
                        if (x)
                            for (var $ = 0, tt = z.segments.get(); $ < tt.length; $ += 1) {
                                var et = tt[$];
                                T.push({
                                    segments: new t.SegmentVector([et]),
                                    sortKey: et.sortKey,
                                    state: Q
                                });
                            } else T.push({
                                segments: z.segments,
                                sortKey: 0,
                                state: Q
                            });
                    }
                }
            }
            x && T.sort((function(t, e) {
                return t.sortKey - e.sortKey
            }));
            for (var it = 0, ot = T; it < ot.length; it += 1) {
                var rt = ot[it],
                    at = rt.state;
                if (d.activeTexture.set(_.TEXTURE0), at.atlasTexture.bind(at.atlasInterpolation, _.CLAMP_TO_EDGE), at.atlasTextureIcon && (d.activeTexture.set(_.TEXTURE1), at.atlasTextureIcon && at.atlasTextureIcon.bind(at.atlasInterpolationIcon, _.CLAMP_TO_EDGE)), at.isSDF) {
                    var nt = at.uniformValues;
                    at.hasHalo && (nt.u_is_halo = 1, io(at.buffers, rt.segments, o, e, at.program, b, h, p, nt)), nt.u_is_halo = 0;
                }
                io(at.buffers, rt.segments, o, e, at.program, b, h, p, at.uniformValues);
            }
        }

        function io(t, e, i, o, r, a, n, s, l) {
            var c = o.context;
            r.draw(c, c.gl.TRIANGLES, a, n, s, Ct.disabled, l, i.id, t.layoutVertexBuffer, t.indexBuffer, e, i.paint, o.transform.zoom, t.programConfigurations.get(i.id), t.dynamicLayoutVertexBuffer, t.opacityVertexBuffer);
        }

        function oo(t, e, i, o, r, a, n) {
            var s, l, c, u, h, p = t.context.gl,
                d = i.paint.get("fill-pattern"),
                _ = d && d.constantOr(1),
                f = i.getCrossfadeParameters();
            n ? (l = _ && !i.getPaintProperty("fill-outline-color") ? "fillOutlinePattern" : "fillOutline", s = p.LINES) : (l = _ ? "fillPattern" : "fill", s = p.TRIANGLES);
            for (var m = 0, g = o; m < g.length; m += 1) {
                var v = g[m],
                    y = e.getTile(v);
                if (!_ || y.patternsLoaded()) {
                    var x = y.getBucket(i);
                    if (x) {
                        var b = x.programConfigurations.get(i.id),
                            w = t.useProgram(l, b);
                        _ && (t.context.activeTexture.set(p.TEXTURE0), y.imageAtlasTexture.bind(p.LINEAR, p.CLAMP_TO_EDGE), b.updatePaintBuffers(f));
                        var T = d.constantOr(null);
                        if (T && y.imageAtlas) {
                            var E = y.imageAtlas,
                                I = E.patternPositions[T.to.toString()],
                                P = E.patternPositions[T.from.toString()];
                            I && P && b.setConstantPatternPositions(I, P);
                        }
                        var S = t.translatePosMatrix(v.posMatrix, y, i.paint.get("fill-translate"), i.paint.get("fill-translate-anchor"));
                        if (n) {
                            u = x.indexBuffer2, h = x.segments2;
                            var C = [p.drawingBufferWidth, p.drawingBufferHeight];
                            c = "fillOutlinePattern" === l && _ ? Ci(S, t, f, y, C) : Si(S, C);
                        } else u = x.indexBuffer, h = x.segments, c = _ ? Pi(S, t, f, y) : Ii(S);
                        w.draw(t.context, s, r, t.stencilModeForClipping(v), a, Ct.disabled, c, i.id, x.layoutVertexBuffer, u, h, i.paint, t.transform.zoom, b);
                    }
                }
            }
        }

        function ro(t, e, i, o, r, a, n) {
            for (var s = t.context, l = s.gl, c = i.paint.get("fill-extrusion-pattern"), u = c.constantOr(1), h = i.getCrossfadeParameters(), p = i.paint.get("fill-extrusion-opacity"), d = 0, _ = o; d < _.length; d += 1) {
                var f = _[d],
                    m = e.getTile(f),
                    g = m.getBucket(i);
                if (g) {
                    var v = g.programConfigurations.get(i.id),
                        y = t.useProgram(u ? "fillExtrusionPattern" : "fillExtrusion", v);
                    u && (t.context.activeTexture.set(l.TEXTURE0), m.imageAtlasTexture.bind(l.LINEAR, l.CLAMP_TO_EDGE), v.updatePaintBuffers(h));
                    var x = c.constantOr(null);
                    if (x && m.imageAtlas) {
                        var b = m.imageAtlas,
                            w = b.patternPositions[x.to.toString()],
                            T = b.patternPositions[x.from.toString()];
                        w && T && v.setConstantPatternPositions(w, T);
                    }
                    var E = t.translatePosMatrix(f.posMatrix, m, i.paint.get("fill-extrusion-translate"), i.paint.get("fill-extrusion-translate-anchor")),
                        I = i.paint.get("fill-extrusion-vertical-gradient"),
                        P = u ? Ei(E, t, I, p, f, h, m) : Ti(E, t, I, p);
                    y.draw(s, s.gl.TRIANGLES, r, a, n, Ct.backCCW, P, i.id, g.layoutVertexBuffer, g.indexBuffer, g.segments, i.paint, t.transform.zoom, v);
                }
            }
        }

        function ao(e, i, o, r, a, n) {
            var s = e.context,
                l = s.gl,
                c = i.fbo;
            if (c) {
                var u = e.useProgram("hillshade");
                s.activeTexture.set(l.TEXTURE0), l.bindTexture(l.TEXTURE_2D, c.colorAttachment.get());
                var h = function(e, i, o) {
                    var r = o.paint.get("hillshade-shadow-color"),
                        a = o.paint.get("hillshade-highlight-color"),
                        n = o.paint.get("hillshade-accent-color"),
                        s = o.paint.get("hillshade-illumination-direction") * (Math.PI / 180);
                    "viewport" === o.paint.get("hillshade-illumination-anchor") && (s -= e.transform.angle);
                    var l, c, u, h = !e.options.moving;
                    return {
                        u_matrix: e.transform.calculatePosMatrix(i.tileID.toUnwrapped(), h),
                        u_image: 0,
                        u_latrange: (l = i.tileID, c = Math.pow(2, l.canonical.z), u = l.canonical.y, [new t.MercatorCoordinate(0, u / c).toLngLat().lat, new t.MercatorCoordinate(0, (u + 1) / c).toLngLat().lat]),
                        u_light: [o.paint.get("hillshade-exaggeration"), s],
                        u_shadow: r,
                        u_highlight: a,
                        u_accent: n
                    }
                }(e, i, o);
                u.draw(s, l.TRIANGLES, r, a, n, Ct.disabled, h, o.id, e.rasterBoundsBuffer, e.quadTriangleIndexBuffer, e.rasterBoundsSegments);
            }
        }

        function no(e, i, o, r, a, n) {
            var s = e.context,
                l = s.gl,
                c = i.dem;
            if (c && c.data) {
                var u = c.dim,
                    h = c.stride,
                    p = c.getPixels();
                if (s.activeTexture.set(l.TEXTURE1), s.pixelStoreUnpackPremultiplyAlpha.set(!1), i.demTexture = i.demTexture || e.getTileTexture(h), i.demTexture) {
                    var d = i.demTexture;
                    d.update(p, {
                        premultiply: !1
                    }), d.bind(l.NEAREST, l.CLAMP_TO_EDGE);
                } else i.demTexture = new t.Texture(s, p, l.RGBA, {
                    premultiply: !1
                }), i.demTexture.bind(l.NEAREST, l.CLAMP_TO_EDGE);
                s.activeTexture.set(l.TEXTURE0);
                var _ = i.fbo;
                if (!_) {
                    var f = new t.Texture(s, {
                        width: u,
                        height: u,
                        data: null
                    }, l.RGBA);
                    f.bind(l.LINEAR, l.CLAMP_TO_EDGE), (_ = i.fbo = s.createFramebuffer(u, u, !0)).colorAttachment.set(f.texture);
                }
                s.bindFramebuffer.set(_.framebuffer), s.viewport.set([0, 0, u, u]), e.useProgram("hillshadePrepare").draw(s, l.TRIANGLES, r, a, n, Ct.disabled, function(e, i) {
                    var o = i.stride,
                        r = t.create();
                    return t.ortho(r, 0, t.EXTENT, -t.EXTENT, 0, 0, 1), t.translate(r, r, [0, -t.EXTENT, 0]), {
                        u_matrix: r,
                        u_image: 1,
                        u_dimension: [o, o],
                        u_zoom: e.overscaledZ,
                        u_unpack: i.getUnpackVector()
                    }
                }(i.tileID, c), o.id, e.rasterBoundsBuffer, e.quadTriangleIndexBuffer, e.rasterBoundsSegments), i.needsHillshadePrepare = !1;
            }
        }

        function so(e, i, o, r, a) {
            var n = r.paint.get("raster-fade-duration");
            if (n > 0) {
                var s = t.browser.now(),
                    l = (s - e.timeAdded) / n,
                    c = i ? (s - i.timeAdded) / n : -1,
                    u = o.getSource(),
                    h = a.coveringZoomLevel({
                        tileSize: u.tileSize,
                        roundZoom: u.roundZoom
                    }),
                    p = !i || Math.abs(i.tileID.overscaledZ - h) > Math.abs(e.tileID.overscaledZ - h),
                    d = p && e.refreshedUponExpiration ? 1 : t.clamp(p ? l : 1 - c, 0, 1);
                return e.refreshedUponExpiration && l >= 1 && (e.refreshedUponExpiration = !1), i ? {
                    opacity: 1,
                    mix: 1 - d
                } : {
                    opacity: d,
                    mix: 0
                }
            }
            return {
                opacity: 1,
                mix: 0
            }
        }
        var lo = new t.Color(1, 0, 0, 1),
            co = new t.Color(0, 1, 0, 1),
            uo = new t.Color(0, 0, 1, 1),
            ho = new t.Color(1, 0, 1, 1),
            po = new t.Color(0, 1, 1, 1);

        function _o(t, e, i, o) {
            mo(t, 0, e + i / 2, t.transform.width, i, o);
        }

        function fo(t, e, i, o) {
            mo(t, e - i / 2, 0, i, t.transform.height, o);
        }

        function mo(e, i, o, r, a, n) {
            var s = e.context,
                l = s.gl;
            l.enable(l.SCISSOR_TEST), l.scissor(i * t.browser.devicePixelRatio, o * t.browser.devicePixelRatio, r * t.browser.devicePixelRatio, a * t.browser.devicePixelRatio), s.clear({
                color: n
            }), l.disable(l.SCISSOR_TEST);
        }

        function go(e, i, o) {
            var r = e.context,
                a = r.gl,
                n = o.posMatrix,
                s = e.useProgram("debug"),
                l = It.disabled,
                c = Pt.disabled,
                u = e.colorModeForRenderPass();
            r.activeTexture.set(a.TEXTURE0), e.emptyTexture.bind(a.LINEAR, a.CLAMP_TO_EDGE), s.draw(r, a.LINE_STRIP, l, c, u, Ct.disabled, Li(n, t.Color.red), "$debug", e.debugBuffer, e.tileBorderIndexBuffer, e.debugSegments);
            var h = i.getTileByID(o.key).latestRawTileData,
                p = Math.floor((h && h.byteLength || 0) / 1024),
                d = i.getTile(o).tileSize,
                _ = 512 / Math.min(d, 512) * (o.overscaledZ / e.transform.zoom) * .5,
                f = o.canonical.toString();
            o.overscaledZ !== o.canonical.z && (f += " => " + o.overscaledZ),
                function(t, e) {
                    t.initDebugOverlayCanvas();
                    var i = t.debugOverlayCanvas,
                        o = t.context.gl,
                        r = t.debugOverlayCanvas.getContext("2d");
                    r.clearRect(0, 0, i.width, i.height), r.shadowColor = "white", r.shadowBlur = 2, r.lineWidth = 1.5, r.strokeStyle = "white", r.textBaseline = "top", r.font = "bold 36px Open Sans, sans-serif", r.fillText(e, 5, 5), r.strokeText(e, 5, 5), t.debugOverlayTexture.update(i), t.debugOverlayTexture.bind(o.LINEAR, o.CLAMP_TO_EDGE);
                }(e, f + " " + p + "kb"), s.draw(r, a.TRIANGLES, l, c, St.alphaBlended, Ct.disabled, Li(n, t.Color.transparent, _), "$debug", e.debugBuffer, e.quadTriangleIndexBuffer, e.debugSegments);
        }
        var vo = {
                symbol: function(e, i, o, r, a) {
                    if ("translucent" === e.renderPass) {
                        var n = Pt.disabled,
                            s = e.colorModeForRenderPass();
                        o.layout.get("text-variable-anchor") && function(e, i, o, r, a, n, s) {
                            for (var l = i.transform, c = "map" === a, u = "map" === n, h = 0, p = e; h < p.length; h += 1) {
                                var d = p[h],
                                    _ = r.getTile(d),
                                    f = _.getBucket(o);
                                if (f && f.text && f.text.segments.get().length) {
                                    var m = t.evaluateSizeForZoom(f.textSizeData, l.zoom),
                                        g = pe(_, 1, i.transform.zoom),
                                        v = Jt(d.posMatrix, u, c, i.transform, g),
                                        y = "none" !== o.layout.get("icon-text-fit") && f.hasIconData();
                                    if (m) {
                                        var x = Math.pow(2, l.zoom - _.tileID.overscaledZ);
                                        $i(f, c, u, s, t.symbolSize, l, v, d.posMatrix, x, m, y);
                                    }
                                }
                            }
                        }(r, e, o, i, o.layout.get("text-rotation-alignment"), o.layout.get("text-pitch-alignment"), a), 0 !== o.paint.get("icon-opacity").constantOr(1) && eo(e, i, o, r, !1, o.paint.get("icon-translate"), o.paint.get("icon-translate-anchor"), o.layout.get("icon-rotation-alignment"), o.layout.get("icon-pitch-alignment"), o.layout.get("icon-keep-upright"), n, s), 0 !== o.paint.get("text-opacity").constantOr(1) && eo(e, i, o, r, !0, o.paint.get("text-translate"), o.paint.get("text-translate-anchor"), o.layout.get("text-rotation-alignment"), o.layout.get("text-pitch-alignment"), o.layout.get("text-keep-upright"), n, s), i.map.showCollisionBoxes && (Yi(e, i, o, r, o.paint.get("text-translate"), o.paint.get("text-translate-anchor"), !0), Yi(e, i, o, r, o.paint.get("icon-translate"), o.paint.get("icon-translate-anchor"), !1));
                    }
                },
                circle: function(e, i, o, r) {
                    if ("translucent" === e.renderPass) {
                        var a = o.paint.get("circle-opacity"),
                            n = o.paint.get("circle-stroke-width"),
                            s = o.paint.get("circle-stroke-opacity"),
                            l = void 0 !== o.layout.get("circle-sort-key").constantOr(1);
                        if (0 !== a.constantOr(1) || 0 !== n.constantOr(1) && 0 !== s.constantOr(1)) {
                            for (var c = e.context, u = c.gl, h = e.depthModeForSublayer(0, It.ReadOnly), p = Pt.disabled, d = e.colorModeForRenderPass(), _ = [], f = 0; f < r.length; f++) {
                                var m = r[f],
                                    g = i.getTile(m),
                                    v = g.getBucket(o);
                                if (v) {
                                    var y = v.programConfigurations.get(o.id),
                                        x = {
                                            programConfiguration: y,
                                            program: e.useProgram("circle", y),
                                            layoutVertexBuffer: v.layoutVertexBuffer,
                                            indexBuffer: v.indexBuffer,
                                            uniformValues: zi(e, m, g, o)
                                        };
                                    if (l)
                                        for (var b = 0, w = v.segments.get(); b < w.length; b += 1) {
                                            var T = w[b];
                                            _.push({
                                                segments: new t.SegmentVector([T]),
                                                sortKey: T.sortKey,
                                                state: x
                                            });
                                        } else _.push({
                                            segments: v.segments,
                                            sortKey: 0,
                                            state: x
                                        });
                                }
                            }
                            l && _.sort((function(t, e) {
                                return t.sortKey - e.sortKey
                            }));
                            for (var E = 0, I = _; E < I.length; E += 1) {
                                var P = I[E],
                                    S = P.state;
                                S.program.draw(c, u.TRIANGLES, h, p, d, Ct.disabled, S.uniformValues, o.id, S.layoutVertexBuffer, S.indexBuffer, P.segments, o.paint, e.transform.zoom, S.programConfiguration);
                            }
                        }
                    }
                },
                heatmap: function(e, i, o, r) {
                    if (0 !== o.paint.get("heatmap-opacity"))
                        if ("offscreen" === e.renderPass) {
                            var a = e.context,
                                n = a.gl,
                                s = Pt.disabled,
                                l = new St([n.ONE, n.ONE], t.Color.transparent, [!0, !0, !0, !0]);
                            ! function(t, e, i) {
                                var o = t.gl;
                                t.activeTexture.set(o.TEXTURE1), t.viewport.set([0, 0, e.width / 4, e.height / 4]);
                                var r = i.heatmapFbo;
                                if (r) o.bindTexture(o.TEXTURE_2D, r.colorAttachment.get()), t.bindFramebuffer.set(r.framebuffer);
                                else {
                                    var a = o.createTexture();
                                    o.bindTexture(o.TEXTURE_2D, a), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_S, o.CLAMP_TO_EDGE), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_WRAP_T, o.CLAMP_TO_EDGE), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MIN_FILTER, o.LINEAR), o.texParameteri(o.TEXTURE_2D, o.TEXTURE_MAG_FILTER, o.LINEAR), r = i.heatmapFbo = t.createFramebuffer(e.width / 4, e.height / 4, !1),
                                        function(t, e, i, o) {
                                            var r = t.gl;
                                            r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, e.width / 4, e.height / 4, 0, r.RGBA, t.extRenderToTextureHalfFloat ? t.extTextureHalfFloat.HALF_FLOAT_OES : r.UNSIGNED_BYTE, null), o.colorAttachment.set(i);
                                        }(t, e, a, r);
                                }
                            }(a, e, o), a.clear({
                                color: t.Color.transparent
                            });
                            for (var c = 0; c < r.length; c++) {
                                var u = r[c];
                                if (!i.hasRenderableParent(u)) {
                                    var h = i.getTile(u),
                                        p = h.getBucket(o);
                                    if (p) {
                                        var d = p.programConfigurations.get(o.id);
                                        e.useProgram("heatmap", d).draw(a, n.TRIANGLES, It.disabled, s, l, Ct.disabled, Ri(u.posMatrix, h, e.transform.zoom, o.paint.get("heatmap-intensity")), o.id, p.layoutVertexBuffer, p.indexBuffer, p.segments, o.paint, e.transform.zoom, d);
                                    }
                                }
                            }
                            a.viewport.set([0, 0, e.width, e.height]);
                        } else "translucent" === e.renderPass && (e.context.setColorMode(e.colorModeForRenderPass()), function(e, i) {
                            var o = e.context,
                                r = o.gl,
                                a = i.heatmapFbo;
                            if (a) {
                                o.activeTexture.set(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, a.colorAttachment.get()), o.activeTexture.set(r.TEXTURE1);
                                var n = i.colorRampTexture;
                                n || (n = i.colorRampTexture = new t.Texture(o, i.colorRamp, r.RGBA)), n.bind(r.LINEAR, r.CLAMP_TO_EDGE), e.useProgram("heatmapTexture").draw(o, r.TRIANGLES, It.disabled, Pt.disabled, e.colorModeForRenderPass(), Ct.disabled, function(e, i, o, r) {
                                    var a = t.create();
                                    t.ortho(a, 0, e.width, e.height, 0, 0, 1);
                                    var n = e.context.gl;
                                    return {
                                        u_matrix: a,
                                        u_world: [n.drawingBufferWidth, n.drawingBufferHeight],
                                        u_image: 0,
                                        u_color_ramp: 1,
                                        u_opacity: i.paint.get("heatmap-opacity")
                                    }
                                }(e, i), i.id, e.viewportBuffer, e.quadTriangleIndexBuffer, e.viewportSegments, i.paint, e.transform.zoom);
                            }
                        }(e, o));
                },
                line: function(e, i, o, r) {
                    if ("translucent" === e.renderPass) {
                        var a = o.paint.get("line-opacity"),
                            n = o.paint.get("line-width");
                        if (0 !== a.constantOr(1) && 0 !== n.constantOr(1))
                            for (var s = e.depthModeForSublayer(0, It.ReadOnly), l = e.colorModeForRenderPass(), c = o.paint.get("line-dasharray"), u = o.paint.get("line-pattern"), h = u.constantOr(1), p = o.paint.get("line-gradient"), d = o.getCrossfadeParameters(), _ = h ? "linePattern" : c ? "lineSDF" : p ? "lineGradient" : "line", f = e.context, m = f.gl, g = !0, v = 0, y = r; v < y.length; v += 1) {
                                var x = y[v],
                                    b = i.getTile(x);
                                if (!h || b.patternsLoaded()) {
                                    var w = b.getBucket(o);
                                    if (w) {
                                        var T = w.programConfigurations.get(o.id),
                                            E = e.context.program.get(),
                                            I = e.useProgram(_, T),
                                            P = g || I.program !== E,
                                            S = u.constantOr(null);
                                        if (S && b.imageAtlas) {
                                            var C = b.imageAtlas,
                                                z = C.patternPositions[S.to.toString()],
                                                D = C.patternPositions[S.from.toString()];
                                            z && D && T.setConstantPatternPositions(z, D);
                                        }
                                        var M = h ? Oi(e, b, o, d) : c ? Fi(e, b, o, c, d) : p ? Bi(e, b, o, w.lineClipsArray.length) : ki(e, b, o);
                                        if (h) f.activeTexture.set(m.TEXTURE0), b.imageAtlasTexture.bind(m.LINEAR, m.CLAMP_TO_EDGE), T.updatePaintBuffers(d);
                                        else if (c && (P || e.lineAtlas.dirty)) f.activeTexture.set(m.TEXTURE0), e.lineAtlas.bind(f);
                                        else if (p) {
                                            var L = w.gradients[o.id],
                                                A = L.texture;
                                            if (o.gradientVersion !== L.version) {
                                                var R = 256;
                                                if (o.stepInterpolant) {
                                                    var k = i.getSource().maxzoom,
                                                        B = x.canonical.z === k ? Math.ceil(1 << e.transform.maxZoom - x.canonical.z) : 1;
                                                    R = t.clamp(t.nextPowerOfTwo(w.maxLineLength / t.EXTENT * 1024 * B), 256, f.maxTextureSize);
                                                }
                                                L.gradient = t.renderColorRamp({
                                                    expression: o.gradientExpression(),
                                                    evaluationKey: "lineProgress",
                                                    resolution: R,
                                                    image: L.gradient || void 0,
                                                    clips: w.lineClipsArray
                                                }), L.texture ? L.texture.update(L.gradient) : L.texture = new t.Texture(f, L.gradient, m.RGBA), L.version = o.gradientVersion, A = L.texture;
                                            }
                                            f.activeTexture.set(m.TEXTURE0), A.bind(o.stepInterpolant ? m.NEAREST : m.LINEAR, m.CLAMP_TO_EDGE);
                                        }
                                        I.draw(f, m.TRIANGLES, s, e.stencilModeForClipping(x), l, Ct.disabled, M, o.id, w.layoutVertexBuffer, w.indexBuffer, w.segments, o.paint, e.transform.zoom, T, w.layoutVertexBuffer2), g = !1;
                                    }
                                }
                            }
                    }
                },
                fill: function(e, i, o, r) {
                    var a = o.paint.get("fill-color"),
                        n = o.paint.get("fill-opacity");
                    if (0 !== n.constantOr(1)) {
                        var s = e.colorModeForRenderPass(),
                            l = o.paint.get("fill-pattern"),
                            c = e.opaquePassEnabledForLayer() && !l.constantOr(1) && 1 === a.constantOr(t.Color.transparent).a && 1 === n.constantOr(0) ? "opaque" : "translucent";
                        if (e.renderPass === c) {
                            var u = e.depthModeForSublayer(1, "opaque" === e.renderPass ? It.ReadWrite : It.ReadOnly);
                            oo(e, i, o, r, u, s, !1);
                        }
                        if ("translucent" === e.renderPass && o.paint.get("fill-antialias")) {
                            var h = e.depthModeForSublayer(o.getPaintProperty("fill-outline-color") ? 2 : 0, It.ReadOnly);
                            oo(e, i, o, r, h, s, !0);
                        }
                    }
                },
                "fill-extrusion": function(t, e, i, o) {
                    var r = i.paint.get("fill-extrusion-opacity");
                    if (0 !== r && "translucent" === t.renderPass) {
                        var a = new It(t.context.gl.LEQUAL, It.ReadWrite, t.depthRangeFor3D);
                        if (1 !== r || i.paint.get("fill-extrusion-pattern").constantOr(1)) ro(t, e, i, o, a, Pt.disabled, St.disabled), ro(t, e, i, o, a, t.stencilModeFor3D(), t.colorModeForRenderPass());
                        else {
                            var n = t.colorModeForRenderPass();
                            ro(t, e, i, o, a, Pt.disabled, n);
                        }
                    }
                },
                hillshade: function(t, e, i, o) {
                    if ("offscreen" === t.renderPass || "translucent" === t.renderPass) {
                        for (var r = t.context, a = t.depthModeForSublayer(0, It.ReadOnly), n = t.colorModeForRenderPass(), s = "translucent" === t.renderPass ? t.stencilConfigForOverlap(o) : [{}, o], l = s[0], c = 0, u = s[1]; c < u.length; c += 1) {
                            var h = u[c],
                                p = e.getTile(h);
                            p.needsHillshadePrepare && "offscreen" === t.renderPass ? no(t, p, i, a, Pt.disabled, n) : "translucent" === t.renderPass && ao(t, p, i, a, l[h.overscaledZ], n);
                        }
                        r.viewport.set([0, 0, t.width, t.height]);
                    }
                },
                raster: function(t, e, i, o) {
                    if ("translucent" === t.renderPass && 0 !== i.paint.get("raster-opacity") && o.length)
                        for (var r = t.context, a = r.gl, n = e.getSource(), s = t.useProgram("raster"), l = t.colorModeForRenderPass(), c = n instanceof L ? [{}, o] : t.stencilConfigForOverlap(o), u = c[0], h = c[1], p = h[h.length - 1].overscaledZ, d = !t.options.moving, _ = 0, f = h; _ < f.length; _ += 1) {
                            var m = f[_],
                                g = t.depthModeForSublayer(m.overscaledZ - p, 1 === i.paint.get("raster-opacity") ? It.ReadWrite : It.ReadOnly, a.LESS),
                                v = e.getTile(m),
                                y = t.transform.calculatePosMatrix(m.toUnwrapped(), d);
                            v.registerFadeDuration(i.paint.get("raster-fade-duration"));
                            var x = e.findLoadedParent(m, 0),
                                b = so(v, x, e, i, t.transform),
                                w = void 0,
                                T = void 0,
                                E = "nearest" === i.paint.get("raster-resampling") ? a.NEAREST : a.LINEAR;
                            r.activeTexture.set(a.TEXTURE0), v.texture.bind(E, a.CLAMP_TO_EDGE, a.LINEAR_MIPMAP_NEAREST), r.activeTexture.set(a.TEXTURE1), x ? (x.texture.bind(E, a.CLAMP_TO_EDGE, a.LINEAR_MIPMAP_NEAREST), w = Math.pow(2, x.tileID.overscaledZ - v.tileID.overscaledZ), T = [v.tileID.canonical.x * w % 1, v.tileID.canonical.y * w % 1]) : v.texture.bind(E, a.CLAMP_TO_EDGE, a.LINEAR_MIPMAP_NEAREST);
                            var I = Zi(y, T || [0, 0], w || 1, b, i);
                            n instanceof L ? s.draw(r, a.TRIANGLES, g, Pt.disabled, l, Ct.disabled, I, i.id, n.boundsBuffer, t.quadTriangleIndexBuffer, n.boundsSegments) : s.draw(r, a.TRIANGLES, g, u[m.overscaledZ], l, Ct.disabled, I, i.id, t.rasterBoundsBuffer, t.quadTriangleIndexBuffer, t.rasterBoundsSegments);
                        }
                },
                background: function(t, e, i) {
                    var o = i.paint.get("background-color"),
                        r = i.paint.get("background-opacity");
                    if (0 !== r) {
                        var a = t.context,
                            n = a.gl,
                            s = t.transform,
                            l = s.tileSize,
                            c = i.paint.get("background-pattern");
                        if (!t.isPatternMissing(c)) {
                            var u = !c && 1 === o.a && 1 === r && t.opaquePassEnabledForLayer() ? "opaque" : "translucent";
                            if (t.renderPass === u) {
                                var h = Pt.disabled,
                                    p = t.depthModeForSublayer(0, "opaque" === u ? It.ReadWrite : It.ReadOnly),
                                    d = t.colorModeForRenderPass(),
                                    _ = t.useProgram(c ? "backgroundPattern" : "background"),
                                    f = s.coveringTiles({
                                        tileSize: l
                                    });
                                c && (a.activeTexture.set(n.TEXTURE0), t.imageManager.bind(t.context));
                                for (var m = i.getCrossfadeParameters(), g = 0, v = f; g < v.length; g += 1) {
                                    var y = v[g],
                                        x = t.transform.calculatePosMatrix(y.toUnwrapped()),
                                        b = c ? Hi(x, r, t, c, {
                                            tileID: y,
                                            tileSize: l
                                        }, m) : Xi(x, r, o);
                                    _.draw(a, n.TRIANGLES, p, h, d, Ct.disabled, b, i.id, t.tileExtentBuffer, t.quadTriangleIndexBuffer, t.tileExtentSegments);
                                }
                            }
                        }
                    }
                },
                debug: function(t, e, i) {
                    for (var o = 0; o < i.length; o++) go(t, e, i[o]);
                },
                custom: function(t, e, i) {
                    var o = t.context,
                        r = i.implementation;
                    if ("offscreen" === t.renderPass) {
                        var a = r.prerender;
                        a && (t.setCustomLayerDefaults(), o.setColorMode(t.colorModeForRenderPass()), a.call(r, o.gl, t.transform.customLayerMatrix()), o.setDirty(), t.setBaseState());
                    } else if ("translucent" === t.renderPass) {
                        t.setCustomLayerDefaults(), o.setColorMode(t.colorModeForRenderPass()), o.setStencilMode(Pt.disabled);
                        var n = "3d" === r.renderingMode ? new It(t.context.gl.LEQUAL, It.ReadWrite, t.depthRangeFor3D) : t.depthModeForSublayer(0, It.ReadOnly);
                        o.setDepthMode(n), r.render(o.gl, t.transform.customLayerMatrix()), o.setDirty(), t.setBaseState(), o.bindFramebuffer.set(null);
                    }
                }
            },
            yo = function(t, e) {
                this.context = new zt(t), this.transform = e, this._tileTextures = {}, this.setup(), this.numSublayers = Dt.maxUnderzooming + Dt.maxOverzooming + 1, this.depthEpsilon = 1 / Math.pow(2, 16), this.crossTileSymbolIndex = new Fe, this.gpuTimers = {};
            };
        yo.prototype.resize = function(e, i) {
            if (this.width = e * t.browser.devicePixelRatio, this.height = i * t.browser.devicePixelRatio, this.context.viewport.set([0, 0, this.width, this.height]), this.style)
                for (var o = 0, r = this.style._order; o < r.length; o += 1) this.style._layers[r[o]].resize();
        }, yo.prototype.setup = function() {
            var e = this.context,
                i = new t.StructArrayLayout2i4;
            i.emplaceBack(0, 0), i.emplaceBack(t.EXTENT, 0), i.emplaceBack(0, t.EXTENT), i.emplaceBack(t.EXTENT, t.EXTENT), this.tileExtentBuffer = e.createVertexBuffer(i, Ve.members), this.tileExtentSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
            var o = new t.StructArrayLayout2i4;
            o.emplaceBack(0, 0), o.emplaceBack(t.EXTENT, 0), o.emplaceBack(0, t.EXTENT), o.emplaceBack(t.EXTENT, t.EXTENT), this.debugBuffer = e.createVertexBuffer(o, Ve.members), this.debugSegments = t.SegmentVector.simpleSegment(0, 0, 4, 5);
            var r = new t.StructArrayLayout4i8;
            r.emplaceBack(0, 0, 0, 0), r.emplaceBack(t.EXTENT, 0, t.EXTENT, 0), r.emplaceBack(0, t.EXTENT, 0, t.EXTENT), r.emplaceBack(t.EXTENT, t.EXTENT, t.EXTENT, t.EXTENT), this.rasterBoundsBuffer = e.createVertexBuffer(r, M.members), this.rasterBoundsSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
            var a = new t.StructArrayLayout2i4;
            a.emplaceBack(0, 0), a.emplaceBack(1, 0), a.emplaceBack(0, 1), a.emplaceBack(1, 1), this.viewportBuffer = e.createVertexBuffer(a, Ve.members), this.viewportSegments = t.SegmentVector.simpleSegment(0, 0, 4, 2);
            var n = new t.StructArrayLayout1ui2;
            n.emplaceBack(0), n.emplaceBack(1), n.emplaceBack(3), n.emplaceBack(2), n.emplaceBack(0), this.tileBorderIndexBuffer = e.createIndexBuffer(n);
            var s = new t.StructArrayLayout3ui6;
            s.emplaceBack(0, 1, 2), s.emplaceBack(2, 1, 3), this.quadTriangleIndexBuffer = e.createIndexBuffer(s), this.emptyTexture = new t.Texture(e, {
                width: 1,
                height: 1,
                data: new Uint8Array([0, 0, 0, 0])
            }, e.gl.RGBA);
            var l = this.context.gl;
            this.stencilClearMode = new Pt({
                func: l.ALWAYS,
                mask: 0
            }, 0, 255, l.ZERO, l.ZERO, l.ZERO);
        }, yo.prototype.clearStencil = function() {
            var e = this.context,
                i = e.gl;
            this.nextStencilID = 1, this.currentStencilSource = void 0;
            var o = t.create();
            t.ortho(o, 0, this.width, this.height, 0, 0, 1), t.scale(o, o, [i.drawingBufferWidth, i.drawingBufferHeight, 0]), this.useProgram("clippingMask").draw(e, i.TRIANGLES, It.disabled, this.stencilClearMode, St.disabled, Ct.disabled, Ai(o), "$clipping", this.viewportBuffer, this.quadTriangleIndexBuffer, this.viewportSegments);
        }, yo.prototype._renderTileClippingMasks = function(t, e) {
            if (this.currentStencilSource !== t.source && t.isTileClipped() && e && e.length) {
                this.currentStencilSource = t.source;
                var i = this.context,
                    o = i.gl;
                this.nextStencilID + e.length > 256 && this.clearStencil(), i.setColorMode(St.disabled), i.setDepthMode(It.disabled);
                var r = this.useProgram("clippingMask");
                this._tileClippingMaskIDs = {};
                for (var a = 0, n = e; a < n.length; a += 1) {
                    var s = n[a],
                        l = this._tileClippingMaskIDs[s.key] = this.nextStencilID++;
                    r.draw(i, o.TRIANGLES, It.disabled, new Pt({
                        func: o.ALWAYS,
                        mask: 0
                    }, l, 255, o.KEEP, o.KEEP, o.REPLACE), St.disabled, Ct.disabled, Ai(s.posMatrix), "$clipping", this.tileExtentBuffer, this.quadTriangleIndexBuffer, this.tileExtentSegments);
                }
            }
        }, yo.prototype.stencilModeFor3D = function() {
            this.currentStencilSource = void 0, this.nextStencilID + 1 > 256 && this.clearStencil();
            var t = this.nextStencilID++,
                e = this.context.gl;
            return new Pt({
                func: e.NOTEQUAL,
                mask: 255
            }, t, 255, e.KEEP, e.KEEP, e.REPLACE)
        }, yo.prototype.stencilModeForClipping = function(t) {
            var e = this.context.gl;
            return new Pt({
                func: e.EQUAL,
                mask: 255
            }, this._tileClippingMaskIDs[t.key], 0, e.KEEP, e.KEEP, e.REPLACE)
        }, yo.prototype.stencilConfigForOverlap = function(t) {
            var e, i = this.context.gl,
                o = t.sort((function(t, e) {
                    return e.overscaledZ - t.overscaledZ
                })),
                r = o[o.length - 1].overscaledZ,
                a = o[0].overscaledZ - r + 1;
            if (a > 1) {
                this.currentStencilSource = void 0, this.nextStencilID + a > 256 && this.clearStencil();
                for (var n = {}, s = 0; s < a; s++) n[s + r] = new Pt({
                    func: i.GEQUAL,
                    mask: 255
                }, s + this.nextStencilID, 255, i.KEEP, i.KEEP, i.REPLACE);
                return this.nextStencilID += a, [n, o]
            }
            return [(e = {}, e[r] = Pt.disabled, e), o]
        }, yo.prototype.colorModeForRenderPass = function() {
            var e = this.context.gl;
            return this._showOverdrawInspector ? new St([e.CONSTANT_COLOR, e.ONE], new t.Color(1 / 8, 1 / 8, 1 / 8, 0), [!0, !0, !0, !0]) : "opaque" === this.renderPass ? St.unblended : St.alphaBlended
        }, yo.prototype.depthModeForSublayer = function(t, e, i) {
            if (!this.opaquePassEnabledForLayer()) return It.disabled;
            var o = 1 - ((1 + this.currentLayer) * this.numSublayers + t) * this.depthEpsilon;
            return new It(i || this.context.gl.LEQUAL, e, [o, o])
        }, yo.prototype.opaquePassEnabledForLayer = function() {
            return this.currentLayer < this.opaquePassCutoff
        }, yo.prototype.render = function(e, i) {
            var o = this;
            this.style = e, this.options = i, this.lineAtlas = e.lineAtlas, this.imageManager = e.imageManager, this.glyphManager = e.glyphManager, this.symbolFadeChange = e.placement.symbolFadeChange(t.browser.now()), this.imageManager.beginFrame();
            var r = this.style._order,
                a = this.style.sourceCaches;
            for (var n in a) {
                var s = a[n];
                s.used && s.prepare(this.context);
            }
            var l, c, u = {},
                h = {},
                p = {};
            for (var d in a) {
                var _ = a[d];
                u[d] = _.getVisibleCoordinates(), h[d] = u[d].slice().reverse(), p[d] = _.getVisibleCoordinates(!0).reverse();
            }
            this.opaquePassCutoff = 1 / 0;
            for (var f = 0; f < r.length; f++)
                if (this.style._layers[r[f]].is3D()) {
                    this.opaquePassCutoff = f;
                    break
                }
            this.renderPass = "offscreen";
            for (var m = 0, g = r; m < g.length; m += 1) {
                var v = this.style._layers[g[m]];
                if (v.hasOffscreenPass() && !v.isHidden(this.transform.zoom)) {
                    var y = h[v.source];
                    ("custom" === v.type || y.length) && this.renderLayer(this, a[v.source], v, y);
                }
            }
            for (this.context.bindFramebuffer.set(null), this.context.clear({
                    color: i.showOverdrawInspector ? t.Color.black : t.Color.transparent,
                    depth: 1
                }), this.clearStencil(), this._showOverdrawInspector = i.showOverdrawInspector, this.depthRangeFor3D = [0, 1 - (e._order.length + 2) * this.numSublayers * this.depthEpsilon], this.renderPass = "opaque", this.currentLayer = r.length - 1; this.currentLayer >= 0; this.currentLayer--) {
                var x = this.style._layers[r[this.currentLayer]],
                    b = a[x.source],
                    w = u[x.source];
                this._renderTileClippingMasks(x, w), this.renderLayer(this, b, x, w);
            }
            for (this.renderPass = "translucent", this.currentLayer = 0; this.currentLayer < r.length; this.currentLayer++) {
                var T = this.style._layers[r[this.currentLayer]],
                    E = a[T.source],
                    I = ("symbol" === T.type ? p : h)[T.source];
                this._renderTileClippingMasks(T, u[T.source]), this.renderLayer(this, E, T, I);
            }
            this.options.showTileBoundaries && (t.values(this.style._layers).forEach((function(t) {
                t.source && !t.isHidden(o.transform.zoom) && (t.source !== (c && c.id) && (c = o.style.sourceCaches[t.source]), (!l || l.getSource().maxzoom < c.getSource().maxzoom) && (l = c));
            })), l && vo.debug(this, l, l.getVisibleCoordinates())), this.options.showPadding && function(t) {
                var e = t.transform.padding;
                _o(t, t.transform.height - (e.top || 0), 3, lo), _o(t, e.bottom || 0, 3, co), fo(t, e.left || 0, 3, uo), fo(t, t.transform.width - (e.right || 0), 3, ho);
                var i = t.transform.centerPoint;
                ! function(t, e, i, o) {
                    mo(t, e - 1, i - 10, 2, 20, o), mo(t, e - 10, i - 1, 20, 2, o);
                }(t, i.x, t.transform.height - i.y, po);
            }(this), this.context.setDefault();
        }, yo.prototype.renderLayer = function(t, e, i, o) {
            i.isHidden(this.transform.zoom) || ("background" === i.type || "custom" === i.type || o.length) && (this.id = i.id, this.gpuTimingStart(i), vo[i.type](t, e, i, o, this.style.placement.variableOffsets), this.gpuTimingEnd());
        }, yo.prototype.gpuTimingStart = function(t) {
            if (this.options.gpuTiming) {
                var e = this.context.extTimerQuery,
                    i = this.gpuTimers[t.id];
                i || (i = this.gpuTimers[t.id] = {
                    calls: 0,
                    cpuTime: 0,
                    query: e.createQueryEXT()
                }), i.calls++, e.beginQueryEXT(e.TIME_ELAPSED_EXT, i.query);
            }
        }, yo.prototype.gpuTimingEnd = function() {
            if (this.options.gpuTiming) {
                var t = this.context.extTimerQuery;
                t.endQueryEXT(t.TIME_ELAPSED_EXT);
            }
        }, yo.prototype.collectGpuTimers = function() {
            var t = this.gpuTimers;
            return this.gpuTimers = {}, t
        }, yo.prototype.queryGpuTimers = function(t) {
            var e = {};
            for (var i in t) {
                var o = t[i],
                    r = this.context.extTimerQuery,
                    a = r.getQueryObjectEXT(o.query, r.QUERY_RESULT_EXT) / 1e6;
                r.deleteQueryEXT(o.query), e[i] = a;
            }
            return e
        }, yo.prototype.translatePosMatrix = function(e, i, o, r, a) {
            if (!o[0] && !o[1]) return e;
            var n = a ? "map" === r ? this.transform.angle : 0 : "viewport" === r ? -this.transform.angle : 0;
            if (n) {
                var s = Math.sin(n),
                    l = Math.cos(n);
                o = [o[0] * l - o[1] * s, o[0] * s + o[1] * l];
            }
            var c = [a ? o[0] : pe(i, o[0], this.transform.zoom), a ? o[1] : pe(i, o[1], this.transform.zoom), 0],
                u = new Float32Array(16);
            return t.translate(u, e, c), u
        }, yo.prototype.saveTileTexture = function(t) {
            var e = this._tileTextures[t.size[0]];
            e ? e.push(t) : this._tileTextures[t.size[0]] = [t];
        }, yo.prototype.getTileTexture = function(t) {
            var e = this._tileTextures[t];
            return e && e.length > 0 ? e.pop() : null
        }, yo.prototype.isPatternMissing = function(t) {
            if (!t) return !1;
            if (!t.from || !t.to) return !0;
            var e = this.imageManager.getPattern(t.from.toString()),
                i = this.imageManager.getPattern(t.to.toString());
            return !e || !i
        }, yo.prototype.useProgram = function(t, e) {
            this.cache = this.cache || {};
            var i = "" + t + (e ? e.cacheKey : "") + (this._showOverdrawInspector ? "/overdraw" : "");
            return this.cache[i] || (this.cache[i] = new bi(this.context, t, vi[t], e, Ki[t], this._showOverdrawInspector)), this.cache[i]
        }, yo.prototype.setCustomLayerDefaults = function() {
            this.context.unbindVAO(), this.context.cullFace.setDefault(), this.context.activeTexture.setDefault(), this.context.pixelStoreUnpack.setDefault(), this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(), this.context.pixelStoreUnpackFlipY.setDefault();
        }, yo.prototype.setBaseState = function() {
            var t = this.context.gl;
            this.context.cullFace.set(!1), this.context.viewport.set([0, 0, this.width, this.height]), this.context.blendEquation.set(t.FUNC_ADD);
        }, yo.prototype.initDebugOverlayCanvas = function() {
            null == this.debugOverlayCanvas && (this.debugOverlayCanvas = t.window.document.createElement("canvas"), this.debugOverlayCanvas.width = 512, this.debugOverlayCanvas.height = 512, this.debugOverlayTexture = new t.Texture(this.context, this.debugOverlayCanvas, this.context.gl.RGBA));
        }, yo.prototype.destroy = function() {
            this.emptyTexture.destroy(), this.debugOverlayTexture && this.debugOverlayTexture.destroy();
        };
        var xo = function(t, e) {
            this.points = t, this.planes = e;
        };
        xo.fromInvProjectionMatrix = function(e, i, o) {
            var r = Math.pow(2, o),
                a = [
                    [-1, 1, -1, 1],
                    [1, 1, -1, 1],
                    [1, -1, -1, 1],
                    [-1, -1, -1, 1],
                    [-1, 1, 1, 1],
                    [1, 1, 1, 1],
                    [1, -1, 1, 1],
                    [-1, -1, 1, 1]
                ].map((function(i) {
                    return t.transformMat4([], i, e)
                })).map((function(e) {
                    return t.scale$1([], e, 1 / e[3] / i * r)
                })),
                n = [
                    [0, 1, 2],
                    [6, 5, 4],
                    [0, 3, 7],
                    [2, 1, 5],
                    [3, 2, 6],
                    [0, 4, 5]
                ].map((function(e) {
                    var i = t.sub([], a[e[0]], a[e[1]]),
                        o = t.sub([], a[e[2]], a[e[1]]),
                        r = t.normalize([], t.cross([], i, o)),
                        n = -t.dot(r, a[e[1]]);
                    return r.concat(n)
                }));
            return new xo(a, n)
        };
        var bo = function(e, i) {
            this.min = e, this.max = i, this.center = t.scale$2([], t.add([], this.min, this.max), .5);
        };
        bo.prototype.quadrant = function(e) {
            for (var i = [e % 2 == 0, e < 2], o = t.clone$2(this.min), r = t.clone$2(this.max), a = 0; a < i.length; a++) o[a] = i[a] ? this.min[a] : this.center[a], r[a] = i[a] ? this.center[a] : this.max[a];
            return r[2] = this.max[2], new bo(o, r)
        }, bo.prototype.distanceX = function(t) {
            return Math.max(Math.min(this.max[0], t[0]), this.min[0]) - t[0]
        }, bo.prototype.distanceY = function(t) {
            return Math.max(Math.min(this.max[1], t[1]), this.min[1]) - t[1]
        }, bo.prototype.intersects = function(e) {
            for (var i = [
                    [this.min[0], this.min[1], 0, 1],
                    [this.max[0], this.min[1], 0, 1],
                    [this.max[0], this.max[1], 0, 1],
                    [this.min[0], this.max[1], 0, 1]
                ], o = !0, r = 0; r < e.planes.length; r++) {
                for (var a = e.planes[r], n = 0, s = 0; s < i.length; s++) n += t.dot$1(a, i[s]) >= 0;
                if (0 === n) return 0;
                n !== i.length && (o = !1);
            }
            if (o) return 2;
            for (var l = 0; l < 3; l++) {
                for (var c = Number.MAX_VALUE, u = -Number.MAX_VALUE, h = 0; h < e.points.length; h++) {
                    var p = e.points[h][l] - this.min[l];
                    c = Math.min(c, p), u = Math.max(u, p);
                }
                if (u < 0 || c > this.max[l] - this.min[l]) return 0
            }
            return 1
        };
        var wo = function(t, e, i, o) {
            if (void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === o && (o = 0), isNaN(t) || t < 0 || isNaN(e) || e < 0 || isNaN(i) || i < 0 || isNaN(o) || o < 0) throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");
            this.top = t, this.bottom = e, this.left = i, this.right = o;
        };
        wo.prototype.interpolate = function(e, i, o) {
            return null != i.top && null != e.top && (this.top = t.number(e.top, i.top, o)), null != i.bottom && null != e.bottom && (this.bottom = t.number(e.bottom, i.bottom, o)), null != i.left && null != e.left && (this.left = t.number(e.left, i.left, o)), null != i.right && null != e.right && (this.right = t.number(e.right, i.right, o)), this
        }, wo.prototype.getCenter = function(e, i) {
            var o = t.clamp((this.left + e - this.right) / 2, 0, e),
                r = t.clamp((this.top + i - this.bottom) / 2, 0, i);
            return new t.Point(o, r)
        }, wo.prototype.equals = function(t) {
            return this.top === t.top && this.bottom === t.bottom && this.left === t.left && this.right === t.right
        }, wo.prototype.clone = function() {
            return new wo(this.top, this.bottom, this.left, this.right)
        }, wo.prototype.toJSON = function() {
            return {
                top: this.top,
                bottom: this.bottom,
                left: this.left,
                right: this.right
            }
        };
        var To = function(e, i, o, r, a) {
                this.tileSize = 512, this.maxValidLatitude = 85.051129, this._renderWorldCopies = void 0 === a || a, this._minZoom = e || 0, this._maxZoom = i || 22, this._minPitch = null == o ? 0 : o, this._maxPitch = null == r ? 60 : r, this.setMaxBounds(), this.width = 0, this.height = 0, this._center = new t.LngLat(0, 0), this.zoom = 0, this.angle = 0, this._fov = .6435011087932844, this._pitch = 0, this._unmodified = !0, this._edgeInsets = new wo, this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
            },
            Eo = {
                minZoom: {
                    configurable: !0
                },
                maxZoom: {
                    configurable: !0
                },
                minPitch: {
                    configurable: !0
                },
                maxPitch: {
                    configurable: !0
                },
                renderWorldCopies: {
                    configurable: !0
                },
                worldSize: {
                    configurable: !0
                },
                centerOffset: {
                    configurable: !0
                },
                size: {
                    configurable: !0
                },
                bearing: {
                    configurable: !0
                },
                pitch: {
                    configurable: !0
                },
                fov: {
                    configurable: !0
                },
                zoom: {
                    configurable: !0
                },
                center: {
                    configurable: !0
                },
                padding: {
                    configurable: !0
                },
                centerPoint: {
                    configurable: !0
                },
                unmodified: {
                    configurable: !0
                },
                point: {
                    configurable: !0
                }
            };
        To.prototype.clone = function() {
            var t = new To(this._minZoom, this._maxZoom, this._minPitch, this.maxPitch, this._renderWorldCopies);
            return t.tileSize = this.tileSize, t.latRange = this.latRange, t.width = this.width, t.height = this.height, t._center = this._center, t.zoom = this.zoom, t.angle = this.angle, t._fov = this._fov, t._pitch = this._pitch, t._unmodified = this._unmodified, t._edgeInsets = this._edgeInsets.clone(), t._calcMatrices(), t
        }, Eo.minZoom.get = function() {
            return this._minZoom
        }, Eo.minZoom.set = function(t) {
            this._minZoom !== t && (this._minZoom = t, this.zoom = Math.max(this.zoom, t));
        }, Eo.maxZoom.get = function() {
            return this._maxZoom
        }, Eo.maxZoom.set = function(t) {
            this._maxZoom !== t && (this._maxZoom = t, this.zoom = Math.min(this.zoom, t));
        }, Eo.minPitch.get = function() {
            return this._minPitch
        }, Eo.minPitch.set = function(t) {
            this._minPitch !== t && (this._minPitch = t, this.pitch = Math.max(this.pitch, t));
        }, Eo.maxPitch.get = function() {
            return this._maxPitch
        }, Eo.maxPitch.set = function(t) {
            this._maxPitch !== t && (this._maxPitch = t, this.pitch = Math.min(this.pitch, t));
        }, Eo.renderWorldCopies.get = function() {
            return this._renderWorldCopies
        }, Eo.renderWorldCopies.set = function(t) {
            void 0 === t ? t = !0 : null === t && (t = !1), this._renderWorldCopies = t;
        }, Eo.worldSize.get = function() {
            return this.tileSize * this.scale
        }, Eo.centerOffset.get = function() {
            return this.centerPoint._sub(this.size._div(2))
        }, Eo.size.get = function() {
            return new t.Point(this.width, this.height)
        }, Eo.bearing.get = function() {
            return -this.angle / Math.PI * 180
        }, Eo.bearing.set = function(e) {
            var i = -t.wrap(e, -180, 180) * Math.PI / 180;
            this.angle !== i && (this._unmodified = !1, this.angle = i, this._calcMatrices(), this.rotationMatrix = t.create$2(), t.rotate(this.rotationMatrix, this.rotationMatrix, this.angle));
        }, Eo.pitch.get = function() {
            return this._pitch / Math.PI * 180
        }, Eo.pitch.set = function(e) {
            var i = t.clamp(e, this.minPitch, this.maxPitch) / 180 * Math.PI;
            this._pitch !== i && (this._unmodified = !1, this._pitch = i, this._calcMatrices());
        }, Eo.fov.get = function() {
            return this._fov / Math.PI * 180
        }, Eo.fov.set = function(t) {
            t = Math.max(.01, Math.min(60, t)), this._fov !== t && (this._unmodified = !1, this._fov = t / 180 * Math.PI, this._calcMatrices());
        }, Eo.zoom.get = function() {
            return this._zoom
        }, Eo.zoom.set = function(t) {
            var e = Math.min(Math.max(t, this.minZoom), this.maxZoom);
            this._zoom !== e && (this._unmodified = !1, this._zoom = e, this.scale = this.zoomScale(e), this.tileZoom = Math.floor(e), this.zoomFraction = e - this.tileZoom, this._constrain(), this._calcMatrices());
        }, Eo.center.get = function() {
            return this._center
        }, Eo.center.set = function(t) {
            t.lat === this._center.lat && t.lng === this._center.lng || (this._unmodified = !1, this._center = t, this._constrain(), this._calcMatrices());
        }, Eo.padding.get = function() {
            return this._edgeInsets.toJSON()
        }, Eo.padding.set = function(t) {
            this._edgeInsets.equals(t) || (this._unmodified = !1, this._edgeInsets.interpolate(this._edgeInsets, t, 1), this._calcMatrices());
        }, Eo.centerPoint.get = function() {
            return this._edgeInsets.getCenter(this.width, this.height)
        }, To.prototype.isPaddingEqual = function(t) {
            return this._edgeInsets.equals(t)
        }, To.prototype.interpolatePadding = function(t, e, i) {
            this._unmodified = !1, this._edgeInsets.interpolate(t, e, i), this._constrain(), this._calcMatrices();
        }, To.prototype.coveringZoomLevel = function(t) {
            var e = (t.roundZoom ? Math.round : Math.floor)(this.zoom + this.scaleZoom(this.tileSize / t.tileSize));
            return Math.max(0, e)
        }, To.prototype.getVisibleUnwrappedCoordinates = function(e) {
            var i = [new t.UnwrappedTileID(0, e)];
            if (this._renderWorldCopies)
                for (var o = this.pointCoordinate(new t.Point(0, 0)), r = this.pointCoordinate(new t.Point(this.width, 0)), a = this.pointCoordinate(new t.Point(this.width, this.height)), n = this.pointCoordinate(new t.Point(0, this.height)), s = Math.floor(Math.min(o.x, r.x, a.x, n.x)), l = Math.floor(Math.max(o.x, r.x, a.x, n.x)), c = s - 1; c <= l + 1; c++) 0 !== c && i.push(new t.UnwrappedTileID(c, e));
            return i
        }, To.prototype.coveringTiles = function(e) {
            var i = this.coveringZoomLevel(e),
                o = i;
            if (void 0 !== e.minzoom && i < e.minzoom) return [];
            void 0 !== e.maxzoom && i > e.maxzoom && (i = e.maxzoom);
            var r = t.MercatorCoordinate.fromLngLat(this.center),
                a = Math.pow(2, i),
                n = [a * r.x, a * r.y, 0],
                s = xo.fromInvProjectionMatrix(this.invProjMatrix, this.worldSize, i),
                l = e.minzoom || 0;
            this.pitch <= 60 && this._edgeInsets.top < .1 && (l = i);
            var c = function(t) {
                    return {
                        aabb: new bo([t * a, 0, 0], [(t + 1) * a, a, 0]),
                        zoom: 0,
                        x: 0,
                        y: 0,
                        wrap: t,
                        fullyVisible: !1
                    }
                },
                u = [],
                h = [],
                p = i,
                d = e.reparseOverscaled ? o : i;
            if (this._renderWorldCopies)
                for (var _ = 1; _ <= 3; _++) u.push(c(-_)), u.push(c(_));
            for (u.push(c(0)); u.length > 0;) {
                var f = u.pop(),
                    m = f.x,
                    g = f.y,
                    v = f.fullyVisible;
                if (!v) {
                    var y = f.aabb.intersects(s);
                    if (0 === y) continue;
                    v = 2 === y;
                }
                var x = f.aabb.distanceX(n),
                    b = f.aabb.distanceY(n),
                    w = Math.max(Math.abs(x), Math.abs(b));
                if (f.zoom === p || w > 3 + (1 << p - f.zoom) - 2 && f.zoom >= l) h.push({
                    tileID: new t.OverscaledTileID(f.zoom === p ? d : f.zoom, f.wrap, f.zoom, m, g),
                    distanceSq: t.sqrLen([n[0] - .5 - m, n[1] - .5 - g])
                });
                else
                    for (var T = 0; T < 4; T++) {
                        var E = (m << 1) + T % 2,
                            I = (g << 1) + (T >> 1);
                        u.push({
                            aabb: f.aabb.quadrant(T),
                            zoom: f.zoom + 1,
                            x: E,
                            y: I,
                            wrap: f.wrap,
                            fullyVisible: v
                        });
                    }
            }
            return h.sort((function(t, e) {
                return t.distanceSq - e.distanceSq
            })).map((function(t) {
                return t.tileID
            }))
        }, To.prototype.resize = function(t, e) {
            this.width = t, this.height = e, this.pixelsToGLUnits = [2 / t, -2 / e], this._constrain(), this._calcMatrices();
        }, Eo.unmodified.get = function() {
            return this._unmodified
        }, To.prototype.zoomScale = function(t) {
            return Math.pow(2, t)
        }, To.prototype.scaleZoom = function(t) {
            return Math.log(t) / Math.LN2
        }, To.prototype.project = function(e) {
            var i = t.clamp(e.lat, -this.maxValidLatitude, this.maxValidLatitude);
            return new t.Point(t.mercatorXfromLng(e.lng) * this.worldSize, t.mercatorYfromLat(i) * this.worldSize)
        }, To.prototype.unproject = function(e) {
            return new t.MercatorCoordinate(e.x / this.worldSize, e.y / this.worldSize).toLngLat()
        }, Eo.point.get = function() {
            return this.project(this.center)
        }, To.prototype.setLocationAtPoint = function(e, i) {
            var o = this.pointCoordinate(i),
                r = this.pointCoordinate(this.centerPoint),
                a = this.locationCoordinate(e),
                n = new t.MercatorCoordinate(a.x - (o.x - r.x), a.y - (o.y - r.y));
            this.center = this.coordinateLocation(n), this._renderWorldCopies && (this.center = this.center.wrap());
        }, To.prototype.locationPoint = function(t) {
            return this.coordinatePoint(this.locationCoordinate(t))
        }, To.prototype.pointLocation = function(t) {
            return this.coordinateLocation(this.pointCoordinate(t))
        }, To.prototype.locationCoordinate = function(e) {
            return t.MercatorCoordinate.fromLngLat(e)
        }, To.prototype.coordinateLocation = function(t) {
            return t.toLngLat()
        }, To.prototype.pointCoordinate = function(e) {
            var i = [e.x, e.y, 0, 1],
                o = [e.x, e.y, 1, 1];
            t.transformMat4(i, i, this.pixelMatrixInverse), t.transformMat4(o, o, this.pixelMatrixInverse);
            var r = i[3],
                a = o[3],
                n = i[1] / r,
                s = o[1] / a,
                l = i[2] / r,
                c = o[2] / a,
                u = l === c ? 0 : (0 - l) / (c - l);
            return new t.MercatorCoordinate(t.number(i[0] / r, o[0] / a, u) / this.worldSize, t.number(n, s, u) / this.worldSize)
        }, To.prototype.coordinatePoint = function(e) {
            var i = [e.x * this.worldSize, e.y * this.worldSize, 0, 1];
            return t.transformMat4(i, i, this.pixelMatrix), new t.Point(i[0] / i[3], i[1] / i[3])
        }, To.prototype.getBounds = function() {
            return (new t.LngLatBounds).extend(this.pointLocation(new t.Point(0, 0))).extend(this.pointLocation(new t.Point(this.width, 0))).extend(this.pointLocation(new t.Point(this.width, this.height))).extend(this.pointLocation(new t.Point(0, this.height)))
        }, To.prototype.getMaxBounds = function() {
            return this.latRange && 2 === this.latRange.length && this.lngRange && 2 === this.lngRange.length ? new t.LngLatBounds([this.lngRange[0], this.latRange[0]], [this.lngRange[1], this.latRange[1]]) : null
        }, To.prototype.setMaxBounds = function(t) {
            t ? (this.lngRange = [t.getWest(), t.getEast()], this.latRange = [t.getSouth(), t.getNorth()], this._constrain()) : (this.lngRange = null, this.latRange = [-this.maxValidLatitude, this.maxValidLatitude]);
        }, To.prototype.calculatePosMatrix = function(e, i) {
            void 0 === i && (i = !1);
            var o = e.key,
                r = i ? this._alignedPosMatrixCache : this._posMatrixCache;
            if (r[o]) return r[o];
            var a = e.canonical,
                n = this.worldSize / this.zoomScale(a.z),
                s = a.x + Math.pow(2, a.z) * e.wrap,
                l = t.identity(new Float64Array(16));
            return t.translate(l, l, [s * n, a.y * n, 0]), t.scale(l, l, [n / t.EXTENT, n / t.EXTENT, 1]), t.multiply(l, i ? this.alignedProjMatrix : this.projMatrix, l), r[o] = new Float32Array(l), r[o]
        }, To.prototype.customLayerMatrix = function() {
            return this.mercatorMatrix.slice()
        }, To.prototype._constrain = function() {
            if (this.center && this.width && this.height && !this._constraining) {
                this._constraining = !0;
                var e, i, o, r, a = -90,
                    n = 90,
                    s = -180,
                    l = 180,
                    c = this.size,
                    u = this._unmodified;
                if (this.latRange) {
                    var h = this.latRange;
                    a = t.mercatorYfromLat(h[1]) * this.worldSize, e = (n = t.mercatorYfromLat(h[0]) * this.worldSize) - a < c.y ? c.y / (n - a) : 0;
                }
                if (this.lngRange) {
                    var p = this.lngRange;
                    s = t.mercatorXfromLng(p[0]) * this.worldSize, i = (l = t.mercatorXfromLng(p[1]) * this.worldSize) - s < c.x ? c.x / (l - s) : 0;
                }
                var d = this.point,
                    _ = Math.max(i || 0, e || 0);
                if (_) return this.center = this.unproject(new t.Point(i ? (l + s) / 2 : d.x, e ? (n + a) / 2 : d.y)), this.zoom += this.scaleZoom(_), this._unmodified = u, void(this._constraining = !1);
                if (this.latRange) {
                    var f = d.y,
                        m = c.y / 2;
                    f - m < a && (r = a + m), f + m > n && (r = n - m);
                }
                if (this.lngRange) {
                    var g = d.x,
                        v = c.x / 2;
                    g - v < s && (o = s + v), g + v > l && (o = l - v);
                }
                void 0 === o && void 0 === r || (this.center = this.unproject(new t.Point(void 0 !== o ? o : d.x, void 0 !== r ? r : d.y))), this._unmodified = u, this._constraining = !1;
            }
        }, To.prototype._calcMatrices = function() {
            if (this.height) {
                var e = this.centerOffset;
                this.cameraToCenterDistance = .5 / Math.tan(this._fov / 2) * this.height;
                var i = Math.PI / 2 + this._pitch,
                    o = this._fov * (.5 + e.y / this.height),
                    r = Math.sin(o) * this.cameraToCenterDistance / Math.sin(t.clamp(Math.PI - i - o, .01, Math.PI - .01)),
                    a = this.point,
                    n = a.x,
                    s = a.y,
                    l = 1.01 * (Math.cos(Math.PI / 2 - this._pitch) * r + this.cameraToCenterDistance),
                    c = this.height / 50,
                    u = new Float64Array(16);
                t.perspective(u, this._fov, this.width / this.height, c, l), u[8] = 2 * -e.x / this.width, u[9] = 2 * e.y / this.height, t.scale(u, u, [1, -1, 1]), t.translate(u, u, [0, 0, -this.cameraToCenterDistance]), t.rotateX(u, u, this._pitch), t.rotateZ(u, u, this.angle), t.translate(u, u, [-n, -s, 0]), this.mercatorMatrix = t.scale([], u, [this.worldSize, this.worldSize, this.worldSize]), t.scale(u, u, [1, 1, t.mercatorZfromAltitude(1, this.center.lat) * this.worldSize, 1]), this.projMatrix = u, this.invProjMatrix = t.invert([], this.projMatrix);
                var h = this.width % 2 / 2,
                    p = this.height % 2 / 2,
                    d = Math.cos(this.angle),
                    _ = Math.sin(this.angle),
                    f = n - Math.round(n) + d * h + _ * p,
                    m = s - Math.round(s) + d * p + _ * h,
                    g = new Float64Array(u);
                if (t.translate(g, g, [f > .5 ? f - 1 : f, m > .5 ? m - 1 : m, 0]), this.alignedProjMatrix = g, u = t.create(), t.scale(u, u, [this.width / 2, -this.height / 2, 1]), t.translate(u, u, [1, -1, 0]), this.labelPlaneMatrix = u, u = t.create(), t.scale(u, u, [1, -1, 1]), t.translate(u, u, [-1, -1, 0]), t.scale(u, u, [2 / this.width, 2 / this.height, 1]), this.glCoordMatrix = u, this.pixelMatrix = t.multiply(new Float64Array(16), this.labelPlaneMatrix, this.projMatrix), !(u = t.invert(new Float64Array(16), this.pixelMatrix))) throw new Error("failed to invert matrix");
                this.pixelMatrixInverse = u, this._posMatrixCache = {}, this._alignedPosMatrixCache = {};
            }
        }, To.prototype.maxPitchScaleFactor = function() {
            if (!this.pixelMatrixInverse) return 1;
            var e = this.pointCoordinate(new t.Point(0, 0)),
                i = [e.x * this.worldSize, e.y * this.worldSize, 0, 1];
            return t.transformMat4(i, i, this.pixelMatrix)[3] / this.cameraToCenterDistance
        }, To.prototype.getCameraPoint = function() {
            var e = Math.tan(this._pitch) * (this.cameraToCenterDistance || 1);
            return this.centerPoint.add(new t.Point(0, e))
        }, To.prototype.getCameraQueryGeometry = function(e) {
            var i = this.getCameraPoint();
            if (1 === e.length) return [e[0], i];
            for (var o = i.x, r = i.y, a = i.x, n = i.y, s = 0, l = e; s < l.length; s += 1) {
                var c = l[s];
                o = Math.min(o, c.x), r = Math.min(r, c.y), a = Math.max(a, c.x), n = Math.max(n, c.y);
            }
            return [new t.Point(o, r), new t.Point(a, r), new t.Point(a, n), new t.Point(o, n), new t.Point(o, r)]
        }, Object.defineProperties(To.prototype, Eo);
        var Io = function(e) {
            var i, o, r, a;
            this._hashName = e && encodeURIComponent(e), t.bindAll(["_getCurrentHash", "_onHashChange", "_updateHash"], this), this._updateHash = (i = this._updateHashUnthrottled.bind(this), o = !1, r = null, a = function() {
                r = null, o && (i(), r = setTimeout(a, 300), o = !1);
            }, function() {
                return o = !0, r || a(), r
            });
        };
        Io.prototype.addTo = function(e) {
            return this._map = e, t.window.addEventListener("hashchange", this._onHashChange, !1), this._map.on("moveend", this._updateHash), this
        }, Io.prototype.remove = function() {
            return t.window.removeEventListener("hashchange", this._onHashChange, !1), this._map.off("moveend", this._updateHash), clearTimeout(this._updateHash()), delete this._map, this
        }, Io.prototype.getHashString = function(e) {
            var i = this._map.getCenter(),
                o = Math.round(100 * this._map.getZoom()) / 100,
                r = Math.ceil((o * Math.LN2 + Math.log(512 / 360 / .5)) / Math.LN10),
                a = Math.pow(10, r),
                n = Math.round(i.lng * a) / a,
                s = Math.round(i.lat * a) / a,
                l = this._map.getBearing(),
                c = this._map.getPitch(),
                u = "";
            if (u += e ? "/" + n + "/" + s + "/" + o : o + "/" + s + "/" + n, (l || c) && (u += "/" + Math.round(10 * l) / 10), c && (u += "/" + Math.round(c)), this._hashName) {
                var h = this._hashName,
                    p = !1,
                    d = t.window.location.hash.slice(1).split("&").map((function(t) {
                        var e = t.split("=")[0];
                        return e === h ? (p = !0, e + "=" + u) : t
                    })).filter((function(t) {
                        return t
                    }));
                return p || d.push(h + "=" + u), "#" + d.join("&")
            }
            return "#" + u
        }, Io.prototype._getCurrentHash = function() {
            var e, i = this,
                o = t.window.location.hash.replace("#", "");
            return this._hashName ? (o.split("&").map((function(t) {
                return t.split("=")
            })).forEach((function(t) {
                t[0] === i._hashName && (e = t);
            })), (e && e[1] || "").split("/")) : o.split("/")
        }, Io.prototype._onHashChange = function() {
            var t = this._getCurrentHash();
            if (t.length >= 3 && !t.some((function(t) {
                    return isNaN(t)
                }))) {
                var e = this._map.dragRotate.isEnabled() && this._map.touchZoomRotate.isEnabled() ? +(t[3] || 0) : this._map.getBearing();
                return this._map.jumpTo({
                    center: [+t[2], +t[1]],
                    zoom: +t[0],
                    bearing: e,
                    pitch: +(t[4] || 0)
                }), !0
            }
            return !1
        }, Io.prototype._updateHashUnthrottled = function() {
            var e = this.getHashString();
            try {
                t.window.history.replaceState(t.window.history.state, "", e);
            } catch (t) {}
        };
        var Po = {
                linearity: .3,
                easing: t.bezier(0, 0, .3, 1)
            },
            So = t.extend({
                deceleration: 2500,
                maxSpeed: 1400
            }, Po),
            Co = t.extend({
                deceleration: 20,
                maxSpeed: 1400
            }, Po),
            zo = t.extend({
                deceleration: 1e3,
                maxSpeed: 360
            }, Po),
            Do = t.extend({
                deceleration: 1e3,
                maxSpeed: 90
            }, Po),
            Mo = function(t) {
                this._map = t, this.clear();
            };

        function Lo(t, e) {
            (!t.duration || t.duration < e.duration) && (t.duration = e.duration, t.easing = e.easing);
        }

        function Ao(e, i, o) {
            var r = o.maxSpeed,
                a = o.linearity,
                n = o.deceleration,
                s = t.clamp(e * a / (i / 1e3), -r, r),
                l = Math.abs(s) / (n * a);
            return {
                easing: o.easing,
                duration: 1e3 * l,
                amount: s * (l / 2)
            }
        }
        Mo.prototype.clear = function() {
            this._inertiaBuffer = [];
        }, Mo.prototype.record = function(e) {
            this._drainInertiaBuffer(), this._inertiaBuffer.push({
                time: t.browser.now(),
                settings: e
            });
        }, Mo.prototype._drainInertiaBuffer = function() {
            for (var e = this._inertiaBuffer, i = t.browser.now(); e.length > 0 && i - e[0].time > 160;) e.shift();
        }, Mo.prototype._onMoveEnd = function(e) {
            if (this._drainInertiaBuffer(), !(this._inertiaBuffer.length < 2)) {
                for (var i = {
                        zoom: 0,
                        bearing: 0,
                        pitch: 0,
                        pan: new t.Point(0, 0),
                        pinchAround: void 0,
                        around: void 0
                    }, o = 0, r = this._inertiaBuffer; o < r.length; o += 1) {
                    var a = r[o].settings;
                    i.zoom += a.zoomDelta || 0, i.bearing += a.bearingDelta || 0, i.pitch += a.pitchDelta || 0, a.panDelta && i.pan._add(a.panDelta), a.around && (i.around = a.around), a.pinchAround && (i.pinchAround = a.pinchAround);
                }
                var n = this._inertiaBuffer[this._inertiaBuffer.length - 1].time - this._inertiaBuffer[0].time,
                    s = {};
                if (i.pan.mag()) {
                    var l = Ao(i.pan.mag(), n, t.extend({}, So, e || {}));
                    s.offset = i.pan.mult(l.amount / i.pan.mag()), s.center = this._map.transform.center, Lo(s, l);
                }
                if (i.zoom) {
                    var c = Ao(i.zoom, n, Co);
                    s.zoom = this._map.transform.zoom + c.amount, Lo(s, c);
                }
                if (i.bearing) {
                    var u = Ao(i.bearing, n, zo);
                    s.bearing = this._map.transform.bearing + t.clamp(u.amount, -179, 179), Lo(s, u);
                }
                if (i.pitch) {
                    var h = Ao(i.pitch, n, Do);
                    s.pitch = this._map.transform.pitch + h.amount, Lo(s, h);
                }
                if (s.zoom || s.bearing) {
                    var p = void 0 === i.pinchAround ? i.around : i.pinchAround;
                    s.around = p ? this._map.unproject(p) : this._map.getCenter();
                }
                return this.clear(), t.extend(s, {
                    noMoveStart: !0
                })
            }
        };
        var Ro = function(e) {
                function o(o, r, a, n) {
                    void 0 === n && (n = {});
                    var s = i.mousePos(r.getCanvasContainer(), a),
                        l = r.unproject(s);
                    e.call(this, o, t.extend({
                        point: s,
                        lngLat: l,
                        originalEvent: a
                    }, n)), this._defaultPrevented = !1, this.target = r;
                }
                e && (o.__proto__ = e), (o.prototype = Object.create(e && e.prototype)).constructor = o;
                var r = {
                    defaultPrevented: {
                        configurable: !0
                    }
                };
                return o.prototype.preventDefault = function() {
                    this._defaultPrevented = !0;
                }, r.defaultPrevented.get = function() {
                    return this._defaultPrevented
                }, Object.defineProperties(o.prototype, r), o
            }(t.Event),
            ko = function(e) {
                function o(o, r, a) {
                    var n = "touchend" === o ? a.changedTouches : a.touches,
                        s = i.touchPos(r.getCanvasContainer(), n),
                        l = s.map((function(t) {
                            return r.unproject(t)
                        })),
                        c = s.reduce((function(t, e, i, o) {
                            return t.add(e.div(o.length))
                        }), new t.Point(0, 0)),
                        u = r.unproject(c);
                    e.call(this, o, {
                        points: s,
                        point: c,
                        lngLats: l,
                        lngLat: u,
                        originalEvent: a
                    }), this._defaultPrevented = !1;
                }
                e && (o.__proto__ = e), (o.prototype = Object.create(e && e.prototype)).constructor = o;
                var r = {
                    defaultPrevented: {
                        configurable: !0
                    }
                };
                return o.prototype.preventDefault = function() {
                    this._defaultPrevented = !0;
                }, r.defaultPrevented.get = function() {
                    return this._defaultPrevented
                }, Object.defineProperties(o.prototype, r), o
            }(t.Event),
            Bo = function(t) {
                function e(e, i, o) {
                    t.call(this, e, {
                        originalEvent: o
                    }), this._defaultPrevented = !1;
                }
                t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var i = {
                    defaultPrevented: {
                        configurable: !0
                    }
                };
                return e.prototype.preventDefault = function() {
                    this._defaultPrevented = !0;
                }, i.defaultPrevented.get = function() {
                    return this._defaultPrevented
                }, Object.defineProperties(e.prototype, i), e
            }(t.Event),
            Oo = function(t, e) {
                this._map = t, this._clickTolerance = e.clickTolerance;
            };
        Oo.prototype.reset = function() {
            delete this._mousedownPos;
        }, Oo.prototype.wheel = function(t) {
            return this._firePreventable(new Bo(t.type, this._map, t))
        }, Oo.prototype.mousedown = function(t, e) {
            return this._mousedownPos = e, this._firePreventable(new Ro(t.type, this._map, t))
        }, Oo.prototype.mouseup = function(t) {
            this._map.fire(new Ro(t.type, this._map, t));
        }, Oo.prototype.click = function(t, e) {
            this._mousedownPos && this._mousedownPos.dist(e) >= this._clickTolerance || this._map.fire(new Ro(t.type, this._map, t));
        }, Oo.prototype.dblclick = function(t) {
            return this._firePreventable(new Ro(t.type, this._map, t))
        }, Oo.prototype.mouseover = function(t) {
            this._map.fire(new Ro(t.type, this._map, t));
        }, Oo.prototype.mouseout = function(t) {
            this._map.fire(new Ro(t.type, this._map, t));
        }, Oo.prototype.touchstart = function(t) {
            return this._firePreventable(new ko(t.type, this._map, t))
        }, Oo.prototype.touchmove = function(t) {
            this._map.fire(new ko(t.type, this._map, t));
        }, Oo.prototype.touchend = function(t) {
            this._map.fire(new ko(t.type, this._map, t));
        }, Oo.prototype.touchcancel = function(t) {
            this._map.fire(new ko(t.type, this._map, t));
        }, Oo.prototype._firePreventable = function(t) {
            if (this._map.fire(t), t.defaultPrevented) return {}
        }, Oo.prototype.isEnabled = function() {
            return !0
        }, Oo.prototype.isActive = function() {
            return !1
        }, Oo.prototype.enable = function() {}, Oo.prototype.disable = function() {};
        var Fo = function(t) {
            this._map = t;
        };
        Fo.prototype.reset = function() {
            this._delayContextMenu = !1, delete this._contextMenuEvent;
        }, Fo.prototype.mousemove = function(t) {
            this._map.fire(new Ro(t.type, this._map, t));
        }, Fo.prototype.mousedown = function() {
            this._delayContextMenu = !0;
        }, Fo.prototype.mouseup = function() {
            this._delayContextMenu = !1, this._contextMenuEvent && (this._map.fire(new Ro("contextmenu", this._map, this._contextMenuEvent)), delete this._contextMenuEvent);
        }, Fo.prototype.contextmenu = function(t) {
            this._delayContextMenu ? this._contextMenuEvent = t : this._map.fire(new Ro(t.type, this._map, t)), this._map.listens("contextmenu") && t.preventDefault();
        }, Fo.prototype.isEnabled = function() {
            return !0
        }, Fo.prototype.isActive = function() {
            return !1
        }, Fo.prototype.enable = function() {}, Fo.prototype.disable = function() {};
        var Uo = function(t, e) {
            this._map = t, this._el = t.getCanvasContainer(), this._container = t.getContainer(), this._clickTolerance = e.clickTolerance || 1;
        };

        function No(t, e) {
            for (var i = {}, o = 0; o < t.length; o++) i[t[o].identifier] = e[o];
            return i
        }
        Uo.prototype.isEnabled = function() {
            return !!this._enabled
        }, Uo.prototype.isActive = function() {
            return !!this._active
        }, Uo.prototype.enable = function() {
            this.isEnabled() || (this._enabled = !0);
        }, Uo.prototype.disable = function() {
            this.isEnabled() && (this._enabled = !1);
        }, Uo.prototype.mousedown = function(t, e) {
            this.isEnabled() && t.shiftKey && 0 === t.button && (i.disableDrag(), this._startPos = this._lastPos = e, this._active = !0);
        }, Uo.prototype.mousemoveWindow = function(t, e) {
            if (this._active) {
                var o = e;
                if (!(this._lastPos.equals(o) || !this._box && o.dist(this._startPos) < this._clickTolerance)) {
                    var r = this._startPos;
                    this._lastPos = o, this._box || (this._box = i.create("div", "mapboxgl-boxzoom", this._container), this._container.classList.add("mapboxgl-crosshair"), this._fireEvent("boxzoomstart", t));
                    var a = Math.min(r.x, o.x),
                        n = Math.max(r.x, o.x),
                        s = Math.min(r.y, o.y),
                        l = Math.max(r.y, o.y);
                    i.setTransform(this._box, "translate(" + a + "px," + s + "px)"), this._box.style.width = n - a + "px", this._box.style.height = l - s + "px";
                }
            }
        }, Uo.prototype.mouseupWindow = function(e, o) {
            var r = this;
            if (this._active && 0 === e.button) {
                var a = this._startPos,
                    n = o;
                if (this.reset(), i.suppressClick(), a.x !== n.x || a.y !== n.y) return this._map.fire(new t.Event("boxzoomend", {
                    originalEvent: e
                })), {
                    cameraAnimation: function(t) {
                        return t.fitScreenCoordinates(a, n, r._map.getBearing(), {
                            linear: !0
                        })
                    }
                };
                this._fireEvent("boxzoomcancel", e);
            }
        }, Uo.prototype.keydown = function(t) {
            this._active && 27 === t.keyCode && (this.reset(), this._fireEvent("boxzoomcancel", t));
        }, Uo.prototype.reset = function() {
            this._active = !1, this._container.classList.remove("mapboxgl-crosshair"), this._box && (i.remove(this._box), this._box = null), i.enableDrag(), delete this._startPos, delete this._lastPos;
        }, Uo.prototype._fireEvent = function(e, i) {
            return this._map.fire(new t.Event(e, {
                originalEvent: i
            }))
        };
        var Zo = function(t) {
            this.reset(), this.numTouches = t.numTouches;
        };
        Zo.prototype.reset = function() {
            delete this.centroid, delete this.startTime, delete this.touches, this.aborted = !1;
        }, Zo.prototype.touchstart = function(e, i, o) {
            (this.centroid || o.length > this.numTouches) && (this.aborted = !0), this.aborted || (void 0 === this.startTime && (this.startTime = e.timeStamp), o.length === this.numTouches && (this.centroid = function(e) {
                for (var i = new t.Point(0, 0), o = 0, r = e; o < r.length; o += 1) i._add(r[o]);
                return i.div(e.length)
            }(i), this.touches = No(o, i)));
        }, Zo.prototype.touchmove = function(t, e, i) {
            if (!this.aborted && this.centroid) {
                var o = No(i, e);
                for (var r in this.touches) {
                    var a = o[r];
                    (!a || a.dist(this.touches[r]) > 30) && (this.aborted = !0);
                }
            }
        }, Zo.prototype.touchend = function(t, e, i) {
            if ((!this.centroid || t.timeStamp - this.startTime > 500) && (this.aborted = !0), 0 === i.length) {
                var o = !this.aborted && this.centroid;
                if (this.reset(), o) return o
            }
        };
        var qo = function(t) {
            this.singleTap = new Zo(t), this.numTaps = t.numTaps, this.reset();
        };
        qo.prototype.reset = function() {
            this.lastTime = 1 / 0, delete this.lastTap, this.count = 0, this.singleTap.reset();
        }, qo.prototype.touchstart = function(t, e, i) {
            this.singleTap.touchstart(t, e, i);
        }, qo.prototype.touchmove = function(t, e, i) {
            this.singleTap.touchmove(t, e, i);
        }, qo.prototype.touchend = function(t, e, i) {
            var o = this.singleTap.touchend(t, e, i);
            if (o) {
                var r = t.timeStamp - this.lastTime < 500,
                    a = !this.lastTap || this.lastTap.dist(o) < 30;
                if (r && a || this.reset(), this.count++, this.lastTime = t.timeStamp, this.lastTap = o, this.count === this.numTaps) return this.reset(), o
            }
        };
        var jo = function() {
            this._zoomIn = new qo({
                numTouches: 1,
                numTaps: 2
            }), this._zoomOut = new qo({
                numTouches: 2,
                numTaps: 1
            }), this.reset();
        };
        jo.prototype.reset = function() {
            this._active = !1, this._zoomIn.reset(), this._zoomOut.reset();
        }, jo.prototype.touchstart = function(t, e, i) {
            this._zoomIn.touchstart(t, e, i), this._zoomOut.touchstart(t, e, i);
        }, jo.prototype.touchmove = function(t, e, i) {
            this._zoomIn.touchmove(t, e, i), this._zoomOut.touchmove(t, e, i);
        }, jo.prototype.touchend = function(t, e, i) {
            var o = this,
                r = this._zoomIn.touchend(t, e, i),
                a = this._zoomOut.touchend(t, e, i);
            return r ? (this._active = !0, t.preventDefault(), setTimeout((function() {
                return o.reset()
            }), 0), {
                cameraAnimation: function(e) {
                    return e.easeTo({
                        duration: 300,
                        zoom: e.getZoom() + 1,
                        around: e.unproject(r)
                    }, {
                        originalEvent: t
                    })
                }
            }) : a ? (this._active = !0, t.preventDefault(), setTimeout((function() {
                return o.reset()
            }), 0), {
                cameraAnimation: function(e) {
                    return e.easeTo({
                        duration: 300,
                        zoom: e.getZoom() - 1,
                        around: e.unproject(a)
                    }, {
                        originalEvent: t
                    })
                }
            }) : void 0
        }, jo.prototype.touchcancel = function() {
            this.reset();
        }, jo.prototype.enable = function() {
            this._enabled = !0;
        }, jo.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, jo.prototype.isEnabled = function() {
            return this._enabled
        }, jo.prototype.isActive = function() {
            return this._active
        };
        var Vo = {
                0: 1,
                2: 2
            },
            Go = function(t) {
                this.reset(), this._clickTolerance = t.clickTolerance || 1;
            };
        Go.prototype.reset = function() {
            this._active = !1, this._moved = !1, delete this._lastPoint, delete this._eventButton;
        }, Go.prototype._correctButton = function(t, e) {
            return !1
        }, Go.prototype._move = function(t, e) {
            return {}
        }, Go.prototype.mousedown = function(t, e) {
            if (!this._lastPoint) {
                var o = i.mouseButton(t);
                this._correctButton(t, o) && (this._lastPoint = e, this._eventButton = o);
            }
        }, Go.prototype.mousemoveWindow = function(t, e) {
            var i = this._lastPoint;
            if (i)
                if (t.preventDefault(), function(t, e) {
                        var i = Vo[e];
                        return void 0 === t.buttons || (t.buttons & i) !== i
                    }(t, this._eventButton)) this.reset();
                else if (this._moved || !(e.dist(i) < this._clickTolerance)) return this._moved = !0, this._lastPoint = e, this._move(i, e)
        }, Go.prototype.mouseupWindow = function(t) {
            this._lastPoint && i.mouseButton(t) === this._eventButton && (this._moved && i.suppressClick(), this.reset());
        }, Go.prototype.enable = function() {
            this._enabled = !0;
        }, Go.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, Go.prototype.isEnabled = function() {
            return this._enabled
        }, Go.prototype.isActive = function() {
            return this._active
        };
        var Wo = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.mousedown = function(e, i) {
                    t.prototype.mousedown.call(this, e, i), this._lastPoint && (this._active = !0);
                }, e.prototype._correctButton = function(t, e) {
                    return 0 === e && !t.ctrlKey
                }, e.prototype._move = function(t, e) {
                    return {
                        around: e,
                        panDelta: e.sub(t)
                    }
                }, e
            }(Go),
            Xo = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._correctButton = function(t, e) {
                    return 0 === e && t.ctrlKey || 2 === e
                }, e.prototype._move = function(t, e) {
                    var i = .8 * (e.x - t.x);
                    if (i) return this._active = !0, {
                        bearingDelta: i
                    }
                }, e.prototype.contextmenu = function(t) {
                    t.preventDefault();
                }, e
            }(Go),
            Ho = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype._correctButton = function(t, e) {
                    return 0 === e && t.ctrlKey || 2 === e
                }, e.prototype._move = function(t, e) {
                    var i = -.5 * (e.y - t.y);
                    if (i) return this._active = !0, {
                        pitchDelta: i
                    }
                }, e.prototype.contextmenu = function(t) {
                    t.preventDefault();
                }, e
            }(Go),
            Ko = function(t) {
                this._minTouches = 1, this._clickTolerance = t.clickTolerance || 1, this.reset();
            };
        Ko.prototype.reset = function() {
            this._active = !1, this._touches = {}, this._sum = new t.Point(0, 0);
        }, Ko.prototype.touchstart = function(t, e, i) {
            return this._calculateTransform(t, e, i)
        }, Ko.prototype.touchmove = function(t, e, i) {
            if (this._active && !(i.length < this._minTouches)) return t.preventDefault(), this._calculateTransform(t, e, i)
        }, Ko.prototype.touchend = function(t, e, i) {
            this._calculateTransform(t, e, i), this._active && i.length < this._minTouches && this.reset();
        }, Ko.prototype.touchcancel = function() {
            this.reset();
        }, Ko.prototype._calculateTransform = function(e, i, o) {
            o.length > 0 && (this._active = !0);
            var r = No(o, i),
                a = new t.Point(0, 0),
                n = new t.Point(0, 0),
                s = 0;
            for (var l in r) {
                var c = r[l],
                    u = this._touches[l];
                u && (a._add(c), n._add(c.sub(u)), s++, r[l] = c);
            }
            if (this._touches = r, !(s < this._minTouches) && n.mag()) {
                var h = n.div(s);
                if (this._sum._add(h), !(this._sum.mag() < this._clickTolerance)) return {
                    around: a.div(s),
                    panDelta: h
                }
            }
        }, Ko.prototype.enable = function() {
            this._enabled = !0;
        }, Ko.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, Ko.prototype.isEnabled = function() {
            return this._enabled
        }, Ko.prototype.isActive = function() {
            return this._active
        };
        var Yo = function() {
            this.reset();
        };

        function Jo(t, e, i) {
            for (var o = 0; o < t.length; o++)
                if (t[o].identifier === i) return e[o]
        }

        function Qo(t, e) {
            return Math.log(t / e) / Math.LN2
        }
        Yo.prototype.reset = function() {
            this._active = !1, delete this._firstTwoTouches;
        }, Yo.prototype._start = function(t) {}, Yo.prototype._move = function(t, e, i) {
            return {}
        }, Yo.prototype.touchstart = function(t, e, i) {
            this._firstTwoTouches || i.length < 2 || (this._firstTwoTouches = [i[0].identifier, i[1].identifier], this._start([e[0], e[1]]));
        }, Yo.prototype.touchmove = function(t, e, i) {
            if (this._firstTwoTouches) {
                t.preventDefault();
                var o = this._firstTwoTouches,
                    r = o[1],
                    a = Jo(i, e, o[0]),
                    n = Jo(i, e, r);
                if (a && n) {
                    var s = this._aroundCenter ? null : a.add(n).div(2);
                    return this._move([a, n], s, t)
                }
            }
        }, Yo.prototype.touchend = function(t, e, o) {
            if (this._firstTwoTouches) {
                var r = this._firstTwoTouches,
                    a = r[1],
                    n = Jo(o, e, r[0]),
                    s = Jo(o, e, a);
                n && s || (this._active && i.suppressClick(), this.reset());
            }
        }, Yo.prototype.touchcancel = function() {
            this.reset();
        }, Yo.prototype.enable = function(t) {
            this._enabled = !0, this._aroundCenter = !!t && "center" === t.around;
        }, Yo.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, Yo.prototype.isEnabled = function() {
            return this._enabled
        }, Yo.prototype.isActive = function() {
            return this._active
        };
        var $o = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                t.prototype.reset.call(this), delete this._distance, delete this._startDistance;
            }, e.prototype._start = function(t) {
                this._startDistance = this._distance = t[0].dist(t[1]);
            }, e.prototype._move = function(t, e) {
                var i = this._distance;
                if (this._distance = t[0].dist(t[1]), this._active || !(Math.abs(Qo(this._distance, this._startDistance)) < .1)) return this._active = !0, {
                    zoomDelta: Qo(this._distance, i),
                    pinchAround: e
                }
            }, e
        }(Yo);

        function tr(t, e) {
            return 180 * t.angleWith(e) / Math.PI
        }
        var er = function(t) {
            function e() {
                t.apply(this, arguments);
            }
            return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                t.prototype.reset.call(this), delete this._minDiameter, delete this._startVector, delete this._vector;
            }, e.prototype._start = function(t) {
                this._startVector = this._vector = t[0].sub(t[1]), this._minDiameter = t[0].dist(t[1]);
            }, e.prototype._move = function(t, e) {
                var i = this._vector;
                if (this._vector = t[0].sub(t[1]), this._active || !this._isBelowThreshold(this._vector)) return this._active = !0, {
                    bearingDelta: tr(this._vector, i),
                    pinchAround: e
                }
            }, e.prototype._isBelowThreshold = function(t) {
                this._minDiameter = Math.min(this._minDiameter, t.mag());
                var e = 25 / (Math.PI * this._minDiameter) * 360,
                    i = tr(t, this._startVector);
                return Math.abs(i) < e
            }, e
        }(Yo);

        function ir(t) {
            return Math.abs(t.y) > Math.abs(t.x)
        }
        var or = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e.prototype.reset = function() {
                    t.prototype.reset.call(this), this._valid = void 0, delete this._firstMove, delete this._lastPoints;
                }, e.prototype._start = function(t) {
                    this._lastPoints = t, ir(t[0].sub(t[1])) && (this._valid = !1);
                }, e.prototype._move = function(t, e, i) {
                    var o = t[0].sub(this._lastPoints[0]),
                        r = t[1].sub(this._lastPoints[1]);
                    if (this._valid = this.gestureBeginsVertically(o, r, i.timeStamp), this._valid) return this._lastPoints = t, this._active = !0, {
                        pitchDelta: (o.y + r.y) / 2 * -.5
                    }
                }, e.prototype.gestureBeginsVertically = function(t, e, i) {
                    if (void 0 !== this._valid) return this._valid;
                    var o = t.mag() >= 2,
                        r = e.mag() >= 2;
                    if (o || r) {
                        if (!o || !r) return void 0 === this._firstMove && (this._firstMove = i), i - this._firstMove < 100 && void 0;
                        var a = t.y > 0 == e.y > 0;
                        return ir(t) && ir(e) && a
                    }
                }, e
            }(Yo),
            rr = {
                panStep: 100,
                bearingStep: 15,
                pitchStep: 10
            },
            ar = function() {
                var t = rr;
                this._panStep = t.panStep, this._bearingStep = t.bearingStep, this._pitchStep = t.pitchStep;
            };

        function nr(t) {
            return t * (2 - t)
        }
        ar.prototype.reset = function() {
            this._active = !1;
        }, ar.prototype.keydown = function(t) {
            var e = this;
            if (!(t.altKey || t.ctrlKey || t.metaKey)) {
                var i = 0,
                    o = 0,
                    r = 0,
                    a = 0,
                    n = 0;
                switch (t.keyCode) {
                    case 61:
                    case 107:
                    case 171:
                    case 187:
                        i = 1;
                        break;
                    case 189:
                    case 109:
                    case 173:
                        i = -1;
                        break;
                    case 37:
                        t.shiftKey ? o = -1 : (t.preventDefault(), a = -1);
                        break;
                    case 39:
                        t.shiftKey ? o = 1 : (t.preventDefault(), a = 1);
                        break;
                    case 38:
                        t.shiftKey ? r = 1 : (t.preventDefault(), n = -1);
                        break;
                    case 40:
                        t.shiftKey ? r = -1 : (t.preventDefault(), n = 1);
                        break;
                    default:
                        return
                }
                return {
                    cameraAnimation: function(s) {
                        var l = s.getZoom();
                        s.easeTo({
                            duration: 300,
                            easeId: "keyboardHandler",
                            easing: nr,
                            zoom: i ? Math.round(l) + i * (t.shiftKey ? 2 : 1) : l,
                            bearing: s.getBearing() + o * e._bearingStep,
                            pitch: s.getPitch() + r * e._pitchStep,
                            offset: [-a * e._panStep, -n * e._panStep],
                            center: s.getCenter()
                        }, {
                            originalEvent: t
                        });
                    }
                }
            }
        }, ar.prototype.enable = function() {
            this._enabled = !0;
        }, ar.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, ar.prototype.isEnabled = function() {
            return this._enabled
        }, ar.prototype.isActive = function() {
            return this._active
        };
        var sr = function(e, i) {
            this._map = e, this._el = e.getCanvasContainer(), this._handler = i, this._delta = 0, this._defaultZoomRate = .01, this._wheelZoomRate = 1 / 450, t.bindAll(["_onTimeout"], this);
        };
        sr.prototype.setZoomRate = function(t) {
            this._defaultZoomRate = t;
        }, sr.prototype.setWheelZoomRate = function(t) {
            this._wheelZoomRate = t;
        }, sr.prototype.isEnabled = function() {
            return !!this._enabled
        }, sr.prototype.isActive = function() {
            return !!this._active || void 0 !== this._finishTimeout
        }, sr.prototype.isZooming = function() {
            return !!this._zooming
        }, sr.prototype.enable = function(t) {
            this.isEnabled() || (this._enabled = !0, this._aroundCenter = t && "center" === t.around);
        }, sr.prototype.disable = function() {
            this.isEnabled() && (this._enabled = !1);
        }, sr.prototype.wheel = function(e) {
            if (this.isEnabled()) {
                var i = e.deltaMode === t.window.WheelEvent.DOM_DELTA_LINE ? 40 * e.deltaY : e.deltaY,
                    o = t.browser.now(),
                    r = o - (this._lastWheelEventTime || 0);
                this._lastWheelEventTime = o, 0 !== i && i % 4.000244140625 == 0 ? this._type = "wheel" : 0 !== i && Math.abs(i) < 4 ? this._type = "trackpad" : r > 400 ? (this._type = null, this._lastValue = i, this._timeout = setTimeout(this._onTimeout, 40, e)) : this._type || (this._type = Math.abs(r * i) < 200 ? "trackpad" : "wheel", this._timeout && (clearTimeout(this._timeout), this._timeout = null, i += this._lastValue)), e.shiftKey && i && (i /= 4), this._type && (this._lastWheelEvent = e, this._delta -= i, this._active || this._start(e)), e.preventDefault();
            }
        }, sr.prototype._onTimeout = function(t) {
            this._type = "wheel", this._delta -= this._lastValue, this._active || this._start(t);
        }, sr.prototype._start = function(e) {
            if (this._delta) {
                this._frameId && (this._frameId = null), this._active = !0, this.isZooming() || (this._zooming = !0), this._finishTimeout && (clearTimeout(this._finishTimeout), delete this._finishTimeout);
                var o = i.mousePos(this._el, e);
                this._around = t.LngLat.convert(this._aroundCenter ? this._map.getCenter() : this._map.unproject(o)), this._aroundPoint = this._map.transform.locationPoint(this._around), this._frameId || (this._frameId = !0, this._handler._triggerRenderFrame());
            }
        }, sr.prototype.renderFrame = function() {
            var e = this;
            if (this._frameId && (this._frameId = null, this.isActive())) {
                var i = this._map.transform;
                if (0 !== this._delta) {
                    var o = "wheel" === this._type && Math.abs(this._delta) > 4.000244140625 ? this._wheelZoomRate : this._defaultZoomRate,
                        r = 2 / (1 + Math.exp(-Math.abs(this._delta * o)));
                    this._delta < 0 && 0 !== r && (r = 1 / r);
                    var a = "number" == typeof this._targetZoom ? i.zoomScale(this._targetZoom) : i.scale;
                    this._targetZoom = Math.min(i.maxZoom, Math.max(i.minZoom, i.scaleZoom(a * r))), "wheel" === this._type && (this._startZoom = i.zoom, this._easing = this._smoothOutEasing(200)), this._delta = 0;
                }
                var n, s = "number" == typeof this._targetZoom ? this._targetZoom : i.zoom,
                    l = this._startZoom,
                    c = this._easing,
                    u = !1;
                if ("wheel" === this._type && l && c) {
                    var h = Math.min((t.browser.now() - this._lastWheelEventTime) / 200, 1),
                        p = c(h);
                    n = t.number(l, s, p), h < 1 ? this._frameId || (this._frameId = !0) : u = !0;
                } else n = s, u = !0;
                return this._active = !0, u && (this._active = !1, this._finishTimeout = setTimeout((function() {
                    e._zooming = !1, e._handler._triggerRenderFrame(), delete e._targetZoom, delete e._finishTimeout;
                }), 200)), {
                    noInertia: !0,
                    needsRenderFrame: !u,
                    zoomDelta: n - i.zoom,
                    around: this._aroundPoint,
                    originalEvent: this._lastWheelEvent
                }
            }
        }, sr.prototype._smoothOutEasing = function(e) {
            var i = t.ease;
            if (this._prevEase) {
                var o = this._prevEase,
                    r = (t.browser.now() - o.start) / o.duration,
                    a = o.easing(r + .01) - o.easing(r),
                    n = .27 / Math.sqrt(a * a + 1e-4) * .01,
                    s = Math.sqrt(.0729 - n * n);
                i = t.bezier(n, s, .25, 1);
            }
            return this._prevEase = {
                start: t.browser.now(),
                duration: e,
                easing: i
            }, i
        }, sr.prototype.reset = function() {
            this._active = !1;
        };
        var lr = function(t, e) {
            this._clickZoom = t, this._tapZoom = e;
        };
        lr.prototype.enable = function() {
            this._clickZoom.enable(), this._tapZoom.enable();
        }, lr.prototype.disable = function() {
            this._clickZoom.disable(), this._tapZoom.disable();
        }, lr.prototype.isEnabled = function() {
            return this._clickZoom.isEnabled() && this._tapZoom.isEnabled()
        }, lr.prototype.isActive = function() {
            return this._clickZoom.isActive() || this._tapZoom.isActive()
        };
        var cr = function() {
            this.reset();
        };
        cr.prototype.reset = function() {
            this._active = !1;
        }, cr.prototype.dblclick = function(t, e) {
            return t.preventDefault(), {
                cameraAnimation: function(i) {
                    i.easeTo({
                        duration: 300,
                        zoom: i.getZoom() + (t.shiftKey ? -1 : 1),
                        around: i.unproject(e)
                    }, {
                        originalEvent: t
                    });
                }
            }
        }, cr.prototype.enable = function() {
            this._enabled = !0;
        }, cr.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, cr.prototype.isEnabled = function() {
            return this._enabled
        }, cr.prototype.isActive = function() {
            return this._active
        };
        var ur = function() {
            this._tap = new qo({
                numTouches: 1,
                numTaps: 1
            }), this.reset();
        };
        ur.prototype.reset = function() {
            this._active = !1, delete this._swipePoint, delete this._swipeTouch, delete this._tapTime, this._tap.reset();
        }, ur.prototype.touchstart = function(t, e, i) {
            this._swipePoint || (this._tapTime && t.timeStamp - this._tapTime > 500 && this.reset(), this._tapTime ? i.length > 0 && (this._swipePoint = e[0], this._swipeTouch = i[0].identifier) : this._tap.touchstart(t, e, i));
        }, ur.prototype.touchmove = function(t, e, i) {
            if (this._tapTime) {
                if (this._swipePoint) {
                    if (i[0].identifier !== this._swipeTouch) return;
                    var o = e[0],
                        r = o.y - this._swipePoint.y;
                    return this._swipePoint = o, t.preventDefault(), this._active = !0, {
                        zoomDelta: r / 128
                    }
                }
            } else this._tap.touchmove(t, e, i);
        }, ur.prototype.touchend = function(t, e, i) {
            this._tapTime ? this._swipePoint && 0 === i.length && this.reset() : this._tap.touchend(t, e, i) && (this._tapTime = t.timeStamp);
        }, ur.prototype.touchcancel = function() {
            this.reset();
        }, ur.prototype.enable = function() {
            this._enabled = !0;
        }, ur.prototype.disable = function() {
            this._enabled = !1, this.reset();
        }, ur.prototype.isEnabled = function() {
            return this._enabled
        }, ur.prototype.isActive = function() {
            return this._active
        };
        var hr = function(t, e, i) {
            this._el = t, this._mousePan = e, this._touchPan = i;
        };
        hr.prototype.enable = function(t) {
            this._inertiaOptions = t || {}, this._mousePan.enable(), this._touchPan.enable(), this._el.classList.add("mapboxgl-touch-drag-pan");
        }, hr.prototype.disable = function() {
            this._mousePan.disable(), this._touchPan.disable(), this._el.classList.remove("mapboxgl-touch-drag-pan");
        }, hr.prototype.isEnabled = function() {
            return this._mousePan.isEnabled() && this._touchPan.isEnabled()
        }, hr.prototype.isActive = function() {
            return this._mousePan.isActive() || this._touchPan.isActive()
        };
        var pr = function(t, e, i) {
            this._pitchWithRotate = t.pitchWithRotate, this._mouseRotate = e, this._mousePitch = i;
        };
        pr.prototype.enable = function() {
            this._mouseRotate.enable(), this._pitchWithRotate && this._mousePitch.enable();
        }, pr.prototype.disable = function() {
            this._mouseRotate.disable(), this._mousePitch.disable();
        }, pr.prototype.isEnabled = function() {
            return this._mouseRotate.isEnabled() && (!this._pitchWithRotate || this._mousePitch.isEnabled())
        }, pr.prototype.isActive = function() {
            return this._mouseRotate.isActive() || this._mousePitch.isActive()
        };
        var dr = function(t, e, i, o) {
            this._el = t, this._touchZoom = e, this._touchRotate = i, this._tapDragZoom = o, this._rotationDisabled = !1, this._enabled = !0;
        };
        dr.prototype.enable = function(t) {
            this._touchZoom.enable(t), this._rotationDisabled || this._touchRotate.enable(t), this._tapDragZoom.enable(), this._el.classList.add("mapboxgl-touch-zoom-rotate");
        }, dr.prototype.disable = function() {
            this._touchZoom.disable(), this._touchRotate.disable(), this._tapDragZoom.disable(), this._el.classList.remove("mapboxgl-touch-zoom-rotate");
        }, dr.prototype.isEnabled = function() {
            return this._touchZoom.isEnabled() && (this._rotationDisabled || this._touchRotate.isEnabled()) && this._tapDragZoom.isEnabled()
        }, dr.prototype.isActive = function() {
            return this._touchZoom.isActive() || this._touchRotate.isActive() || this._tapDragZoom.isActive()
        }, dr.prototype.disableRotation = function() {
            this._rotationDisabled = !0, this._touchRotate.disable();
        }, dr.prototype.enableRotation = function() {
            this._rotationDisabled = !1, this._touchZoom.isEnabled() && this._touchRotate.enable();
        };
        var _r = function(t) {
                return t.zoom || t.drag || t.pitch || t.rotate
            },
            fr = function(t) {
                function e() {
                    t.apply(this, arguments);
                }
                return t && (e.__proto__ = t), (e.prototype = Object.create(t && t.prototype)).constructor = e, e
            }(t.Event);

        function mr(t) {
            return t.panDelta && t.panDelta.mag() || t.zoomDelta || t.bearingDelta || t.pitchDelta
        }
        var gr = function(e, o) {
            this._map = e, this._el = this._map.getCanvasContainer(), this._handlers = [], this._handlersById = {}, this._changes = [], this._inertia = new Mo(e), this._bearingSnap = o.bearingSnap, this._previousActiveHandlers = {}, this._eventsInProgress = {}, this._addDefaultHandlers(o), t.bindAll(["handleEvent", "handleWindowEvent"], this);
            var r = this._el;
            this._listeners = [
                [r, "touchstart", {
                    passive: !0
                }],
                [r, "touchmove", {
                    passive: !1
                }],
                [r, "touchend", void 0],
                [r, "touchcancel", void 0],
                [r, "mousedown", void 0],
                [r, "mousemove", void 0],
                [r, "mouseup", void 0],
                [t.window.document, "mousemove", {
                    capture: !0
                }],
                [t.window.document, "mouseup", void 0],
                [r, "mouseover", void 0],
                [r, "mouseout", void 0],
                [r, "dblclick", void 0],
                [r, "click", void 0],
                [r, "keydown", {
                    capture: !1
                }],
                [r, "keyup", void 0],
                [r, "wheel", {
                    passive: !1
                }],
                [r, "contextmenu", void 0],
                [t.window, "blur", void 0]
            ];
            for (var a = 0, n = this._listeners; a < n.length; a += 1) {
                var s = n[a],
                    l = s[0];
                i.addEventListener(l, s[1], l === t.window.document ? this.handleWindowEvent : this.handleEvent, s[2]);
            }
        };
        gr.prototype.destroy = function() {
            for (var e = 0, o = this._listeners; e < o.length; e += 1) {
                var r = o[e],
                    a = r[0];
                i.removeEventListener(a, r[1], a === t.window.document ? this.handleWindowEvent : this.handleEvent, r[2]);
            }
        }, gr.prototype._addDefaultHandlers = function(t) {
            var e = this._map,
                i = e.getCanvasContainer();
            this._add("mapEvent", new Oo(e, t));
            var o = e.boxZoom = new Uo(e, t);
            this._add("boxZoom", o);
            var r = new jo,
                a = new cr;
            e.doubleClickZoom = new lr(a, r), this._add("tapZoom", r), this._add("clickZoom", a);
            var n = new ur;
            this._add("tapDragZoom", n);
            var s = e.touchPitch = new or;
            this._add("touchPitch", s);
            var l = new Xo(t),
                c = new Ho(t);
            e.dragRotate = new pr(t, l, c), this._add("mouseRotate", l, ["mousePitch"]), this._add("mousePitch", c, ["mouseRotate"]);
            var u = new Wo(t),
                h = new Ko(t);
            e.dragPan = new hr(i, u, h), this._add("mousePan", u), this._add("touchPan", h, ["touchZoom", "touchRotate"]);
            var p = new er,
                d = new $o;
            e.touchZoomRotate = new dr(i, d, p, n), this._add("touchRotate", p, ["touchPan", "touchZoom"]), this._add("touchZoom", d, ["touchPan", "touchRotate"]);
            var _ = e.scrollZoom = new sr(e, this);
            this._add("scrollZoom", _, ["mousePan"]);
            var f = e.keyboard = new ar;
            this._add("keyboard", f), this._add("blockableMapEvent", new Fo(e));
            for (var m = 0, g = ["boxZoom", "doubleClickZoom", "tapDragZoom", "touchPitch", "dragRotate", "dragPan", "touchZoomRotate", "scrollZoom", "keyboard"]; m < g.length; m += 1) {
                var v = g[m];
                t.interactive && t[v] && e[v].enable(t[v]);
            }
        }, gr.prototype._add = function(t, e, i) {
            this._handlers.push({
                handlerName: t,
                handler: e,
                allowed: i
            }), this._handlersById[t] = e;
        }, gr.prototype.stop = function(t) {
            if (!this._updatingCamera) {
                for (var e = 0, i = this._handlers; e < i.length; e += 1) i[e].handler.reset();
                this._inertia.clear(), this._fireEvents({}, {}, t), this._changes = [];
            }
        }, gr.prototype.isActive = function() {
            for (var t = 0, e = this._handlers; t < e.length; t += 1)
                if (e[t].handler.isActive()) return !0;
            return !1
        }, gr.prototype.isZooming = function() {
            return !!this._eventsInProgress.zoom || this._map.scrollZoom.isZooming()
        }, gr.prototype.isRotating = function() {
            return !!this._eventsInProgress.rotate
        }, gr.prototype.isMoving = function() {
            return Boolean(_r(this._eventsInProgress)) || this.isZooming()
        }, gr.prototype._blockedByActive = function(t, e, i) {
            for (var o in t)
                if (o !== i && (!e || e.indexOf(o) < 0)) return !0;
            return !1
        }, gr.prototype.handleWindowEvent = function(t) {
            this.handleEvent(t, t.type + "Window");
        }, gr.prototype._getMapTouches = function(t) {
            for (var e = [], i = 0, o = t; i < o.length; i += 1) {
                var r = o[i];
                this._el.contains(r.target) && e.push(r);
            }
            return e
        }, gr.prototype.handleEvent = function(t, e) {
            if ("blur" !== t.type) {
                this._updatingCamera = !0;
                for (var o = "renderFrame" === t.type ? void 0 : t, r = {
                        needsRenderFrame: !1
                    }, a = {}, n = {}, s = t.touches ? this._getMapTouches(t.touches) : void 0, l = s ? i.touchPos(this._el, s) : i.mousePos(this._el, t), c = 0, u = this._handlers; c < u.length; c += 1) {
                    var h = u[c],
                        p = h.handlerName,
                        d = h.handler,
                        _ = h.allowed;
                    if (d.isEnabled()) {
                        var f = void 0;
                        this._blockedByActive(n, _, p) ? d.reset() : d[e || t.type] && (f = d[e || t.type](t, l, s), this.mergeHandlerResult(r, a, f, p, o), f && f.needsRenderFrame && this._triggerRenderFrame()), (f || d.isActive()) && (n[p] = d);
                    }
                }
                var m = {};
                for (var g in this._previousActiveHandlers) n[g] || (m[g] = o);
                this._previousActiveHandlers = n, (Object.keys(m).length || mr(r)) && (this._changes.push([r, a, m]), this._triggerRenderFrame()), (Object.keys(n).length || mr(r)) && this._map._stop(!0), this._updatingCamera = !1;
                var v = r.cameraAnimation;
                v && (this._inertia.clear(), this._fireEvents({}, {}, !0), this._changes = [], v(this._map));
            } else this.stop(!0);
        }, gr.prototype.mergeHandlerResult = function(e, i, o, r, a) {
            if (o) {
                t.extend(e, o);
                var n = {
                    handlerName: r,
                    originalEvent: o.originalEvent || a
                };
                void 0 !== o.zoomDelta && (i.zoom = n), void 0 !== o.panDelta && (i.drag = n), void 0 !== o.pitchDelta && (i.pitch = n), void 0 !== o.bearingDelta && (i.rotate = n);
            }
        }, gr.prototype._applyChanges = function() {
            for (var e = {}, i = {}, o = {}, r = 0, a = this._changes; r < a.length; r += 1) {
                var n = a[r],
                    s = n[0],
                    l = n[1],
                    c = n[2];
                s.panDelta && (e.panDelta = (e.panDelta || new t.Point(0, 0))._add(s.panDelta)), s.zoomDelta && (e.zoomDelta = (e.zoomDelta || 0) + s.zoomDelta), s.bearingDelta && (e.bearingDelta = (e.bearingDelta || 0) + s.bearingDelta), s.pitchDelta && (e.pitchDelta = (e.pitchDelta || 0) + s.pitchDelta), void 0 !== s.around && (e.around = s.around), void 0 !== s.pinchAround && (e.pinchAround = s.pinchAround), s.noInertia && (e.noInertia = s.noInertia), t.extend(i, l), t.extend(o, c);
            }
            this._updateMapTransform(e, i, o), this._changes = [];
        }, gr.prototype._updateMapTransform = function(t, e, i) {
            var o = this._map,
                r = o.transform;
            if (!mr(t)) return this._fireEvents(e, i, !0);
            var a = t.panDelta,
                n = t.zoomDelta,
                s = t.bearingDelta,
                l = t.pitchDelta,
                c = t.around,
                u = t.pinchAround;
            void 0 !== u && (c = u), o._stop(!0), c = c || o.transform.centerPoint;
            var h = r.pointLocation(a ? c.sub(a) : c);
            s && (r.bearing += s), l && (r.pitch += l), n && (r.zoom += n), r.setLocationAtPoint(h, c), this._map._update(), t.noInertia || this._inertia.record(t), this._fireEvents(e, i, !0);
        }, gr.prototype._fireEvents = function(e, i, o) {
            var r = this,
                a = _r(this._eventsInProgress),
                n = _r(e),
                s = {};
            for (var l in e) this._eventsInProgress[l] || (s[l + "start"] = e[l].originalEvent), this._eventsInProgress[l] = e[l];
            for (var c in !a && n && this._fireEvent("movestart", n.originalEvent), s) this._fireEvent(c, s[c]);
            for (var u in n && this._fireEvent("move", n.originalEvent), e) this._fireEvent(u, e[u].originalEvent);
            var h, p = {};
            for (var d in this._eventsInProgress) {
                var _ = this._eventsInProgress[d],
                    f = _.handlerName,
                    m = _.originalEvent;
                this._handlersById[f].isActive() || (delete this._eventsInProgress[d], p[d + "end"] = h = i[f] || m);
            }
            for (var g in p) this._fireEvent(g, p[g]);
            var v = _r(this._eventsInProgress);
            if (o && (a || n) && !v) {
                this._updatingCamera = !0;
                var y = this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),
                    x = function(t) {
                        return 0 !== t && -r._bearingSnap < t && t < r._bearingSnap
                    };
                y ? (x(y.bearing || this._map.getBearing()) && (y.bearing = 0), this._map.easeTo(y, {
                    originalEvent: h
                })) : (this._map.fire(new t.Event("moveend", {
                    originalEvent: h
                })), x(this._map.getBearing()) && this._map.resetNorth()), this._updatingCamera = !1;
            }
        }, gr.prototype._fireEvent = function(e, i) {
            this._map.fire(new t.Event(e, i ? {
                originalEvent: i
            } : {}));
        }, gr.prototype._requestFrame = function() {
            var t = this;
            return this._map.triggerRepaint(), this._map._renderTaskQueue.add((function(e) {
                delete t._frameId, t.handleEvent(new fr("renderFrame", {
                    timeStamp: e
                })), t._applyChanges();
            }))
        }, gr.prototype._triggerRenderFrame = function() {
            void 0 === this._frameId && (this._frameId = this._requestFrame());
        };
        var vr = function(e) {
                function i(i, o) {
                    e.call(this), this._moving = !1, this._zooming = !1, this.transform = i, this._bearingSnap = o.bearingSnap, t.bindAll(["_renderFrameCallback"], this);
                }
                return e && (i.__proto__ = e), (i.prototype = Object.create(e && e.prototype)).constructor = i, i.prototype.getCenter = function() {
                    return new t.LngLat(this.transform.center.lng, this.transform.center.lat)
                }, i.prototype.setCenter = function(t, e) {
                    return this.jumpTo({
                        center: t
                    }, e)
                }, i.prototype.panBy = function(e, i, o) {
                    return e = t.Point.convert(e).mult(-1), this.panTo(this.transform.center, t.extend({
                        offset: e
                    }, i), o)
                }, i.prototype.panTo = function(e, i, o) {
                    return this.easeTo(t.extend({
                        center: e
                    }, i), o)
                }, i.prototype.getZoom = function() {
                    return this.transform.zoom
                }, i.prototype.setZoom = function(t, e) {
                    return this.jumpTo({
                        zoom: t
                    }, e), this
                }, i.prototype.zoomTo = function(e, i, o) {
                    return this.easeTo(t.extend({
                        zoom: e
                    }, i), o)
                }, i.prototype.zoomIn = function(t, e) {
                    return this.zoomTo(this.getZoom() + 1, t, e), this
                }, i.prototype.zoomOut = function(t, e) {
                    return this.zoomTo(this.getZoom() - 1, t, e), this
                }, i.prototype.getBearing = function() {
                    return this.transform.bearing
                }, i.prototype.setBearing = function(t, e) {
                    return this.jumpTo({
                        bearing: t
                    }, e), this
                }, i.prototype.getPadding = function() {
                    return this.transform.padding
                }, i.prototype.setPadding = function(t, e) {
                    return this.jumpTo({
                        padding: t
                    }, e), this
                }, i.prototype.rotateTo = function(e, i, o) {
                    return this.easeTo(t.extend({
                        bearing: e
                    }, i), o)
                }, i.prototype.resetNorth = function(e, i) {
                    return this.rotateTo(0, t.extend({
                        duration: 1e3
                    }, e), i), this
                }, i.prototype.resetNorthPitch = function(e, i) {
                    return this.easeTo(t.extend({
                        bearing: 0,
                        pitch: 0,
                        duration: 1e3
                    }, e), i), this
                }, i.prototype.snapToNorth = function(t, e) {
                    return Math.abs(this.getBearing()) < this._bearingSnap ? this.resetNorth(t, e) : this
                }, i.prototype.getPitch = function() {
                    return this.transform.pitch
                }, i.prototype.setPitch = function(t, e) {
                    return this.jumpTo({
                        pitch: t
                    }, e), this
                }, i.prototype.cameraForBounds = function(e, i) {
                    return e = t.LngLatBounds.convert(e), this._cameraForBoxAndBearing(e.getNorthWest(), e.getSouthEast(), 0, i)
                }, i.prototype._cameraForBoxAndBearing = function(e, i, o, r) {
                    var a = {
                        top: 0,
                        bottom: 0,
                        right: 0,
                        left: 0
                    };
                    if ("number" == typeof(r = t.extend({
                            padding: a,
                            offset: [0, 0],
                            maxZoom: this.transform.maxZoom
                        }, r)).padding) {
                        var n = r.padding;
                        r.padding = {
                            top: n,
                            bottom: n,
                            right: n,
                            left: n
                        };
                    }
                    r.padding = t.extend(a, r.padding);
                    var s = this.transform,
                        l = s.padding,
                        c = s.project(t.LngLat.convert(e)),
                        u = s.project(t.LngLat.convert(i)),
                        h = c.rotate(-o * Math.PI / 180),
                        p = u.rotate(-o * Math.PI / 180),
                        d = new t.Point(Math.max(h.x, p.x), Math.max(h.y, p.y)),
                        _ = new t.Point(Math.min(h.x, p.x), Math.min(h.y, p.y)),
                        f = d.sub(_),
                        m = (s.width - (l.left + l.right + r.padding.left + r.padding.right)) / f.x,
                        g = (s.height - (l.top + l.bottom + r.padding.top + r.padding.bottom)) / f.y;
                    if (!(g < 0 || m < 0)) {
                        var v = Math.min(s.scaleZoom(s.scale * Math.min(m, g)), r.maxZoom),
                            y = t.Point.convert(r.offset),
                            x = new t.Point(y.x + (r.padding.left - r.padding.right) / 2, y.y + (r.padding.top - r.padding.bottom) / 2).mult(s.scale / s.zoomScale(v));
                        return {
                            center: s.unproject(c.add(u).div(2).sub(x)),
                            zoom: v,
                            bearing: o
                        }
                    }
                    t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");
                }, i.prototype.fitBounds = function(t, e, i) {
                    return this._fitInternal(this.cameraForBounds(t, e), e, i)
                }, i.prototype.fitScreenCoordinates = function(e, i, o, r, a) {
                    return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)), this.transform.pointLocation(t.Point.convert(i)), o, r), r, a)
                }, i.prototype._fitInternal = function(e, i, o) {
                    return e ? (delete(i = t.extend(e, i)).padding, i.linear ? this.easeTo(i, o) : this.flyTo(i, o)) : this
                }, i.prototype.jumpTo = function(e, i) {
                    this.stop();
                    var o = this.transform,
                        r = !1,
                        a = !1,
                        n = !1;
                    return "zoom" in e && o.zoom !== +e.zoom && (r = !0, o.zoom = +e.zoom), void 0 !== e.center && (o.center = t.LngLat.convert(e.center)), "bearing" in e && o.bearing !== +e.bearing && (a = !0, o.bearing = +e.bearing), "pitch" in e && o.pitch !== +e.pitch && (n = !0, o.pitch = +e.pitch), null == e.padding || o.isPaddingEqual(e.padding) || (o.padding = e.padding), this.fire(new t.Event("movestart", i)).fire(new t.Event("move", i)), r && this.fire(new t.Event("zoomstart", i)).fire(new t.Event("zoom", i)).fire(new t.Event("zoomend", i)), a && this.fire(new t.Event("rotatestart", i)).fire(new t.Event("rotate", i)).fire(new t.Event("rotateend", i)), n && this.fire(new t.Event("pitchstart", i)).fire(new t.Event("pitch", i)).fire(new t.Event("pitchend", i)), this.fire(new t.Event("moveend", i))
                }, i.prototype.easeTo = function(e, i) {
                    var o = this;
                    this._stop(!1, e.easeId), (!1 === (e = t.extend({
                        offset: [0, 0],
                        duration: 500,
                        easing: t.ease
                    }, e)).animate || !e.essential && t.browser.prefersReducedMotion) && (e.duration = 0);
                    var r = this.transform,
                        a = this.getZoom(),
                        n = this.getBearing(),
                        s = this.getPitch(),
                        l = this.getPadding(),
                        c = "zoom" in e ? +e.zoom : a,
                        u = "bearing" in e ? this._normalizeBearing(e.bearing, n) : n,
                        h = "pitch" in e ? +e.pitch : s,
                        p = "padding" in e ? e.padding : r.padding,
                        d = t.Point.convert(e.offset),
                        _ = r.centerPoint.add(d),
                        f = r.pointLocation(_),
                        m = t.LngLat.convert(e.center || f);
                    this._normalizeCenter(m);
                    var g, v, y = r.project(f),
                        x = r.project(m).sub(y),
                        b = r.zoomScale(c - a);
                    e.around && (g = t.LngLat.convert(e.around), v = r.locationPoint(g));
                    var w = {
                        moving: this._moving,
                        zooming: this._zooming,
                        rotating: this._rotating,
                        pitching: this._pitching
                    };
                    return this._zooming = this._zooming || c !== a, this._rotating = this._rotating || n !== u, this._pitching = this._pitching || h !== s, this._padding = !r.isPaddingEqual(p), this._easeId = e.easeId, this._prepareEase(i, e.noMoveStart, w), this._ease((function(e) {
                        if (o._zooming && (r.zoom = t.number(a, c, e)), o._rotating && (r.bearing = t.number(n, u, e)), o._pitching && (r.pitch = t.number(s, h, e)), o._padding && (r.interpolatePadding(l, p, e), _ = r.centerPoint.add(d)), g) r.setLocationAtPoint(g, v);
                        else {
                            var f = r.zoomScale(r.zoom - a),
                                m = c > a ? Math.min(2, b) : Math.max(.5, b),
                                w = Math.pow(m, 1 - e),
                                T = r.unproject(y.add(x.mult(e * w)).mult(f));
                            r.setLocationAtPoint(r.renderWorldCopies ? T.wrap() : T, _);
                        }
                        o._fireMoveEvents(i);
                    }), (function(t) {
                        o._afterEase(i, t);
                    }), e), this
                }, i.prototype._prepareEase = function(e, i, o) {
                    void 0 === o && (o = {}), this._moving = !0, i || o.moving || this.fire(new t.Event("movestart", e)), this._zooming && !o.zooming && this.fire(new t.Event("zoomstart", e)), this._rotating && !o.rotating && this.fire(new t.Event("rotatestart", e)), this._pitching && !o.pitching && this.fire(new t.Event("pitchstart", e));
                }, i.prototype._fireMoveEvents = function(e) {
                    this.fire(new t.Event("move", e)), this._zooming && this.fire(new t.Event("zoom", e)), this._rotating && this.fire(new t.Event("rotate", e)), this._pitching && this.fire(new t.Event("pitch", e));
                }, i.prototype._afterEase = function(e, i) {
                    if (!this._easeId || !i || this._easeId !== i) {
                        delete this._easeId;
                        var o = this._zooming,
                            r = this._rotating,
                            a = this._pitching;
                        this._moving = !1, this._zooming = !1, this._rotating = !1, this._pitching = !1, this._padding = !1, o && this.fire(new t.Event("zoomend", e)), r && this.fire(new t.Event("rotateend", e)), a && this.fire(new t.Event("pitchend", e)), this.fire(new t.Event("moveend", e));
                    }
                }, i.prototype.flyTo = function(e, i) {
                    var o = this;
                    if (!e.essential && t.browser.prefersReducedMotion) {
                        var r = t.pick(e, ["center", "zoom", "bearing", "pitch", "around"]);
                        return this.jumpTo(r, i)
                    }
                    this.stop(), e = t.extend({
                        offset: [0, 0],
                        speed: 1.2,
                        curve: 1.42,
                        easing: t.ease
                    }, e);
                    var a = this.transform,
                        n = this.getZoom(),
                        s = this.getBearing(),
                        l = this.getPitch(),
                        c = this.getPadding(),
                        u = "zoom" in e ? t.clamp(+e.zoom, a.minZoom, a.maxZoom) : n,
                        h = "bearing" in e ? this._normalizeBearing(e.bearing, s) : s,
                        p = "pitch" in e ? +e.pitch : l,
                        d = "padding" in e ? e.padding : a.padding,
                        _ = a.zoomScale(u - n),
                        f = t.Point.convert(e.offset),
                        m = a.centerPoint.add(f),
                        g = a.pointLocation(m),
                        v = t.LngLat.convert(e.center || g);
                    this._normalizeCenter(v);
                    var y = a.project(g),
                        x = a.project(v).sub(y),
                        b = e.curve,
                        w = Math.max(a.width, a.height),
                        T = w / _,
                        E = x.mag();
                    if ("minZoom" in e) {
                        var I = t.clamp(Math.min(e.minZoom, n, u), a.minZoom, a.maxZoom),
                            P = w / a.zoomScale(I - n);
                        b = Math.sqrt(P / E * 2);
                    }
                    var S = b * b;

                    function C(t) {
                        var e = (T * T - w * w + (t ? -1 : 1) * S * S * E * E) / (2 * (t ? T : w) * S * E);
                        return Math.log(Math.sqrt(e * e + 1) - e)
                    }

                    function z(t) {
                        return (Math.exp(t) - Math.exp(-t)) / 2
                    }

                    function D(t) {
                        return (Math.exp(t) + Math.exp(-t)) / 2
                    }
                    var M = C(0),
                        L = function(t) {
                            return D(M) / D(M + b * t)
                        },
                        A = function(t) {
                            return w * ((D(M) * (z(e = M + b * t) / D(e)) - z(M)) / S) / E;
                            var e;
                        },
                        R = (C(1) - M) / b;
                    if (Math.abs(E) < 1e-6 || !isFinite(R)) {
                        if (Math.abs(w - T) < 1e-6) return this.easeTo(e, i);
                        var k = T < w ? -1 : 1;
                        R = Math.abs(Math.log(T / w)) / b, A = function() {
                            return 0
                        }, L = function(t) {
                            return Math.exp(k * b * t)
                        };
                    }
                    return e.duration = "duration" in e ? +e.duration : 1e3 * R / ("screenSpeed" in e ? +e.screenSpeed / b : +e.speed), e.maxDuration && e.duration > e.maxDuration && (e.duration = 0), this._zooming = !0, this._rotating = s !== h, this._pitching = p !== l, this._padding = !a.isPaddingEqual(d), this._prepareEase(i, !1), this._ease((function(e) {
                        var r = e * R,
                            _ = 1 / L(r);
                        a.zoom = 1 === e ? u : n + a.scaleZoom(_), o._rotating && (a.bearing = t.number(s, h, e)), o._pitching && (a.pitch = t.number(l, p, e)), o._padding && (a.interpolatePadding(c, d, e), m = a.centerPoint.add(f));
                        var g = 1 === e ? v : a.unproject(y.add(x.mult(A(r))).mult(_));
                        a.setLocationAtPoint(a.renderWorldCopies ? g.wrap() : g, m), o._fireMoveEvents(i);
                    }), (function() {
                        return o._afterEase(i)
                    }), e), this
                }, i.prototype.isEasing = function() {
                    return !!this._easeFrameId
                }, i.prototype.stop = function() {
                    return this._stop()
                }, i.prototype._stop = function(t, e) {
                    if (this._easeFrameId && (this._cancelRenderFrame(this._easeFrameId), delete this._easeFrameId, delete this._onEaseFrame), this._onEaseEnd) {
                        var i = this._onEaseEnd;
                        delete this._onEaseEnd, i.call(this, e);
                    }
                    if (!t) {
                        var o = this.handlers;
                        o && o.stop(!1);
                    }
                    return this
                }, i.prototype._ease = function(e, i, o) {
                    !1 === o.animate || 0 === o.duration ? (e(1), i()) : (this._easeStart = t.browser.now(), this._easeOptions = o, this._onEaseFrame = e, this._onEaseEnd = i, this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback));
                }, i.prototype._renderFrameCallback = function() {
                    var e = Math.min((t.browser.now() - this._easeStart) / this._easeOptions.duration, 1);
                    this._onEaseFrame(this._easeOptions.easing(e)), e < 1 ? this._easeFrameId = this._requestRenderFrame(this._renderFrameCallback) : this.stop();
                }, i.prototype._normalizeBearing = function(e, i) {
                    e = t.wrap(e, -180, 180);
                    var o = Math.abs(e - i);
                    return Math.abs(e - 360 - i) < o && (e -= 360), Math.abs(e + 360 - i) < o && (e += 360), e
                }, i.prototype._normalizeCenter = function(t) {
                    var e = this.transform;
                    if (e.renderWorldCopies && !e.lngRange) {
                        var i = t.lng - e.center.lng;
                        t.lng += i > 180 ? -360 : i < -180 ? 360 : 0;
                    }
                }, i
            }(t.Evented),
            yr = function(e) {
                void 0 === e && (e = {}), this.options = e, t.bindAll(["_updateEditLink", "_updateData", "_updateCompact"], this);
            };
        yr.prototype.getDefaultPosition = function() {
            return "bottom-right"
        }, yr.prototype.onAdd = function(t) {
            var e = this.options && this.options.compact;
            return this._map = t, this._container = i.create("div", "mapboxgl-ctrl mapboxgl-ctrl-attrib"), this._innerContainer = i.create("div", "mapboxgl-ctrl-attrib-inner", this._container), e && this._container.classList.add("mapboxgl-compact"), this._updateAttributions(), this._updateEditLink(), this._map.on("styledata", this._updateData), this._map.on("sourcedata", this._updateData), this._map.on("moveend", this._updateEditLink), void 0 === e && (this._map.on("resize", this._updateCompact), this._updateCompact()), this._container
        }, yr.prototype.onRemove = function() {
            i.remove(this._container), this._map.off("styledata", this._updateData), this._map.off("sourcedata", this._updateData), this._map.off("moveend", this._updateEditLink), this._map.off("resize", this._updateCompact), this._map = void 0, this._attribHTML = void 0;
        }, yr.prototype._updateEditLink = function() {
            var e = this._editLink;
            e || (e = this._editLink = this._container.querySelector(".mapbox-improve-map"));
            var i = [{
                key: "owner",
                value: this.styleOwner
            }, {
                key: "id",
                value: this.styleId
            }, {
                key: "access_token",
                value: this._map._requestManager._customAccessToken || t.config.ACCESS_TOKEN
            }];
            if (e) {
                var o = i.reduce((function(t, e, o) {
                    return e.value && (t += e.key + "=" + e.value + (o < i.length - 1 ? "&" : "")), t
                }), "?");
                e.href = t.config.FEEDBACK_URL + "/" + o + (this._map._hash ? this._map._hash.getHashString(!0) : ""), e.rel = "noopener nofollow";
            }
        }, yr.prototype._updateData = function(t) {
            !t || "metadata" !== t.sourceDataType && "style" !== t.dataType || (this._updateAttributions(), this._updateEditLink());
        }, yr.prototype._updateAttributions = function() {
            if (this._map.style) {
                var t = [];
                if (this.options.customAttribution && (Array.isArray(this.options.customAttribution) ? t = t.concat(this.options.customAttribution.map((function(t) {
                        return "string" != typeof t ? "" : t
                    }))) : "string" == typeof this.options.customAttribution && t.push(this.options.customAttribution)), this._map.style.stylesheet) {
                    var e = this._map.style.stylesheet;
                    this.styleOwner = e.owner, this.styleId = e.id;
                }
                var i = this._map.style.sourceCaches;
                for (var o in i) {
                    var r = i[o];
                    if (r.used) {
                        var a = r.getSource();
                        a.attribution && t.indexOf(a.attribution) < 0 && t.push(a.attribution);
                    }
                }
                t.sort((function(t, e) {
                    return t.length - e.length
                }));
                var n = (t = t.filter((function(e, i) {
                    for (var o = i + 1; o < t.length; o++)
                        if (t[o].indexOf(e) >= 0) return !1;
                    return !0
                }))).join(" | ");
                n !== this._attribHTML && (this._attribHTML = n, t.length ? (this._innerContainer.innerHTML = n, this._container.classList.remove("mapboxgl-attrib-empty")) : this._container.classList.add("mapboxgl-attrib-empty"), this._editLink = null);
            }
        }, yr.prototype._updateCompact = function() {
            this._map.getCanvasContainer().offsetWidth <= 640 ? this._container.classList.add("mapboxgl-compact") : this._container.classList.remove("mapboxgl-compact");
        };
        var xr = function() {
            t.bindAll(["_updateLogo"], this), t.bindAll(["_updateCompact"], this);
        };
        xr.prototype.onAdd = function(t) {
            this._map = t, this._container = i.create("div", "mapboxgl-ctrl");
            var e = i.create("a", "mapboxgl-ctrl-logo");
            return e.target = "_blank", e.rel = "noopener nofollow", e.href = "https://www.mapbox.com/", e.setAttribute("aria-label", this._map._getUIString("LogoControl.Title")), e.setAttribute("rel", "noopener nofollow"), this._container.appendChild(e), this._container.style.display = "none", this._map.on("sourcedata", this._updateLogo), this._updateLogo(), this._map.on("resize", this._updateCompact), this._updateCompact(), this._container
        }, xr.prototype.onRemove = function() {
            i.remove(this._container), this._map.off("sourcedata", this._updateLogo), this._map.off("resize", this._updateCompact);
        }, xr.prototype.getDefaultPosition = function() {
            return "bottom-left"
        }, xr.prototype._updateLogo = function(t) {
            t && "metadata" !== t.sourceDataType || (this._container.style.display = this._logoRequired() ? "block" : "none");
        }, xr.prototype._logoRequired = function() {
            if (this._map.style) {
                var t = this._map.style.sourceCaches;
                for (var e in t)
                    if (t[e].getSource().mapbox_logo) return !0;
                return !1
            }
        }, xr.prototype._updateCompact = function() {
            var t = this._container.children;
            if (t.length) {
                var e = t[0];
                this._map.getCanvasContainer().offsetWidth < 250 ? e.classList.add("mapboxgl-compact") : e.classList.remove("mapboxgl-compact");
            }
        };
        var br = function() {
            this._queue = [], this._id = 0, this._cleared = !1, this._currentlyRunning = !1;
        };
        br.prototype.add = function(t) {
            var e = ++this._id;
            return this._queue.push({
                callback: t,
                id: e,
                cancelled: !1
            }), e
        }, br.prototype.remove = function(t) {
            for (var e = this._currentlyRunning, i = 0, o = e ? this._queue.concat(e) : this._queue; i < o.length; i += 1) {
                var r = o[i];
                if (r.id === t) return void(r.cancelled = !0)
            }
        }, br.prototype.run = function(t) {
            void 0 === t && (t = 0);
            var e = this._currentlyRunning = this._queue;
            this._queue = [];
            for (var i = 0, o = e; i < o.length; i += 1) {
                var r = o[i];
                if (!r.cancelled && (r.callback(t), this._cleared)) break
            }
            this._cleared = !1, this._currentlyRunning = !1;
        }, br.prototype.clear = function() {
            this._currentlyRunning && (this._cleared = !0), this._queue = [];
        };
        var wr = {
                "FullscreenControl.Enter": "Enter fullscreen",
                "FullscreenControl.Exit": "Exit fullscreen",
                "GeolocateControl.FindMyLocation": "Find my location",
                "GeolocateControl.LocationNotAvailable": "Location not available",
                "LogoControl.Title": "Mapbox logo",
                "NavigationControl.ResetBearing": "Reset bearing to north",
                "NavigationControl.ZoomIn": "Zoom in",
                "NavigationControl.ZoomOut": "Zoom out",
                "ScaleControl.Feet": "ft",
                "ScaleControl.Meters": "m",
                "ScaleControl.Kilometers": "km",
                "ScaleControl.Miles": "mi",
                "ScaleControl.NauticalMiles": "nm"
            },
            Tr = t.window.HTMLImageElement,
            Er = t.window.HTMLElement,
            Ir = t.window.ImageBitmap,
            Pr = {
                center: [0, 0],
                zoom: 0,
                bearing: 0,
                pitch: 0,
                minZoom: -2,
                maxZoom: 22,
                minPitch: 0,
                maxPitch: 60,
                interactive: !0,
                scrollZoom: !0,
                boxZoom: !0,
                dragRotate: !0,
                dragPan: !0,
                keyboard: !0,
                doubleClickZoom: !0,
                touchZoomRotate: !0,
                touchPitch: !0,
                bearingSnap: 7,
                clickTolerance: 3,
                pitchWithRotate: !0,
                hash: !1,
                attributionControl: !0,
                failIfMajorPerformanceCaveat: !1,
                preserveDrawingBuffer: !1,
                trackResize: !0,
                renderWorldCopies: !0,
                refreshExpiredTiles: !0,
                maxTileCacheSize: null,
                localIdeographFontFamily: "sans-serif",
                transformRequest: null,
                accessToken: null,
                fadeDuration: 300,
                crossSourceCollisions: !0
            },
            Sr = function(o) {
                function r(e) {
                    var i = this;
                    if (null != (e = t.extend({}, Pr, e)).minZoom && null != e.maxZoom && e.minZoom > e.maxZoom) throw new Error("maxZoom must be greater than or equal to minZoom");
                    if (null != e.minPitch && null != e.maxPitch && e.minPitch > e.maxPitch) throw new Error("maxPitch must be greater than or equal to minPitch");
                    if (null != e.minPitch && e.minPitch < 0) throw new Error("minPitch must be greater than or equal to 0");
                    if (null != e.maxPitch && e.maxPitch > 60) throw new Error("maxPitch must be less than or equal to 60");
                    var r = new To(e.minZoom, e.maxZoom, e.minPitch, e.maxPitch, e.renderWorldCopies);
                    if (o.call(this, r, e), this._interactive = e.interactive, this._maxTileCacheSize = e.maxTileCacheSize, this._failIfMajorPerformanceCaveat = e.failIfMajorPerformanceCaveat, this._preserveDrawingBuffer = e.preserveDrawingBuffer, this._antialias = e.antialias, this._trackResize = e.trackResize, this._bearingSnap = e.bearingSnap, this._refreshExpiredTiles = e.refreshExpiredTiles, this._fadeDuration = e.fadeDuration, this._crossSourceCollisions = e.crossSourceCollisions, this._crossFadingFactor = 1, this._collectResourceTiming = e.collectResourceTiming, this._renderTaskQueue = new br, this._controls = [], this._mapId = t.uniqueId(), this._locale = t.extend({}, wr, e.locale), this._requestManager = new t.RequestManager(e.transformRequest, e.accessToken), "string" == typeof e.container) {
                        if (this._container = t.window.document.getElementById(e.container), !this._container) throw new Error("Container '" + e.container + "' not found.")
                    } else {
                        if (!(e.container instanceof Er)) throw new Error("Invalid type: 'container' must be a String or HTMLElement.");
                        this._container = e.container;
                    }
                    if (e.maxBounds && this.setMaxBounds(e.maxBounds), t.bindAll(["_onWindowOnline", "_onWindowResize", "_contextLost", "_contextRestored"], this), this._setupContainer(), this._setupPainter(), void 0 === this.painter) throw new Error("Failed to initialize WebGL.");
                    this.on("move", (function() {
                        return i._update(!1)
                    })), this.on("moveend", (function() {
                        return i._update(!1)
                    })), this.on("zoom", (function() {
                        return i._update(!0)
                    })), void 0 !== t.window && (t.window.addEventListener("online", this._onWindowOnline, !1), t.window.addEventListener("resize", this._onWindowResize, !1), t.window.addEventListener("orientationchange", this._onWindowResize, !1)), this.handlers = new gr(this, e), this._hash = e.hash && new Io("string" == typeof e.hash && e.hash || void 0).addTo(this), this._hash && this._hash._onHashChange() || (this.jumpTo({
                        center: e.center,
                        zoom: e.zoom,
                        bearing: e.bearing,
                        pitch: e.pitch
                    }), e.bounds && (this.resize(), this.fitBounds(e.bounds, t.extend({}, e.fitBoundsOptions, {
                        duration: 0
                    })))), this.resize(), this._localIdeographFontFamily = e.localIdeographFontFamily, e.style && this.setStyle(e.style, {
                        localIdeographFontFamily: e.localIdeographFontFamily
                    }), e.attributionControl && this.addControl(new yr({
                        customAttribution: e.customAttribution
                    })), this.addControl(new xr, e.logoPosition), this.on("style.load", (function() {
                        i.transform.unmodified && i.jumpTo(i.style.stylesheet);
                    })), this.on("data", (function(e) {
                        i._update("style" === e.dataType), i.fire(new t.Event(e.dataType + "data", e));
                    })), this.on("dataloading", (function(e) {
                        i.fire(new t.Event(e.dataType + "dataloading", e));
                    }));
                }
                o && (r.__proto__ = o), (r.prototype = Object.create(o && o.prototype)).constructor = r;
                var a = {
                    showTileBoundaries: {
                        configurable: !0
                    },
                    showPadding: {
                        configurable: !0
                    },
                    showCollisionBoxes: {
                        configurable: !0
                    },
                    showOverdrawInspector: {
                        configurable: !0
                    },
                    repaint: {
                        configurable: !0
                    },
                    vertices: {
                        configurable: !0
                    },
                    version: {
                        configurable: !0
                    }
                };
                return r.prototype._getMapId = function() {
                    return this._mapId
                }, r.prototype.addControl = function(e, i) {
                    if (void 0 === i && e.getDefaultPosition && (i = e.getDefaultPosition()), void 0 === i && (i = "top-right"), !e || !e.onAdd) return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));
                    var o = e.onAdd(this);
                    this._controls.push(e);
                    var r = this._controlPositions[i];
                    return -1 !== i.indexOf("bottom") ? r.insertBefore(o, r.firstChild) : r.appendChild(o), this
                }, r.prototype.removeControl = function(e) {
                    if (!e || !e.onRemove) return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));
                    var i = this._controls.indexOf(e);
                    return i > -1 && this._controls.splice(i, 1), e.onRemove(this), this
                }, r.prototype.resize = function(e) {
                    var i = this._containerDimensions(),
                        o = i[0],
                        r = i[1];
                    this._resizeCanvas(o, r), this.transform.resize(o, r), this.painter.resize(o, r);
                    var a = !this._moving;
                    return a && (this.stop(), this.fire(new t.Event("movestart", e)).fire(new t.Event("move", e))), this.fire(new t.Event("resize", e)), a && this.fire(new t.Event("moveend", e)), this
                }, r.prototype.getBounds = function() {
                    return this.transform.getBounds()
                }, r.prototype.getMaxBounds = function() {
                    return this.transform.getMaxBounds()
                }, r.prototype.setMaxBounds = function(e) {
                    return this.transform.setMaxBounds(t.LngLatBounds.convert(e)), this._update()
                }, r.prototype.setMinZoom = function(t) {
                    if ((t = null == t ? -2 : t) >= -2 && t <= this.transform.maxZoom) return this.transform.minZoom = t, this._update(), this.getZoom() < t && this.setZoom(t), this;
                    throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")
                }, r.prototype.getMinZoom = function() {
                    return this.transform.minZoom
                }, r.prototype.setMaxZoom = function(t) {
                    if ((t = null == t ? 22 : t) >= this.transform.minZoom) return this.transform.maxZoom = t, this._update(), this.getZoom() > t && this.setZoom(t), this;
                    throw new Error("maxZoom must be greater than the current minZoom")
                }, r.prototype.getMaxZoom = function() {
                    return this.transform.maxZoom
                }, r.prototype.setMinPitch = function(t) {
                    if ((t = null == t ? 0 : t) < 0) throw new Error("minPitch must be greater than or equal to 0");
                    if (t >= 0 && t <= this.transform.maxPitch) return this.transform.minPitch = t, this._update(), this.getPitch() < t && this.setPitch(t), this;
                    throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")
                }, r.prototype.getMinPitch = function() {
                    return this.transform.minPitch
                }, r.prototype.setMaxPitch = function(t) {
                    if ((t = null == t ? 60 : t) > 60) throw new Error("maxPitch must be less than or equal to 60");
                    if (t >= this.transform.minPitch) return this.transform.maxPitch = t, this._update(), this.getPitch() > t && this.setPitch(t), this;
                    throw new Error("maxPitch must be greater than the current minPitch")
                }, r.prototype.getMaxPitch = function() {
                    return this.transform.maxPitch
                }, r.prototype.getRenderWorldCopies = function() {
                    return this.transform.renderWorldCopies
                }, r.prototype.setRenderWorldCopies = function(t) {
                    return this.transform.renderWorldCopies = t, this._update()
                }, r.prototype.project = function(e) {
                    return this.transform.locationPoint(t.LngLat.convert(e))
                }, r.prototype.unproject = function(e) {
                    return this.transform.pointLocation(t.Point.convert(e))
                }, r.prototype.isMoving = function() {
                    return this._moving || this.handlers.isMoving()
                }, r.prototype.isZooming = function() {
                    return this._zooming || this.handlers.isZooming()
                }, r.prototype.isRotating = function() {
                    return this._rotating || this.handlers.isRotating()
                }, r.prototype._createDelegatedListener = function(t, e, i) {
                    var o, r = this;
                    if ("mouseenter" === t || "mouseover" === t) {
                        var a = !1;
                        return {
                            layer: e,
                            listener: i,
                            delegates: {
                                mousemove: function(o) {
                                    var n = r.getLayer(e) ? r.queryRenderedFeatures(o.point, {
                                        layers: [e]
                                    }) : [];
                                    n.length ? a || (a = !0, i.call(r, new Ro(t, r, o.originalEvent, {
                                        features: n
                                    }))) : a = !1;
                                },
                                mouseout: function() {
                                    a = !1;
                                }
                            }
                        }
                    }
                    if ("mouseleave" === t || "mouseout" === t) {
                        var n = !1;
                        return {
                            layer: e,
                            listener: i,
                            delegates: {
                                mousemove: function(o) {
                                    (r.getLayer(e) ? r.queryRenderedFeatures(o.point, {
                                        layers: [e]
                                    }) : []).length ? n = !0 : n && (n = !1, i.call(r, new Ro(t, r, o.originalEvent)));
                                },
                                mouseout: function(e) {
                                    n && (n = !1, i.call(r, new Ro(t, r, e.originalEvent)));
                                }
                            }
                        }
                    }
                    return {
                        layer: e,
                        listener: i,
                        delegates: (o = {}, o[t] = function(t) {
                            var o = r.getLayer(e) ? r.queryRenderedFeatures(t.point, {
                                layers: [e]
                            }) : [];
                            o.length && (t.features = o, i.call(r, t), delete t.features);
                        }, o)
                    }
                }, r.prototype.on = function(t, e, i) {
                    if (void 0 === i) return o.prototype.on.call(this, t, e);
                    var r = this._createDelegatedListener(t, e, i);
                    for (var a in this._delegatedListeners = this._delegatedListeners || {}, this._delegatedListeners[t] = this._delegatedListeners[t] || [], this._delegatedListeners[t].push(r), r.delegates) this.on(a, r.delegates[a]);
                    return this
                }, r.prototype.once = function(t, e, i) {
                    if (void 0 === i) return o.prototype.once.call(this, t, e);
                    var r = this._createDelegatedListener(t, e, i);
                    for (var a in r.delegates) this.once(a, r.delegates[a]);
                    return this
                }, r.prototype.off = function(t, e, i) {
                    var r = this;
                    return void 0 === i ? o.prototype.off.call(this, t, e) : (this._delegatedListeners && this._delegatedListeners[t] && function(o) {
                        for (var a = o[t], n = 0; n < a.length; n++) {
                            var s = a[n];
                            if (s.layer === e && s.listener === i) {
                                for (var l in s.delegates) r.off(l, s.delegates[l]);
                                return a.splice(n, 1), r
                            }
                        }
                    }(this._delegatedListeners), this)
                }, r.prototype.queryRenderedFeatures = function(e, i) {
                    if (!this.style) return [];
                    var o;
                    if (void 0 !== i || void 0 === e || e instanceof t.Point || Array.isArray(e) || (i = e, e = void 0), i = i || {}, (e = e || [
                            [0, 0],
                            [this.transform.width, this.transform.height]
                        ]) instanceof t.Point || "number" == typeof e[0]) o = [t.Point.convert(e)];
                    else {
                        var r = t.Point.convert(e[0]),
                            a = t.Point.convert(e[1]);
                        o = [r, new t.Point(a.x, r.y), a, new t.Point(r.x, a.y), r];
                    }
                    return this.style.queryRenderedFeatures(o, i, this.transform)
                }, r.prototype.querySourceFeatures = function(t, e) {
                    return this.style.querySourceFeatures(t, e)
                }, r.prototype.setStyle = function(e, i) {
                    return !1 !== (i = t.extend({}, {
                        localIdeographFontFamily: this._localIdeographFontFamily
                    }, i)).diff && i.localIdeographFontFamily === this._localIdeographFontFamily && this.style && e ? (this._diffStyle(e, i), this) : (this._localIdeographFontFamily = i.localIdeographFontFamily, this._updateStyle(e, i))
                }, r.prototype._getUIString = function(t) {
                    var e = this._locale[t];
                    if (null == e) throw new Error("Missing UI string '" + t + "'");
                    return e
                }, r.prototype._updateStyle = function(t, e) {
                    return this.style && (this.style.setEventedParent(null), this.style._remove()), t ? (this.style = new je(this, e || {}), this.style.setEventedParent(this, {
                        style: this.style
                    }), "string" == typeof t ? this.style.loadURL(t) : this.style.loadJSON(t), this) : (delete this.style, this)
                }, r.prototype._lazyInitEmptyStyle = function() {
                    this.style || (this.style = new je(this, {}), this.style.setEventedParent(this, {
                        style: this.style
                    }), this.style.loadEmpty());
                }, r.prototype._diffStyle = function(e, i) {
                    var o = this;
                    if ("string" == typeof e) {
                        var r = this._requestManager.normalizeStyleURL(e),
                            a = this._requestManager.transformRequest(r, t.ResourceType.Style);
                        t.getJSON(a, (function(e, r) {
                            e ? o.fire(new t.ErrorEvent(e)) : r && o._updateDiff(r, i);
                        }));
                    } else "object" == typeof e && this._updateDiff(e, i);
                }, r.prototype._updateDiff = function(e, i) {
                    try {
                        this.style.setState(e) && this._update(!0);
                    } catch (o) {
                        t.warnOnce("Unable to perform style diff: " + (o.message || o.error || o) + ".  Rebuilding the style from scratch."), this._updateStyle(e, i);
                    }
                }, r.prototype.getStyle = function() {
                    if (this.style) return this.style.serialize()
                }, r.prototype.isStyleLoaded = function() {
                    return this.style ? this.style.loaded() : t.warnOnce("There is no style added to the map.")
                }, r.prototype.addSource = function(t, e) {
                    return this._lazyInitEmptyStyle(), this.style.addSource(t, e), this._update(!0)
                }, r.prototype.isSourceLoaded = function(e) {
                    var i = this.style && this.style.sourceCaches[e];
                    if (void 0 !== i) return i.loaded();
                    this.fire(new t.ErrorEvent(new Error("There is no source with ID '" + e + "'")));
                }, r.prototype.areTilesLoaded = function() {
                    var t = this.style && this.style.sourceCaches;
                    for (var e in t) {
                        var i = t[e]._tiles;
                        for (var o in i) {
                            var r = i[o];
                            if ("loaded" !== r.state && "errored" !== r.state) return !1
                        }
                    }
                    return !0
                }, r.prototype.addSourceType = function(t, e, i) {
                    return this._lazyInitEmptyStyle(), this.style.addSourceType(t, e, i)
                }, r.prototype.removeSource = function(t) {
                    return this.style.removeSource(t), this._update(!0)
                }, r.prototype.getSource = function(t) {
                    return this.style.getSource(t)
                }, r.prototype.addImage = function(e, i, o) {
                    void 0 === o && (o = {});
                    var r = o.pixelRatio;
                    void 0 === r && (r = 1);
                    var a = o.sdf;
                    void 0 === a && (a = !1);
                    var n = o.stretchX,
                        s = o.stretchY,
                        l = o.content;
                    if (this._lazyInitEmptyStyle(), i instanceof Tr || Ir && i instanceof Ir) {
                        var c = t.browser.getImageData(i);
                        this.style.addImage(e, {
                            data: new t.RGBAImage({
                                width: c.width,
                                height: c.height
                            }, c.data),
                            pixelRatio: r,
                            stretchX: n,
                            stretchY: s,
                            content: l,
                            sdf: a,
                            version: 0
                        });
                    } else {
                        if (void 0 === i.width || void 0 === i.height) return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));
                        var u = i;
                        this.style.addImage(e, {
                            data: new t.RGBAImage({
                                width: i.width,
                                height: i.height
                            }, new Uint8Array(i.data)),
                            pixelRatio: r,
                            stretchX: n,
                            stretchY: s,
                            content: l,
                            sdf: a,
                            version: 0,
                            userImage: u
                        }), u.onAdd && u.onAdd(this, e);
                    }
                }, r.prototype.updateImage = function(e, i) {
                    var o = this.style.getImage(e);
                    if (!o) return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));
                    var r = i instanceof Tr || Ir && i instanceof Ir ? t.browser.getImageData(i) : i,
                        a = r.width,
                        n = r.height,
                        s = r.data;
                    return void 0 === a || void 0 === n ? this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))) : a !== o.data.width || n !== o.data.height ? this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))) : (o.data.replace(s, !(i instanceof Tr || Ir && i instanceof Ir)), void this.style.updateImage(e, o))
                }, r.prototype.hasImage = function(e) {
                    return e ? !!this.style.getImage(e) : (this.fire(new t.ErrorEvent(new Error("Missing required image id"))), !1)
                }, r.prototype.removeImage = function(t) {
                    this.style.removeImage(t);
                }, r.prototype.loadImage = function(e, i) {
                    t.getImage(this._requestManager.transformRequest(e, t.ResourceType.Image), i);
                }, r.prototype.listImages = function() {
                    return this.style.listImages()
                }, r.prototype.addLayer = function(t, e) {
                    return this._lazyInitEmptyStyle(), this.style.addLayer(t, e), this._update(!0)
                }, r.prototype.moveLayer = function(t, e) {
                    return this.style.moveLayer(t, e), this._update(!0)
                }, r.prototype.removeLayer = function(t) {
                    return this.style.removeLayer(t), this._update(!0)
                }, r.prototype.getLayer = function(t) {
                    return this.style.getLayer(t)
                }, r.prototype.setLayerZoomRange = function(t, e, i) {
                    return this.style.setLayerZoomRange(t, e, i), this._update(!0)
                }, r.prototype.setFilter = function(t, e, i) {
                    return void 0 === i && (i = {}), this.style.setFilter(t, e, i), this._update(!0)
                }, r.prototype.getFilter = function(t) {
                    return this.style.getFilter(t)
                }, r.prototype.setPaintProperty = function(t, e, i, o) {
                    return void 0 === o && (o = {}), this.style.setPaintProperty(t, e, i, o), this._update(!0)
                }, r.prototype.getPaintProperty = function(t, e) {
                    return this.style.getPaintProperty(t, e)
                }, r.prototype.setLayoutProperty = function(t, e, i, o) {
                    return void 0 === o && (o = {}), this.style.setLayoutProperty(t, e, i, o), this._update(!0)
                }, r.prototype.getLayoutProperty = function(t, e) {
                    return this.style.getLayoutProperty(t, e)
                }, r.prototype.setLight = function(t, e) {
                    return void 0 === e && (e = {}), this._lazyInitEmptyStyle(), this.style.setLight(t, e), this._update(!0)
                }, r.prototype.getLight = function() {
                    return this.style.getLight()
                }, r.prototype.setFeatureState = function(t, e) {
                    return this.style.setFeatureState(t, e), this._update()
                }, r.prototype.removeFeatureState = function(t, e) {
                    return this.style.removeFeatureState(t, e), this._update()
                }, r.prototype.getFeatureState = function(t) {
                    return this.style.getFeatureState(t)
                }, r.prototype.getContainer = function() {
                    return this._container
                }, r.prototype.getCanvasContainer = function() {
                    return this._canvasContainer
                }, r.prototype.getCanvas = function() {
                    return this._canvas
                }, r.prototype._containerDimensions = function() {
                    var t = 0,
                        e = 0;
                    return this._container && (t = this._container.clientWidth || 400, e = this._container.clientHeight || 300), [t, e]
                }, r.prototype._detectMissingCSS = function() {
                    "rgb(250, 128, 114)" !== t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color") && t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.");
                }, r.prototype._setupContainer = function() {
                    var t = this._container;
                    t.classList.add("mapboxgl-map"), (this._missingCSSCanary = i.create("div", "mapboxgl-canary", t)).style.visibility = "hidden", this._detectMissingCSS();
                    var e = this._canvasContainer = i.create("div", "mapboxgl-canvas-container", t);
                    this._interactive && e.classList.add("mapboxgl-interactive"), this._canvas = i.create("canvas", "mapboxgl-canvas", e), this._canvas.addEventListener("webglcontextlost", this._contextLost, !1), this._canvas.addEventListener("webglcontextrestored", this._contextRestored, !1), this._canvas.setAttribute("tabindex", "0"), this._canvas.setAttribute("aria-label", "Map");
                    var o = this._containerDimensions();
                    this._resizeCanvas(o[0], o[1]);
                    var r = this._controlContainer = i.create("div", "mapboxgl-control-container", t),
                        a = this._controlPositions = {};
                    ["top-left", "top-right", "bottom-left", "bottom-right"].forEach((function(t) {
                        a[t] = i.create("div", "mapboxgl-ctrl-" + t, r);
                    }));
                }, r.prototype._resizeCanvas = function(e, i) {
                    var o = t.browser.devicePixelRatio || 1;
                    this._canvas.width = o * e, this._canvas.height = o * i, this._canvas.style.width = e + "px", this._canvas.style.height = i + "px";
                }, r.prototype._setupPainter = function() {
                    var i = t.extend({}, e.webGLContextAttributes, {
                            failIfMajorPerformanceCaveat: this._failIfMajorPerformanceCaveat,
                            preserveDrawingBuffer: this._preserveDrawingBuffer,
                            antialias: this._antialias || !1
                        }),
                        o = this._canvas.getContext("webgl", i) || this._canvas.getContext("experimental-webgl", i);
                    o ? (this.painter = new yo(o, this.transform), t.webpSupported.testSupport(o)) : this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")));
                }, r.prototype._contextLost = function(e) {
                    e.preventDefault(), this._frame && (this._frame.cancel(), this._frame = null), this.fire(new t.Event("webglcontextlost", {
                        originalEvent: e
                    }));
                }, r.prototype._contextRestored = function(e) {
                    this._setupPainter(), this.resize(), this._update(), this.fire(new t.Event("webglcontextrestored", {
                        originalEvent: e
                    }));
                }, r.prototype.loaded = function() {
                    return !this._styleDirty && !this._sourcesDirty && !!this.style && this.style.loaded()
                }, r.prototype._update = function(t) {
                    return this.style ? (this._styleDirty = this._styleDirty || t, this._sourcesDirty = !0, this.triggerRepaint(), this) : this
                }, r.prototype._requestRenderFrame = function(t) {
                    return this._update(), this._renderTaskQueue.add(t)
                }, r.prototype._cancelRenderFrame = function(t) {
                    this._renderTaskQueue.remove(t);
                }, r.prototype._render = function(e) {
                    var i, o = this,
                        r = 0,
                        a = this.painter.context.extTimerQuery;
                    if (this.listens("gpu-timing-frame") && (i = a.createQueryEXT(), a.beginQueryEXT(a.TIME_ELAPSED_EXT, i), r = t.browser.now()), this.painter.context.setDirty(), this.painter.setBaseState(), this._renderTaskQueue.run(e), !this._removed) {
                        var n = !1;
                        if (this.style && this._styleDirty) {
                            this._styleDirty = !1;
                            var s = this.transform.zoom,
                                l = t.browser.now();
                            this.style.zoomHistory.update(s, l);
                            var c = new t.EvaluationParameters(s, {
                                    now: l,
                                    fadeDuration: this._fadeDuration,
                                    zoomHistory: this.style.zoomHistory,
                                    transition: this.style.getTransition()
                                }),
                                u = c.crossFadingFactor();
                            1 === u && u === this._crossFadingFactor || (n = !0, this._crossFadingFactor = u), this.style.update(c);
                        }
                        if (this.style && this._sourcesDirty && (this._sourcesDirty = !1, this.style._updateSources(this.transform)), this._placementDirty = this.style && this.style._updatePlacement(this.painter.transform, this.showCollisionBoxes, this._fadeDuration, this._crossSourceCollisions), this.painter.render(this.style, {
                                showTileBoundaries: this.showTileBoundaries,
                                showOverdrawInspector: this._showOverdrawInspector,
                                rotating: this.isRotating(),
                                zooming: this.isZooming(),
                                moving: this.isMoving(),
                                fadeDuration: this._fadeDuration,
                                showPadding: this.showPadding,
                                gpuTiming: !!this.listens("gpu-timing-layer")
                            }), this.fire(new t.Event("render")), this.loaded() && !this._loaded && (this._loaded = !0, this.fire(new t.Event("load"))), this.style && (this.style.hasTransitions() || n) && (this._styleDirty = !0), this.style && !this._placementDirty && this.style._releaseSymbolFadeTiles(), this.listens("gpu-timing-frame")) {
                            var h = t.browser.now() - r;
                            a.endQueryEXT(a.TIME_ELAPSED_EXT, i), setTimeout((function() {
                                var e = a.getQueryObjectEXT(i, a.QUERY_RESULT_EXT) / 1e6;
                                a.deleteQueryEXT(i), o.fire(new t.Event("gpu-timing-frame", {
                                    cpuTime: h,
                                    gpuTime: e
                                }));
                            }), 50);
                        }
                        if (this.listens("gpu-timing-layer")) {
                            var p = this.painter.collectGpuTimers();
                            setTimeout((function() {
                                var e = o.painter.queryGpuTimers(p);
                                o.fire(new t.Event("gpu-timing-layer", {
                                    layerTimes: e
                                }));
                            }), 50);
                        }
                        var d = this._sourcesDirty || this._styleDirty || this._placementDirty;
                        return d || this._repaint ? this.triggerRepaint() : !this.isMoving() && this.loaded() && this.fire(new t.Event("idle")), !this._loaded || this._fullyLoaded || d || (this._fullyLoaded = !0), this
                    }
                }, r.prototype.remove = function() {
                    this._hash && this._hash.remove();
                    for (var e = 0, i = this._controls; e < i.length; e += 1) i[e].onRemove(this);
                    this._controls = [], this._frame && (this._frame.cancel(), this._frame = null), this._renderTaskQueue.clear(), this.painter.destroy(), this.handlers.destroy(), delete this.handlers, this.setStyle(null), void 0 !== t.window && (t.window.removeEventListener("resize", this._onWindowResize, !1), t.window.removeEventListener("orientationchange", this._onWindowResize, !1), t.window.removeEventListener("online", this._onWindowOnline, !1));
                    var o = this.painter.context.gl.getExtension("WEBGL_lose_context");
                    o && o.loseContext(), Cr(this._canvasContainer), Cr(this._controlContainer), Cr(this._missingCSSCanary), this._container.classList.remove("mapboxgl-map"), this._removed = !0, this.fire(new t.Event("remove"));
                }, r.prototype.triggerRepaint = function() {
                    var e = this;
                    this.style && !this._frame && (this._frame = t.browser.frame((function(t) {
                        e._frame = null, e._render(t);
                    })));
                }, r.prototype._onWindowOnline = function() {
                    this._update();
                }, r.prototype._onWindowResize = function(t) {
                    this._trackResize && this.resize({
                        originalEvent: t
                    })._update();
                }, a.showTileBoundaries.get = function() {
                    return !!this._showTileBoundaries
                }, a.showTileBoundaries.set = function(t) {
                    this._showTileBoundaries !== t && (this._showTileBoundaries = t, this._update());
                }, a.showPadding.get = function() {
                    return !!this._showPadding
                }, a.showPadding.set = function(t) {
                    this._showPadding !== t && (this._showPadding = t, this._update());
                }, a.showCollisionBoxes.get = function() {
                    return !!this._showCollisionBoxes
                }, a.showCollisionBoxes.set = function(t) {
                    this._showCollisionBoxes !== t && (this._showCollisionBoxes = t, t ? this.style._generateCollisionBoxes() : this._update());
                }, a.showOverdrawInspector.get = function() {
                    return !!this._showOverdrawInspector
                }, a.showOverdrawInspector.set = function(t) {
                    this._showOverdrawInspector !== t && (this._showOverdrawInspector = t, this._update());
                }, a.repaint.get = function() {
                    return !!this._repaint
                }, a.repaint.set = function(t) {
                    this._repaint !== t && (this._repaint = t, this.triggerRepaint());
                }, a.vertices.get = function() {
                    return !!this._vertices
                }, a.vertices.set = function(t) {
                    this._vertices = t, this._update();
                }, r.prototype._setCacheLimits = function(e, i) {
                    t.setCacheLimits(e, i);
                }, a.version.get = function() {
                    return t.version
                }, Object.defineProperties(r.prototype, a), r
            }(vr);

        function Cr(t) {
            t.parentNode && t.parentNode.removeChild(t);
        }
        var zr = {
                showCompass: !0,
                showZoom: !0,
                visualizePitch: !1
            },
            Dr = function(e) {
                var o = this;
                this.options = t.extend({}, zr, e), this._container = i.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), this._container.addEventListener("contextmenu", (function(t) {
                    return t.preventDefault()
                })), this.options.showZoom && (t.bindAll(["_setButtonTitle", "_updateZoomButtons"], this), this._zoomInButton = this._createButton("mapboxgl-ctrl-zoom-in", (function(t) {
                    return o._map.zoomIn({}, {
                        originalEvent: t
                    })
                })), i.create("span", "mapboxgl-ctrl-icon", this._zoomInButton).setAttribute("aria-hidden", !0), this._zoomOutButton = this._createButton("mapboxgl-ctrl-zoom-out", (function(t) {
                    return o._map.zoomOut({}, {
                        originalEvent: t
                    })
                })), i.create("span", "mapboxgl-ctrl-icon", this._zoomOutButton).setAttribute("aria-hidden", !0)), this.options.showCompass && (t.bindAll(["_rotateCompassArrow"], this), this._compass = this._createButton("mapboxgl-ctrl-compass", (function(t) {
                    o.options.visualizePitch ? o._map.resetNorthPitch({}, {
                        originalEvent: t
                    }) : o._map.resetNorth({}, {
                        originalEvent: t
                    });
                })), this._compassIcon = i.create("span", "mapboxgl-ctrl-icon", this._compass), this._compassIcon.setAttribute("aria-hidden", !0));
            };
        Dr.prototype._updateZoomButtons = function() {
            var t = this._map.getZoom();
            this._zoomInButton.disabled = t === this._map.getMaxZoom(), this._zoomOutButton.disabled = t === this._map.getMinZoom();
        }, Dr.prototype._rotateCompassArrow = function() {
            var t = this.options.visualizePitch ? "scale(" + 1 / Math.pow(Math.cos(this._map.transform.pitch * (Math.PI / 180)), .5) + ") rotateX(" + this._map.transform.pitch + "deg) rotateZ(" + this._map.transform.angle * (180 / Math.PI) + "deg)" : "rotate(" + this._map.transform.angle * (180 / Math.PI) + "deg)";
            this._compassIcon.style.transform = t;
        }, Dr.prototype.onAdd = function(t) {
            return this._map = t, this.options.showZoom && (this._setButtonTitle(this._zoomInButton, "ZoomIn"), this._setButtonTitle(this._zoomOutButton, "ZoomOut"), this._map.on("zoom", this._updateZoomButtons), this._updateZoomButtons()), this.options.showCompass && (this._setButtonTitle(this._compass, "ResetBearing"), this.options.visualizePitch && this._map.on("pitch", this._rotateCompassArrow), this._map.on("rotate", this._rotateCompassArrow), this._rotateCompassArrow(), this._handler = new Mr(this._map, this._compass, this.options.visualizePitch)), this._container
        }, Dr.prototype.onRemove = function() {
            i.remove(this._container), this.options.showZoom && this._map.off("zoom", this._updateZoomButtons), this.options.showCompass && (this.options.visualizePitch && this._map.off("pitch", this._rotateCompassArrow), this._map.off("rotate", this._rotateCompassArrow), this._handler.off(), delete this._handler), delete this._map;
        }, Dr.prototype._createButton = function(t, e) {
            var o = i.create("button", t, this._container);
            return o.type = "button", o.addEventListener("click", e), o
        }, Dr.prototype._setButtonTitle = function(t, e) {
            var i = this._map._getUIString("NavigationControl." + e);
            t.title = i, t.setAttribute("aria-label", i);
        };
        var Mr = function(e, o, r) {
            void 0 === r && (r = !1), this._clickTolerance = 10, this.element = o, this.mouseRotate = new Xo({
                clickTolerance: e.dragRotate._mouseRotate._clickTolerance
            }), this.map = e, r && (this.mousePitch = new Ho({
                clickTolerance: e.dragRotate._mousePitch._clickTolerance
            })), t.bindAll(["mousedown", "mousemove", "mouseup", "touchstart", "touchmove", "touchend", "reset"], this), i.addEventListener(o, "mousedown", this.mousedown), i.addEventListener(o, "touchstart", this.touchstart, {
                passive: !1
            }), i.addEventListener(o, "touchmove", this.touchmove), i.addEventListener(o, "touchend", this.touchend), i.addEventListener(o, "touchcancel", this.reset);
        };

        function Lr(e, i, o) {
            if (e = new t.LngLat(e.lng, e.lat), i) {
                var r = new t.LngLat(e.lng - 360, e.lat),
                    a = new t.LngLat(e.lng + 360, e.lat),
                    n = o.locationPoint(e).distSqr(i);
                o.locationPoint(r).distSqr(i) < n ? e = r : o.locationPoint(a).distSqr(i) < n && (e = a);
            }
            for (; Math.abs(e.lng - o.center.lng) > 180;) {
                var s = o.locationPoint(e);
                if (s.x >= 0 && s.y >= 0 && s.x <= o.width && s.y <= o.height) break;
                e.lng > o.center.lng ? e.lng -= 360 : e.lng += 360;
            }
            return e
        }
        Mr.prototype.down = function(t, e) {
            this.mouseRotate.mousedown(t, e), this.mousePitch && this.mousePitch.mousedown(t, e), i.disableDrag();
        }, Mr.prototype.move = function(t, e) {
            var i = this.map,
                o = this.mouseRotate.mousemoveWindow(t, e);
            if (o && o.bearingDelta && i.setBearing(i.getBearing() + o.bearingDelta), this.mousePitch) {
                var r = this.mousePitch.mousemoveWindow(t, e);
                r && r.pitchDelta && i.setPitch(i.getPitch() + r.pitchDelta);
            }
        }, Mr.prototype.off = function() {
            var t = this.element;
            i.removeEventListener(t, "mousedown", this.mousedown), i.removeEventListener(t, "touchstart", this.touchstart, {
                passive: !1
            }), i.removeEventListener(t, "touchmove", this.touchmove), i.removeEventListener(t, "touchend", this.touchend), i.removeEventListener(t, "touchcancel", this.reset), this.offTemp();
        }, Mr.prototype.offTemp = function() {
            i.enableDrag(), i.removeEventListener(t.window, "mousemove", this.mousemove), i.removeEventListener(t.window, "mouseup", this.mouseup);
        }, Mr.prototype.mousedown = function(e) {
            this.down(t.extend({}, e, {
                ctrlKey: !0,
                preventDefault: function() {
                    return e.preventDefault()
                }
            }), i.mousePos(this.element, e)), i.addEventListener(t.window, "mousemove", this.mousemove), i.addEventListener(t.window, "mouseup", this.mouseup);
        }, Mr.prototype.mousemove = function(t) {
            this.move(t, i.mousePos(this.element, t));
        }, Mr.prototype.mouseup = function(t) {
            this.mouseRotate.mouseupWindow(t), this.mousePitch && this.mousePitch.mouseupWindow(t), this.offTemp();
        }, Mr.prototype.touchstart = function(t) {
            1 !== t.targetTouches.length ? this.reset() : (this._startPos = this._lastPos = i.touchPos(this.element, t.targetTouches)[0], this.down({
                type: "mousedown",
                button: 0,
                ctrlKey: !0,
                preventDefault: function() {
                    return t.preventDefault()
                }
            }, this._startPos));
        }, Mr.prototype.touchmove = function(t) {
            1 !== t.targetTouches.length ? this.reset() : (this._lastPos = i.touchPos(this.element, t.targetTouches)[0], this.move({
                preventDefault: function() {
                    return t.preventDefault()
                }
            }, this._lastPos));
        }, Mr.prototype.touchend = function(t) {
            0 === t.targetTouches.length && this._startPos && this._lastPos && this._startPos.dist(this._lastPos) < this._clickTolerance && this.element.click(), this.reset();
        }, Mr.prototype.reset = function() {
            this.mouseRotate.reset(), this.mousePitch && this.mousePitch.reset(), delete this._startPos, delete this._lastPos, this.offTemp();
        };
        var Ar = {
            center: "translate(-50%,-50%)",
            top: "translate(-50%,0)",
            "top-left": "translate(0,0)",
            "top-right": "translate(-100%,0)",
            bottom: "translate(-50%,-100%)",
            "bottom-left": "translate(0,-100%)",
            "bottom-right": "translate(-100%,-100%)",
            left: "translate(0,-50%)",
            right: "translate(-100%,-50%)"
        };

        function Rr(t, e, i) {
            var o = t.classList;
            for (var r in Ar) o.remove("mapboxgl-" + i + "-anchor-" + r);
            o.add("mapboxgl-" + i + "-anchor-" + e);
        }
        var kr, Br = function(e) {
                function o(o, r) {
                    var a = this;
                    if (e.call(this), (o instanceof t.window.HTMLElement || r) && (o = t.extend({
                            element: o
                        }, r)), t.bindAll(["_update", "_onMove", "_onUp", "_addDragHandler", "_onMapClick", "_onKeyPress"], this), this._anchor = o && o.anchor || "center", this._color = o && o.color || "#3FB1CE", this._scale = o && o.scale || 1, this._draggable = o && o.draggable || !1, this._state = "inactive", this._rotation = o && o.rotation || 0, this._rotationAlignment = o && o.rotationAlignment || "auto", this._pitchAlignment = o && o.pitchAlignment && "auto" !== o.pitchAlignment ? o.pitchAlignment : this._rotationAlignment, o && o.element) this._element = o.element, this._offset = t.Point.convert(o && o.offset || [0, 0]);
                    else {
                        this._defaultMarker = !0, this._element = i.create("div"), this._element.setAttribute("aria-label", "Map marker");
                        var n = i.createNS("http://www.w3.org/2000/svg", "svg");
                        n.setAttributeNS(null, "display", "block"), n.setAttributeNS(null, "height", "41px"), n.setAttributeNS(null, "width", "27px"), n.setAttributeNS(null, "viewBox", "0 0 27 41");
                        var s = i.createNS("http://www.w3.org/2000/svg", "g");
                        s.setAttributeNS(null, "stroke", "none"), s.setAttributeNS(null, "stroke-width", "1"), s.setAttributeNS(null, "fill", "none"), s.setAttributeNS(null, "fill-rule", "evenodd");
                        var l = i.createNS("http://www.w3.org/2000/svg", "g");
                        l.setAttributeNS(null, "fill-rule", "nonzero");
                        var c = i.createNS("http://www.w3.org/2000/svg", "g");
                        c.setAttributeNS(null, "transform", "translate(3.0, 29.0)"), c.setAttributeNS(null, "fill", "#000000");
                        for (var u = 0, h = [{
                                rx: "10.5",
                                ry: "5.25002273"
                            }, {
                                rx: "10.5",
                                ry: "5.25002273"
                            }, {
                                rx: "9.5",
                                ry: "4.77275007"
                            }, {
                                rx: "8.5",
                                ry: "4.29549936"
                            }, {
                                rx: "7.5",
                                ry: "3.81822308"
                            }, {
                                rx: "6.5",
                                ry: "3.34094679"
                            }, {
                                rx: "5.5",
                                ry: "2.86367051"
                            }, {
                                rx: "4.5",
                                ry: "2.38636864"
                            }]; u < h.length; u += 1) {
                            var p = h[u],
                                d = i.createNS("http://www.w3.org/2000/svg", "ellipse");
                            d.setAttributeNS(null, "opacity", "0.04"), d.setAttributeNS(null, "cx", "10.5"), d.setAttributeNS(null, "cy", "5.80029008"), d.setAttributeNS(null, "rx", p.rx), d.setAttributeNS(null, "ry", p.ry), c.appendChild(d);
                        }
                        var _ = i.createNS("http://www.w3.org/2000/svg", "g");
                        _.setAttributeNS(null, "fill", this._color);
                        var f = i.createNS("http://www.w3.org/2000/svg", "path");
                        f.setAttributeNS(null, "d", "M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"), _.appendChild(f);
                        var m = i.createNS("http://www.w3.org/2000/svg", "g");
                        m.setAttributeNS(null, "opacity", "0.25"), m.setAttributeNS(null, "fill", "#000000");
                        var g = i.createNS("http://www.w3.org/2000/svg", "path");
                        g.setAttributeNS(null, "d", "M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"), m.appendChild(g);
                        var v = i.createNS("http://www.w3.org/2000/svg", "g");
                        v.setAttributeNS(null, "transform", "translate(6.0, 7.0)"), v.setAttributeNS(null, "fill", "#FFFFFF");
                        var y = i.createNS("http://www.w3.org/2000/svg", "g");
                        y.setAttributeNS(null, "transform", "translate(8.0, 8.0)");
                        var x = i.createNS("http://www.w3.org/2000/svg", "circle");
                        x.setAttributeNS(null, "fill", "#000000"), x.setAttributeNS(null, "opacity", "0.25"), x.setAttributeNS(null, "cx", "5.5"), x.setAttributeNS(null, "cy", "5.5"), x.setAttributeNS(null, "r", "5.4999962");
                        var b = i.createNS("http://www.w3.org/2000/svg", "circle");
                        b.setAttributeNS(null, "fill", "#FFFFFF"), b.setAttributeNS(null, "cx", "5.5"), b.setAttributeNS(null, "cy", "5.5"), b.setAttributeNS(null, "r", "5.4999962"), y.appendChild(x), y.appendChild(b), l.appendChild(c), l.appendChild(_), l.appendChild(m), l.appendChild(v), l.appendChild(y), n.appendChild(l), n.setAttributeNS(null, "height", 41 * this._scale + "px"), n.setAttributeNS(null, "width", 27 * this._scale + "px"), this._element.appendChild(n), this._offset = t.Point.convert(o && o.offset || [0, -14]);
                    }
                    this._element.classList.add("mapboxgl-marker"), this._element.addEventListener("dragstart", (function(t) {
                        t.preventDefault();
                    })), this._element.addEventListener("mousedown", (function(t) {
                        t.preventDefault();
                    })), this._element.addEventListener("focus", (function() {
                        var t = a._map.getContainer();
                        t.scrollTop = 0, t.scrollLeft = 0;
                    })), Rr(this._element, this._anchor, "marker"), this._popup = null;
                }
                return e && (o.__proto__ = e), (o.prototype = Object.create(e && e.prototype)).constructor = o, o.prototype.addTo = function(t) {
                    return this.remove(), this._map = t, t.getCanvasContainer().appendChild(this._element), t.on("move", this._update), t.on("moveend", this._update), this.setDraggable(this._draggable), this._update(), this._map.on("click", this._onMapClick), this
                }, o.prototype.remove = function() {
                    return this._map && (this._map.off("click", this._onMapClick), this._map.off("move", this._update), this._map.off("moveend", this._update), this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler), this._map.off("mouseup", this._onUp), this._map.off("touchend", this._onUp), this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), delete this._map), i.remove(this._element), this._popup && this._popup.remove(), this
                }, o.prototype.getLngLat = function() {
                    return this._lngLat
                }, o.prototype.setLngLat = function(e) {
                    return this._lngLat = t.LngLat.convert(e), this._pos = null, this._popup && this._popup.setLngLat(this._lngLat), this._update(), this
                }, o.prototype.getElement = function() {
                    return this._element
                }, o.prototype.setPopup = function(t) {
                    if (this._popup && (this._popup.remove(), this._popup = null, this._element.removeEventListener("keypress", this._onKeyPress), this._originalTabIndex || this._element.removeAttribute("tabindex")), t) {
                        if (!("offset" in t.options)) {
                            var e = Math.sqrt(Math.pow(13.5, 2) / 2);
                            t.options.offset = this._defaultMarker ? {
                                top: [0, 0],
                                "top-left": [0, 0],
                                "top-right": [0, 0],
                                bottom: [0, -38.1],
                                "bottom-left": [e, -1 * (24.6 + e)],
                                "bottom-right": [-e, -1 * (24.6 + e)],
                                left: [13.5, -24.6],
                                right: [-13.5, -24.6]
                            } : this._offset;
                        }
                        this._popup = t, this._lngLat && this._popup.setLngLat(this._lngLat), this._originalTabIndex = this._element.getAttribute("tabindex"), this._originalTabIndex || this._element.setAttribute("tabindex", "0"), this._element.addEventListener("keypress", this._onKeyPress);
                    }
                    return this
                }, o.prototype._onKeyPress = function(t) {
                    var e = t.code,
                        i = t.charCode || t.keyCode;
                    "Space" !== e && "Enter" !== e && 32 !== i && 13 !== i || this.togglePopup();
                }, o.prototype._onMapClick = function(t) {
                    var e = t.originalEvent.target,
                        i = this._element;
                    this._popup && (e === i || i.contains(e)) && this.togglePopup();
                }, o.prototype.getPopup = function() {
                    return this._popup
                }, o.prototype.togglePopup = function() {
                    var t = this._popup;
                    return t ? (t.isOpen() ? t.remove() : t.addTo(this._map), this) : this
                }, o.prototype._update = function(t) {
                    if (this._map) {
                        this._map.transform.renderWorldCopies && (this._lngLat = Lr(this._lngLat, this._pos, this._map.transform)), this._pos = this._map.project(this._lngLat)._add(this._offset);
                        var e = "";
                        "viewport" === this._rotationAlignment || "auto" === this._rotationAlignment ? e = "rotateZ(" + this._rotation + "deg)" : "map" === this._rotationAlignment && (e = "rotateZ(" + (this._rotation - this._map.getBearing()) + "deg)");
                        var o = "";
                        "viewport" === this._pitchAlignment || "auto" === this._pitchAlignment ? o = "rotateX(0deg)" : "map" === this._pitchAlignment && (o = "rotateX(" + this._map.getPitch() + "deg)"), t && "moveend" !== t.type || (this._pos = this._pos.round()), i.setTransform(this._element, Ar[this._anchor] + " translate(" + this._pos.x + "px, " + this._pos.y + "px) " + o + " " + e);
                    }
                }, o.prototype.getOffset = function() {
                    return this._offset
                }, o.prototype.setOffset = function(e) {
                    return this._offset = t.Point.convert(e), this._update(), this
                }, o.prototype._onMove = function(e) {
                    this._pos = e.point.sub(this._positionDelta), this._lngLat = this._map.unproject(this._pos), this.setLngLat(this._lngLat), this._element.style.pointerEvents = "none", "pending" === this._state && (this._state = "active", this.fire(new t.Event("dragstart"))), this.fire(new t.Event("drag"));
                }, o.prototype._onUp = function() {
                    this._element.style.pointerEvents = "auto", this._positionDelta = null, this._map.off("mousemove", this._onMove), this._map.off("touchmove", this._onMove), "active" === this._state && this.fire(new t.Event("dragend")), this._state = "inactive";
                }, o.prototype._addDragHandler = function(t) {
                    this._element.contains(t.originalEvent.target) && (t.preventDefault(), this._positionDelta = t.point.sub(this._pos).add(this._offset), this._state = "pending", this._map.on("mousemove", this._onMove), this._map.on("touchmove", this._onMove), this._map.once("mouseup", this._onUp), this._map.once("touchend", this._onUp));
                }, o.prototype.setDraggable = function(t) {
                    return this._draggable = !!t, this._map && (t ? (this._map.on("mousedown", this._addDragHandler), this._map.on("touchstart", this._addDragHandler)) : (this._map.off("mousedown", this._addDragHandler), this._map.off("touchstart", this._addDragHandler))), this
                }, o.prototype.isDraggable = function() {
                    return this._draggable
                }, o.prototype.setRotation = function(t) {
                    return this._rotation = t || 0, this._update(), this
                }, o.prototype.getRotation = function() {
                    return this._rotation
                }, o.prototype.setRotationAlignment = function(t) {
                    return this._rotationAlignment = t || "auto", this._update(), this
                }, o.prototype.getRotationAlignment = function() {
                    return this._rotationAlignment
                }, o.prototype.setPitchAlignment = function(t) {
                    return this._pitchAlignment = t && "auto" !== t ? t : this._rotationAlignment, this._update(), this
                }, o.prototype.getPitchAlignment = function() {
                    return this._pitchAlignment
                }, o
            }(t.Evented),
            Or = {
                positionOptions: {
                    enableHighAccuracy: !1,
                    maximumAge: 0,
                    timeout: 6e3
                },
                fitBoundsOptions: {
                    maxZoom: 15
                },
                trackUserLocation: !1,
                showAccuracyCircle: !0,
                showUserLocation: !0
            },
            Fr = 0,
            Ur = !1,
            Nr = function(e) {
                function o(i) {
                    e.call(this), this.options = t.extend({}, Or, i), t.bindAll(["_onSuccess", "_onError", "_onZoom", "_finish", "_setupUI", "_updateCamera", "_updateMarker"], this);
                }
                return e && (o.__proto__ = e), (o.prototype = Object.create(e && e.prototype)).constructor = o, o.prototype.onAdd = function(e) {
                    var o;
                    return this._map = e, this._container = i.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), o = this._setupUI, void 0 !== kr ? o(kr) : void 0 !== t.window.navigator.permissions ? t.window.navigator.permissions.query({
                        name: "geolocation"
                    }).then((function(t) {
                        o(kr = "denied" !== t.state);
                    })) : o(kr = !!t.window.navigator.geolocation), this._container
                }, o.prototype.onRemove = function() {
                    void 0 !== this._geolocationWatchID && (t.window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0), this.options.showUserLocation && this._userLocationDotMarker && this._userLocationDotMarker.remove(), this.options.showAccuracyCircle && this._accuracyCircleMarker && this._accuracyCircleMarker.remove(), i.remove(this._container), this._map.off("zoom", this._onZoom), this._map = void 0, Fr = 0, Ur = !1;
                }, o.prototype._isOutOfMapMaxBounds = function(t) {
                    var e = this._map.getMaxBounds(),
                        i = t.coords;
                    return e && (i.longitude < e.getWest() || i.longitude > e.getEast() || i.latitude < e.getSouth() || i.latitude > e.getNorth())
                }, o.prototype._setErrorState = function() {
                    switch (this._watchState) {
                        case "WAITING_ACTIVE":
                            this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");
                            break;
                        case "ACTIVE_LOCK":
                            this._watchState = "ACTIVE_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");
                            break;
                        case "BACKGROUND":
                            this._watchState = "BACKGROUND_ERROR", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");
                    }
                }, o.prototype._onSuccess = function(e) {
                    if (this._map) {
                        if (this._isOutOfMapMaxBounds(e)) return this._setErrorState(), this.fire(new t.Event("outofmaxbounds", e)), this._updateMarker(), void this._finish();
                        if (this.options.trackUserLocation) switch (this._lastKnownPosition = e, this._watchState) {
                            case "WAITING_ACTIVE":
                            case "ACTIVE_LOCK":
                            case "ACTIVE_ERROR":
                                this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                break;
                            case "BACKGROUND":
                            case "BACKGROUND_ERROR":
                                this._watchState = "BACKGROUND", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");
                        }
                        this.options.showUserLocation && "OFF" !== this._watchState && this._updateMarker(e), this.options.trackUserLocation && "ACTIVE_LOCK" !== this._watchState || this._updateCamera(e), this.options.showUserLocation && this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"), this.fire(new t.Event("geolocate", e)), this._finish();
                    }
                }, o.prototype._updateCamera = function(e) {
                    var i = new t.LngLat(e.coords.longitude, e.coords.latitude),
                        o = e.coords.accuracy,
                        r = this._map.getBearing(),
                        a = t.extend({
                            bearing: r
                        }, this.options.fitBoundsOptions);
                    this._map.fitBounds(i.toBounds(o), a, {
                        geolocateSource: !0
                    });
                }, o.prototype._updateMarker = function(e) {
                    if (e) {
                        var i = new t.LngLat(e.coords.longitude, e.coords.latitude);
                        this._accuracyCircleMarker.setLngLat(i).addTo(this._map), this._userLocationDotMarker.setLngLat(i).addTo(this._map), this._accuracy = e.coords.accuracy, this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
                    } else this._userLocationDotMarker.remove(), this._accuracyCircleMarker.remove();
                }, o.prototype._updateCircleRadius = function() {
                    var t = this._map._container.clientHeight / 2,
                        e = this._map.unproject([0, t]),
                        i = this._map.unproject([1, t]),
                        o = e.distanceTo(i),
                        r = Math.ceil(2 * this._accuracy / o);
                    this._circleElement.style.width = r + "px", this._circleElement.style.height = r + "px";
                }, o.prototype._onZoom = function() {
                    this.options.showUserLocation && this.options.showAccuracyCircle && this._updateCircleRadius();
                }, o.prototype._onError = function(e) {
                    if (this._map) {
                        if (this.options.trackUserLocation)
                            if (1 === e.code) {
                                this._watchState = "OFF", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this._geolocateButton.disabled = !0;
                                var i = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                                this._geolocateButton.title = i, this._geolocateButton.setAttribute("aria-label", i), void 0 !== this._geolocationWatchID && this._clearWatch();
                            } else {
                                if (3 === e.code && Ur) return;
                                this._setErrorState();
                            }
                        "OFF" !== this._watchState && this.options.showUserLocation && this._dotElement.classList.add("mapboxgl-user-location-dot-stale"), this.fire(new t.Event("error", e)), this._finish();
                    }
                }, o.prototype._finish = function() {
                    this._timeoutId && clearTimeout(this._timeoutId), this._timeoutId = void 0;
                }, o.prototype._setupUI = function(e) {
                    var o = this;
                    if (this._container.addEventListener("contextmenu", (function(t) {
                            return t.preventDefault()
                        })), this._geolocateButton = i.create("button", "mapboxgl-ctrl-geolocate", this._container), i.create("span", "mapboxgl-ctrl-icon", this._geolocateButton).setAttribute("aria-hidden", !0), this._geolocateButton.type = "button", !1 === e) {
                        t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");
                        var r = this._map._getUIString("GeolocateControl.LocationNotAvailable");
                        this._geolocateButton.disabled = !0, this._geolocateButton.title = r, this._geolocateButton.setAttribute("aria-label", r);
                    } else {
                        var a = this._map._getUIString("GeolocateControl.FindMyLocation");
                        this._geolocateButton.title = a, this._geolocateButton.setAttribute("aria-label", a);
                    }
                    this.options.trackUserLocation && (this._geolocateButton.setAttribute("aria-pressed", "false"), this._watchState = "OFF"), this.options.showUserLocation && (this._dotElement = i.create("div", "mapboxgl-user-location-dot"), this._userLocationDotMarker = new Br(this._dotElement), this._circleElement = i.create("div", "mapboxgl-user-location-accuracy-circle"), this._accuracyCircleMarker = new Br({
                        element: this._circleElement,
                        pitchAlignment: "map"
                    }), this.options.trackUserLocation && (this._watchState = "OFF"), this._map.on("zoom", this._onZoom)), this._geolocateButton.addEventListener("click", this.trigger.bind(this)), this._setup = !0, this.options.trackUserLocation && this._map.on("movestart", (function(e) {
                        e.geolocateSource || "ACTIVE_LOCK" !== o._watchState || e.originalEvent && "resize" === e.originalEvent.type || (o._watchState = "BACKGROUND", o._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"), o._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), o.fire(new t.Event("trackuserlocationend")));
                    }));
                }, o.prototype.trigger = function() {
                    if (!this._setup) return t.warnOnce("Geolocate control triggered before added to a map"), !1;
                    if (this.options.trackUserLocation) {
                        switch (this._watchState) {
                            case "OFF":
                                this._watchState = "WAITING_ACTIVE", this.fire(new t.Event("trackuserlocationstart"));
                                break;
                            case "WAITING_ACTIVE":
                            case "ACTIVE_LOCK":
                            case "ACTIVE_ERROR":
                            case "BACKGROUND_ERROR":
                                Fr--, Ur = !1, this._watchState = "OFF", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"), this.fire(new t.Event("trackuserlocationend"));
                                break;
                            case "BACKGROUND":
                                this._watchState = "ACTIVE_LOCK", this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"), this._lastKnownPosition && this._updateCamera(this._lastKnownPosition), this.fire(new t.Event("trackuserlocationstart"));
                        }
                        switch (this._watchState) {
                            case "WAITING_ACTIVE":
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                break;
                            case "ACTIVE_LOCK":
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");
                                break;
                            case "ACTIVE_ERROR":
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");
                                break;
                            case "BACKGROUND":
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");
                                break;
                            case "BACKGROUND_ERROR":
                                this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");
                        }
                        if ("OFF" === this._watchState && void 0 !== this._geolocationWatchID) this._clearWatch();
                        else if (void 0 === this._geolocationWatchID) {
                            var e;
                            this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "true"), ++Fr > 1 ? (e = {
                                maximumAge: 6e5,
                                timeout: 0
                            }, Ur = !0) : (e = this.options.positionOptions, Ur = !1), this._geolocationWatchID = t.window.navigator.geolocation.watchPosition(this._onSuccess, this._onError, e);
                        }
                    } else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess, this._onError, this.options.positionOptions), this._timeoutId = setTimeout(this._finish, 1e4);
                    return !0
                }, o.prototype._clearWatch = function() {
                    t.window.navigator.geolocation.clearWatch(this._geolocationWatchID), this._geolocationWatchID = void 0, this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"), this._geolocateButton.setAttribute("aria-pressed", "false"), this.options.showUserLocation && this._updateMarker(null);
                }, o
            }(t.Evented),
            Zr = {
                maxWidth: 100,
                unit: "metric"
            },
            qr = function(e) {
                this.options = t.extend({}, Zr, e), t.bindAll(["_onMove", "setUnit"], this);
            };

        function jr(t, e, i) {
            var o = i && i.maxWidth || 100,
                r = t._container.clientHeight / 2,
                a = t.unproject([0, r]),
                n = t.unproject([o, r]),
                s = a.distanceTo(n);
            if (i && "imperial" === i.unit) {
                var l = 3.2808 * s;
                l > 5280 ? Vr(e, o, l / 5280, t._getUIString("ScaleControl.Miles")) : Vr(e, o, l, t._getUIString("ScaleControl.Feet"));
            } else i && "nautical" === i.unit ? Vr(e, o, s / 1852, t._getUIString("ScaleControl.NauticalMiles")) : s >= 1e3 ? Vr(e, o, s / 1e3, t._getUIString("ScaleControl.Kilometers")) : Vr(e, o, s, t._getUIString("ScaleControl.Meters"));
        }

        function Vr(t, e, i, o) {
            var r, a, n, s = (r = i, (a = Math.pow(10, ("" + Math.floor(r)).length - 1)) * (n = (n = r / a) >= 10 ? 10 : n >= 5 ? 5 : n >= 3 ? 3 : n >= 2 ? 2 : n >= 1 ? 1 : function(t) {
                var e = Math.pow(10, Math.ceil(-Math.log(t) / Math.LN10));
                return Math.round(t * e) / e
            }(n)));
            t.style.width = e * (s / i) + "px", t.innerHTML = s + "&nbsp;" + o;
        }
        qr.prototype.getDefaultPosition = function() {
            return "bottom-left"
        }, qr.prototype._onMove = function() {
            jr(this._map, this._container, this.options);
        }, qr.prototype.onAdd = function(t) {
            return this._map = t, this._container = i.create("div", "mapboxgl-ctrl mapboxgl-ctrl-scale", t.getContainer()), this._map.on("move", this._onMove), this._onMove(), this._container
        }, qr.prototype.onRemove = function() {
            i.remove(this._container), this._map.off("move", this._onMove), this._map = void 0;
        }, qr.prototype.setUnit = function(t) {
            this.options.unit = t, jr(this._map, this._container, this.options);
        };
        var Gr = function(e) {
            this._fullscreen = !1, e && e.container && (e.container instanceof t.window.HTMLElement ? this._container = e.container : t.warnOnce("Full screen control 'container' must be a DOM element.")), t.bindAll(["_onClickFullscreen", "_changeIcon"], this), "onfullscreenchange" in t.window.document ? this._fullscreenchange = "fullscreenchange" : "onmozfullscreenchange" in t.window.document ? this._fullscreenchange = "mozfullscreenchange" : "onwebkitfullscreenchange" in t.window.document ? this._fullscreenchange = "webkitfullscreenchange" : "onmsfullscreenchange" in t.window.document && (this._fullscreenchange = "MSFullscreenChange");
        };
        Gr.prototype.onAdd = function(e) {
            return this._map = e, this._container || (this._container = this._map.getContainer()), this._controlContainer = i.create("div", "mapboxgl-ctrl mapboxgl-ctrl-group"), this._checkFullscreenSupport() ? this._setupUI() : (this._controlContainer.style.display = "none", t.warnOnce("This device does not support fullscreen mode.")), this._controlContainer
        }, Gr.prototype.onRemove = function() {
            i.remove(this._controlContainer), this._map = null, t.window.document.removeEventListener(this._fullscreenchange, this._changeIcon);
        }, Gr.prototype._checkFullscreenSupport = function() {
            return !!(t.window.document.fullscreenEnabled || t.window.document.mozFullScreenEnabled || t.window.document.msFullscreenEnabled || t.window.document.webkitFullscreenEnabled)
        }, Gr.prototype._setupUI = function() {
            var e = this._fullscreenButton = i.create("button", "mapboxgl-ctrl-fullscreen", this._controlContainer);
            i.create("span", "mapboxgl-ctrl-icon", e).setAttribute("aria-hidden", !0), e.type = "button", this._updateTitle(), this._fullscreenButton.addEventListener("click", this._onClickFullscreen), t.window.document.addEventListener(this._fullscreenchange, this._changeIcon);
        }, Gr.prototype._updateTitle = function() {
            var t = this._getTitle();
            this._fullscreenButton.setAttribute("aria-label", t), this._fullscreenButton.title = t;
        }, Gr.prototype._getTitle = function() {
            return this._map._getUIString(this._isFullscreen() ? "FullscreenControl.Exit" : "FullscreenControl.Enter")
        }, Gr.prototype._isFullscreen = function() {
            return this._fullscreen
        }, Gr.prototype._changeIcon = function() {
            (t.window.document.fullscreenElement || t.window.document.mozFullScreenElement || t.window.document.webkitFullscreenElement || t.window.document.msFullscreenElement) === this._container !== this._fullscreen && (this._fullscreen = !this._fullscreen, this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"), this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"), this._updateTitle());
        }, Gr.prototype._onClickFullscreen = function() {
            this._isFullscreen() ? t.window.document.exitFullscreen ? t.window.document.exitFullscreen() : t.window.document.mozCancelFullScreen ? t.window.document.mozCancelFullScreen() : t.window.document.msExitFullscreen ? t.window.document.msExitFullscreen() : t.window.document.webkitCancelFullScreen && t.window.document.webkitCancelFullScreen() : this._container.requestFullscreen ? this._container.requestFullscreen() : this._container.mozRequestFullScreen ? this._container.mozRequestFullScreen() : this._container.msRequestFullscreen ? this._container.msRequestFullscreen() : this._container.webkitRequestFullscreen && this._container.webkitRequestFullscreen();
        };
        var Wr = {
                closeButton: !0,
                closeOnClick: !0,
                className: "",
                maxWidth: "240px"
            },
            Xr = function(e) {
                function o(i) {
                    e.call(this), this.options = t.extend(Object.create(Wr), i), t.bindAll(["_update", "_onClose", "remove", "_onMouseMove", "_onMouseUp", "_onDrag"], this);
                }
                return e && (o.__proto__ = e), (o.prototype = Object.create(e && e.prototype)).constructor = o, o.prototype.addTo = function(e) {
                    return this._map && this.remove(), this._map = e, this.options.closeOnClick && this._map.on("click", this._onClose), this.options.closeOnMove && this._map.on("move", this._onClose), this._map.on("remove", this.remove), this._update(), this._trackPointer ? (this._map.on("mousemove", this._onMouseMove), this._map.on("mouseup", this._onMouseUp), this._container && this._container.classList.add("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("mapboxgl-track-pointer")) : this._map.on("move", this._update), this.fire(new t.Event("open")), this
                }, o.prototype.isOpen = function() {
                    return !!this._map
                }, o.prototype.remove = function() {
                    return this._content && i.remove(this._content), this._container && (i.remove(this._container), delete this._container), this._map && (this._map.off("move", this._update), this._map.off("move", this._onClose), this._map.off("click", this._onClose), this._map.off("remove", this.remove), this._map.off("mousemove", this._onMouseMove), this._map.off("mouseup", this._onMouseUp), this._map.off("drag", this._onDrag), delete this._map), this.fire(new t.Event("close")), this
                }, o.prototype.getLngLat = function() {
                    return this._lngLat
                }, o.prototype.setLngLat = function(e) {
                    return this._lngLat = t.LngLat.convert(e), this._pos = null, this._trackPointer = !1, this._update(), this._map && (this._map.on("move", this._update), this._map.off("mousemove", this._onMouseMove), this._container && this._container.classList.remove("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")), this
                }, o.prototype.trackPointer = function() {
                    return this._trackPointer = !0, this._pos = null, this._update(), this._map && (this._map.off("move", this._update), this._map.on("mousemove", this._onMouseMove), this._map.on("drag", this._onDrag), this._container && this._container.classList.add("mapboxgl-popup-track-pointer"), this._map._canvasContainer.classList.add("mapboxgl-track-pointer")), this
                }, o.prototype.getElement = function() {
                    return this._container
                }, o.prototype.setText = function(e) {
                    return this.setDOMContent(t.window.document.createTextNode(e))
                }, o.prototype.setHTML = function(e) {
                    var i, o = t.window.document.createDocumentFragment(),
                        r = t.window.document.createElement("body");
                    for (r.innerHTML = e; i = r.firstChild;) o.appendChild(i);
                    return this.setDOMContent(o)
                }, o.prototype.getMaxWidth = function() {
                    return this._container && this._container.style.maxWidth
                }, o.prototype.setMaxWidth = function(t) {
                    return this.options.maxWidth = t, this._update(), this
                }, o.prototype.setDOMContent = function(t) {
                    return this._createContent(), this._content.appendChild(t), this._update(), this
                }, o.prototype.addClassName = function(t) {
                    this._container && this._container.classList.add(t);
                }, o.prototype.removeClassName = function(t) {
                    this._container && this._container.classList.remove(t);
                }, o.prototype.toggleClassName = function(t) {
                    if (this._container) return this._container.classList.toggle(t)
                }, o.prototype._createContent = function() {
                    this._content && i.remove(this._content), this._content = i.create("div", "mapboxgl-popup-content", this._container), this.options.closeButton && (this._closeButton = i.create("button", "mapboxgl-popup-close-button", this._content), this._closeButton.type = "button", this._closeButton.setAttribute("aria-label", "Close popup"), this._closeButton.innerHTML = "&#215;", this._closeButton.addEventListener("click", this._onClose));
                }, o.prototype._onMouseUp = function(t) {
                    this._update(t.point);
                }, o.prototype._onMouseMove = function(t) {
                    this._update(t.point);
                }, o.prototype._onDrag = function(t) {
                    this._update(t.point);
                }, o.prototype._update = function(e) {
                    var o = this;
                    if (this._map && (this._lngLat || this._trackPointer) && this._content && (this._container || (this._container = i.create("div", "mapboxgl-popup", this._map.getContainer()), this._tip = i.create("div", "mapboxgl-popup-tip", this._container), this._container.appendChild(this._content), this.options.className && this.options.className.split(" ").forEach((function(t) {
                            return o._container.classList.add(t)
                        })), this._trackPointer && this._container.classList.add("mapboxgl-popup-track-pointer")), this.options.maxWidth && this._container.style.maxWidth !== this.options.maxWidth && (this._container.style.maxWidth = this.options.maxWidth), this._map.transform.renderWorldCopies && !this._trackPointer && (this._lngLat = Lr(this._lngLat, this._pos, this._map.transform)), !this._trackPointer || e)) {
                        var r = this._pos = this._trackPointer && e ? e : this._map.project(this._lngLat),
                            a = this.options.anchor,
                            n = function e(i) {
                                if (i) {
                                    if ("number" == typeof i) {
                                        var o = Math.round(Math.sqrt(.5 * Math.pow(i, 2)));
                                        return {
                                            center: new t.Point(0, 0),
                                            top: new t.Point(0, i),
                                            "top-left": new t.Point(o, o),
                                            "top-right": new t.Point(-o, o),
                                            bottom: new t.Point(0, -i),
                                            "bottom-left": new t.Point(o, -o),
                                            "bottom-right": new t.Point(-o, -o),
                                            left: new t.Point(i, 0),
                                            right: new t.Point(-i, 0)
                                        }
                                    }
                                    if (i instanceof t.Point || Array.isArray(i)) {
                                        var r = t.Point.convert(i);
                                        return {
                                            center: r,
                                            top: r,
                                            "top-left": r,
                                            "top-right": r,
                                            bottom: r,
                                            "bottom-left": r,
                                            "bottom-right": r,
                                            left: r,
                                            right: r
                                        }
                                    }
                                    return {
                                        center: t.Point.convert(i.center || [0, 0]),
                                        top: t.Point.convert(i.top || [0, 0]),
                                        "top-left": t.Point.convert(i["top-left"] || [0, 0]),
                                        "top-right": t.Point.convert(i["top-right"] || [0, 0]),
                                        bottom: t.Point.convert(i.bottom || [0, 0]),
                                        "bottom-left": t.Point.convert(i["bottom-left"] || [0, 0]),
                                        "bottom-right": t.Point.convert(i["bottom-right"] || [0, 0]),
                                        left: t.Point.convert(i.left || [0, 0]),
                                        right: t.Point.convert(i.right || [0, 0])
                                    }
                                }
                                return e(new t.Point(0, 0))
                            }(this.options.offset);
                        if (!a) {
                            var s, l = this._container.offsetWidth,
                                c = this._container.offsetHeight;
                            s = r.y + n.bottom.y < c ? ["top"] : r.y > this._map.transform.height - c ? ["bottom"] : [], r.x < l / 2 ? s.push("left") : r.x > this._map.transform.width - l / 2 && s.push("right"), a = 0 === s.length ? "bottom" : s.join("-");
                        }
                        var u = r.add(n[a]).round();
                        i.setTransform(this._container, Ar[a] + " translate(" + u.x + "px," + u.y + "px)"), Rr(this._container, a, "popup");
                    }
                }, o.prototype._onClose = function() {
                    this.remove();
                }, o
            }(t.Evented),
            Hr = {
                version: t.version,
                supported: e,
                setRTLTextPlugin: t.setRTLTextPlugin,
                getRTLTextPluginStatus: t.getRTLTextPluginStatus,
                Map: Sr,
                NavigationControl: Dr,
                GeolocateControl: Nr,
                AttributionControl: yr,
                ScaleControl: qr,
                FullscreenControl: Gr,
                Popup: Xr,
                Marker: Br,
                Style: je,
                LngLat: t.LngLat,
                LngLatBounds: t.LngLatBounds,
                Point: t.Point,
                MercatorCoordinate: t.MercatorCoordinate,
                Evented: t.Evented,
                config: t.config,
                prewarm: function() {
                    Ft().acquire(Rt);
                },
                clearPrewarmedResources: function() {
                    var t = Bt;
                    t && (t.isPreloaded() && 1 === t.numActive() ? (t.release(Rt), Bt = null) : console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"));
                },
                get accessToken() {
                    return t.config.ACCESS_TOKEN
                },
                set accessToken(e) {
                    t.config.ACCESS_TOKEN = e;
                },
                get baseApiUrl() {
                    return t.config.API_URL
                },
                set baseApiUrl(e) {
                    t.config.API_URL = e;
                },
                get workerCount() {
                    return kt.workerCount
                },
                set workerCount(t) {
                    kt.workerCount = t;
                },
                get maxParallelImageRequests() {
                    return t.config.MAX_PARALLEL_IMAGE_REQUESTS
                },
                set maxParallelImageRequests(e) {
                    t.config.MAX_PARALLEL_IMAGE_REQUESTS = e;
                },
                clearStorage: function(e) {
                    t.clearTileCache(e);
                },
                workerUrl: ""
            };
        return Hr
    }));
    return mapboxgl;
})));;
/*! Magnific Popup - v1.1.0 - 2016-02-20
 * http://dimsemenov.com/plugins/magnific-popup/
 * Copyright (c) 2016 Dmitry Semenov; */
(function(factory) {
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        factory(require('jquery'));
    } else {
        factory(window.jQuery || window.Zepto);
    }
}(function($) {
    var CLOSE_EVENT = 'Close',
        BEFORE_CLOSE_EVENT = 'BeforeClose',
        AFTER_CLOSE_EVENT = 'AfterClose',
        BEFORE_APPEND_EVENT = 'BeforeAppend',
        MARKUP_PARSE_EVENT = 'MarkupParse',
        OPEN_EVENT = 'Open',
        CHANGE_EVENT = 'Change',
        NS = 'mfp',
        EVENT_NS = '.' + NS,
        READY_CLASS = 'mfp-ready',
        REMOVING_CLASS = 'mfp-removing',
        PREVENT_CLOSE_CLASS = 'mfp-prevent-close';
    var mfp, MagnificPopup = function() {},
        _isJQ = !!(window.jQuery),
        _prevStatus, _window = $(window),
        _document, _prevContentType, _wrapClasses, _currPopupType;
    var _mfpOn = function(name, f) {
            mfp.ev.on(NS + name + EVENT_NS, f);
        },
        _getEl = function(className, appendTo, html, raw) {
            var el = document.createElement('div');
            el.className = 'mfp-' + className;
            if (html) {
                el.innerHTML = html;
            }
            if (!raw) {
                el = $(el);
                if (appendTo) {
                    el.appendTo(appendTo);
                }
            } else if (appendTo) {
                appendTo.appendChild(el);
            }
            return el;
        },
        _mfpTrigger = function(e, data) {
            mfp.ev.triggerHandler(NS + e, data);
            if (mfp.st.callbacks) {
                e = e.charAt(0).toLowerCase() + e.slice(1);
                if (mfp.st.callbacks[e]) {
                    mfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);
                }
            }
        },
        _getCloseBtn = function(type) {
            if (type !== _currPopupType || !mfp.currTemplate.closeBtn) {
                mfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));
                _currPopupType = type;
            }
            return mfp.currTemplate.closeBtn;
        },
        _checkInstance = function() {
            if (!$.magnificPopup.instance) {
                mfp = new MagnificPopup();
                mfp.init();
                $.magnificPopup.instance = mfp;
            }
        },
        supportsTransitions = function() {
            var s = document.createElement('p').style,
                v = ['ms', 'O', 'Moz', 'Webkit'];
            if (s['transition'] !== undefined) {
                return true;
            }
            while (v.length) {
                if (v.pop() + 'Transition' in s) {
                    return true;
                }
            }
            return false;
        };
    MagnificPopup.prototype = {
        constructor: MagnificPopup,
        init: function() {
            var appVersion = navigator.appVersion;
            mfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;
            mfp.isAndroid = (/android/gi).test(appVersion);
            mfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);
            mfp.supportsTransition = supportsTransitions();
            mfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));
            _document = $(document);
            mfp.popupsCache = {};
        },
        open: function(data) {
            var i;
            if (data.isObj === false) {
                mfp.items = data.items.toArray();
                mfp.index = 0;
                var items = data.items,
                    item;
                for (i = 0; i < items.length; i++) {
                    item = items[i];
                    if (item.parsed) {
                        item = item.el[0];
                    }
                    if (item === data.el[0]) {
                        mfp.index = i;
                        break;
                    }
                }
            } else {
                mfp.items = $.isArray(data.items) ? data.items : [data.items];
                mfp.index = data.index || 0;
            }
            if (mfp.isOpen) {
                mfp.updateItemHTML();
                return;
            }
            mfp.types = [];
            _wrapClasses = '';
            if (data.mainEl && data.mainEl.length) {
                mfp.ev = data.mainEl.eq(0);
            } else {
                mfp.ev = _document;
            }
            if (data.key) {
                if (!mfp.popupsCache[data.key]) {
                    mfp.popupsCache[data.key] = {};
                }
                mfp.currTemplate = mfp.popupsCache[data.key];
            } else {
                mfp.currTemplate = {};
            }
            mfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);
            mfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;
            if (mfp.st.modal) {
                mfp.st.closeOnContentClick = false;
                mfp.st.closeOnBgClick = false;
                mfp.st.showCloseBtn = false;
                mfp.st.enableEscapeKey = false;
            }
            if (!mfp.bgOverlay) {
                mfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function() {
                    mfp.close();
                });
                mfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function(e) {
                    if (mfp._checkIfClose(e.target)) {
                        mfp.close();
                    }
                });
                mfp.container = _getEl('container', mfp.wrap);
            }
            mfp.contentContainer = _getEl('content');
            if (mfp.st.preloader) {
                mfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);
            }
            var modules = $.magnificPopup.modules;
            for (i = 0; i < modules.length; i++) {
                var n = modules[i];
                n = n.charAt(0).toUpperCase() + n.slice(1);
                mfp['init' + n].call(mfp);
            }
            _mfpTrigger('BeforeOpen');
            if (mfp.st.showCloseBtn) {
                if (!mfp.st.closeBtnInside) {
                    mfp.wrap.append(_getCloseBtn());
                } else {
                    _mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {
                        values.close_replaceWith = _getCloseBtn(item.type);
                    });
                    _wrapClasses += ' mfp-close-btn-in';
                }
            }
            if (mfp.st.alignTop) {
                _wrapClasses += ' mfp-align-top';
            }
            if (mfp.fixedContentPos) {
                mfp.wrap.css({
                    overflow: mfp.st.overflowY,
                    overflowX: 'hidden',
                    overflowY: mfp.st.overflowY
                });
            } else {
                mfp.wrap.css({
                    top: _window.scrollTop(),
                    position: 'absolute'
                });
            }
            if (mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos)) {
                mfp.bgOverlay.css({
                    height: _document.height(),
                    position: 'absolute'
                });
            }
            if (mfp.st.enableEscapeKey) {
                _document.on('keyup' + EVENT_NS, function(e) {
                    if (e.keyCode === 27) {
                        mfp.close();
                    }
                });
            }
            _window.on('resize' + EVENT_NS, function() {
                mfp.updateSize();
            });
            if (!mfp.st.closeOnContentClick) {
                _wrapClasses += ' mfp-auto-cursor';
            }
            if (_wrapClasses)
                mfp.wrap.addClass(_wrapClasses);
            var windowHeight = mfp.wH = _window.height();
            var windowStyles = {};
            if (mfp.fixedContentPos) {
                if (mfp._hasScrollBar(windowHeight)) {
                    var s = mfp._getScrollbarSize();
                    if (s) {
                        windowStyles.marginRight = s;
                    }
                }
            }
            if (mfp.fixedContentPos) {
                if (!mfp.isIE7) {
                    windowStyles.overflow = 'hidden';
                } else {
                    $('body, html').css('overflow', 'hidden');
                }
            }
            var classesToadd = mfp.st.mainClass;
            if (mfp.isIE7) {
                classesToadd += ' mfp-ie7';
            }
            if (classesToadd) {
                mfp._addClassToMFP(classesToadd);
            }
            mfp.updateItemHTML();
            _mfpTrigger('BuildControls');
            $('html').css(windowStyles);
            mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body));
            mfp._lastFocusedEl = document.activeElement;
            setTimeout(function() {
                if (mfp.content) {
                    mfp._addClassToMFP(READY_CLASS);
                    mfp._setFocus();
                } else {
                    mfp.bgOverlay.addClass(READY_CLASS);
                }
                _document.on('focusin' + EVENT_NS, mfp._onFocusIn);
            }, 16);
            mfp.isOpen = true;
            mfp.updateSize(windowHeight);
            _mfpTrigger(OPEN_EVENT);
            return data;
        },
        close: function() {
            if (!mfp.isOpen) return;
            _mfpTrigger(BEFORE_CLOSE_EVENT);
            mfp.isOpen = false;
            if (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {
                mfp._addClassToMFP(REMOVING_CLASS);
                setTimeout(function() {
                    mfp._close();
                }, mfp.st.removalDelay);
            } else {
                mfp._close();
            }
        },
        _close: function() {
            _mfpTrigger(CLOSE_EVENT);
            var classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';
            mfp.bgOverlay.detach();
            mfp.wrap.detach();
            mfp.container.empty();
            if (mfp.st.mainClass) {
                classesToRemove += mfp.st.mainClass + ' ';
            }
            mfp._removeClassFromMFP(classesToRemove);
            if (mfp.fixedContentPos) {
                var windowStyles = {
                    marginRight: ''
                };
                if (mfp.isIE7) {
                    $('body, html').css('overflow', '');
                } else {
                    windowStyles.overflow = '';
                }
                $('html').css(windowStyles);
            }
            _document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);
            mfp.ev.off(EVENT_NS);
            mfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');
            mfp.bgOverlay.attr('class', 'mfp-bg');
            mfp.container.attr('class', 'mfp-container');
            if (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {
                if (mfp.currTemplate.closeBtn)
                    mfp.currTemplate.closeBtn.detach();
            }
            if (mfp.st.autoFocusLast && mfp._lastFocusedEl) {
                $(mfp._lastFocusedEl).focus();
            }
            mfp.currItem = null;
            mfp.content = null;
            mfp.currTemplate = null;
            mfp.prevHeight = 0;
            _mfpTrigger(AFTER_CLOSE_EVENT);
        },
        updateSize: function(winHeight) {
            if (mfp.isIOS) {
                var zoomLevel = document.documentElement.clientWidth / window.innerWidth;
                var height = window.innerHeight * zoomLevel;
                mfp.wrap.css('height', height);
                mfp.wH = height;
            } else {
                mfp.wH = winHeight || _window.height();
            }
            if (!mfp.fixedContentPos) {
                mfp.wrap.css('height', mfp.wH);
            }
            _mfpTrigger('Resize');
        },
        updateItemHTML: function() {
            var item = mfp.items[mfp.index];
            mfp.contentContainer.detach();
            if (mfp.content)
                mfp.content.detach();
            if (!item.parsed) {
                item = mfp.parseEl(mfp.index);
            }
            var type = item.type;
            _mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);
            mfp.currItem = item;
            if (!mfp.currTemplate[type]) {
                var markup = mfp.st[type] ? mfp.st[type].markup : false;
                _mfpTrigger('FirstMarkupParse', markup);
                if (markup) {
                    mfp.currTemplate[type] = $(markup);
                } else {
                    mfp.currTemplate[type] = true;
                }
            }
            if (_prevContentType && _prevContentType !== item.type) {
                mfp.container.removeClass('mfp-' + _prevContentType + '-holder');
            }
            var newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);
            mfp.appendContent(newContent, type);
            item.preloaded = true;
            _mfpTrigger(CHANGE_EVENT, item);
            _prevContentType = item.type;
            mfp.container.prepend(mfp.contentContainer);
            _mfpTrigger('AfterChange');
        },
        appendContent: function(newContent, type) {
            mfp.content = newContent;
            if (newContent) {
                if (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {
                    if (!mfp.content.find('.mfp-close').length) {
                        mfp.content.append(_getCloseBtn());
                    }
                } else {
                    mfp.content = newContent;
                }
            } else {
                mfp.content = '';
            }
            _mfpTrigger(BEFORE_APPEND_EVENT);
            mfp.container.addClass('mfp-' + type + '-holder');
            mfp.contentContainer.append(mfp.content);
        },
        parseEl: function(index) {
            var item = mfp.items[index],
                type;
            if (item.tagName) {
                item = {
                    el: $(item)
                };
            } else {
                type = item.type;
                item = {
                    data: item,
                    src: item.src
                };
            }
            if (item.el) {
                var types = mfp.types;
                for (var i = 0; i < types.length; i++) {
                    if (item.el.hasClass('mfp-' + types[i])) {
                        type = types[i];
                        break;
                    }
                }
                item.src = item.el.attr('data-mfp-src');
                if (!item.src) {
                    item.src = item.el.attr('href');
                }
            }
            item.type = type || mfp.st.type || 'inline';
            item.index = index;
            item.parsed = true;
            mfp.items[index] = item;
            _mfpTrigger('ElementParse', item);
            return mfp.items[index];
        },
        addGroup: function(el, options) {
            var eHandler = function(e) {
                e.mfpEl = this;
                mfp._openClick(e, el, options);
            };
            if (!options) {
                options = {};
            }
            var eName = 'click.magnificPopup';
            options.mainEl = el;
            if (options.items) {
                options.isObj = true;
                el.off(eName).on(eName, eHandler);
            } else {
                options.isObj = false;
                if (options.delegate) {
                    el.off(eName).on(eName, options.delegate, eHandler);
                } else {
                    options.items = el;
                    el.off(eName).on(eName, eHandler);
                }
            }
        },
        _openClick: function(e, el, options) {
            var midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;
            if (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {
                return;
            }
            var disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;
            if (disableOn) {
                if ($.isFunction(disableOn)) {
                    if (!disableOn.call(mfp)) {
                        return true;
                    }
                } else {
                    if (_window.width() < disableOn) {
                        return true;
                    }
                }
            }
            if (e.type) {
                e.preventDefault();
                if (mfp.isOpen) {
                    e.stopPropagation();
                }
            }
            options.el = $(e.mfpEl);
            if (options.delegate) {
                options.items = el.find(options.delegate);
            }
            mfp.open(options);
        },
        updateStatus: function(status, text) {
            if (mfp.preloader) {
                if (_prevStatus !== status) {
                    mfp.container.removeClass('mfp-s-' + _prevStatus);
                }
                if (!text && status === 'loading') {
                    text = mfp.st.tLoading;
                }
                var data = {
                    status: status,
                    text: text
                };
                _mfpTrigger('UpdateStatus', data);
                status = data.status;
                text = data.text;
                mfp.preloader.html(text);
                mfp.preloader.find('a').on('click', function(e) {
                    e.stopImmediatePropagation();
                });
                mfp.container.addClass('mfp-s-' + status);
                _prevStatus = status;
            }
        },
        _checkIfClose: function(target) {
            if ($(target).hasClass(PREVENT_CLOSE_CLASS)) {
                return;
            }
            var closeOnContent = mfp.st.closeOnContentClick;
            var closeOnBg = mfp.st.closeOnBgClick;
            if (closeOnContent && closeOnBg) {
                return true;
            } else {
                if (!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0])) {
                    return true;
                }
                if ((target !== mfp.content[0] && !$.contains(mfp.content[0], target))) {
                    if (closeOnBg) {
                        if ($.contains(document, target)) {
                            return true;
                        }
                    }
                } else if (closeOnContent) {
                    return true;
                }
            }
            return false;
        },
        _addClassToMFP: function(cName) {
            mfp.bgOverlay.addClass(cName);
            mfp.wrap.addClass(cName);
        },
        _removeClassFromMFP: function(cName) {
            this.bgOverlay.removeClass(cName);
            mfp.wrap.removeClass(cName);
        },
        _hasScrollBar: function(winHeight) {
            return ((mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()));
        },
        _setFocus: function() {
            (mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();
        },
        _onFocusIn: function(e) {
            if (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {
                mfp._setFocus();
                return false;
            }
        },
        _parseMarkup: function(template, values, item) {
            var arr;
            if (item.data) {
                values = $.extend(item.data, values);
            }
            _mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);
            $.each(values, function(key, value) {
                if (value === undefined || value === false) {
                    return true;
                }
                arr = key.split('_');
                if (arr.length > 1) {
                    var el = template.find(EVENT_NS + '-' + arr[0]);
                    if (el.length > 0) {
                        var attr = arr[1];
                        if (attr === 'replaceWith') {
                            if (el[0] !== value[0]) {
                                el.replaceWith(value);
                            }
                        } else if (attr === 'img') {
                            if (el.is('img')) {
                                el.attr('src', value);
                            } else {
                                el.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));
                            }
                        } else {
                            el.attr(arr[1], value);
                        }
                    }
                } else {
                    template.find(EVENT_NS + '-' + key).html(value);
                }
            });
        },
        _getScrollbarSize: function() {
            if (mfp.scrollbarSize === undefined) {
                var scrollDiv = document.createElement("div");
                scrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';
                document.body.appendChild(scrollDiv);
                mfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;
                document.body.removeChild(scrollDiv);
            }
            return mfp.scrollbarSize;
        }
    };
    $.magnificPopup = {
        instance: null,
        proto: MagnificPopup.prototype,
        modules: [],
        open: function(options, index) {
            _checkInstance();
            if (!options) {
                options = {};
            } else {
                options = $.extend(true, {}, options);
            }
            options.isObj = true;
            options.index = index || 0;
            return this.instance.open(options);
        },
        close: function() {
            return $.magnificPopup.instance && $.magnificPopup.instance.close();
        },
        registerModule: function(name, module) {
            if (module.options) {
                $.magnificPopup.defaults[name] = module.options;
            }
            $.extend(this.proto, module.proto);
            this.modules.push(name);
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: false,
            mainClass: '',
            preloader: true,
            focus: '',
            closeOnContentClick: false,
            closeOnBgClick: true,
            closeBtnInside: true,
            showCloseBtn: true,
            enableEscapeKey: true,
            modal: false,
            alignTop: false,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: 'auto',
            fixedBgPos: 'auto',
            overflowY: 'auto',
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&#215;</button>',
            tClose: 'Close (Esc)',
            tLoading: 'Loading...',
            autoFocusLast: true
        }
    };
    $.fn.magnificPopup = function(options) {
        _checkInstance();
        var jqEl = $(this);
        if (typeof options === "string") {
            if (options === 'open') {
                var items, itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,
                    index = parseInt(arguments[1], 10) || 0;
                if (itemOpts.items) {
                    items = itemOpts.items[index];
                } else {
                    items = jqEl;
                    if (itemOpts.delegate) {
                        items = items.find(itemOpts.delegate);
                    }
                    items = items.eq(index);
                }
                mfp._openClick({
                    mfpEl: items
                }, jqEl, itemOpts);
            } else {
                if (mfp.isOpen)
                    mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));
            }
        } else {
            options = $.extend(true, {}, options);
            if (_isJQ) {
                jqEl.data('magnificPopup', options);
            } else {
                jqEl[0].magnificPopup = options;
            }
            mfp.addGroup(jqEl, options);
        }
        return jqEl;
    };
    var INLINE_NS = 'inline',
        _hiddenClass, _inlinePlaceholder, _lastInlineElement, _putInlineElementsBack = function() {
            if (_lastInlineElement) {
                _inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();
                _lastInlineElement = null;
            }
        };
    $.magnificPopup.registerModule(INLINE_NS, {
        options: {
            hiddenClass: 'hide',
            markup: '',
            tNotFound: 'Content not found'
        },
        proto: {
            initInline: function() {
                mfp.types.push(INLINE_NS);
                _mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function() {
                    _putInlineElementsBack();
                });
            },
            getInline: function(item, template) {
                _putInlineElementsBack();
                if (item.src) {
                    var inlineSt = mfp.st.inline,
                        el = $(item.src);
                    if (el.length) {
                        var parent = el[0].parentNode;
                        if (parent && parent.tagName) {
                            if (!_inlinePlaceholder) {
                                _hiddenClass = inlineSt.hiddenClass;
                                _inlinePlaceholder = _getEl(_hiddenClass);
                                _hiddenClass = 'mfp-' + _hiddenClass;
                            }
                            _lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);
                        }
                        mfp.updateStatus('ready');
                    } else {
                        mfp.updateStatus('error', inlineSt.tNotFound);
                        el = $('<div>');
                    }
                    item.inlineElement = el;
                    return el;
                }
                mfp.updateStatus('ready');
                mfp._parseMarkup(template, {}, item);
                return template;
            }
        }
    });
    var AJAX_NS = 'ajax',
        _ajaxCur, _removeAjaxCursor = function() {
            if (_ajaxCur) {
                $(document.body).removeClass(_ajaxCur);
            }
        },
        _destroyAjaxRequest = function() {
            _removeAjaxCursor();
            if (mfp.req) {
                mfp.req.abort();
            }
        };
    $.magnificPopup.registerModule(AJAX_NS, {
        options: {
            settings: null,
            cursor: 'mfp-ajax-cur',
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                mfp.types.push(AJAX_NS);
                _ajaxCur = mfp.st.ajax.cursor;
                _mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);
                _mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);
            },
            getAjax: function(item) {
                if (_ajaxCur) {
                    $(document.body).addClass(_ajaxCur);
                }
                mfp.updateStatus('loading');
                var opts = $.extend({
                    url: item.src,
                    success: function(data, textStatus, jqXHR) {
                        var temp = {
                            data: data,
                            xhr: jqXHR
                        };
                        _mfpTrigger('ParseAjax', temp);
                        mfp.appendContent($(temp.data), AJAX_NS);
                        item.finished = true;
                        _removeAjaxCursor();
                        mfp._setFocus();
                        setTimeout(function() {
                            mfp.wrap.addClass(READY_CLASS);
                        }, 16);
                        mfp.updateStatus('ready');
                        _mfpTrigger('AjaxContentAdded');
                    },
                    error: function() {
                        _removeAjaxCursor();
                        item.finished = item.loadError = true;
                        mfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));
                    }
                }, mfp.st.ajax.settings);
                mfp.req = $.ajax(opts);
                return '';
            }
        }
    });
    var _imgInterval, _getTitle = function(item) {
        if (item.data && item.data.title !== undefined)
            return item.data.title;
        var src = mfp.st.image.titleSrc;
        if (src) {
            if ($.isFunction(src)) {
                return src.call(mfp, item);
            } else if (item.el) {
                return item.el.attr(src) || '';
            }
        }
        return '';
    };
    $.magnificPopup.registerModule('image', {
        options: {
            markup: '<div class="mfp-figure">' + '<div class="mfp-close"></div>' + '<figure>' + '<div class="mfp-img"></div>' + '<figcaption>' + '<div class="mfp-bottom-bar">' + '<div class="mfp-title"></div>' + '<div class="mfp-counter"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',
            cursor: 'mfp-zoom-out-cur',
            titleSrc: 'title',
            verticalFit: true,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var imgSt = mfp.st.image,
                    ns = '.image';
                mfp.types.push('image');
                _mfpOn(OPEN_EVENT + ns, function() {
                    if (mfp.currItem.type === 'image' && imgSt.cursor) {
                        $(document.body).addClass(imgSt.cursor);
                    }
                });
                _mfpOn(CLOSE_EVENT + ns, function() {
                    if (imgSt.cursor) {
                        $(document.body).removeClass(imgSt.cursor);
                    }
                    _window.off('resize' + EVENT_NS);
                });
                _mfpOn('Resize' + ns, mfp.resizeImage);
                if (mfp.isLowIE) {
                    _mfpOn('AfterChange', mfp.resizeImage);
                }
            },
            resizeImage: function() {
                var item = mfp.currItem;
                if (!item || !item.img) return;
                if (mfp.st.image.verticalFit) {
                    var decr = 0;
                    if (mfp.isLowIE) {
                        decr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);
                    }
                    item.img.css('max-height', mfp.wH - decr);
                }
            },
            _onImageHasSize: function(item) {
                if (item.img) {
                    item.hasSize = true;
                    if (_imgInterval) {
                        clearInterval(_imgInterval);
                    }
                    item.isCheckingImgSize = false;
                    _mfpTrigger('ImageHasSize', item);
                    if (item.imgHidden) {
                        if (mfp.content)
                            mfp.content.removeClass('mfp-loading');
                        item.imgHidden = false;
                    }
                }
            },
            findImageSize: function(item) {
                var counter = 0,
                    img = item.img[0],
                    mfpSetInterval = function(delay) {
                        if (_imgInterval) {
                            clearInterval(_imgInterval);
                        }
                        _imgInterval = setInterval(function() {
                            if (img.naturalWidth > 0) {
                                mfp._onImageHasSize(item);
                                return;
                            }
                            if (counter > 200) {
                                clearInterval(_imgInterval);
                            }
                            counter++;
                            if (counter === 3) {
                                mfpSetInterval(10);
                            } else if (counter === 40) {
                                mfpSetInterval(50);
                            } else if (counter === 100) {
                                mfpSetInterval(500);
                            }
                        }, delay);
                    };
                mfpSetInterval(1);
            },
            getImage: function(item, template) {
                var guard = 0,
                    onLoadComplete = function() {
                        if (item) {
                            if (item.img[0].complete) {
                                item.img.off('.mfploader');
                                if (item === mfp.currItem) {
                                    mfp._onImageHasSize(item);
                                    mfp.updateStatus('ready');
                                }
                                item.hasSize = true;
                                item.loaded = true;
                                _mfpTrigger('ImageLoadComplete');
                            } else {
                                guard++;
                                if (guard < 200) {
                                    setTimeout(onLoadComplete, 100);
                                } else {
                                    onLoadError();
                                }
                            }
                        }
                    },
                    onLoadError = function() {
                        if (item) {
                            item.img.off('.mfploader');
                            if (item === mfp.currItem) {
                                mfp._onImageHasSize(item);
                                mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));
                            }
                            item.hasSize = true;
                            item.loaded = true;
                            item.loadError = true;
                        }
                    },
                    imgSt = mfp.st.image;
                var el = template.find('.mfp-img');
                if (el.length) {
                    var img = document.createElement('img');
                    img.className = 'mfp-img';
                    if (item.el && item.el.find('img').length) {
                        img.alt = item.el.find('img').attr('alt');
                    }
                    item.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);
                    img.src = item.src;
                    if (el.is('img')) {
                        item.img = item.img.clone();
                    }
                    img = item.img[0];
                    if (img.naturalWidth > 0) {
                        item.hasSize = true;
                    } else if (!img.width) {
                        item.hasSize = false;
                    }
                }
                mfp._parseMarkup(template, {
                    title: _getTitle(item),
                    img_replaceWith: item.img
                }, item);
                mfp.resizeImage();
                if (item.hasSize) {
                    if (_imgInterval) clearInterval(_imgInterval);
                    if (item.loadError) {
                        template.addClass('mfp-loading');
                        mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));
                    } else {
                        template.removeClass('mfp-loading');
                        mfp.updateStatus('ready');
                    }
                    return template;
                }
                mfp.updateStatus('loading');
                item.loading = true;
                if (!item.hasSize) {
                    item.imgHidden = true;
                    template.addClass('mfp-loading');
                    mfp.findImageSize(item);
                }
                return template;
            }
        }
    });
    var hasMozTransform, getHasMozTransform = function() {
        if (hasMozTransform === undefined) {
            hasMozTransform = document.createElement('p').style.MozTransform !== undefined;
        }
        return hasMozTransform;
    };
    $.magnificPopup.registerModule('zoom', {
        options: {
            enabled: false,
            easing: 'ease-in-out',
            duration: 300,
            opener: function(element) {
                return element.is('img') ? element : element.find('img');
            }
        },
        proto: {
            initZoom: function() {
                var zoomSt = mfp.st.zoom,
                    ns = '.zoom',
                    image;
                if (!zoomSt.enabled || !mfp.supportsTransition) {
                    return;
                }
                var duration = zoomSt.duration,
                    getElToAnimate = function(image) {
                        var newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),
                            transition = 'all ' + (zoomSt.duration / 1000) + 's ' + zoomSt.easing,
                            cssObj = {
                                position: 'fixed',
                                zIndex: 9999,
                                left: 0,
                                top: 0,
                                '-webkit-backface-visibility': 'hidden'
                            },
                            t = 'transition';
                        cssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;
                        newImg.css(cssObj);
                        return newImg;
                    },
                    showMainContent = function() {
                        mfp.content.css('visibility', 'visible');
                    },
                    openTimeout, animatedImg;
                _mfpOn('BuildControls' + ns, function() {
                    if (mfp._allowZoom()) {
                        clearTimeout(openTimeout);
                        mfp.content.css('visibility', 'hidden');
                        image = mfp._getItemToZoom();
                        if (!image) {
                            showMainContent();
                            return;
                        }
                        animatedImg = getElToAnimate(image);
                        animatedImg.css(mfp._getOffset());
                        mfp.wrap.append(animatedImg);
                        openTimeout = setTimeout(function() {
                            animatedImg.css(mfp._getOffset(true));
                            openTimeout = setTimeout(function() {
                                showMainContent();
                                setTimeout(function() {
                                    animatedImg.remove();
                                    image = animatedImg = null;
                                    _mfpTrigger('ZoomAnimationEnded');
                                }, 16);
                            }, duration);
                        }, 16);
                    }
                });
                _mfpOn(BEFORE_CLOSE_EVENT + ns, function() {
                    if (mfp._allowZoom()) {
                        clearTimeout(openTimeout);
                        mfp.st.removalDelay = duration;
                        if (!image) {
                            image = mfp._getItemToZoom();
                            if (!image) {
                                return;
                            }
                            animatedImg = getElToAnimate(image);
                        }
                        animatedImg.css(mfp._getOffset(true));
                        mfp.wrap.append(animatedImg);
                        mfp.content.css('visibility', 'hidden');
                        setTimeout(function() {
                            animatedImg.css(mfp._getOffset());
                        }, 16);
                    }
                });
                _mfpOn(CLOSE_EVENT + ns, function() {
                    if (mfp._allowZoom()) {
                        showMainContent();
                        if (animatedImg) {
                            animatedImg.remove();
                        }
                        image = null;
                    }
                });
            },
            _allowZoom: function() {
                return mfp.currItem.type === 'image';
            },
            _getItemToZoom: function() {
                if (mfp.currItem.hasSize) {
                    return mfp.currItem.img;
                } else {
                    return false;
                }
            },
            _getOffset: function(isLarge) {
                var el;
                if (isLarge) {
                    el = mfp.currItem.img;
                } else {
                    el = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);
                }
                var offset = el.offset();
                var paddingTop = parseInt(el.css('padding-top'), 10);
                var paddingBottom = parseInt(el.css('padding-bottom'), 10);
                offset.top -= ($(window).scrollTop() - paddingTop);
                var obj = {
                    width: el.width(),
                    height: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop
                };
                if (getHasMozTransform()) {
                    obj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';
                } else {
                    obj.left = offset.left;
                    obj.top = offset.top;
                }
                return obj;
            }
        }
    });
    var IFRAME_NS = 'iframe',
        _emptyPage = '//about:blank',
        _fixIframeBugs = function(isShowing) {
            if (mfp.currTemplate[IFRAME_NS]) {
                var el = mfp.currTemplate[IFRAME_NS].find('iframe');
                if (el.length) {
                    if (!isShowing) {
                        el[0].src = _emptyPage;
                    }
                    if (mfp.isIE8) {
                        el.css('display', isShowing ? 'block' : 'none');
                    }
                }
            }
        };
    $.magnificPopup.registerModule(IFRAME_NS, {
        options: {
            markup: '<div class="mfp-iframe-scaler">' + '<div class="mfp-close"></div>' + '<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>' + '</div>',
            srcAction: 'iframe_src',
            patterns: {
                youtube: {
                    index: 'youtube.com',
                    id: 'v=',
                    src: 'https://www.youtube.com/embed/%id%?autoplay=1'
                },
                vimeo: {
                    index: 'vimeo.com/',
                    id: '/',
                    src: 'https://player.vimeo.com/video/%id%?autoplay=1'
                },
                gmaps: {
                    index: '//maps.google.',
                    src: '%id%&output=embed'
                }
            }
        },
        proto: {
            initIframe: function() {
                mfp.types.push(IFRAME_NS);
                _mfpOn('BeforeChange', function(e, prevType, newType) {
                    if (prevType !== newType) {
                        if (prevType === IFRAME_NS) {
                            _fixIframeBugs();
                        } else if (newType === IFRAME_NS) {
                            _fixIframeBugs(true);
                        }
                    }
                });
                _mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {
                    _fixIframeBugs();
                });
            },
            getIframe: function(item, template) {
                var embedSrc = item.src;
                var iframeSt = mfp.st.iframe;
                $.each(iframeSt.patterns, function() {
                    if (embedSrc.indexOf(this.index) > -1) {
                        if (this.id) {
                            if (typeof this.id === 'string') {
                                embedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);
                            } else {
                                embedSrc = this.id.call(this, embedSrc);
                            }
                        }
                        embedSrc = this.src.replace('%id%', embedSrc);
                        return false;
                    }
                });
                var dataObj = {};
                if (iframeSt.srcAction) {
                    dataObj[iframeSt.srcAction] = embedSrc;
                }
                mfp._parseMarkup(template, dataObj, item);
                mfp.updateStatus('ready');
                return template;
            }
        }
    });
    var _getLoopedId = function(index) {
            var numSlides = mfp.items.length;
            if (index > numSlides - 1) {
                return index - numSlides;
            } else if (index < 0) {
                return numSlides + index;
            }
            return index;
        },
        _replaceCurrTotal = function(text, curr, total) {
            return text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);
        };
    $.magnificPopup.registerModule('gallery', {
        options: {
            enabled: false,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [0, 2],
            navigateByImgClick: true,
            arrows: true,
            tPrev: 'Previous (Left arrow key)',
            tNext: 'Next (Right arrow key)',
            tCounter: '%curr% of %total%'
        },
        proto: {
            initGallery: function() {
                var gSt = mfp.st.gallery,
                    ns = '.mfp-gallery';
                mfp.direction = true;
                if (!gSt || !gSt.enabled) return false;
                _wrapClasses += ' mfp-gallery';
                _mfpOn(OPEN_EVENT + ns, function() {
                    if (gSt.navigateByImgClick) {
                        mfp.wrap.on('click' + ns, '.mfp-img', function() {
                            if (mfp.items.length > 1) {
                                mfp.next();
                                return false;
                            }
                        });
                    }
                    _document.on('keydown' + ns, function(e) {
                        if (e.keyCode === 37) {
                            mfp.prev();
                        } else if (e.keyCode === 39) {
                            mfp.next();
                        }
                    });
                });
                _mfpOn('UpdateStatus' + ns, function(e, data) {
                    if (data.text) {
                        data.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);
                    }
                });
                _mfpOn(MARKUP_PARSE_EVENT + ns, function(e, element, values, item) {
                    var l = mfp.items.length;
                    values.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';
                });
                _mfpOn('BuildControls' + ns, function() {
                    if (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {
                        var markup = gSt.arrowMarkup,
                            arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),
                            arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);
                        arrowLeft.click(function() {
                            mfp.prev();
                        });
                        arrowRight.click(function() {
                            mfp.next();
                        });
                        mfp.container.append(arrowLeft.add(arrowRight));
                    }
                });
                _mfpOn(CHANGE_EVENT + ns, function() {
                    if (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);
                    mfp._preloadTimeout = setTimeout(function() {
                        mfp.preloadNearbyImages();
                        mfp._preloadTimeout = null;
                    }, 16);
                });
                _mfpOn(CLOSE_EVENT + ns, function() {
                    _document.off(ns);
                    mfp.wrap.off('click' + ns);
                    mfp.arrowRight = mfp.arrowLeft = null;
                });
            },
            next: function() {
                mfp.direction = true;
                mfp.index = _getLoopedId(mfp.index + 1);
                mfp.updateItemHTML();
            },
            prev: function() {
                mfp.direction = false;
                mfp.index = _getLoopedId(mfp.index - 1);
                mfp.updateItemHTML();
            },
            goTo: function(newIndex) {
                mfp.direction = (newIndex >= mfp.index);
                mfp.index = newIndex;
                mfp.updateItemHTML();
            },
            preloadNearbyImages: function() {
                var p = mfp.st.gallery.preload,
                    preloadBefore = Math.min(p[0], mfp.items.length),
                    preloadAfter = Math.min(p[1], mfp.items.length),
                    i;
                for (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {
                    mfp._preloadItem(mfp.index + i);
                }
                for (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {
                    mfp._preloadItem(mfp.index - i);
                }
            },
            _preloadItem: function(index) {
                index = _getLoopedId(index);
                if (mfp.items[index].preloaded) {
                    return;
                }
                var item = mfp.items[index];
                if (!item.parsed) {
                    item = mfp.parseEl(index);
                }
                _mfpTrigger('LazyLoad', item);
                if (item.type === 'image') {
                    item.img = $('<img class="mfp-img" />').on('load.mfploader', function() {
                        item.hasSize = true;
                    }).on('error.mfploader', function() {
                        item.hasSize = true;
                        item.loadError = true;
                        _mfpTrigger('LazyLoadError', item);
                    }).attr('src', item.src);
                }
                item.preloaded = true;
            }
        }
    });
    var RETINA_NS = 'retina';
    $.magnificPopup.registerModule(RETINA_NS, {
        options: {
            replaceSrc: function(item) {
                return item.src.replace(/\.\w+$/, function(m) {
                    return '@2x' + m;
                });
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (window.devicePixelRatio > 1) {
                    var st = mfp.st.retina,
                        ratio = st.ratio;
                    ratio = !isNaN(ratio) ? ratio : ratio();
                    if (ratio > 1) {
                        _mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {
                            item.img.css({
                                'max-width': item.img[0].naturalWidth / ratio,
                                'width': '100%'
                            });
                        });
                        _mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {
                            item.src = st.replaceSrc(item, ratio);
                        });
                    }
                }
            }
        }
    });
    _checkInstance();
}));
! function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).Swiper = t()
}(this, (function() {
    "use strict";

    function e(e) {
        return null !== e && "object" == typeof e && "constructor" in e && e.constructor === Object
    }

    function t(s, a) {
        void 0 === s && (s = {}), void 0 === a && (a = {}), Object.keys(a).forEach((i => {
            void 0 === s[i] ? s[i] = a[i] : e(a[i]) && e(s[i]) && Object.keys(a[i]).length > 0 && t(s[i], a[i])
        }))
    }
    const s = {
        body: {},
        addEventListener() {},
        removeEventListener() {},
        activeElement: {
            blur() {},
            nodeName: ""
        },
        querySelector: () => null,
        querySelectorAll: () => [],
        getElementById: () => null,
        createEvent: () => ({
            initEvent() {}
        }),
        createElement: () => ({
            children: [],
            childNodes: [],
            style: {},
            setAttribute() {},
            getElementsByTagName: () => []
        }),
        createElementNS: () => ({}),
        importNode: () => null,
        location: {
            hash: "",
            host: "",
            hostname: "",
            href: "",
            origin: "",
            pathname: "",
            protocol: "",
            search: ""
        }
    };

    function a() {
        const e = "undefined" != typeof document ? document : {};
        return t(e, s), e
    }
    const i = {
        document: s,
        navigator: {
            userAgent: ""
        },
        location: {
            hash: "",
            host: "",
            hostname: "",
            href: "",
            origin: "",
            pathname: "",
            protocol: "",
            search: ""
        },
        history: {
            replaceState() {},
            pushState() {},
            go() {},
            back() {}
        },
        CustomEvent: function() {
            return this
        },
        addEventListener() {},
        removeEventListener() {},
        getComputedStyle: () => ({
            getPropertyValue: () => ""
        }),
        Image() {},
        Date() {},
        screen: {},
        setTimeout() {},
        clearTimeout() {},
        matchMedia: () => ({}),
        requestAnimationFrame: e => "undefined" == typeof setTimeout ? (e(), null) : setTimeout(e, 0),
        cancelAnimationFrame(e) {
            "undefined" != typeof setTimeout && clearTimeout(e)
        }
    };

    function r() {
        const e = "undefined" != typeof window ? window : {};
        return t(e, i), e
    }
    class n extends Array {
        constructor(e) {
            "number" == typeof e ? super(e) : (super(...e || []), function(e) {
                const t = e.__proto__;
                Object.defineProperty(e, "__proto__", {
                    get: () => t,
                    set(e) {
                        t.__proto__ = e
                    }
                })
            }(this))
        }
    }

    function l(e) {
        void 0 === e && (e = []);
        const t = [];
        return e.forEach((e => {
            Array.isArray(e) ? t.push(...l(e)) : t.push(e)
        })), t
    }

    function o(e, t) {
        return Array.prototype.filter.call(e, t)
    }

    function d(e, t) {
        const s = r(),
            i = a();
        let l = [];
        if (!t && e instanceof n) return e;
        if (!e) return new n(l);
        if ("string" == typeof e) {
            const s = e.trim();
            if (s.indexOf("<") >= 0 && s.indexOf(">") >= 0) {
                let e = "div";
                0 === s.indexOf("<li") && (e = "ul"), 0 === s.indexOf("<tr") && (e = "tbody"), 0 !== s.indexOf("<td") && 0 !== s.indexOf("<th") || (e = "tr"), 0 === s.indexOf("<tbody") && (e = "table"), 0 === s.indexOf("<option") && (e = "select");
                const t = i.createElement(e);
                t.innerHTML = s;
                for (let e = 0; e < t.childNodes.length; e += 1) l.push(t.childNodes[e])
            } else l = function(e, t) {
                if ("string" != typeof e) return [e];
                const s = [],
                    a = t.querySelectorAll(e);
                for (let e = 0; e < a.length; e += 1) s.push(a[e]);
                return s
            }(e.trim(), t || i)
        } else if (e.nodeType || e === s || e === i) l.push(e);
        else if (Array.isArray(e)) {
            if (e instanceof n) return e;
            l = e
        }
        return new n(function(e) {
            const t = [];
            for (let s = 0; s < e.length; s += 1) - 1 === t.indexOf(e[s]) && t.push(e[s]);
            return t
        }(l))
    }
    d.fn = n.prototype;
    const c = {
        addClass: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            const a = l(t.map((e => e.split(" "))));
            return this.forEach((e => {
                e.classList.add(...a)
            })), this
        },
        removeClass: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            const a = l(t.map((e => e.split(" "))));
            return this.forEach((e => {
                e.classList.remove(...a)
            })), this
        },
        hasClass: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            const a = l(t.map((e => e.split(" "))));
            return o(this, (e => a.filter((t => e.classList.contains(t))).length > 0)).length > 0
        },
        toggleClass: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            const a = l(t.map((e => e.split(" "))));
            this.forEach((e => {
                a.forEach((t => {
                    e.classList.toggle(t)
                }))
            }))
        },
        attr: function(e, t) {
            if (1 === arguments.length && "string" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;
            for (let s = 0; s < this.length; s += 1)
                if (2 === arguments.length) this[s].setAttribute(e, t);
                else
                    for (const t in e) this[s][t] = e[t], this[s].setAttribute(t, e[t]);
            return this
        },
        removeAttr: function(e) {
            for (let t = 0; t < this.length; t += 1) this[t].removeAttribute(e);
            return this
        },
        transform: function(e) {
            for (let t = 0; t < this.length; t += 1) this[t].style.transform = e;
            return this
        },
        transition: function(e) {
            for (let t = 0; t < this.length; t += 1) this[t].style.transitionDuration = "string" != typeof e ? `${e}ms` : e;
            return this
        },
        on: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            let [a, i, r, n] = t;

            function l(e) {
                const t = e.target;
                if (!t) return;
                const s = e.target.dom7EventData || [];
                if (s.indexOf(e) < 0 && s.unshift(e), d(t).is(i)) r.apply(t, s);
                else {
                    const e = d(t).parents();
                    for (let t = 0; t < e.length; t += 1) d(e[t]).is(i) && r.apply(e[t], s)
                }
            }

            function o(e) {
                const t = e && e.target && e.target.dom7EventData || [];
                t.indexOf(e) < 0 && t.unshift(e), r.apply(this, t)
            }
            "function" == typeof t[1] && ([a, r, n] = t, i = void 0), n || (n = !1);
            const c = a.split(" ");
            let p;
            for (let e = 0; e < this.length; e += 1) {
                const t = this[e];
                if (i)
                    for (p = 0; p < c.length; p += 1) {
                        const e = c[p];
                        t.dom7LiveListeners || (t.dom7LiveListeners = {}), t.dom7LiveListeners[e] || (t.dom7LiveListeners[e] = []), t.dom7LiveListeners[e].push({
                            listener: r,
                            proxyListener: l
                        }), t.addEventListener(e, l, n)
                    } else
                        for (p = 0; p < c.length; p += 1) {
                            const e = c[p];
                            t.dom7Listeners || (t.dom7Listeners = {}), t.dom7Listeners[e] || (t.dom7Listeners[e] = []), t.dom7Listeners[e].push({
                                listener: r,
                                proxyListener: o
                            }), t.addEventListener(e, o, n)
                        }
            }
            return this
        },
        off: function() {
            for (var e = arguments.length, t = new Array(e), s = 0; s < e; s++) t[s] = arguments[s];
            let [a, i, r, n] = t;
            "function" == typeof t[1] && ([a, r, n] = t, i = void 0), n || (n = !1);
            const l = a.split(" ");
            for (let e = 0; e < l.length; e += 1) {
                const t = l[e];
                for (let e = 0; e < this.length; e += 1) {
                    const s = this[e];
                    let a;
                    if (!i && s.dom7Listeners ? a = s.dom7Listeners[t] : i && s.dom7LiveListeners && (a = s.dom7LiveListeners[t]), a && a.length)
                        for (let e = a.length - 1; e >= 0; e -= 1) {
                            const i = a[e];
                            r && i.listener === r || r && i.listener && i.listener.dom7proxy && i.listener.dom7proxy === r ? (s.removeEventListener(t, i.proxyListener, n), a.splice(e, 1)) : r || (s.removeEventListener(t, i.proxyListener, n), a.splice(e, 1))
                        }
                }
            }
            return this
        },
        trigger: function() {
            const e = r();
            for (var t = arguments.length, s = new Array(t), a = 0; a < t; a++) s[a] = arguments[a];
            const i = s[0].split(" "),
                n = s[1];
            for (let t = 0; t < i.length; t += 1) {
                const a = i[t];
                for (let t = 0; t < this.length; t += 1) {
                    const i = this[t];
                    if (e.CustomEvent) {
                        const t = new e.CustomEvent(a, {
                            detail: n,
                            bubbles: !0,
                            cancelable: !0
                        });
                        i.dom7EventData = s.filter(((e, t) => t > 0)), i.dispatchEvent(t), i.dom7EventData = [], delete i.dom7EventData
                    }
                }
            }
            return this
        },
        transitionEnd: function(e) {
            const t = this;
            return e && t.on("transitionend", (function s(a) {
                a.target === this && (e.call(this, a), t.off("transitionend", s))
            })), this
        },
        outerWidth: function(e) {
            if (this.length > 0) {
                if (e) {
                    const e = this.styles();
                    return this[0].offsetWidth + parseFloat(e.getPropertyValue("margin-right")) + parseFloat(e.getPropertyValue("margin-left"))
                }
                return this[0].offsetWidth
            }
            return null
        },
        outerHeight: function(e) {
            if (this.length > 0) {
                if (e) {
                    const e = this.styles();
                    return this[0].offsetHeight + parseFloat(e.getPropertyValue("margin-top")) + parseFloat(e.getPropertyValue("margin-bottom"))
                }
                return this[0].offsetHeight
            }
            return null
        },
        styles: function() {
            const e = r();
            return this[0] ? e.getComputedStyle(this[0], null) : {}
        },
        offset: function() {
            if (this.length > 0) {
                const e = r(),
                    t = a(),
                    s = this[0],
                    i = s.getBoundingClientRect(),
                    n = t.body,
                    l = s.clientTop || n.clientTop || 0,
                    o = s.clientLeft || n.clientLeft || 0,
                    d = s === e ? e.scrollY : s.scrollTop,
                    c = s === e ? e.scrollX : s.scrollLeft;
                return {
                    top: i.top + d - l,
                    left: i.left + c - o
                }
            }
            return null
        },
        css: function(e, t) {
            const s = r();
            let a;
            if (1 === arguments.length) {
                if ("string" != typeof e) {
                    for (a = 0; a < this.length; a += 1)
                        for (const t in e) this[a].style[t] = e[t];
                    return this
                }
                if (this[0]) return s.getComputedStyle(this[0], null).getPropertyValue(e)
            }
            if (2 === arguments.length && "string" == typeof e) {
                for (a = 0; a < this.length; a += 1) this[a].style[e] = t;
                return this
            }
            return this
        },
        each: function(e) {
            return e ? (this.forEach(((t, s) => {
                e.apply(t, [t, s])
            })), this) : this
        },
        html: function(e) {
            if (void 0 === e) return this[0] ? this[0].innerHTML : null;
            for (let t = 0; t < this.length; t += 1) this[t].innerHTML = e;
            return this
        },
        text: function(e) {
            if (void 0 === e) return this[0] ? this[0].textContent.trim() : null;
            for (let t = 0; t < this.length; t += 1) this[t].textContent = e;
            return this
        },
        is: function(e) {
            const t = r(),
                s = a(),
                i = this[0];
            let l, o;
            if (!i || void 0 === e) return !1;
            if ("string" == typeof e) {
                if (i.matches) return i.matches(e);
                if (i.webkitMatchesSelector) return i.webkitMatchesSelector(e);
                if (i.msMatchesSelector) return i.msMatchesSelector(e);
                for (l = d(e), o = 0; o < l.length; o += 1)
                    if (l[o] === i) return !0;
                return !1
            }
            if (e === s) return i === s;
            if (e === t) return i === t;
            if (e.nodeType || e instanceof n) {
                for (l = e.nodeType ? [e] : e, o = 0; o < l.length; o += 1)
                    if (l[o] === i) return !0;
                return !1
            }
            return !1
        },
        index: function() {
            let e, t = this[0];
            if (t) {
                for (e = 0; null !== (t = t.previousSibling);) 1 === t.nodeType && (e += 1);
                return e
            }
        },
        eq: function(e) {
            if (void 0 === e) return this;
            const t = this.length;
            if (e > t - 1) return d([]);
            if (e < 0) {
                const s = t + e;
                return d(s < 0 ? [] : [this[s]])
            }
            return d([this[e]])
        },
        append: function() {
            let e;
            const t = a();
            for (let s = 0; s < arguments.length; s += 1) {
                e = s < 0 || arguments.length <= s ? void 0 : arguments[s];
                for (let s = 0; s < this.length; s += 1)
                    if ("string" == typeof e) {
                        const a = t.createElement("div");
                        for (a.innerHTML = e; a.firstChild;) this[s].appendChild(a.firstChild)
                    } else if (e instanceof n)
                    for (let t = 0; t < e.length; t += 1) this[s].appendChild(e[t]);
                else this[s].appendChild(e)
            }
            return this
        },
        prepend: function(e) {
            const t = a();
            let s, i;
            for (s = 0; s < this.length; s += 1)
                if ("string" == typeof e) {
                    const a = t.createElement("div");
                    for (a.innerHTML = e, i = a.childNodes.length - 1; i >= 0; i -= 1) this[s].insertBefore(a.childNodes[i], this[s].childNodes[0])
                } else if (e instanceof n)
                for (i = 0; i < e.length; i += 1) this[s].insertBefore(e[i], this[s].childNodes[0]);
            else this[s].insertBefore(e, this[s].childNodes[0]);
            return this
        },
        next: function(e) {
            return this.length > 0 ? e ? this[0].nextElementSibling && d(this[0].nextElementSibling).is(e) ? d([this[0].nextElementSibling]) : d([]) : this[0].nextElementSibling ? d([this[0].nextElementSibling]) : d([]) : d([])
        },
        nextAll: function(e) {
            const t = [];
            let s = this[0];
            if (!s) return d([]);
            for (; s.nextElementSibling;) {
                const a = s.nextElementSibling;
                e ? d(a).is(e) && t.push(a) : t.push(a), s = a
            }
            return d(t)
        },
        prev: function(e) {
            if (this.length > 0) {
                const t = this[0];
                return e ? t.previousElementSibling && d(t.previousElementSibling).is(e) ? d([t.previousElementSibling]) : d([]) : t.previousElementSibling ? d([t.previousElementSibling]) : d([])
            }
            return d([])
        },
        prevAll: function(e) {
            const t = [];
            let s = this[0];
            if (!s) return d([]);
            for (; s.previousElementSibling;) {
                const a = s.previousElementSibling;
                e ? d(a).is(e) && t.push(a) : t.push(a), s = a
            }
            return d(t)
        },
        parent: function(e) {
            const t = [];
            for (let s = 0; s < this.length; s += 1) null !== this[s].parentNode && (e ? d(this[s].parentNode).is(e) && t.push(this[s].parentNode) : t.push(this[s].parentNode));
            return d(t)
        },
        parents: function(e) {
            const t = [];
            for (let s = 0; s < this.length; s += 1) {
                let a = this[s].parentNode;
                for (; a;) e ? d(a).is(e) && t.push(a) : t.push(a), a = a.parentNode
            }
            return d(t)
        },
        closest: function(e) {
            let t = this;
            return void 0 === e ? d([]) : (t.is(e) || (t = t.parents(e).eq(0)), t)
        },
        find: function(e) {
            const t = [];
            for (let s = 0; s < this.length; s += 1) {
                const a = this[s].querySelectorAll(e);
                for (let e = 0; e < a.length; e += 1) t.push(a[e])
            }
            return d(t)
        },
        children: function(e) {
            const t = [];
            for (let s = 0; s < this.length; s += 1) {
                const a = this[s].children;
                for (let s = 0; s < a.length; s += 1) e && !d(a[s]).is(e) || t.push(a[s])
            }
            return d(t)
        },
        filter: function(e) {
            return d(o(this, e))
        },
        remove: function() {
            for (let e = 0; e < this.length; e += 1) this[e].parentNode && this[e].parentNode.removeChild(this[e]);
            return this
        }
    };

    function p(e, t) {
        return void 0 === t && (t = 0), setTimeout(e, t)
    }

    function u() {
        return Date.now()
    }

    function h(e, t) {
        void 0 === t && (t = "x");
        const s = r();
        let a, i, n;
        const l = function(e) {
            const t = r();
            let s;
            return t.getComputedStyle && (s = t.getComputedStyle(e, null)), !s && e.currentStyle && (s = e.currentStyle), s || (s = e.style), s
        }(e);
        return s.WebKitCSSMatrix ? (i = l.transform || l.webkitTransform, i.split(",").length > 6 && (i = i.split(", ").map((e => e.replace(",", "."))).join(", ")), n = new s.WebKitCSSMatrix("none" === i ? "" : i)) : (n = l.MozTransform || l.OTransform || l.MsTransform || l.msTransform || l.transform || l.getPropertyValue("transform").replace("translate(", "matrix(1, 0, 0, 1,"), a = n.toString().split(",")), "x" === t && (i = s.WebKitCSSMatrix ? n.m41 : 16 === a.length ? parseFloat(a[12]) : parseFloat(a[4])), "y" === t && (i = s.WebKitCSSMatrix ? n.m42 : 16 === a.length ? parseFloat(a[13]) : parseFloat(a[5])), i || 0
    }

    function m(e) {
        return "object" == typeof e && null !== e && e.constructor && "Object" === Object.prototype.toString.call(e).slice(8, -1)
    }

    function f(e) {
        return "undefined" != typeof window && void 0 !== window.HTMLElement ? e instanceof HTMLElement : e && (1 === e.nodeType || 11 === e.nodeType)
    }

    function g() {
        const e = Object(arguments.length <= 0 ? void 0 : arguments[0]),
            t = ["__proto__", "constructor", "prototype"];
        for (let s = 1; s < arguments.length; s += 1) {
            const a = s < 0 || arguments.length <= s ? void 0 : arguments[s];
            if (null != a && !f(a)) {
                const s = Object.keys(Object(a)).filter((e => t.indexOf(e) < 0));
                for (let t = 0, i = s.length; t < i; t += 1) {
                    const i = s[t],
                        r = Object.getOwnPropertyDescriptor(a, i);
                    void 0 !== r && r.enumerable && (m(e[i]) && m(a[i]) ? a[i].__swiper__ ? e[i] = a[i] : g(e[i], a[i]) : !m(e[i]) && m(a[i]) ? (e[i] = {}, a[i].__swiper__ ? e[i] = a[i] : g(e[i], a[i])) : e[i] = a[i])
                }
            }
        }
        return e
    }

    function v(e, t, s) {
        e.style.setProperty(t, s)
    }

    function w(e) {
        let {
            swiper: t,
            targetPosition: s,
            side: a
        } = e;
        const i = r(),
            n = -t.translate;
        let l, o = null;
        const d = t.params.speed;
        t.wrapperEl.style.scrollSnapType = "none", i.cancelAnimationFrame(t.cssModeFrameID);
        const c = s > n ? "next" : "prev",
            p = (e, t) => "next" === c && e >= t || "prev" === c && e <= t,
            u = () => {
                l = (new Date).getTime(), null === o && (o = l);
                const e = Math.max(Math.min((l - o) / d, 1), 0),
                    r = .5 - Math.cos(e * Math.PI) / 2;
                let c = n + r * (s - n);
                if (p(c, s) && (c = s), t.wrapperEl.scrollTo({
                        [a]: c
                    }), p(c, s)) return t.wrapperEl.style.overflow = "hidden", t.wrapperEl.style.scrollSnapType = "", setTimeout((() => {
                    t.wrapperEl.style.overflow = "", t.wrapperEl.scrollTo({
                        [a]: c
                    })
                })), void i.cancelAnimationFrame(t.cssModeFrameID);
                t.cssModeFrameID = i.requestAnimationFrame(u)
            };
        u()
    }
    let b, x, y;

    function E() {
        return b || (b = function() {
            const e = r(),
                t = a();
            return {
                smoothScroll: t.documentElement && "scrollBehavior" in t.documentElement.style,
                touch: !!("ontouchstart" in e || e.DocumentTouch && t instanceof e.DocumentTouch),
                passiveListener: function() {
                    let t = !1;
                    try {
                        const s = Object.defineProperty({}, "passive", {
                            get() {
                                t = !0
                            }
                        });
                        e.addEventListener("testPassiveListener", null, s)
                    } catch (e) {}
                    return t
                }(),
                gestures: "ongesturestart" in e
            }
        }()), b
    }

    function T(e) {
        return void 0 === e && (e = {}), x || (x = function(e) {
            let {
                userAgent: t
            } = void 0 === e ? {} : e;
            const s = E(),
                a = r(),
                i = a.navigator.platform,
                n = t || a.navigator.userAgent,
                l = {
                    ios: !1,
                    android: !1
                },
                o = a.screen.width,
                d = a.screen.height,
                c = n.match(/(Android);?[\s\/]+([\d.]+)?/);
            let p = n.match(/(iPad).*OS\s([\d_]+)/);
            const u = n.match(/(iPod)(.*OS\s([\d_]+))?/),
                h = !p && n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),
                m = "Win32" === i;
            let f = "MacIntel" === i;
            return !p && f && s.touch && ["1024x1366", "1366x1024", "834x1194", "1194x834", "834x1112", "1112x834", "768x1024", "1024x768", "820x1180", "1180x820", "810x1080", "1080x810"].indexOf(`${o}x${d}`) >= 0 && (p = n.match(/(Version)\/([\d.]+)/), p || (p = [0, 1, "13_0_0"]), f = !1), c && !m && (l.os = "android", l.android = !0), (p || h || u) && (l.os = "ios", l.ios = !0), l
        }(e)), x
    }

    function C() {
        return y || (y = function() {
            const e = r();
            return {
                isSafari: function() {
                    const t = e.navigator.userAgent.toLowerCase();
                    return t.indexOf("safari") >= 0 && t.indexOf("chrome") < 0 && t.indexOf("android") < 0
                }(),
                isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)
            }
        }()), y
    }
    Object.keys(c).forEach((e => {
        Object.defineProperty(d.fn, e, {
            value: c[e],
            writable: !0
        })
    }));
    var $ = {
        on(e, t, s) {
            const a = this;
            if ("function" != typeof t) return a;
            const i = s ? "unshift" : "push";
            return e.split(" ").forEach((e => {
                a.eventsListeners[e] || (a.eventsListeners[e] = []), a.eventsListeners[e][i](t)
            })), a
        },
        once(e, t, s) {
            const a = this;
            if ("function" != typeof t) return a;

            function i() {
                a.off(e, i), i.__emitterProxy && delete i.__emitterProxy;
                for (var s = arguments.length, r = new Array(s), n = 0; n < s; n++) r[n] = arguments[n];
                t.apply(a, r)
            }
            return i.__emitterProxy = t, a.on(e, i, s)
        },
        onAny(e, t) {
            const s = this;
            if ("function" != typeof e) return s;
            const a = t ? "unshift" : "push";
            return s.eventsAnyListeners.indexOf(e) < 0 && s.eventsAnyListeners[a](e), s
        },
        offAny(e) {
            const t = this;
            if (!t.eventsAnyListeners) return t;
            const s = t.eventsAnyListeners.indexOf(e);
            return s >= 0 && t.eventsAnyListeners.splice(s, 1), t
        },
        off(e, t) {
            const s = this;
            return s.eventsListeners ? (e.split(" ").forEach((e => {
                void 0 === t ? s.eventsListeners[e] = [] : s.eventsListeners[e] && s.eventsListeners[e].forEach(((a, i) => {
                    (a === t || a.__emitterProxy && a.__emitterProxy === t) && s.eventsListeners[e].splice(i, 1)
                }))
            })), s) : s
        },
        emit() {
            const e = this;
            if (!e.eventsListeners) return e;
            let t, s, a;
            for (var i = arguments.length, r = new Array(i), n = 0; n < i; n++) r[n] = arguments[n];
            "string" == typeof r[0] || Array.isArray(r[0]) ? (t = r[0], s = r.slice(1, r.length), a = e) : (t = r[0].events, s = r[0].data, a = r[0].context || e), s.unshift(a);
            return (Array.isArray(t) ? t : t.split(" ")).forEach((t => {
                e.eventsAnyListeners && e.eventsAnyListeners.length && e.eventsAnyListeners.forEach((e => {
                    e.apply(a, [t, ...s])
                })), e.eventsListeners && e.eventsListeners[t] && e.eventsListeners[t].forEach((e => {
                    e.apply(a, s)
                }))
            })), e
        }
    };
    var S = {
        updateSize: function() {
            const e = this;
            let t, s;
            const a = e.$el;
            t = void 0 !== e.params.width && null !== e.params.width ? e.params.width : a[0].clientWidth, s = void 0 !== e.params.height && null !== e.params.height ? e.params.height : a[0].clientHeight, 0 === t && e.isHorizontal() || 0 === s && e.isVertical() || (t = t - parseInt(a.css("padding-left") || 0, 10) - parseInt(a.css("padding-right") || 0, 10), s = s - parseInt(a.css("padding-top") || 0, 10) - parseInt(a.css("padding-bottom") || 0, 10), Number.isNaN(t) && (t = 0), Number.isNaN(s) && (s = 0), Object.assign(e, {
                width: t,
                height: s,
                size: e.isHorizontal() ? t : s
            }))
        },
        updateSlides: function() {
            const e = this;

            function t(t) {
                return e.isHorizontal() ? t : {
                    width: "height",
                    "margin-top": "margin-left",
                    "margin-bottom ": "margin-right",
                    "margin-left": "margin-top",
                    "margin-right": "margin-bottom",
                    "padding-left": "padding-top",
                    "padding-right": "padding-bottom",
                    marginRight: "marginBottom"
                }[t]
            }

            function s(e, s) {
                return parseFloat(e.getPropertyValue(t(s)) || 0)
            }
            const a = e.params,
                {
                    $wrapperEl: i,
                    size: r,
                    rtlTranslate: n,
                    wrongRTL: l
                } = e,
                o = e.virtual && a.virtual.enabled,
                d = o ? e.virtual.slides.length : e.slides.length,
                c = i.children(`.${e.params.slideClass}`),
                p = o ? e.virtual.slides.length : c.length;
            let u = [];
            const h = [],
                m = [];
            let f = a.slidesOffsetBefore;
            "function" == typeof f && (f = a.slidesOffsetBefore.call(e));
            let g = a.slidesOffsetAfter;
            "function" == typeof g && (g = a.slidesOffsetAfter.call(e));
            const w = e.snapGrid.length,
                b = e.slidesGrid.length;
            let x = a.spaceBetween,
                y = -f,
                E = 0,
                T = 0;
            if (void 0 === r) return;
            "string" == typeof x && x.indexOf("%") >= 0 && (x = parseFloat(x.replace("%", "")) / 100 * r), e.virtualSize = -x, n ? c.css({
                marginLeft: "",
                marginBottom: "",
                marginTop: ""
            }) : c.css({
                marginRight: "",
                marginBottom: "",
                marginTop: ""
            }), a.centeredSlides && a.cssMode && (v(e.wrapperEl, "--swiper-centered-offset-before", ""), v(e.wrapperEl, "--swiper-centered-offset-after", ""));
            const C = a.grid && a.grid.rows > 1 && e.grid;
            let $;
            C && e.grid.initSlides(p);
            const S = "auto" === a.slidesPerView && a.breakpoints && Object.keys(a.breakpoints).filter((e => void 0 !== a.breakpoints[e].slidesPerView)).length > 0;
            for (let i = 0; i < p; i += 1) {
                $ = 0;
                const n = c.eq(i);
                if (C && e.grid.updateSlide(i, n, p, t), "none" !== n.css("display")) {
                    if ("auto" === a.slidesPerView) {
                        S && (c[i].style[t("width")] = "");
                        const r = getComputedStyle(n[0]),
                            l = n[0].style.transform,
                            o = n[0].style.webkitTransform;
                        if (l && (n[0].style.transform = "none"), o && (n[0].style.webkitTransform = "none"), a.roundLengths) $ = e.isHorizontal() ? n.outerWidth(!0) : n.outerHeight(!0);
                        else {
                            const e = s(r, "width"),
                                t = s(r, "padding-left"),
                                a = s(r, "padding-right"),
                                i = s(r, "margin-left"),
                                l = s(r, "margin-right"),
                                o = r.getPropertyValue("box-sizing");
                            if (o && "border-box" === o) $ = e + i + l;
                            else {
                                const {
                                    clientWidth: s,
                                    offsetWidth: r
                                } = n[0];
                                $ = e + t + a + i + l + (r - s)
                            }
                        }
                        l && (n[0].style.transform = l), o && (n[0].style.webkitTransform = o), a.roundLengths && ($ = Math.floor($))
                    } else $ = (r - (a.slidesPerView - 1) * x) / a.slidesPerView, a.roundLengths && ($ = Math.floor($)), c[i] && (c[i].style[t("width")] = `${$}px`);
                    c[i] && (c[i].swiperSlideSize = $), m.push($), a.centeredSlides ? (y = y + $ / 2 + E / 2 + x, 0 === E && 0 !== i && (y = y - r / 2 - x), 0 === i && (y = y - r / 2 - x), Math.abs(y) < .001 && (y = 0), a.roundLengths && (y = Math.floor(y)), T % a.slidesPerGroup == 0 && u.push(y), h.push(y)) : (a.roundLengths && (y = Math.floor(y)), (T - Math.min(e.params.slidesPerGroupSkip, T)) % e.params.slidesPerGroup == 0 && u.push(y), h.push(y), y = y + $ + x), e.virtualSize += $ + x, E = $, T += 1
                }
            }
            if (e.virtualSize = Math.max(e.virtualSize, r) + g, n && l && ("slide" === a.effect || "coverflow" === a.effect) && i.css({
                    width: `${e.virtualSize+a.spaceBetween}px`
                }), a.setWrapperSize && i.css({
                    [t("width")]: `${e.virtualSize+a.spaceBetween}px`
                }), C && e.grid.updateWrapperSize($, u, t), !a.centeredSlides) {
                const t = [];
                for (let s = 0; s < u.length; s += 1) {
                    let i = u[s];
                    a.roundLengths && (i = Math.floor(i)), u[s] <= e.virtualSize - r && t.push(i)
                }
                u = t, Math.floor(e.virtualSize - r) - Math.floor(u[u.length - 1]) > 1 && u.push(e.virtualSize - r)
            }
            if (0 === u.length && (u = [0]), 0 !== a.spaceBetween) {
                const s = e.isHorizontal() && n ? "marginLeft" : t("marginRight");
                c.filter(((e, t) => !a.cssMode || t !== c.length - 1)).css({
                    [s]: `${x}px`
                })
            }
            if (a.centeredSlides && a.centeredSlidesBounds) {
                let e = 0;
                m.forEach((t => {
                    e += t + (a.spaceBetween ? a.spaceBetween : 0)
                })), e -= a.spaceBetween;
                const t = e - r;
                u = u.map((e => e < 0 ? -f : e > t ? t + g : e))
            }
            if (a.centerInsufficientSlides) {
                let e = 0;
                if (m.forEach((t => {
                        e += t + (a.spaceBetween ? a.spaceBetween : 0)
                    })), e -= a.spaceBetween, e < r) {
                    const t = (r - e) / 2;
                    u.forEach(((e, s) => {
                        u[s] = e - t
                    })), h.forEach(((e, s) => {
                        h[s] = e + t
                    }))
                }
            }
            if (Object.assign(e, {
                    slides: c,
                    snapGrid: u,
                    slidesGrid: h,
                    slidesSizesGrid: m
                }), a.centeredSlides && a.cssMode && !a.centeredSlidesBounds) {
                v(e.wrapperEl, "--swiper-centered-offset-before", -u[0] + "px"), v(e.wrapperEl, "--swiper-centered-offset-after", e.size / 2 - m[m.length - 1] / 2 + "px");
                const t = -e.snapGrid[0],
                    s = -e.slidesGrid[0];
                e.snapGrid = e.snapGrid.map((e => e + t)), e.slidesGrid = e.slidesGrid.map((e => e + s))
            }
            if (p !== d && e.emit("slidesLengthChange"), u.length !== w && (e.params.watchOverflow && e.checkOverflow(), e.emit("snapGridLengthChange")), h.length !== b && e.emit("slidesGridLengthChange"), a.watchSlidesProgress && e.updateSlidesOffset(), !(o || a.cssMode || "slide" !== a.effect && "fade" !== a.effect)) {
                const t = `${a.containerModifierClass}backface-hidden`,
                    s = e.$el.hasClass(t);
                p <= a.maxBackfaceHiddenSlides ? s || e.$el.addClass(t) : s && e.$el.removeClass(t)
            }
        },
        updateAutoHeight: function(e) {
            const t = this,
                s = [],
                a = t.virtual && t.params.virtual.enabled;
            let i, r = 0;
            "number" == typeof e ? t.setTransition(e) : !0 === e && t.setTransition(t.params.speed);
            const n = e => a ? t.slides.filter((t => parseInt(t.getAttribute("data-swiper-slide-index"), 10) === e))[0] : t.slides.eq(e)[0];
            if ("auto" !== t.params.slidesPerView && t.params.slidesPerView > 1)
                if (t.params.centeredSlides) t.visibleSlides.each((e => {
                    s.push(e)
                }));
                else
                    for (i = 0; i < Math.ceil(t.params.slidesPerView); i += 1) {
                        const e = t.activeIndex + i;
                        if (e > t.slides.length && !a) break;
                        s.push(n(e))
                    } else s.push(n(t.activeIndex));
            for (i = 0; i < s.length; i += 1)
                if (void 0 !== s[i]) {
                    const e = s[i].offsetHeight;
                    r = e > r ? e : r
                }(r || 0 === r) && t.$wrapperEl.css("height", `${r}px`)
        },
        updateSlidesOffset: function() {
            const e = this,
                t = e.slides;
            for (let s = 0; s < t.length; s += 1) t[s].swiperSlideOffset = e.isHorizontal() ? t[s].offsetLeft : t[s].offsetTop
        },
        updateSlidesProgress: function(e) {
            void 0 === e && (e = this && this.translate || 0);
            const t = this,
                s = t.params,
                {
                    slides: a,
                    rtlTranslate: i,
                    snapGrid: r
                } = t;
            if (0 === a.length) return;
            void 0 === a[0].swiperSlideOffset && t.updateSlidesOffset();
            let n = -e;
            i && (n = e), a.removeClass(s.slideVisibleClass), t.visibleSlidesIndexes = [], t.visibleSlides = [];
            for (let e = 0; e < a.length; e += 1) {
                const l = a[e];
                let o = l.swiperSlideOffset;
                s.cssMode && s.centeredSlides && (o -= a[0].swiperSlideOffset);
                const d = (n + (s.centeredSlides ? t.minTranslate() : 0) - o) / (l.swiperSlideSize + s.spaceBetween),
                    c = (n - r[0] + (s.centeredSlides ? t.minTranslate() : 0) - o) / (l.swiperSlideSize + s.spaceBetween),
                    p = -(n - o),
                    u = p + t.slidesSizesGrid[e];
                (p >= 0 && p < t.size - 1 || u > 1 && u <= t.size || p <= 0 && u >= t.size) && (t.visibleSlides.push(l), t.visibleSlidesIndexes.push(e), a.eq(e).addClass(s.slideVisibleClass)), l.progress = i ? -d : d, l.originalProgress = i ? -c : c
            }
            t.visibleSlides = d(t.visibleSlides)
        },
        updateProgress: function(e) {
            const t = this;
            if (void 0 === e) {
                const s = t.rtlTranslate ? -1 : 1;
                e = t && t.translate && t.translate * s || 0
            }
            const s = t.params,
                a = t.maxTranslate() - t.minTranslate();
            let {
                progress: i,
                isBeginning: r,
                isEnd: n
            } = t;
            const l = r,
                o = n;
            0 === a ? (i = 0, r = !0, n = !0) : (i = (e - t.minTranslate()) / a, r = i <= 0, n = i >= 1), Object.assign(t, {
                progress: i,
                isBeginning: r,
                isEnd: n
            }), (s.watchSlidesProgress || s.centeredSlides && s.autoHeight) && t.updateSlidesProgress(e), r && !l && t.emit("reachBeginning toEdge"), n && !o && t.emit("reachEnd toEdge"), (l && !r || o && !n) && t.emit("fromEdge"), t.emit("progress", i)
        },
        updateSlidesClasses: function() {
            const e = this,
                {
                    slides: t,
                    params: s,
                    $wrapperEl: a,
                    activeIndex: i,
                    realIndex: r
                } = e,
                n = e.virtual && s.virtual.enabled;
            let l;
            t.removeClass(`${s.slideActiveClass} ${s.slideNextClass} ${s.slidePrevClass} ${s.slideDuplicateActiveClass} ${s.slideDuplicateNextClass} ${s.slideDuplicatePrevClass}`), l = n ? e.$wrapperEl.find(`.${s.slideClass}[data-swiper-slide-index="${i}"]`) : t.eq(i), l.addClass(s.slideActiveClass), s.loop && (l.hasClass(s.slideDuplicateClass) ? a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass) : a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass));
            let o = l.nextAll(`.${s.slideClass}`).eq(0).addClass(s.slideNextClass);
            s.loop && 0 === o.length && (o = t.eq(0), o.addClass(s.slideNextClass));
            let d = l.prevAll(`.${s.slideClass}`).eq(0).addClass(s.slidePrevClass);
            s.loop && 0 === d.length && (d = t.eq(-1), d.addClass(s.slidePrevClass)), s.loop && (o.hasClass(s.slideDuplicateClass) ? a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${o.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass) : a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${o.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass), d.hasClass(s.slideDuplicateClass) ? a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass) : a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass)), e.emitSlidesClasses()
        },
        updateActiveIndex: function(e) {
            const t = this,
                s = t.rtlTranslate ? t.translate : -t.translate,
                {
                    slidesGrid: a,
                    snapGrid: i,
                    params: r,
                    activeIndex: n,
                    realIndex: l,
                    snapIndex: o
                } = t;
            let d, c = e;
            if (void 0 === c) {
                for (let e = 0; e < a.length; e += 1) void 0 !== a[e + 1] ? s >= a[e] && s < a[e + 1] - (a[e + 1] - a[e]) / 2 ? c = e : s >= a[e] && s < a[e + 1] && (c = e + 1) : s >= a[e] && (c = e);
                r.normalizeSlideIndex && (c < 0 || void 0 === c) && (c = 0)
            }
            if (i.indexOf(s) >= 0) d = i.indexOf(s);
            else {
                const e = Math.min(r.slidesPerGroupSkip, c);
                d = e + Math.floor((c - e) / r.slidesPerGroup)
            }
            if (d >= i.length && (d = i.length - 1), c === n) return void(d !== o && (t.snapIndex = d, t.emit("snapIndexChange")));
            const p = parseInt(t.slides.eq(c).attr("data-swiper-slide-index") || c, 10);
            Object.assign(t, {
                snapIndex: d,
                realIndex: p,
                previousIndex: n,
                activeIndex: c
            }), t.emit("activeIndexChange"), t.emit("snapIndexChange"), l !== p && t.emit("realIndexChange"), (t.initialized || t.params.runCallbacksOnInit) && t.emit("slideChange")
        },
        updateClickedSlide: function(e) {
            const t = this,
                s = t.params,
                a = d(e).closest(`.${s.slideClass}`)[0];
            let i, r = !1;
            if (a)
                for (let e = 0; e < t.slides.length; e += 1)
                    if (t.slides[e] === a) {
                        r = !0, i = e;
                        break
                    }
            if (!a || !r) return t.clickedSlide = void 0, void(t.clickedIndex = void 0);
            t.clickedSlide = a, t.virtual && t.params.virtual.enabled ? t.clickedIndex = parseInt(d(a).attr("data-swiper-slide-index"), 10) : t.clickedIndex = i, s.slideToClickedSlide && void 0 !== t.clickedIndex && t.clickedIndex !== t.activeIndex && t.slideToClickedSlide()
        }
    };
    var M = {
        getTranslate: function(e) {
            void 0 === e && (e = this.isHorizontal() ? "x" : "y");
            const {
                params: t,
                rtlTranslate: s,
                translate: a,
                $wrapperEl: i
            } = this;
            if (t.virtualTranslate) return s ? -a : a;
            if (t.cssMode) return a;
            let r = h(i[0], e);
            return s && (r = -r), r || 0
        },
        setTranslate: function(e, t) {
            const s = this,
                {
                    rtlTranslate: a,
                    params: i,
                    $wrapperEl: r,
                    wrapperEl: n,
                    progress: l
                } = s;
            let o, d = 0,
                c = 0;
            s.isHorizontal() ? d = a ? -e : e : c = e, i.roundLengths && (d = Math.floor(d), c = Math.floor(c)), i.cssMode ? n[s.isHorizontal() ? "scrollLeft" : "scrollTop"] = s.isHorizontal() ? -d : -c : i.virtualTranslate || r.transform(`translate3d(${d}px, ${c}px, 0px)`), s.previousTranslate = s.translate, s.translate = s.isHorizontal() ? d : c;
            const p = s.maxTranslate() - s.minTranslate();
            o = 0 === p ? 0 : (e - s.minTranslate()) / p, o !== l && s.updateProgress(e), s.emit("setTranslate", s.translate, t)
        },
        minTranslate: function() {
            return -this.snapGrid[0]
        },
        maxTranslate: function() {
            return -this.snapGrid[this.snapGrid.length - 1]
        },
        translateTo: function(e, t, s, a, i) {
            void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === s && (s = !0), void 0 === a && (a = !0);
            const r = this,
                {
                    params: n,
                    wrapperEl: l
                } = r;
            if (r.animating && n.preventInteractionOnTransition) return !1;
            const o = r.minTranslate(),
                d = r.maxTranslate();
            let c;
            if (c = a && e > o ? o : a && e < d ? d : e, r.updateProgress(c), n.cssMode) {
                const e = r.isHorizontal();
                if (0 === t) l[e ? "scrollLeft" : "scrollTop"] = -c;
                else {
                    if (!r.support.smoothScroll) return w({
                        swiper: r,
                        targetPosition: -c,
                        side: e ? "left" : "top"
                    }), !0;
                    l.scrollTo({
                        [e ? "left" : "top"]: -c,
                        behavior: "smooth"
                    })
                }
                return !0
            }
            return 0 === t ? (r.setTransition(0), r.setTranslate(c), s && (r.emit("beforeTransitionStart", t, i), r.emit("transitionEnd"))) : (r.setTransition(t), r.setTranslate(c), s && (r.emit("beforeTransitionStart", t, i), r.emit("transitionStart")), r.animating || (r.animating = !0, r.onTranslateToWrapperTransitionEnd || (r.onTranslateToWrapperTransitionEnd = function(e) {
                r && !r.destroyed && e.target === this && (r.$wrapperEl[0].removeEventListener("transitionend", r.onTranslateToWrapperTransitionEnd), r.$wrapperEl[0].removeEventListener("webkitTransitionEnd", r.onTranslateToWrapperTransitionEnd), r.onTranslateToWrapperTransitionEnd = null, delete r.onTranslateToWrapperTransitionEnd, s && r.emit("transitionEnd"))
            }), r.$wrapperEl[0].addEventListener("transitionend", r.onTranslateToWrapperTransitionEnd), r.$wrapperEl[0].addEventListener("webkitTransitionEnd", r.onTranslateToWrapperTransitionEnd))), !0
        }
    };

    function P(e) {
        let {
            swiper: t,
            runCallbacks: s,
            direction: a,
            step: i
        } = e;
        const {
            activeIndex: r,
            previousIndex: n
        } = t;
        let l = a;
        if (l || (l = r > n ? "next" : r < n ? "prev" : "reset"), t.emit(`transition${i}`), s && r !== n) {
            if ("reset" === l) return void t.emit(`slideResetTransition${i}`);
            t.emit(`slideChangeTransition${i}`), "next" === l ? t.emit(`slideNextTransition${i}`) : t.emit(`slidePrevTransition${i}`)
        }
    }
    var k = {
        slideTo: function(e, t, s, a, i) {
            if (void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === s && (s = !0), "number" != typeof e && "string" != typeof e) throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);
            if ("string" == typeof e) {
                const t = parseInt(e, 10);
                if (!isFinite(t)) throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);
                e = t
            }
            const r = this;
            let n = e;
            n < 0 && (n = 0);
            const {
                params: l,
                snapGrid: o,
                slidesGrid: d,
                previousIndex: c,
                activeIndex: p,
                rtlTranslate: u,
                wrapperEl: h,
                enabled: m
            } = r;
            if (r.animating && l.preventInteractionOnTransition || !m && !a && !i) return !1;
            const f = Math.min(r.params.slidesPerGroupSkip, n);
            let g = f + Math.floor((n - f) / r.params.slidesPerGroup);
            g >= o.length && (g = o.length - 1), (p || l.initialSlide || 0) === (c || 0) && s && r.emit("beforeSlideChangeStart");
            const v = -o[g];
            if (r.updateProgress(v), l.normalizeSlideIndex)
                for (let e = 0; e < d.length; e += 1) {
                    const t = -Math.floor(100 * v),
                        s = Math.floor(100 * d[e]),
                        a = Math.floor(100 * d[e + 1]);
                    void 0 !== d[e + 1] ? t >= s && t < a - (a - s) / 2 ? n = e : t >= s && t < a && (n = e + 1) : t >= s && (n = e)
                }
            if (r.initialized && n !== p) {
                if (!r.allowSlideNext && v < r.translate && v < r.minTranslate()) return !1;
                if (!r.allowSlidePrev && v > r.translate && v > r.maxTranslate() && (p || 0) !== n) return !1
            }
            let b;
            if (b = n > p ? "next" : n < p ? "prev" : "reset", u && -v === r.translate || !u && v === r.translate) return r.updateActiveIndex(n), l.autoHeight && r.updateAutoHeight(), r.updateSlidesClasses(), "slide" !== l.effect && r.setTranslate(v), "reset" !== b && (r.transitionStart(s, b), r.transitionEnd(s, b)), !1;
            if (l.cssMode) {
                const e = r.isHorizontal(),
                    s = u ? v : -v;
                if (0 === t) {
                    const t = r.virtual && r.params.virtual.enabled;
                    t && (r.wrapperEl.style.scrollSnapType = "none", r._immediateVirtual = !0), h[e ? "scrollLeft" : "scrollTop"] = s, t && requestAnimationFrame((() => {
                        r.wrapperEl.style.scrollSnapType = "", r._swiperImmediateVirtual = !1
                    }))
                } else {
                    if (!r.support.smoothScroll) return w({
                        swiper: r,
                        targetPosition: s,
                        side: e ? "left" : "top"
                    }), !0;
                    h.scrollTo({
                        [e ? "left" : "top"]: s,
                        behavior: "smooth"
                    })
                }
                return !0
            }
            return r.setTransition(t), r.setTranslate(v), r.updateActiveIndex(n), r.updateSlidesClasses(), r.emit("beforeTransitionStart", t, a), r.transitionStart(s, b), 0 === t ? r.transitionEnd(s, b) : r.animating || (r.animating = !0, r.onSlideToWrapperTransitionEnd || (r.onSlideToWrapperTransitionEnd = function(e) {
                r && !r.destroyed && e.target === this && (r.$wrapperEl[0].removeEventListener("transitionend", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].removeEventListener("webkitTransitionEnd", r.onSlideToWrapperTransitionEnd), r.onSlideToWrapperTransitionEnd = null, delete r.onSlideToWrapperTransitionEnd, r.transitionEnd(s, b))
            }), r.$wrapperEl[0].addEventListener("transitionend", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].addEventListener("webkitTransitionEnd", r.onSlideToWrapperTransitionEnd)), !0
        },
        slideToLoop: function(e, t, s, a) {
            void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === s && (s = !0);
            const i = this;
            let r = e;
            return i.params.loop && (r += i.loopedSlides), i.slideTo(r, t, s, a)
        },
        slideNext: function(e, t, s) {
            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);
            const a = this,
                {
                    animating: i,
                    enabled: r,
                    params: n
                } = a;
            if (!r) return a;
            let l = n.slidesPerGroup;
            "auto" === n.slidesPerView && 1 === n.slidesPerGroup && n.slidesPerGroupAuto && (l = Math.max(a.slidesPerViewDynamic("current", !0), 1));
            const o = a.activeIndex < n.slidesPerGroupSkip ? 1 : l;
            if (n.loop) {
                if (i && n.loopPreventsSlide) return !1;
                a.loopFix(), a._clientLeft = a.$wrapperEl[0].clientLeft
            }
            return n.rewind && a.isEnd ? a.slideTo(0, e, t, s) : a.slideTo(a.activeIndex + o, e, t, s)
        },
        slidePrev: function(e, t, s) {
            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);
            const a = this,
                {
                    params: i,
                    animating: r,
                    snapGrid: n,
                    slidesGrid: l,
                    rtlTranslate: o,
                    enabled: d
                } = a;
            if (!d) return a;
            if (i.loop) {
                if (r && i.loopPreventsSlide) return !1;
                a.loopFix(), a._clientLeft = a.$wrapperEl[0].clientLeft
            }

            function c(e) {
                return e < 0 ? -Math.floor(Math.abs(e)) : Math.floor(e)
            }
            const p = c(o ? a.translate : -a.translate),
                u = n.map((e => c(e)));
            let h = n[u.indexOf(p) - 1];
            if (void 0 === h && i.cssMode) {
                let e;
                n.forEach(((t, s) => {
                    p >= t && (e = s)
                })), void 0 !== e && (h = n[e > 0 ? e - 1 : e])
            }
            let m = 0;
            if (void 0 !== h && (m = l.indexOf(h), m < 0 && (m = a.activeIndex - 1), "auto" === i.slidesPerView && 1 === i.slidesPerGroup && i.slidesPerGroupAuto && (m = m - a.slidesPerViewDynamic("previous", !0) + 1, m = Math.max(m, 0))), i.rewind && a.isBeginning) {
                const i = a.params.virtual && a.params.virtual.enabled && a.virtual ? a.virtual.slides.length - 1 : a.slides.length - 1;
                return a.slideTo(i, e, t, s)
            }
            return a.slideTo(m, e, t, s)
        },
        slideReset: function(e, t, s) {
            return void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), this.slideTo(this.activeIndex, e, t, s)
        },
        slideToClosest: function(e, t, s, a) {
            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), void 0 === a && (a = .5);
            const i = this;
            let r = i.activeIndex;
            const n = Math.min(i.params.slidesPerGroupSkip, r),
                l = n + Math.floor((r - n) / i.params.slidesPerGroup),
                o = i.rtlTranslate ? i.translate : -i.translate;
            if (o >= i.snapGrid[l]) {
                const e = i.snapGrid[l];
                o - e > (i.snapGrid[l + 1] - e) * a && (r += i.params.slidesPerGroup)
            } else {
                const e = i.snapGrid[l - 1];
                o - e <= (i.snapGrid[l] - e) * a && (r -= i.params.slidesPerGroup)
            }
            return r = Math.max(r, 0), r = Math.min(r, i.slidesGrid.length - 1), i.slideTo(r, e, t, s)
        },
        slideToClickedSlide: function() {
            const e = this,
                {
                    params: t,
                    $wrapperEl: s
                } = e,
                a = "auto" === t.slidesPerView ? e.slidesPerViewDynamic() : t.slidesPerView;
            let i, r = e.clickedIndex;
            if (t.loop) {
                if (e.animating) return;
                i = parseInt(d(e.clickedSlide).attr("data-swiper-slide-index"), 10), t.centeredSlides ? r < e.loopedSlides - a / 2 || r > e.slides.length - e.loopedSlides + a / 2 ? (e.loopFix(), r = s.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(), p((() => {
                    e.slideTo(r)
                }))) : e.slideTo(r) : r > e.slides.length - a ? (e.loopFix(), r = s.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(), p((() => {
                    e.slideTo(r)
                }))) : e.slideTo(r)
            } else e.slideTo(r)
        }
    };
    var z = {
        loopCreate: function() {
            const e = this,
                t = a(),
                {
                    params: s,
                    $wrapperEl: i
                } = e,
                r = i.children().length > 0 ? d(i.children()[0].parentNode) : i;
            r.children(`.${s.slideClass}.${s.slideDuplicateClass}`).remove();
            let n = r.children(`.${s.slideClass}`);
            if (s.loopFillGroupWithBlank) {
                const e = s.slidesPerGroup - n.length % s.slidesPerGroup;
                if (e !== s.slidesPerGroup) {
                    for (let a = 0; a < e; a += 1) {
                        const e = d(t.createElement("div")).addClass(`${s.slideClass} ${s.slideBlankClass}`);
                        r.append(e)
                    }
                    n = r.children(`.${s.slideClass}`)
                }
            }
            "auto" !== s.slidesPerView || s.loopedSlides || (s.loopedSlides = n.length), e.loopedSlides = Math.ceil(parseFloat(s.loopedSlides || s.slidesPerView, 10)), e.loopedSlides += s.loopAdditionalSlides, e.loopedSlides > n.length && (e.loopedSlides = n.length);
            const l = [],
                o = [];
            n.each(((t, s) => {
                const a = d(t);
                s < e.loopedSlides && o.push(t), s < n.length && s >= n.length - e.loopedSlides && l.push(t), a.attr("data-swiper-slide-index", s)
            }));
            for (let e = 0; e < o.length; e += 1) r.append(d(o[e].cloneNode(!0)).addClass(s.slideDuplicateClass));
            for (let e = l.length - 1; e >= 0; e -= 1) r.prepend(d(l[e].cloneNode(!0)).addClass(s.slideDuplicateClass))
        },
        loopFix: function() {
            const e = this;
            e.emit("beforeLoopFix");
            const {
                activeIndex: t,
                slides: s,
                loopedSlides: a,
                allowSlidePrev: i,
                allowSlideNext: r,
                snapGrid: n,
                rtlTranslate: l
            } = e;
            let o;
            e.allowSlidePrev = !0, e.allowSlideNext = !0;
            const d = -n[t] - e.getTranslate();
            if (t < a) {
                o = s.length - 3 * a + t, o += a;
                e.slideTo(o, 0, !1, !0) && 0 !== d && e.setTranslate((l ? -e.translate : e.translate) - d)
            } else if (t >= s.length - a) {
                o = -s.length + t + a, o += a;
                e.slideTo(o, 0, !1, !0) && 0 !== d && e.setTranslate((l ? -e.translate : e.translate) - d)
            }
            e.allowSlidePrev = i, e.allowSlideNext = r, e.emit("loopFix")
        },
        loopDestroy: function() {
            const {
                $wrapperEl: e,
                params: t,
                slides: s
            } = this;
            e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(), s.removeAttr("data-swiper-slide-index")
        }
    };

    function O(e) {
        const t = this,
            s = a(),
            i = r(),
            n = t.touchEventsData,
            {
                params: l,
                touches: o,
                enabled: c
            } = t;
        if (!c) return;
        if (t.animating && l.preventInteractionOnTransition) return;
        !t.animating && l.cssMode && l.loop && t.loopFix();
        let p = e;
        p.originalEvent && (p = p.originalEvent);
        let h = d(p.target);
        if ("wrapper" === l.touchEventsTarget && !h.closest(t.wrapperEl).length) return;
        if (n.isTouchEvent = "touchstart" === p.type, !n.isTouchEvent && "which" in p && 3 === p.which) return;
        if (!n.isTouchEvent && "button" in p && p.button > 0) return;
        if (n.isTouched && n.isMoved) return;
        !!l.noSwipingClass && "" !== l.noSwipingClass && p.target && p.target.shadowRoot && e.path && e.path[0] && (h = d(e.path[0]));
        const m = l.noSwipingSelector ? l.noSwipingSelector : `.${l.noSwipingClass}`,
            f = !(!p.target || !p.target.shadowRoot);
        if (l.noSwiping && (f ? function(e, t) {
                return void 0 === t && (t = this),
                    function t(s) {
                        return s && s !== a() && s !== r() ? (s.assignedSlot && (s = s.assignedSlot), s.closest(e) || t(s.getRootNode().host)) : null
                    }(t)
            }(m, p.target) : h.closest(m)[0])) return void(t.allowClick = !0);
        if (l.swipeHandler && !h.closest(l.swipeHandler)[0]) return;
        o.currentX = "touchstart" === p.type ? p.targetTouches[0].pageX : p.pageX, o.currentY = "touchstart" === p.type ? p.targetTouches[0].pageY : p.pageY;
        const g = o.currentX,
            v = o.currentY,
            w = l.edgeSwipeDetection || l.iOSEdgeSwipeDetection,
            b = l.edgeSwipeThreshold || l.iOSEdgeSwipeThreshold;
        if (w && (g <= b || g >= i.innerWidth - b)) {
            if ("prevent" !== w) return;
            e.preventDefault()
        }
        if (Object.assign(n, {
                isTouched: !0,
                isMoved: !1,
                allowTouchCallbacks: !0,
                isScrolling: void 0,
                startMoving: void 0
            }), o.startX = g, o.startY = v, n.touchStartTime = u(), t.allowClick = !0, t.updateSize(), t.swipeDirection = void 0, l.threshold > 0 && (n.allowThresholdMove = !1), "touchstart" !== p.type) {
            let e = !0;
            h.is(n.focusableElements) && (e = !1, "SELECT" === h[0].nodeName && (n.isTouched = !1)), s.activeElement && d(s.activeElement).is(n.focusableElements) && s.activeElement !== h[0] && s.activeElement.blur();
            const a = e && t.allowTouchMove && l.touchStartPreventDefault;
            !l.touchStartForcePreventDefault && !a || h[0].isContentEditable || p.preventDefault()
        }
        t.params.freeMode && t.params.freeMode.enabled && t.freeMode && t.animating && !l.cssMode && t.freeMode.onTouchStart(), t.emit("touchStart", p)
    }

    function I(e) {
        const t = a(),
            s = this,
            i = s.touchEventsData,
            {
                params: r,
                touches: n,
                rtlTranslate: l,
                enabled: o
            } = s;
        if (!o) return;
        let c = e;
        if (c.originalEvent && (c = c.originalEvent), !i.isTouched) return void(i.startMoving && i.isScrolling && s.emit("touchMoveOpposite", c));
        if (i.isTouchEvent && "touchmove" !== c.type) return;
        const p = "touchmove" === c.type && c.targetTouches && (c.targetTouches[0] || c.changedTouches[0]),
            h = "touchmove" === c.type ? p.pageX : c.pageX,
            m = "touchmove" === c.type ? p.pageY : c.pageY;
        if (c.preventedByNestedSwiper) return n.startX = h, void(n.startY = m);
        if (!s.allowTouchMove) return d(c.target).is(i.focusableElements) || (s.allowClick = !1), void(i.isTouched && (Object.assign(n, {
            startX: h,
            startY: m,
            currentX: h,
            currentY: m
        }), i.touchStartTime = u()));
        if (i.isTouchEvent && r.touchReleaseOnEdges && !r.loop)
            if (s.isVertical()) {
                if (m < n.startY && s.translate <= s.maxTranslate() || m > n.startY && s.translate >= s.minTranslate()) return i.isTouched = !1, void(i.isMoved = !1)
            } else if (h < n.startX && s.translate <= s.maxTranslate() || h > n.startX && s.translate >= s.minTranslate()) return;
        if (i.isTouchEvent && t.activeElement && c.target === t.activeElement && d(c.target).is(i.focusableElements)) return i.isMoved = !0, void(s.allowClick = !1);
        if (i.allowTouchCallbacks && s.emit("touchMove", c), c.targetTouches && c.targetTouches.length > 1) return;
        n.currentX = h, n.currentY = m;
        const f = n.currentX - n.startX,
            g = n.currentY - n.startY;
        if (s.params.threshold && Math.sqrt(f ** 2 + g ** 2) < s.params.threshold) return;
        if (void 0 === i.isScrolling) {
            let e;
            s.isHorizontal() && n.currentY === n.startY || s.isVertical() && n.currentX === n.startX ? i.isScrolling = !1 : f * f + g * g >= 25 && (e = 180 * Math.atan2(Math.abs(g), Math.abs(f)) / Math.PI, i.isScrolling = s.isHorizontal() ? e > r.touchAngle : 90 - e > r.touchAngle)
        }
        if (i.isScrolling && s.emit("touchMoveOpposite", c), void 0 === i.startMoving && (n.currentX === n.startX && n.currentY === n.startY || (i.startMoving = !0)), i.isScrolling) return void(i.isTouched = !1);
        if (!i.startMoving) return;
        s.allowClick = !1, !r.cssMode && c.cancelable && c.preventDefault(), r.touchMoveStopPropagation && !r.nested && c.stopPropagation(), i.isMoved || (r.loop && !r.cssMode && s.loopFix(), i.startTranslate = s.getTranslate(), s.setTransition(0), s.animating && s.$wrapperEl.trigger("webkitTransitionEnd transitionend"), i.allowMomentumBounce = !1, !r.grabCursor || !0 !== s.allowSlideNext && !0 !== s.allowSlidePrev || s.setGrabCursor(!0), s.emit("sliderFirstMove", c)), s.emit("sliderMove", c), i.isMoved = !0;
        let v = s.isHorizontal() ? f : g;
        n.diff = v, v *= r.touchRatio, l && (v = -v), s.swipeDirection = v > 0 ? "prev" : "next", i.currentTranslate = v + i.startTranslate;
        let w = !0,
            b = r.resistanceRatio;
        if (r.touchReleaseOnEdges && (b = 0), v > 0 && i.currentTranslate > s.minTranslate() ? (w = !1, r.resistance && (i.currentTranslate = s.minTranslate() - 1 + (-s.minTranslate() + i.startTranslate + v) ** b)) : v < 0 && i.currentTranslate < s.maxTranslate() && (w = !1, r.resistance && (i.currentTranslate = s.maxTranslate() + 1 - (s.maxTranslate() - i.startTranslate - v) ** b)), w && (c.preventedByNestedSwiper = !0), !s.allowSlideNext && "next" === s.swipeDirection && i.currentTranslate < i.startTranslate && (i.currentTranslate = i.startTranslate), !s.allowSlidePrev && "prev" === s.swipeDirection && i.currentTranslate > i.startTranslate && (i.currentTranslate = i.startTranslate), s.allowSlidePrev || s.allowSlideNext || (i.currentTranslate = i.startTranslate), r.threshold > 0) {
            if (!(Math.abs(v) > r.threshold || i.allowThresholdMove)) return void(i.currentTranslate = i.startTranslate);
            if (!i.allowThresholdMove) return i.allowThresholdMove = !0, n.startX = n.currentX, n.startY = n.currentY, i.currentTranslate = i.startTranslate, void(n.diff = s.isHorizontal() ? n.currentX - n.startX : n.currentY - n.startY)
        }
        r.followFinger && !r.cssMode && ((r.freeMode && r.freeMode.enabled && s.freeMode || r.watchSlidesProgress) && (s.updateActiveIndex(), s.updateSlidesClasses()), s.params.freeMode && r.freeMode.enabled && s.freeMode && s.freeMode.onTouchMove(), s.updateProgress(i.currentTranslate), s.setTranslate(i.currentTranslate))
    }

    function L(e) {
        const t = this,
            s = t.touchEventsData,
            {
                params: a,
                touches: i,
                rtlTranslate: r,
                slidesGrid: n,
                enabled: l
            } = t;
        if (!l) return;
        let o = e;
        if (o.originalEvent && (o = o.originalEvent), s.allowTouchCallbacks && t.emit("touchEnd", o), s.allowTouchCallbacks = !1, !s.isTouched) return s.isMoved && a.grabCursor && t.setGrabCursor(!1), s.isMoved = !1, void(s.startMoving = !1);
        a.grabCursor && s.isMoved && s.isTouched && (!0 === t.allowSlideNext || !0 === t.allowSlidePrev) && t.setGrabCursor(!1);
        const d = u(),
            c = d - s.touchStartTime;
        if (t.allowClick) {
            const e = o.path || o.composedPath && o.composedPath();
            t.updateClickedSlide(e && e[0] || o.target), t.emit("tap click", o), c < 300 && d - s.lastClickTime < 300 && t.emit("doubleTap doubleClick", o)
        }
        if (s.lastClickTime = u(), p((() => {
                t.destroyed || (t.allowClick = !0)
            })), !s.isTouched || !s.isMoved || !t.swipeDirection || 0 === i.diff || s.currentTranslate === s.startTranslate) return s.isTouched = !1, s.isMoved = !1, void(s.startMoving = !1);
        let h;
        if (s.isTouched = !1, s.isMoved = !1, s.startMoving = !1, h = a.followFinger ? r ? t.translate : -t.translate : -s.currentTranslate, a.cssMode) return;
        if (t.params.freeMode && a.freeMode.enabled) return void t.freeMode.onTouchEnd({
            currentPos: h
        });
        let m = 0,
            f = t.slidesSizesGrid[0];
        for (let e = 0; e < n.length; e += e < a.slidesPerGroupSkip ? 1 : a.slidesPerGroup) {
            const t = e < a.slidesPerGroupSkip - 1 ? 1 : a.slidesPerGroup;
            void 0 !== n[e + t] ? h >= n[e] && h < n[e + t] && (m = e, f = n[e + t] - n[e]) : h >= n[e] && (m = e, f = n[n.length - 1] - n[n.length - 2])
        }
        const g = (h - n[m]) / f,
            v = m < a.slidesPerGroupSkip - 1 ? 1 : a.slidesPerGroup;
        if (c > a.longSwipesMs) {
            if (!a.longSwipes) return void t.slideTo(t.activeIndex);
            "next" === t.swipeDirection && (g >= a.longSwipesRatio ? t.slideTo(m + v) : t.slideTo(m)), "prev" === t.swipeDirection && (g > 1 - a.longSwipesRatio ? t.slideTo(m + v) : t.slideTo(m))
        } else {
            if (!a.shortSwipes) return void t.slideTo(t.activeIndex);
            t.navigation && (o.target === t.navigation.nextEl || o.target === t.navigation.prevEl) ? o.target === t.navigation.nextEl ? t.slideTo(m + v) : t.slideTo(m) : ("next" === t.swipeDirection && t.slideTo(m + v), "prev" === t.swipeDirection && t.slideTo(m))
        }
    }

    function A() {
        const e = this,
            {
                params: t,
                el: s
            } = e;
        if (s && 0 === s.offsetWidth) return;
        t.breakpoints && e.setBreakpoint();
        const {
            allowSlideNext: a,
            allowSlidePrev: i,
            snapGrid: r
        } = e;
        e.allowSlideNext = !0, e.allowSlidePrev = !0, e.updateSize(), e.updateSlides(), e.updateSlidesClasses(), ("auto" === t.slidesPerView || t.slidesPerView > 1) && e.isEnd && !e.isBeginning && !e.params.centeredSlides ? e.slideTo(e.slides.length - 1, 0, !1, !0) : e.slideTo(e.activeIndex, 0, !1, !0), e.autoplay && e.autoplay.running && e.autoplay.paused && e.autoplay.run(), e.allowSlidePrev = i, e.allowSlideNext = a, e.params.watchOverflow && r !== e.snapGrid && e.checkOverflow()
    }

    function D(e) {
        const t = this;
        t.enabled && (t.allowClick || (t.params.preventClicks && e.preventDefault(), t.params.preventClicksPropagation && t.animating && (e.stopPropagation(), e.stopImmediatePropagation())))
    }

    function G() {
        const e = this,
            {
                wrapperEl: t,
                rtlTranslate: s,
                enabled: a
            } = e;
        if (!a) return;
        let i;
        e.previousTranslate = e.translate, e.isHorizontal() ? e.translate = -t.scrollLeft : e.translate = -t.scrollTop, -0 === e.translate && (e.translate = 0), e.updateActiveIndex(), e.updateSlidesClasses();
        const r = e.maxTranslate() - e.minTranslate();
        i = 0 === r ? 0 : (e.translate - e.minTranslate()) / r, i !== e.progress && e.updateProgress(s ? -e.translate : e.translate), e.emit("setTranslate", e.translate, !1)
    }
    let N = !1;

    function B() {}
    const H = (e, t) => {
        const s = a(),
            {
                params: i,
                touchEvents: r,
                el: n,
                wrapperEl: l,
                device: o,
                support: d
            } = e,
            c = !!i.nested,
            p = "on" === t ? "addEventListener" : "removeEventListener",
            u = t;
        if (d.touch) {
            const t = !("touchstart" !== r.start || !d.passiveListener || !i.passiveListeners) && {
                passive: !0,
                capture: !1
            };
            n[p](r.start, e.onTouchStart, t), n[p](r.move, e.onTouchMove, d.passiveListener ? {
                passive: !1,
                capture: c
            } : c), n[p](r.end, e.onTouchEnd, t), r.cancel && n[p](r.cancel, e.onTouchEnd, t)
        } else n[p](r.start, e.onTouchStart, !1), s[p](r.move, e.onTouchMove, c), s[p](r.end, e.onTouchEnd, !1);
        (i.preventClicks || i.preventClicksPropagation) && n[p]("click", e.onClick, !0), i.cssMode && l[p]("scroll", e.onScroll), i.updateOnWindowResize ? e[u](o.ios || o.android ? "resize orientationchange observerUpdate" : "resize observerUpdate", A, !0) : e[u]("observerUpdate", A, !0)
    };
    var X = {
        attachEvents: function() {
            const e = this,
                t = a(),
                {
                    params: s,
                    support: i
                } = e;
            e.onTouchStart = O.bind(e), e.onTouchMove = I.bind(e), e.onTouchEnd = L.bind(e), s.cssMode && (e.onScroll = G.bind(e)), e.onClick = D.bind(e), i.touch && !N && (t.addEventListener("touchstart", B), N = !0), H(e, "on")
        },
        detachEvents: function() {
            H(this, "off")
        }
    };
    const Y = (e, t) => e.grid && t.grid && t.grid.rows > 1;
    var W = {
        addClasses: function() {
            const e = this,
                {
                    classNames: t,
                    params: s,
                    rtl: a,
                    $el: i,
                    device: r,
                    support: n
                } = e,
                l = function(e, t) {
                    const s = [];
                    return e.forEach((e => {
                        "object" == typeof e ? Object.keys(e).forEach((a => {
                            e[a] && s.push(t + a)
                        })) : "string" == typeof e && s.push(t + e)
                    })), s
                }(["initialized", s.direction, {
                    "pointer-events": !n.touch
                }, {
                    "free-mode": e.params.freeMode && s.freeMode.enabled
                }, {
                    autoheight: s.autoHeight
                }, {
                    rtl: a
                }, {
                    grid: s.grid && s.grid.rows > 1
                }, {
                    "grid-column": s.grid && s.grid.rows > 1 && "column" === s.grid.fill
                }, {
                    android: r.android
                }, {
                    ios: r.ios
                }, {
                    "css-mode": s.cssMode
                }, {
                    centered: s.cssMode && s.centeredSlides
                }], s.containerModifierClass);
            t.push(...l), i.addClass([...t].join(" ")), e.emitContainerClasses()
        },
        removeClasses: function() {
            const {
                $el: e,
                classNames: t
            } = this;
            e.removeClass(t.join(" ")), this.emitContainerClasses()
        }
    };
    var R = {
        init: !0,
        direction: "horizontal",
        touchEventsTarget: "wrapper",
        initialSlide: 0,
        speed: 300,
        cssMode: !1,
        updateOnWindowResize: !0,
        resizeObserver: !0,
        nested: !1,
        createElements: !1,
        enabled: !0,
        focusableElements: "input, select, option, textarea, button, video, label",
        width: null,
        height: null,
        preventInteractionOnTransition: !1,
        userAgent: null,
        url: null,
        edgeSwipeDetection: !1,
        edgeSwipeThreshold: 20,
        autoHeight: !1,
        setWrapperSize: !1,
        virtualTranslate: !1,
        effect: "slide",
        breakpoints: void 0,
        breakpointsBase: "window",
        spaceBetween: 0,
        slidesPerView: 1,
        slidesPerGroup: 1,
        slidesPerGroupSkip: 0,
        slidesPerGroupAuto: !1,
        centeredSlides: !1,
        centeredSlidesBounds: !1,
        slidesOffsetBefore: 0,
        slidesOffsetAfter: 0,
        normalizeSlideIndex: !0,
        centerInsufficientSlides: !1,
        watchOverflow: !0,
        roundLengths: !1,
        touchRatio: 1,
        touchAngle: 45,
        simulateTouch: !0,
        shortSwipes: !0,
        longSwipes: !0,
        longSwipesRatio: .5,
        longSwipesMs: 300,
        followFinger: !0,
        allowTouchMove: !0,
        threshold: 0,
        touchMoveStopPropagation: !1,
        touchStartPreventDefault: !0,
        touchStartForcePreventDefault: !1,
        touchReleaseOnEdges: !1,
        uniqueNavElements: !0,
        resistance: !0,
        resistanceRatio: .85,
        watchSlidesProgress: !1,
        grabCursor: !1,
        preventClicks: !0,
        preventClicksPropagation: !0,
        slideToClickedSlide: !1,
        preloadImages: !0,
        updateOnImagesReady: !0,
        loop: !1,
        loopAdditionalSlides: 0,
        loopedSlides: null,
        loopFillGroupWithBlank: !1,
        loopPreventsSlide: !0,
        rewind: !1,
        allowSlidePrev: !0,
        allowSlideNext: !0,
        swipeHandler: null,
        noSwiping: !0,
        noSwipingClass: "swiper-no-swiping",
        noSwipingSelector: null,
        passiveListeners: !0,
        maxBackfaceHiddenSlides: 10,
        containerModifierClass: "swiper-",
        slideClass: "swiper-slide",
        slideBlankClass: "swiper-slide-invisible-blank",
        slideActiveClass: "swiper-slide-active",
        slideDuplicateActiveClass: "swiper-slide-duplicate-active",
        slideVisibleClass: "swiper-slide-visible",
        slideDuplicateClass: "swiper-slide-duplicate",
        slideNextClass: "swiper-slide-next",
        slideDuplicateNextClass: "swiper-slide-duplicate-next",
        slidePrevClass: "swiper-slide-prev",
        slideDuplicatePrevClass: "swiper-slide-duplicate-prev",
        wrapperClass: "swiper-wrapper",
        runCallbacksOnInit: !0,
        _emitClasses: !1
    };

    function j(e, t) {
        return function(s) {
            void 0 === s && (s = {});
            const a = Object.keys(s)[0],
                i = s[a];
            "object" == typeof i && null !== i ? (["navigation", "pagination", "scrollbar"].indexOf(a) >= 0 && !0 === e[a] && (e[a] = {
                auto: !0
            }), a in e && "enabled" in i ? (!0 === e[a] && (e[a] = {
                enabled: !0
            }), "object" != typeof e[a] || "enabled" in e[a] || (e[a].enabled = !0), e[a] || (e[a] = {
                enabled: !1
            }), g(t, s)) : g(t, s)) : g(t, s)
        }
    }
    const _ = {
            eventsEmitter: $,
            update: S,
            translate: M,
            transition: {
                setTransition: function(e, t) {
                    const s = this;
                    s.params.cssMode || s.$wrapperEl.transition(e), s.emit("setTransition", e, t)
                },
                transitionStart: function(e, t) {
                    void 0 === e && (e = !0);
                    const s = this,
                        {
                            params: a
                        } = s;
                    a.cssMode || (a.autoHeight && s.updateAutoHeight(), P({
                        swiper: s,
                        runCallbacks: e,
                        direction: t,
                        step: "Start"
                    }))
                },
                transitionEnd: function(e, t) {
                    void 0 === e && (e = !0);
                    const s = this,
                        {
                            params: a
                        } = s;
                    s.animating = !1, a.cssMode || (s.setTransition(0), P({
                        swiper: s,
                        runCallbacks: e,
                        direction: t,
                        step: "End"
                    }))
                }
            },
            slide: k,
            loop: z,
            grabCursor: {
                setGrabCursor: function(e) {
                    const t = this;
                    if (t.support.touch || !t.params.simulateTouch || t.params.watchOverflow && t.isLocked || t.params.cssMode) return;
                    const s = "container" === t.params.touchEventsTarget ? t.el : t.wrapperEl;
                    s.style.cursor = "move", s.style.cursor = e ? "-webkit-grabbing" : "-webkit-grab", s.style.cursor = e ? "-moz-grabbin" : "-moz-grab", s.style.cursor = e ? "grabbing" : "grab"
                },
                unsetGrabCursor: function() {
                    const e = this;
                    e.support.touch || e.params.watchOverflow && e.isLocked || e.params.cssMode || (e["container" === e.params.touchEventsTarget ? "el" : "wrapperEl"].style.cursor = "")
                }
            },
            events: X,
            breakpoints: {
                setBreakpoint: function() {
                    const e = this,
                        {
                            activeIndex: t,
                            initialized: s,
                            loopedSlides: a = 0,
                            params: i,
                            $el: r
                        } = e,
                        n = i.breakpoints;
                    if (!n || n && 0 === Object.keys(n).length) return;
                    const l = e.getBreakpoint(n, e.params.breakpointsBase, e.el);
                    if (!l || e.currentBreakpoint === l) return;
                    const o = (l in n ? n[l] : void 0) || e.originalParams,
                        d = Y(e, i),
                        c = Y(e, o),
                        p = i.enabled;
                    d && !c ? (r.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`), e.emitContainerClasses()) : !d && c && (r.addClass(`${i.containerModifierClass}grid`), (o.grid.fill && "column" === o.grid.fill || !o.grid.fill && "column" === i.grid.fill) && r.addClass(`${i.containerModifierClass}grid-column`), e.emitContainerClasses());
                    const u = o.direction && o.direction !== i.direction,
                        h = i.loop && (o.slidesPerView !== i.slidesPerView || u);
                    u && s && e.changeDirection(), g(e.params, o);
                    const m = e.params.enabled;
                    Object.assign(e, {
                        allowTouchMove: e.params.allowTouchMove,
                        allowSlideNext: e.params.allowSlideNext,
                        allowSlidePrev: e.params.allowSlidePrev
                    }), p && !m ? e.disable() : !p && m && e.enable(), e.currentBreakpoint = l, e.emit("_beforeBreakpoint", o), h && s && (e.loopDestroy(), e.loopCreate(), e.updateSlides(), e.slideTo(t - a + e.loopedSlides, 0, !1)), e.emit("breakpoint", o)
                },
                getBreakpoint: function(e, t, s) {
                    if (void 0 === t && (t = "window"), !e || "container" === t && !s) return;
                    let a = !1;
                    const i = r(),
                        n = "window" === t ? i.innerHeight : s.clientHeight,
                        l = Object.keys(e).map((e => {
                            if ("string" == typeof e && 0 === e.indexOf("@")) {
                                const t = parseFloat(e.substr(1));
                                return {
                                    value: n * t,
                                    point: e
                                }
                            }
                            return {
                                value: e,
                                point: e
                            }
                        }));
                    l.sort(((e, t) => parseInt(e.value, 10) - parseInt(t.value, 10)));
                    for (let e = 0; e < l.length; e += 1) {
                        const {
                            point: r,
                            value: n
                        } = l[e];
                        "window" === t ? i.matchMedia(`(min-width: ${n}px)`).matches && (a = r) : n <= s.clientWidth && (a = r)
                    }
                    return a || "max"
                }
            },
            checkOverflow: {
                checkOverflow: function() {
                    const e = this,
                        {
                            isLocked: t,
                            params: s
                        } = e,
                        {
                            slidesOffsetBefore: a
                        } = s;
                    if (a) {
                        const t = e.slides.length - 1,
                            s = e.slidesGrid[t] + e.slidesSizesGrid[t] + 2 * a;
                        e.isLocked = e.size > s
                    } else e.isLocked = 1 === e.snapGrid.length;
                    !0 === s.allowSlideNext && (e.allowSlideNext = !e.isLocked), !0 === s.allowSlidePrev && (e.allowSlidePrev = !e.isLocked), t && t !== e.isLocked && (e.isEnd = !1), t !== e.isLocked && e.emit(e.isLocked ? "lock" : "unlock")
                }
            },
            classes: W,
            images: {
                loadImage: function(e, t, s, a, i, n) {
                    const l = r();
                    let o;

                    function c() {
                        n && n()
                    }
                    d(e).parent("picture")[0] || e.complete && i ? c() : t ? (o = new l.Image, o.onload = c, o.onerror = c, a && (o.sizes = a), s && (o.srcset = s), t && (o.src = t)) : c()
                },
                preloadImages: function() {
                    const e = this;

                    function t() {
                        null != e && e && !e.destroyed && (void 0 !== e.imagesLoaded && (e.imagesLoaded += 1), e.imagesLoaded === e.imagesToLoad.length && (e.params.updateOnImagesReady && e.update(), e.emit("imagesReady")))
                    }
                    e.imagesToLoad = e.$el.find("img");
                    for (let s = 0; s < e.imagesToLoad.length; s += 1) {
                        const a = e.imagesToLoad[s];
                        e.loadImage(a, a.currentSrc || a.getAttribute("src"), a.srcset || a.getAttribute("srcset"), a.sizes || a.getAttribute("sizes"), !0, t)
                    }
                }
            }
        },
        V = {};
    class q {
        constructor() {
            let e, t;
            for (var s = arguments.length, a = new Array(s), i = 0; i < s; i++) a[i] = arguments[i];
            if (1 === a.length && a[0].constructor && "Object" === Object.prototype.toString.call(a[0]).slice(8, -1) ? t = a[0] : [e, t] = a, t || (t = {}), t = g({}, t), e && !t.el && (t.el = e), t.el && d(t.el).length > 1) {
                const e = [];
                return d(t.el).each((s => {
                    const a = g({}, t, {
                        el: s
                    });
                    e.push(new q(a))
                })), e
            }
            const r = this;
            r.__swiper__ = !0, r.support = E(), r.device = T({
                userAgent: t.userAgent
            }), r.browser = C(), r.eventsListeners = {}, r.eventsAnyListeners = [], r.modules = [...r.__modules__], t.modules && Array.isArray(t.modules) && r.modules.push(...t.modules);
            const n = {};
            r.modules.forEach((e => {
                e({
                    swiper: r,
                    extendParams: j(t, n),
                    on: r.on.bind(r),
                    once: r.once.bind(r),
                    off: r.off.bind(r),
                    emit: r.emit.bind(r)
                })
            }));
            const l = g({}, R, n);
            return r.params = g({}, l, V, t), r.originalParams = g({}, r.params), r.passedParams = g({}, t), r.params && r.params.on && Object.keys(r.params.on).forEach((e => {
                r.on(e, r.params.on[e])
            })), r.params && r.params.onAny && r.onAny(r.params.onAny), r.$ = d, Object.assign(r, {
                enabled: r.params.enabled,
                el: e,
                classNames: [],
                slides: d(),
                slidesGrid: [],
                snapGrid: [],
                slidesSizesGrid: [],
                isHorizontal: () => "horizontal" === r.params.direction,
                isVertical: () => "vertical" === r.params.direction,
                activeIndex: 0,
                realIndex: 0,
                isBeginning: !0,
                isEnd: !1,
                translate: 0,
                previousTranslate: 0,
                progress: 0,
                velocity: 0,
                animating: !1,
                allowSlideNext: r.params.allowSlideNext,
                allowSlidePrev: r.params.allowSlidePrev,
                touchEvents: function() {
                    const e = ["touchstart", "touchmove", "touchend", "touchcancel"],
                        t = ["pointerdown", "pointermove", "pointerup"];
                    return r.touchEventsTouch = {
                        start: e[0],
                        move: e[1],
                        end: e[2],
                        cancel: e[3]
                    }, r.touchEventsDesktop = {
                        start: t[0],
                        move: t[1],
                        end: t[2]
                    }, r.support.touch || !r.params.simulateTouch ? r.touchEventsTouch : r.touchEventsDesktop
                }(),
                touchEventsData: {
                    isTouched: void 0,
                    isMoved: void 0,
                    allowTouchCallbacks: void 0,
                    touchStartTime: void 0,
                    isScrolling: void 0,
                    currentTranslate: void 0,
                    startTranslate: void 0,
                    allowThresholdMove: void 0,
                    focusableElements: r.params.focusableElements,
                    lastClickTime: u(),
                    clickTimeout: void 0,
                    velocities: [],
                    allowMomentumBounce: void 0,
                    isTouchEvent: void 0,
                    startMoving: void 0
                },
                allowClick: !0,
                allowTouchMove: r.params.allowTouchMove,
                touches: {
                    startX: 0,
                    startY: 0,
                    currentX: 0,
                    currentY: 0,
                    diff: 0
                },
                imagesToLoad: [],
                imagesLoaded: 0
            }), r.emit("_swiper"), r.params.init && r.init(), r
        }
        enable() {
            const e = this;
            e.enabled || (e.enabled = !0, e.params.grabCursor && e.setGrabCursor(), e.emit("enable"))
        }
        disable() {
            const e = this;
            e.enabled && (e.enabled = !1, e.params.grabCursor && e.unsetGrabCursor(), e.emit("disable"))
        }
        setProgress(e, t) {
            const s = this;
            e = Math.min(Math.max(e, 0), 1);
            const a = s.minTranslate(),
                i = (s.maxTranslate() - a) * e + a;
            s.translateTo(i, void 0 === t ? 0 : t), s.updateActiveIndex(), s.updateSlidesClasses()
        }
        emitContainerClasses() {
            const e = this;
            if (!e.params._emitClasses || !e.el) return;
            const t = e.el.className.split(" ").filter((t => 0 === t.indexOf("swiper") || 0 === t.indexOf(e.params.containerModifierClass)));
            e.emit("_containerClasses", t.join(" "))
        }
        getSlideClasses(e) {
            const t = this;
            return e.className.split(" ").filter((e => 0 === e.indexOf("swiper-slide") || 0 === e.indexOf(t.params.slideClass))).join(" ")
        }
        emitSlidesClasses() {
            const e = this;
            if (!e.params._emitClasses || !e.el) return;
            const t = [];
            e.slides.each((s => {
                const a = e.getSlideClasses(s);
                t.push({
                    slideEl: s,
                    classNames: a
                }), e.emit("_slideClass", s, a)
            })), e.emit("_slideClasses", t)
        }
        slidesPerViewDynamic(e, t) {
            void 0 === e && (e = "current"), void 0 === t && (t = !1);
            const {
                params: s,
                slides: a,
                slidesGrid: i,
                slidesSizesGrid: r,
                size: n,
                activeIndex: l
            } = this;
            let o = 1;
            if (s.centeredSlides) {
                let e, t = a[l].swiperSlideSize;
                for (let s = l + 1; s < a.length; s += 1) a[s] && !e && (t += a[s].swiperSlideSize, o += 1, t > n && (e = !0));
                for (let s = l - 1; s >= 0; s -= 1) a[s] && !e && (t += a[s].swiperSlideSize, o += 1, t > n && (e = !0))
            } else if ("current" === e)
                for (let e = l + 1; e < a.length; e += 1) {
                    (t ? i[e] + r[e] - i[l] < n : i[e] - i[l] < n) && (o += 1)
                } else
                    for (let e = l - 1; e >= 0; e -= 1) {
                        i[l] - i[e] < n && (o += 1)
                    }
            return o
        }
        update() {
            const e = this;
            if (!e || e.destroyed) return;
            const {
                snapGrid: t,
                params: s
            } = e;

            function a() {
                const t = e.rtlTranslate ? -1 * e.translate : e.translate,
                    s = Math.min(Math.max(t, e.maxTranslate()), e.minTranslate());
                e.setTranslate(s), e.updateActiveIndex(), e.updateSlidesClasses()
            }
            let i;
            s.breakpoints && e.setBreakpoint(), e.updateSize(), e.updateSlides(), e.updateProgress(), e.updateSlidesClasses(), e.params.freeMode && e.params.freeMode.enabled ? (a(), e.params.autoHeight && e.updateAutoHeight()) : (i = ("auto" === e.params.slidesPerView || e.params.slidesPerView > 1) && e.isEnd && !e.params.centeredSlides ? e.slideTo(e.slides.length - 1, 0, !1, !0) : e.slideTo(e.activeIndex, 0, !1, !0), i || a()), s.watchOverflow && t !== e.snapGrid && e.checkOverflow(), e.emit("update")
        }
        changeDirection(e, t) {
            void 0 === t && (t = !0);
            const s = this,
                a = s.params.direction;
            return e || (e = "horizontal" === a ? "vertical" : "horizontal"), e === a || "horizontal" !== e && "vertical" !== e || (s.$el.removeClass(`${s.params.containerModifierClass}${a}`).addClass(`${s.params.containerModifierClass}${e}`), s.emitContainerClasses(), s.params.direction = e, s.slides.each((t => {
                "vertical" === e ? t.style.width = "" : t.style.height = ""
            })), s.emit("changeDirection"), t && s.update()), s
        }
        mount(e) {
            const t = this;
            if (t.mounted) return !0;
            const s = d(e || t.params.el);
            if (!(e = s[0])) return !1;
            e.swiper = t;
            const i = () => `.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;
            let r = (() => {
                if (e && e.shadowRoot && e.shadowRoot.querySelector) {
                    const t = d(e.shadowRoot.querySelector(i()));
                    return t.children = e => s.children(e), t
                }
                return s.children(i())
            })();
            if (0 === r.length && t.params.createElements) {
                const e = a().createElement("div");
                r = d(e), e.className = t.params.wrapperClass, s.append(e), s.children(`.${t.params.slideClass}`).each((e => {
                    r.append(e)
                }))
            }
            return Object.assign(t, {
                $el: s,
                el: e,
                $wrapperEl: r,
                wrapperEl: r[0],
                mounted: !0,
                rtl: "rtl" === e.dir.toLowerCase() || "rtl" === s.css("direction"),
                rtlTranslate: "horizontal" === t.params.direction && ("rtl" === e.dir.toLowerCase() || "rtl" === s.css("direction")),
                wrongRTL: "-webkit-box" === r.css("display")
            }), !0
        }
        init(e) {
            const t = this;
            if (t.initialized) return t;
            return !1 === t.mount(e) || (t.emit("beforeInit"), t.params.breakpoints && t.setBreakpoint(), t.addClasses(), t.params.loop && t.loopCreate(), t.updateSize(), t.updateSlides(), t.params.watchOverflow && t.checkOverflow(), t.params.grabCursor && t.enabled && t.setGrabCursor(), t.params.preloadImages && t.preloadImages(), t.params.loop ? t.slideTo(t.params.initialSlide + t.loopedSlides, 0, t.params.runCallbacksOnInit, !1, !0) : t.slideTo(t.params.initialSlide, 0, t.params.runCallbacksOnInit, !1, !0), t.attachEvents(), t.initialized = !0, t.emit("init"), t.emit("afterInit")), t
        }
        destroy(e, t) {
            void 0 === e && (e = !0), void 0 === t && (t = !0);
            const s = this,
                {
                    params: a,
                    $el: i,
                    $wrapperEl: r,
                    slides: n
                } = s;
            return void 0 === s.params || s.destroyed || (s.emit("beforeDestroy"), s.initialized = !1, s.detachEvents(), a.loop && s.loopDestroy(), t && (s.removeClasses(), i.removeAttr("style"), r.removeAttr("style"), n && n.length && n.removeClass([a.slideVisibleClass, a.slideActiveClass, a.slideNextClass, a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")), s.emit("destroy"), Object.keys(s.eventsListeners).forEach((e => {
                s.off(e)
            })), !1 !== e && (s.$el[0].swiper = null, function(e) {
                const t = e;
                Object.keys(t).forEach((e => {
                    try {
                        t[e] = null
                    } catch (e) {}
                    try {
                        delete t[e]
                    } catch (e) {}
                }))
            }(s)), s.destroyed = !0), null
        }
        static extendDefaults(e) {
            g(V, e)
        }
        static get extendedDefaults() {
            return V
        }
        static get defaults() {
            return R
        }
        static installModule(e) {
            q.prototype.__modules__ || (q.prototype.__modules__ = []);
            const t = q.prototype.__modules__;
            "function" == typeof e && t.indexOf(e) < 0 && t.push(e)
        }
        static use(e) {
            return Array.isArray(e) ? (e.forEach((e => q.installModule(e))), q) : (q.installModule(e), q)
        }
    }

    function F(e, t, s, i) {
        const r = a();
        return e.params.createElements && Object.keys(i).forEach((a => {
            if (!s[a] && !0 === s.auto) {
                let n = e.$el.children(`.${i[a]}`)[0];
                n || (n = r.createElement("div"), n.className = i[a], e.$el.append(n)), s[a] = n, t[a] = n
            }
        })), s
    }

    function U(e) {
        return void 0 === e && (e = ""), `.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`
    }

    function K(e) {
        const t = this,
            {
                $wrapperEl: s,
                params: a
            } = t;
        if (a.loop && t.loopDestroy(), "object" == typeof e && "length" in e)
            for (let t = 0; t < e.length; t += 1) e[t] && s.append(e[t]);
        else s.append(e);
        a.loop && t.loopCreate(), a.observer || t.update()
    }

    function Z(e) {
        const t = this,
            {
                params: s,
                $wrapperEl: a,
                activeIndex: i
            } = t;
        s.loop && t.loopDestroy();
        let r = i + 1;
        if ("object" == typeof e && "length" in e) {
            for (let t = 0; t < e.length; t += 1) e[t] && a.prepend(e[t]);
            r = i + e.length
        } else a.prepend(e);
        s.loop && t.loopCreate(), s.observer || t.update(), t.slideTo(r, 0, !1)
    }

    function J(e, t) {
        const s = this,
            {
                $wrapperEl: a,
                params: i,
                activeIndex: r
            } = s;
        let n = r;
        i.loop && (n -= s.loopedSlides, s.loopDestroy(), s.slides = a.children(`.${i.slideClass}`));
        const l = s.slides.length;
        if (e <= 0) return void s.prependSlide(t);
        if (e >= l) return void s.appendSlide(t);
        let o = n > e ? n + 1 : n;
        const d = [];
        for (let t = l - 1; t >= e; t -= 1) {
            const e = s.slides.eq(t);
            e.remove(), d.unshift(e)
        }
        if ("object" == typeof t && "length" in t) {
            for (let e = 0; e < t.length; e += 1) t[e] && a.append(t[e]);
            o = n > e ? n + t.length : n
        } else a.append(t);
        for (let e = 0; e < d.length; e += 1) a.append(d[e]);
        i.loop && s.loopCreate(), i.observer || s.update(), i.loop ? s.slideTo(o + s.loopedSlides, 0, !1) : s.slideTo(o, 0, !1)
    }

    function Q(e) {
        const t = this,
            {
                params: s,
                $wrapperEl: a,
                activeIndex: i
            } = t;
        let r = i;
        s.loop && (r -= t.loopedSlides, t.loopDestroy(), t.slides = a.children(`.${s.slideClass}`));
        let n, l = r;
        if ("object" == typeof e && "length" in e) {
            for (let s = 0; s < e.length; s += 1) n = e[s], t.slides[n] && t.slides.eq(n).remove(), n < l && (l -= 1);
            l = Math.max(l, 0)
        } else n = e, t.slides[n] && t.slides.eq(n).remove(), n < l && (l -= 1), l = Math.max(l, 0);
        s.loop && t.loopCreate(), s.observer || t.update(), s.loop ? t.slideTo(l + t.loopedSlides, 0, !1) : t.slideTo(l, 0, !1)
    }

    function ee() {
        const e = this,
            t = [];
        for (let s = 0; s < e.slides.length; s += 1) t.push(s);
        e.removeSlide(t)
    }

    function te(e) {
        const {
            effect: t,
            swiper: s,
            on: a,
            setTranslate: i,
            setTransition: r,
            overwriteParams: n,
            perspective: l
        } = e;
        a("beforeInit", (() => {
            if (s.params.effect !== t) return;
            s.classNames.push(`${s.params.containerModifierClass}${t}`), l && l() && s.classNames.push(`${s.params.containerModifierClass}3d`);
            const e = n ? n() : {};
            Object.assign(s.params, e), Object.assign(s.originalParams, e)
        })), a("setTranslate", (() => {
            s.params.effect === t && i()
        })), a("setTransition", ((e, a) => {
            s.params.effect === t && r(a)
        }))
    }

    function se(e, t) {
        return e.transformEl ? t.find(e.transformEl).css({
            "backface-visibility": "hidden",
            "-webkit-backface-visibility": "hidden"
        }) : t
    }

    function ae(e) {
        let {
            swiper: t,
            duration: s,
            transformEl: a,
            allSlides: i
        } = e;
        const {
            slides: r,
            activeIndex: n,
            $wrapperEl: l
        } = t;
        if (t.params.virtualTranslate && 0 !== s) {
            let e, s = !1;
            e = i ? a ? r.find(a) : r : a ? r.eq(n).find(a) : r.eq(n), e.transitionEnd((() => {
                if (s) return;
                if (!t || t.destroyed) return;
                s = !0, t.animating = !1;
                const e = ["webkitTransitionEnd", "transitionend"];
                for (let t = 0; t < e.length; t += 1) l.trigger(e[t])
            }))
        }
    }

    function ie(e, t, s) {
        const a = "swiper-slide-shadow" + (s ? `-${s}` : ""),
            i = e.transformEl ? t.find(e.transformEl) : t;
        let r = i.children(`.${a}`);
        return r.length || (r = d(`<div class="swiper-slide-shadow${s?`-${s}`:""}"></div>`), i.append(r)), r
    }
    Object.keys(_).forEach((e => {
        Object.keys(_[e]).forEach((t => {
            q.prototype[t] = _[e][t]
        }))
    })), q.use([function(e) {
        let {
            swiper: t,
            on: s,
            emit: a
        } = e;
        const i = r();
        let n = null;
        const l = () => {
                t && !t.destroyed && t.initialized && (a("beforeResize"), a("resize"))
            },
            o = () => {
                t && !t.destroyed && t.initialized && a("orientationchange")
            };
        s("init", (() => {
            t.params.resizeObserver && void 0 !== i.ResizeObserver ? t && !t.destroyed && t.initialized && (n = new ResizeObserver((e => {
                const {
                    width: s,
                    height: a
                } = t;
                let i = s,
                    r = a;
                e.forEach((e => {
                    let {
                        contentBoxSize: s,
                        contentRect: a,
                        target: n
                    } = e;
                    n && n !== t.el || (i = a ? a.width : (s[0] || s).inlineSize, r = a ? a.height : (s[0] || s).blockSize)
                })), i === s && r === a || l()
            })), n.observe(t.el)) : (i.addEventListener("resize", l), i.addEventListener("orientationchange", o))
        })), s("destroy", (() => {
            n && n.unobserve && t.el && (n.unobserve(t.el), n = null), i.removeEventListener("resize", l), i.removeEventListener("orientationchange", o)
        }))
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;
        const n = [],
            l = r(),
            o = function(e, t) {
                void 0 === t && (t = {});
                const s = new(l.MutationObserver || l.WebkitMutationObserver)((e => {
                    if (1 === e.length) return void i("observerUpdate", e[0]);
                    const t = function() {
                        i("observerUpdate", e[0])
                    };
                    l.requestAnimationFrame ? l.requestAnimationFrame(t) : l.setTimeout(t, 0)
                }));
                s.observe(e, {
                    attributes: void 0 === t.attributes || t.attributes,
                    childList: void 0 === t.childList || t.childList,
                    characterData: void 0 === t.characterData || t.characterData
                }), n.push(s)
            };
        s({
            observer: !1,
            observeParents: !1,
            observeSlideChildren: !1
        }), a("init", (() => {
            if (t.params.observer) {
                if (t.params.observeParents) {
                    const e = t.$el.parents();
                    for (let t = 0; t < e.length; t += 1) o(e[t])
                }
                o(t.$el[0], {
                    childList: t.params.observeSlideChildren
                }), o(t.$wrapperEl[0], {
                    attributes: !1
                })
            }
        })), a("destroy", (() => {
            n.forEach((e => {
                e.disconnect()
            })), n.splice(0, n.length)
        }))
    }]);
    const re = [function(e) {
        let t, {
            swiper: s,
            extendParams: a,
            on: i
        } = e;

        function r(e, t) {
            const a = s.params.virtual;
            if (a.cache && s.virtual.cache[t]) return s.virtual.cache[t];
            const i = a.renderSlide ? d(a.renderSlide.call(s, e, t)) : d(`<div class="${s.params.slideClass}" data-swiper-slide-index="${t}">${e}</div>`);
            return i.attr("data-swiper-slide-index") || i.attr("data-swiper-slide-index", t), a.cache && (s.virtual.cache[t] = i), i
        }

        function n(e) {
            const {
                slidesPerView: t,
                slidesPerGroup: a,
                centeredSlides: i
            } = s.params, {
                addSlidesBefore: n,
                addSlidesAfter: l
            } = s.params.virtual, {
                from: o,
                to: d,
                slides: c,
                slidesGrid: p,
                offset: u
            } = s.virtual;
            s.params.cssMode || s.updateActiveIndex();
            const h = s.activeIndex || 0;
            let m, f, g;
            m = s.rtlTranslate ? "right" : s.isHorizontal() ? "left" : "top", i ? (f = Math.floor(t / 2) + a + l, g = Math.floor(t / 2) + a + n) : (f = t + (a - 1) + l, g = a + n);
            const v = Math.max((h || 0) - g, 0),
                w = Math.min((h || 0) + f, c.length - 1),
                b = (s.slidesGrid[v] || 0) - (s.slidesGrid[0] || 0);

            function x() {
                s.updateSlides(), s.updateProgress(), s.updateSlidesClasses(), s.lazy && s.params.lazy.enabled && s.lazy.load()
            }
            if (Object.assign(s.virtual, {
                    from: v,
                    to: w,
                    offset: b,
                    slidesGrid: s.slidesGrid
                }), o === v && d === w && !e) return s.slidesGrid !== p && b !== u && s.slides.css(m, `${b}px`), void s.updateProgress();
            if (s.params.virtual.renderExternal) return s.params.virtual.renderExternal.call(s, {
                offset: b,
                from: v,
                to: w,
                slides: function() {
                    const e = [];
                    for (let t = v; t <= w; t += 1) e.push(c[t]);
                    return e
                }()
            }), void(s.params.virtual.renderExternalUpdate && x());
            const y = [],
                E = [];
            if (e) s.$wrapperEl.find(`.${s.params.slideClass}`).remove();
            else
                for (let e = o; e <= d; e += 1)(e < v || e > w) && s.$wrapperEl.find(`.${s.params.slideClass}[data-swiper-slide-index="${e}"]`).remove();
            for (let t = 0; t < c.length; t += 1) t >= v && t <= w && (void 0 === d || e ? E.push(t) : (t > d && E.push(t), t < o && y.push(t)));
            E.forEach((e => {
                s.$wrapperEl.append(r(c[e], e))
            })), y.sort(((e, t) => t - e)).forEach((e => {
                s.$wrapperEl.prepend(r(c[e], e))
            })), s.$wrapperEl.children(".swiper-slide").css(m, `${b}px`), x()
        }
        a({
            virtual: {
                enabled: !1,
                slides: [],
                cache: !0,
                renderSlide: null,
                renderExternal: null,
                renderExternalUpdate: !0,
                addSlidesBefore: 0,
                addSlidesAfter: 0
            }
        }), s.virtual = {
            cache: {},
            from: void 0,
            to: void 0,
            slides: [],
            offset: 0,
            slidesGrid: []
        }, i("beforeInit", (() => {
            s.params.virtual.enabled && (s.virtual.slides = s.params.virtual.slides, s.classNames.push(`${s.params.containerModifierClass}virtual`), s.params.watchSlidesProgress = !0, s.originalParams.watchSlidesProgress = !0, s.params.initialSlide || n())
        })), i("setTranslate", (() => {
            s.params.virtual.enabled && (s.params.cssMode && !s._immediateVirtual ? (clearTimeout(t), t = setTimeout((() => {
                n()
            }), 100)) : n())
        })), i("init update resize", (() => {
            s.params.virtual.enabled && s.params.cssMode && v(s.wrapperEl, "--swiper-virtual-size", `${s.virtualSize}px`)
        })), Object.assign(s.virtual, {
            appendSlide: function(e) {
                if ("object" == typeof e && "length" in e)
                    for (let t = 0; t < e.length; t += 1) e[t] && s.virtual.slides.push(e[t]);
                else s.virtual.slides.push(e);
                n(!0)
            },
            prependSlide: function(e) {
                const t = s.activeIndex;
                let a = t + 1,
                    i = 1;
                if (Array.isArray(e)) {
                    for (let t = 0; t < e.length; t += 1) e[t] && s.virtual.slides.unshift(e[t]);
                    a = t + e.length, i = e.length
                } else s.virtual.slides.unshift(e);
                if (s.params.virtual.cache) {
                    const e = s.virtual.cache,
                        t = {};
                    Object.keys(e).forEach((s => {
                        const a = e[s],
                            r = a.attr("data-swiper-slide-index");
                        r && a.attr("data-swiper-slide-index", parseInt(r, 10) + i), t[parseInt(s, 10) + i] = a
                    })), s.virtual.cache = t
                }
                n(!0), s.slideTo(a, 0)
            },
            removeSlide: function(e) {
                if (null == e) return;
                let t = s.activeIndex;
                if (Array.isArray(e))
                    for (let a = e.length - 1; a >= 0; a -= 1) s.virtual.slides.splice(e[a], 1), s.params.virtual.cache && delete s.virtual.cache[e[a]], e[a] < t && (t -= 1), t = Math.max(t, 0);
                else s.virtual.slides.splice(e, 1), s.params.virtual.cache && delete s.virtual.cache[e], e < t && (t -= 1), t = Math.max(t, 0);
                n(!0), s.slideTo(t, 0)
            },
            removeAllSlides: function() {
                s.virtual.slides = [], s.params.virtual.cache && (s.virtual.cache = {}), n(!0), s.slideTo(0, 0)
            },
            update: n
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: i,
            emit: n
        } = e;
        const l = a(),
            o = r();

        function c(e) {
            if (!t.enabled) return;
            const {
                rtlTranslate: s
            } = t;
            let a = e;
            a.originalEvent && (a = a.originalEvent);
            const i = a.keyCode || a.charCode,
                r = t.params.keyboard.pageUpDown,
                d = r && 33 === i,
                c = r && 34 === i,
                p = 37 === i,
                u = 39 === i,
                h = 38 === i,
                m = 40 === i;
            if (!t.allowSlideNext && (t.isHorizontal() && u || t.isVertical() && m || c)) return !1;
            if (!t.allowSlidePrev && (t.isHorizontal() && p || t.isVertical() && h || d)) return !1;
            if (!(a.shiftKey || a.altKey || a.ctrlKey || a.metaKey || l.activeElement && l.activeElement.nodeName && ("input" === l.activeElement.nodeName.toLowerCase() || "textarea" === l.activeElement.nodeName.toLowerCase()))) {
                if (t.params.keyboard.onlyInViewport && (d || c || p || u || h || m)) {
                    let e = !1;
                    if (t.$el.parents(`.${t.params.slideClass}`).length > 0 && 0 === t.$el.parents(`.${t.params.slideActiveClass}`).length) return;
                    const a = t.$el,
                        i = a[0].clientWidth,
                        r = a[0].clientHeight,
                        n = o.innerWidth,
                        l = o.innerHeight,
                        d = t.$el.offset();
                    s && (d.left -= t.$el[0].scrollLeft);
                    const c = [
                        [d.left, d.top],
                        [d.left + i, d.top],
                        [d.left, d.top + r],
                        [d.left + i, d.top + r]
                    ];
                    for (let t = 0; t < c.length; t += 1) {
                        const s = c[t];
                        if (s[0] >= 0 && s[0] <= n && s[1] >= 0 && s[1] <= l) {
                            if (0 === s[0] && 0 === s[1]) continue;
                            e = !0
                        }
                    }
                    if (!e) return
                }
                t.isHorizontal() ? ((d || c || p || u) && (a.preventDefault ? a.preventDefault() : a.returnValue = !1), ((c || u) && !s || (d || p) && s) && t.slideNext(), ((d || p) && !s || (c || u) && s) && t.slidePrev()) : ((d || c || h || m) && (a.preventDefault ? a.preventDefault() : a.returnValue = !1), (c || m) && t.slideNext(), (d || h) && t.slidePrev()), n("keyPress", i)
            }
        }

        function p() {
            t.keyboard.enabled || (d(l).on("keydown", c), t.keyboard.enabled = !0)
        }

        function u() {
            t.keyboard.enabled && (d(l).off("keydown", c), t.keyboard.enabled = !1)
        }
        t.keyboard = {
            enabled: !1
        }, s({
            keyboard: {
                enabled: !1,
                onlyInViewport: !0,
                pageUpDown: !0
            }
        }), i("init", (() => {
            t.params.keyboard.enabled && p()
        })), i("destroy", (() => {
            t.keyboard.enabled && u()
        })), Object.assign(t.keyboard, {
            enable: p,
            disable: u
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;
        const n = r();
        let l;
        s({
            mousewheel: {
                enabled: !1,
                releaseOnEdges: !1,
                invert: !1,
                forceToAxis: !1,
                sensitivity: 1,
                eventsTarget: "container",
                thresholdDelta: null,
                thresholdTime: null
            }
        }), t.mousewheel = {
            enabled: !1
        };
        let o, c = u();
        const h = [];

        function m() {
            t.enabled && (t.mouseEntered = !0)
        }

        function f() {
            t.enabled && (t.mouseEntered = !1)
        }

        function g(e) {
            return !(t.params.mousewheel.thresholdDelta && e.delta < t.params.mousewheel.thresholdDelta) && (!(t.params.mousewheel.thresholdTime && u() - c < t.params.mousewheel.thresholdTime) && (e.delta >= 6 && u() - c < 60 || (e.direction < 0 ? t.isEnd && !t.params.loop || t.animating || (t.slideNext(), i("scroll", e.raw)) : t.isBeginning && !t.params.loop || t.animating || (t.slidePrev(), i("scroll", e.raw)), c = (new n.Date).getTime(), !1)))
        }

        function v(e) {
            let s = e,
                a = !0;
            if (!t.enabled) return;
            const r = t.params.mousewheel;
            t.params.cssMode && s.preventDefault();
            let n = t.$el;
            if ("container" !== t.params.mousewheel.eventsTarget && (n = d(t.params.mousewheel.eventsTarget)), !t.mouseEntered && !n[0].contains(s.target) && !r.releaseOnEdges) return !0;
            s.originalEvent && (s = s.originalEvent);
            let c = 0;
            const m = t.rtlTranslate ? -1 : 1,
                f = function(e) {
                    let t = 0,
                        s = 0,
                        a = 0,
                        i = 0;
                    return "detail" in e && (s = e.detail), "wheelDelta" in e && (s = -e.wheelDelta / 120), "wheelDeltaY" in e && (s = -e.wheelDeltaY / 120), "wheelDeltaX" in e && (t = -e.wheelDeltaX / 120), "axis" in e && e.axis === e.HORIZONTAL_AXIS && (t = s, s = 0), a = 10 * t, i = 10 * s, "deltaY" in e && (i = e.deltaY), "deltaX" in e && (a = e.deltaX), e.shiftKey && !a && (a = i, i = 0), (a || i) && e.deltaMode && (1 === e.deltaMode ? (a *= 40, i *= 40) : (a *= 800, i *= 800)), a && !t && (t = a < 1 ? -1 : 1), i && !s && (s = i < 1 ? -1 : 1), {
                        spinX: t,
                        spinY: s,
                        pixelX: a,
                        pixelY: i
                    }
                }(s);
            if (r.forceToAxis)
                if (t.isHorizontal()) {
                    if (!(Math.abs(f.pixelX) > Math.abs(f.pixelY))) return !0;
                    c = -f.pixelX * m
                } else {
                    if (!(Math.abs(f.pixelY) > Math.abs(f.pixelX))) return !0;
                    c = -f.pixelY
                }
            else c = Math.abs(f.pixelX) > Math.abs(f.pixelY) ? -f.pixelX * m : -f.pixelY;
            if (0 === c) return !0;
            r.invert && (c = -c);
            let v = t.getTranslate() + c * r.sensitivity;
            if (v >= t.minTranslate() && (v = t.minTranslate()), v <= t.maxTranslate() && (v = t.maxTranslate()), a = !!t.params.loop || !(v === t.minTranslate() || v === t.maxTranslate()), a && t.params.nested && s.stopPropagation(), t.params.freeMode && t.params.freeMode.enabled) {
                const e = {
                        time: u(),
                        delta: Math.abs(c),
                        direction: Math.sign(c)
                    },
                    a = o && e.time < o.time + 500 && e.delta <= o.delta && e.direction === o.direction;
                if (!a) {
                    o = void 0, t.params.loop && t.loopFix();
                    let n = t.getTranslate() + c * r.sensitivity;
                    const d = t.isBeginning,
                        u = t.isEnd;
                    if (n >= t.minTranslate() && (n = t.minTranslate()), n <= t.maxTranslate() && (n = t.maxTranslate()), t.setTransition(0), t.setTranslate(n), t.updateProgress(), t.updateActiveIndex(), t.updateSlidesClasses(), (!d && t.isBeginning || !u && t.isEnd) && t.updateSlidesClasses(), t.params.freeMode.sticky) {
                        clearTimeout(l), l = void 0, h.length >= 15 && h.shift();
                        const s = h.length ? h[h.length - 1] : void 0,
                            a = h[0];
                        if (h.push(e), s && (e.delta > s.delta || e.direction !== s.direction)) h.splice(0);
                        else if (h.length >= 15 && e.time - a.time < 500 && a.delta - e.delta >= 1 && e.delta <= 6) {
                            const s = c > 0 ? .8 : .2;
                            o = e, h.splice(0), l = p((() => {
                                t.slideToClosest(t.params.speed, !0, void 0, s)
                            }), 0)
                        }
                        l || (l = p((() => {
                            o = e, h.splice(0), t.slideToClosest(t.params.speed, !0, void 0, .5)
                        }), 500))
                    }
                    if (a || i("scroll", s), t.params.autoplay && t.params.autoplayDisableOnInteraction && t.autoplay.stop(), n === t.minTranslate() || n === t.maxTranslate()) return !0
                }
            } else {
                const s = {
                    time: u(),
                    delta: Math.abs(c),
                    direction: Math.sign(c),
                    raw: e
                };
                h.length >= 2 && h.shift();
                const a = h.length ? h[h.length - 1] : void 0;
                if (h.push(s), a ? (s.direction !== a.direction || s.delta > a.delta || s.time > a.time + 150) && g(s) : g(s), function(e) {
                        const s = t.params.mousewheel;
                        if (e.direction < 0) {
                            if (t.isEnd && !t.params.loop && s.releaseOnEdges) return !0
                        } else if (t.isBeginning && !t.params.loop && s.releaseOnEdges) return !0;
                        return !1
                    }(s)) return !0
            }
            return s.preventDefault ? s.preventDefault() : s.returnValue = !1, !1
        }

        function w(e) {
            let s = t.$el;
            "container" !== t.params.mousewheel.eventsTarget && (s = d(t.params.mousewheel.eventsTarget)), s[e]("mouseenter", m), s[e]("mouseleave", f), s[e]("wheel", v)
        }

        function b() {
            return t.params.cssMode ? (t.wrapperEl.removeEventListener("wheel", v), !0) : !t.mousewheel.enabled && (w("on"), t.mousewheel.enabled = !0, !0)
        }

        function x() {
            return t.params.cssMode ? (t.wrapperEl.addEventListener(event, v), !0) : !!t.mousewheel.enabled && (w("off"), t.mousewheel.enabled = !1, !0)
        }
        a("init", (() => {
            !t.params.mousewheel.enabled && t.params.cssMode && x(), t.params.mousewheel.enabled && b()
        })), a("destroy", (() => {
            t.params.cssMode && b(), t.mousewheel.enabled && x()
        })), Object.assign(t.mousewheel, {
            enable: b,
            disable: x
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;

        function r(e) {
            let s;
            return e && (s = d(e), t.params.uniqueNavElements && "string" == typeof e && s.length > 1 && 1 === t.$el.find(e).length && (s = t.$el.find(e))), s
        }

        function n(e, s) {
            const a = t.params.navigation;
            e && e.length > 0 && (e[s ? "addClass" : "removeClass"](a.disabledClass), e[0] && "BUTTON" === e[0].tagName && (e[0].disabled = s), t.params.watchOverflow && t.enabled && e[t.isLocked ? "addClass" : "removeClass"](a.lockClass))
        }

        function l() {
            if (t.params.loop) return;
            const {
                $nextEl: e,
                $prevEl: s
            } = t.navigation;
            n(s, t.isBeginning && !t.params.rewind), n(e, t.isEnd && !t.params.rewind)
        }

        function o(e) {
            e.preventDefault(), (!t.isBeginning || t.params.loop || t.params.rewind) && t.slidePrev()
        }

        function c(e) {
            e.preventDefault(), (!t.isEnd || t.params.loop || t.params.rewind) && t.slideNext()
        }

        function p() {
            const e = t.params.navigation;
            if (t.params.navigation = F(t, t.originalParams.navigation, t.params.navigation, {
                    nextEl: "swiper-button-next",
                    prevEl: "swiper-button-prev"
                }), !e.nextEl && !e.prevEl) return;
            const s = r(e.nextEl),
                a = r(e.prevEl);
            s && s.length > 0 && s.on("click", c), a && a.length > 0 && a.on("click", o), Object.assign(t.navigation, {
                $nextEl: s,
                nextEl: s && s[0],
                $prevEl: a,
                prevEl: a && a[0]
            }), t.enabled || (s && s.addClass(e.lockClass), a && a.addClass(e.lockClass))
        }

        function u() {
            const {
                $nextEl: e,
                $prevEl: s
            } = t.navigation;
            e && e.length && (e.off("click", c), e.removeClass(t.params.navigation.disabledClass)), s && s.length && (s.off("click", o), s.removeClass(t.params.navigation.disabledClass))
        }
        s({
            navigation: {
                nextEl: null,
                prevEl: null,
                hideOnClick: !1,
                disabledClass: "swiper-button-disabled",
                hiddenClass: "swiper-button-hidden",
                lockClass: "swiper-button-lock"
            }
        }), t.navigation = {
            nextEl: null,
            $nextEl: null,
            prevEl: null,
            $prevEl: null
        }, a("init", (() => {
            p(), l()
        })), a("toEdge fromEdge lock unlock", (() => {
            l()
        })), a("destroy", (() => {
            u()
        })), a("enable disable", (() => {
            const {
                $nextEl: e,
                $prevEl: s
            } = t.navigation;
            e && e[t.enabled ? "removeClass" : "addClass"](t.params.navigation.lockClass), s && s[t.enabled ? "removeClass" : "addClass"](t.params.navigation.lockClass)
        })), a("click", ((e, s) => {
            const {
                $nextEl: a,
                $prevEl: r
            } = t.navigation, n = s.target;
            if (t.params.navigation.hideOnClick && !d(n).is(r) && !d(n).is(a)) {
                if (t.pagination && t.params.pagination && t.params.pagination.clickable && (t.pagination.el === n || t.pagination.el.contains(n))) return;
                let e;
                a ? e = a.hasClass(t.params.navigation.hiddenClass) : r && (e = r.hasClass(t.params.navigation.hiddenClass)), i(!0 === e ? "navigationShow" : "navigationHide"), a && a.toggleClass(t.params.navigation.hiddenClass), r && r.toggleClass(t.params.navigation.hiddenClass)
            }
        })), Object.assign(t.navigation, {
            update: l,
            init: p,
            destroy: u
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;
        const r = "swiper-pagination";
        let n;
        s({
            pagination: {
                el: null,
                bulletElement: "span",
                clickable: !1,
                hideOnClick: !1,
                renderBullet: null,
                renderProgressbar: null,
                renderFraction: null,
                renderCustom: null,
                progressbarOpposite: !1,
                type: "bullets",
                dynamicBullets: !1,
                dynamicMainBullets: 1,
                formatFractionCurrent: e => e,
                formatFractionTotal: e => e,
                bulletClass: `${r}-bullet`,
                bulletActiveClass: `${r}-bullet-active`,
                modifierClass: `${r}-`,
                currentClass: `${r}-current`,
                totalClass: `${r}-total`,
                hiddenClass: `${r}-hidden`,
                progressbarFillClass: `${r}-progressbar-fill`,
                progressbarOppositeClass: `${r}-progressbar-opposite`,
                clickableClass: `${r}-clickable`,
                lockClass: `${r}-lock`,
                horizontalClass: `${r}-horizontal`,
                verticalClass: `${r}-vertical`
            }
        }), t.pagination = {
            el: null,
            $el: null,
            bullets: []
        };
        let l = 0;

        function o() {
            return !t.params.pagination.el || !t.pagination.el || !t.pagination.$el || 0 === t.pagination.$el.length
        }

        function c(e, s) {
            const {
                bulletActiveClass: a
            } = t.params.pagination;
            e[s]().addClass(`${a}-${s}`)[s]().addClass(`${a}-${s}-${s}`)
        }

        function p() {
            const e = t.rtl,
                s = t.params.pagination;
            if (o()) return;
            const a = t.virtual && t.params.virtual.enabled ? t.virtual.slides.length : t.slides.length,
                r = t.pagination.$el;
            let p;
            const u = t.params.loop ? Math.ceil((a - 2 * t.loopedSlides) / t.params.slidesPerGroup) : t.snapGrid.length;
            if (t.params.loop ? (p = Math.ceil((t.activeIndex - t.loopedSlides) / t.params.slidesPerGroup), p > a - 1 - 2 * t.loopedSlides && (p -= a - 2 * t.loopedSlides), p > u - 1 && (p -= u), p < 0 && "bullets" !== t.params.paginationType && (p = u + p)) : p = void 0 !== t.snapIndex ? t.snapIndex : t.activeIndex || 0, "bullets" === s.type && t.pagination.bullets && t.pagination.bullets.length > 0) {
                const a = t.pagination.bullets;
                let i, o, u;
                if (s.dynamicBullets && (n = a.eq(0)[t.isHorizontal() ? "outerWidth" : "outerHeight"](!0), r.css(t.isHorizontal() ? "width" : "height", n * (s.dynamicMainBullets + 4) + "px"), s.dynamicMainBullets > 1 && void 0 !== t.previousIndex && (l += p - (t.previousIndex - t.loopedSlides || 0), l > s.dynamicMainBullets - 1 ? l = s.dynamicMainBullets - 1 : l < 0 && (l = 0)), i = Math.max(p - l, 0), o = i + (Math.min(a.length, s.dynamicMainBullets) - 1), u = (o + i) / 2), a.removeClass(["", "-next", "-next-next", "-prev", "-prev-prev", "-main"].map((e => `${s.bulletActiveClass}${e}`)).join(" ")), r.length > 1) a.each((e => {
                    const t = d(e),
                        a = t.index();
                    a === p && t.addClass(s.bulletActiveClass), s.dynamicBullets && (a >= i && a <= o && t.addClass(`${s.bulletActiveClass}-main`), a === i && c(t, "prev"), a === o && c(t, "next"))
                }));
                else {
                    const e = a.eq(p),
                        r = e.index();
                    if (e.addClass(s.bulletActiveClass), s.dynamicBullets) {
                        const e = a.eq(i),
                            n = a.eq(o);
                        for (let e = i; e <= o; e += 1) a.eq(e).addClass(`${s.bulletActiveClass}-main`);
                        if (t.params.loop)
                            if (r >= a.length) {
                                for (let e = s.dynamicMainBullets; e >= 0; e -= 1) a.eq(a.length - e).addClass(`${s.bulletActiveClass}-main`);
                                a.eq(a.length - s.dynamicMainBullets - 1).addClass(`${s.bulletActiveClass}-prev`)
                            } else c(e, "prev"), c(n, "next");
                        else c(e, "prev"), c(n, "next")
                    }
                }
                if (s.dynamicBullets) {
                    const i = Math.min(a.length, s.dynamicMainBullets + 4),
                        r = (n * i - n) / 2 - u * n,
                        l = e ? "right" : "left";
                    a.css(t.isHorizontal() ? l : "top", `${r}px`)
                }
            }
            if ("fraction" === s.type && (r.find(U(s.currentClass)).text(s.formatFractionCurrent(p + 1)), r.find(U(s.totalClass)).text(s.formatFractionTotal(u))), "progressbar" === s.type) {
                let e;
                e = s.progressbarOpposite ? t.isHorizontal() ? "vertical" : "horizontal" : t.isHorizontal() ? "horizontal" : "vertical";
                const a = (p + 1) / u;
                let i = 1,
                    n = 1;
                "horizontal" === e ? i = a : n = a, r.find(U(s.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${i}) scaleY(${n})`).transition(t.params.speed)
            }
            "custom" === s.type && s.renderCustom ? (r.html(s.renderCustom(t, p + 1, u)), i("paginationRender", r[0])) : i("paginationUpdate", r[0]), t.params.watchOverflow && t.enabled && r[t.isLocked ? "addClass" : "removeClass"](s.lockClass)
        }

        function u() {
            const e = t.params.pagination;
            if (o()) return;
            const s = t.virtual && t.params.virtual.enabled ? t.virtual.slides.length : t.slides.length,
                a = t.pagination.$el;
            let r = "";
            if ("bullets" === e.type) {
                let i = t.params.loop ? Math.ceil((s - 2 * t.loopedSlides) / t.params.slidesPerGroup) : t.snapGrid.length;
                t.params.freeMode && t.params.freeMode.enabled && !t.params.loop && i > s && (i = s);
                for (let s = 0; s < i; s += 1) e.renderBullet ? r += e.renderBullet.call(t, s, e.bulletClass) : r += `<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;
                a.html(r), t.pagination.bullets = a.find(U(e.bulletClass))
            }
            "fraction" === e.type && (r = e.renderFraction ? e.renderFraction.call(t, e.currentClass, e.totalClass) : `<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`, a.html(r)), "progressbar" === e.type && (r = e.renderProgressbar ? e.renderProgressbar.call(t, e.progressbarFillClass) : `<span class="${e.progressbarFillClass}"></span>`, a.html(r)), "custom" !== e.type && i("paginationRender", t.pagination.$el[0])
        }

        function h() {
            t.params.pagination = F(t, t.originalParams.pagination, t.params.pagination, {
                el: "swiper-pagination"
            });
            const e = t.params.pagination;
            if (!e.el) return;
            let s = d(e.el);
            0 !== s.length && (t.params.uniqueNavElements && "string" == typeof e.el && s.length > 1 && (s = t.$el.find(e.el), s.length > 1 && (s = s.filter((e => d(e).parents(".swiper")[0] === t.el)))), "bullets" === e.type && e.clickable && s.addClass(e.clickableClass), s.addClass(e.modifierClass + e.type), s.addClass(e.modifierClass + t.params.direction), "bullets" === e.type && e.dynamicBullets && (s.addClass(`${e.modifierClass}${e.type}-dynamic`), l = 0, e.dynamicMainBullets < 1 && (e.dynamicMainBullets = 1)), "progressbar" === e.type && e.progressbarOpposite && s.addClass(e.progressbarOppositeClass), e.clickable && s.on("click", U(e.bulletClass), (function(e) {
                e.preventDefault();
                let s = d(this).index() * t.params.slidesPerGroup;
                t.params.loop && (s += t.loopedSlides), t.slideTo(s)
            })), Object.assign(t.pagination, {
                $el: s,
                el: s[0]
            }), t.enabled || s.addClass(e.lockClass))
        }

        function m() {
            const e = t.params.pagination;
            if (o()) return;
            const s = t.pagination.$el;
            s.removeClass(e.hiddenClass), s.removeClass(e.modifierClass + e.type), s.removeClass(e.modifierClass + t.params.direction), t.pagination.bullets && t.pagination.bullets.removeClass && t.pagination.bullets.removeClass(e.bulletActiveClass), e.clickable && s.off("click", U(e.bulletClass))
        }
        a("init", (() => {
            h(), u(), p()
        })), a("activeIndexChange", (() => {
            (t.params.loop || void 0 === t.snapIndex) && p()
        })), a("snapIndexChange", (() => {
            t.params.loop || p()
        })), a("slidesLengthChange", (() => {
            t.params.loop && (u(), p())
        })), a("snapGridLengthChange", (() => {
            t.params.loop || (u(), p())
        })), a("destroy", (() => {
            m()
        })), a("enable disable", (() => {
            const {
                $el: e
            } = t.pagination;
            e && e[t.enabled ? "removeClass" : "addClass"](t.params.pagination.lockClass)
        })), a("lock unlock", (() => {
            p()
        })), a("click", ((e, s) => {
            const a = s.target,
                {
                    $el: r
                } = t.pagination;
            if (t.params.pagination.el && t.params.pagination.hideOnClick && r.length > 0 && !d(a).hasClass(t.params.pagination.bulletClass)) {
                if (t.navigation && (t.navigation.nextEl && a === t.navigation.nextEl || t.navigation.prevEl && a === t.navigation.prevEl)) return;
                const e = r.hasClass(t.params.pagination.hiddenClass);
                i(!0 === e ? "paginationShow" : "paginationHide"), r.toggleClass(t.params.pagination.hiddenClass)
            }
        })), Object.assign(t.pagination, {
            render: u,
            update: p,
            init: h,
            destroy: m
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: i,
            emit: r
        } = e;
        const n = a();
        let l, o, c, u, h = !1,
            m = null,
            f = null;

        function g() {
            if (!t.params.scrollbar.el || !t.scrollbar.el) return;
            const {
                scrollbar: e,
                rtlTranslate: s,
                progress: a
            } = t, {
                $dragEl: i,
                $el: r
            } = e, n = t.params.scrollbar;
            let l = o,
                d = (c - o) * a;
            s ? (d = -d, d > 0 ? (l = o - d, d = 0) : -d + o > c && (l = c + d)) : d < 0 ? (l = o + d, d = 0) : d + o > c && (l = c - d), t.isHorizontal() ? (i.transform(`translate3d(${d}px, 0, 0)`), i[0].style.width = `${l}px`) : (i.transform(`translate3d(0px, ${d}px, 0)`), i[0].style.height = `${l}px`), n.hide && (clearTimeout(m), r[0].style.opacity = 1, m = setTimeout((() => {
                r[0].style.opacity = 0, r.transition(400)
            }), 1e3))
        }

        function v() {
            if (!t.params.scrollbar.el || !t.scrollbar.el) return;
            const {
                scrollbar: e
            } = t, {
                $dragEl: s,
                $el: a
            } = e;
            s[0].style.width = "", s[0].style.height = "", c = t.isHorizontal() ? a[0].offsetWidth : a[0].offsetHeight, u = t.size / (t.virtualSize + t.params.slidesOffsetBefore - (t.params.centeredSlides ? t.snapGrid[0] : 0)), o = "auto" === t.params.scrollbar.dragSize ? c * u : parseInt(t.params.scrollbar.dragSize, 10), t.isHorizontal() ? s[0].style.width = `${o}px` : s[0].style.height = `${o}px`, a[0].style.display = u >= 1 ? "none" : "", t.params.scrollbar.hide && (a[0].style.opacity = 0), t.params.watchOverflow && t.enabled && e.$el[t.isLocked ? "addClass" : "removeClass"](t.params.scrollbar.lockClass)
        }

        function w(e) {
            return t.isHorizontal() ? "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].clientX : e.clientX : "touchstart" === e.type || "touchmove" === e.type ? e.targetTouches[0].clientY : e.clientY
        }

        function b(e) {
            const {
                scrollbar: s,
                rtlTranslate: a
            } = t, {
                $el: i
            } = s;
            let r;
            r = (w(e) - i.offset()[t.isHorizontal() ? "left" : "top"] - (null !== l ? l : o / 2)) / (c - o), r = Math.max(Math.min(r, 1), 0), a && (r = 1 - r);
            const n = t.minTranslate() + (t.maxTranslate() - t.minTranslate()) * r;
            t.updateProgress(n), t.setTranslate(n), t.updateActiveIndex(), t.updateSlidesClasses()
        }

        function x(e) {
            const s = t.params.scrollbar,
                {
                    scrollbar: a,
                    $wrapperEl: i
                } = t,
                {
                    $el: n,
                    $dragEl: o
                } = a;
            h = !0, l = e.target === o[0] || e.target === o ? w(e) - e.target.getBoundingClientRect()[t.isHorizontal() ? "left" : "top"] : null, e.preventDefault(), e.stopPropagation(), i.transition(100), o.transition(100), b(e), clearTimeout(f), n.transition(0), s.hide && n.css("opacity", 1), t.params.cssMode && t.$wrapperEl.css("scroll-snap-type", "none"), r("scrollbarDragStart", e)
        }

        function y(e) {
            const {
                scrollbar: s,
                $wrapperEl: a
            } = t, {
                $el: i,
                $dragEl: n
            } = s;
            h && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, b(e), a.transition(0), i.transition(0), n.transition(0), r("scrollbarDragMove", e))
        }

        function E(e) {
            const s = t.params.scrollbar,
                {
                    scrollbar: a,
                    $wrapperEl: i
                } = t,
                {
                    $el: n
                } = a;
            h && (h = !1, t.params.cssMode && (t.$wrapperEl.css("scroll-snap-type", ""), i.transition("")), s.hide && (clearTimeout(f), f = p((() => {
                n.css("opacity", 0), n.transition(400)
            }), 1e3)), r("scrollbarDragEnd", e), s.snapOnRelease && t.slideToClosest())
        }

        function T(e) {
            const {
                scrollbar: s,
                touchEventsTouch: a,
                touchEventsDesktop: i,
                params: r,
                support: l
            } = t, o = s.$el[0], d = !(!l.passiveListener || !r.passiveListeners) && {
                passive: !1,
                capture: !1
            }, c = !(!l.passiveListener || !r.passiveListeners) && {
                passive: !0,
                capture: !1
            };
            if (!o) return;
            const p = "on" === e ? "addEventListener" : "removeEventListener";
            l.touch ? (o[p](a.start, x, d), o[p](a.move, y, d), o[p](a.end, E, c)) : (o[p](i.start, x, d), n[p](i.move, y, d), n[p](i.end, E, c))
        }

        function C() {
            const {
                scrollbar: e,
                $el: s
            } = t;
            t.params.scrollbar = F(t, t.originalParams.scrollbar, t.params.scrollbar, {
                el: "swiper-scrollbar"
            });
            const a = t.params.scrollbar;
            if (!a.el) return;
            let i = d(a.el);
            t.params.uniqueNavElements && "string" == typeof a.el && i.length > 1 && 1 === s.find(a.el).length && (i = s.find(a.el));
            let r = i.find(`.${t.params.scrollbar.dragClass}`);
            0 === r.length && (r = d(`<div class="${t.params.scrollbar.dragClass}"></div>`), i.append(r)), Object.assign(e, {
                $el: i,
                el: i[0],
                $dragEl: r,
                dragEl: r[0]
            }), a.draggable && t.params.scrollbar.el && T("on"), i && i[t.enabled ? "removeClass" : "addClass"](t.params.scrollbar.lockClass)
        }

        function $() {
            t.params.scrollbar.el && T("off")
        }
        s({
            scrollbar: {
                el: null,
                dragSize: "auto",
                hide: !1,
                draggable: !1,
                snapOnRelease: !0,
                lockClass: "swiper-scrollbar-lock",
                dragClass: "swiper-scrollbar-drag"
            }
        }), t.scrollbar = {
            el: null,
            dragEl: null,
            $el: null,
            $dragEl: null
        }, i("init", (() => {
            C(), v(), g()
        })), i("update resize observerUpdate lock unlock", (() => {
            v()
        })), i("setTranslate", (() => {
            g()
        })), i("setTransition", ((e, s) => {
            ! function(e) {
                t.params.scrollbar.el && t.scrollbar.el && t.scrollbar.$dragEl.transition(e)
            }(s)
        })), i("enable disable", (() => {
            const {
                $el: e
            } = t.scrollbar;
            e && e[t.enabled ? "removeClass" : "addClass"](t.params.scrollbar.lockClass)
        })), i("destroy", (() => {
            $()
        })), Object.assign(t.scrollbar, {
            updateSize: v,
            setTranslate: g,
            init: C,
            destroy: $
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            parallax: {
                enabled: !1
            }
        });
        const i = (e, s) => {
                const {
                    rtl: a
                } = t, i = d(e), r = a ? -1 : 1, n = i.attr("data-swiper-parallax") || "0";
                let l = i.attr("data-swiper-parallax-x"),
                    o = i.attr("data-swiper-parallax-y");
                const c = i.attr("data-swiper-parallax-scale"),
                    p = i.attr("data-swiper-parallax-opacity");
                if (l || o ? (l = l || "0", o = o || "0") : t.isHorizontal() ? (l = n, o = "0") : (o = n, l = "0"), l = l.indexOf("%") >= 0 ? parseInt(l, 10) * s * r + "%" : l * s * r + "px", o = o.indexOf("%") >= 0 ? parseInt(o, 10) * s + "%" : o * s + "px", null != p) {
                    const e = p - (p - 1) * (1 - Math.abs(s));
                    i[0].style.opacity = e
                }
                if (null == c) i.transform(`translate3d(${l}, ${o}, 0px)`);
                else {
                    const e = c - (c - 1) * (1 - Math.abs(s));
                    i.transform(`translate3d(${l}, ${o}, 0px) scale(${e})`)
                }
            },
            r = () => {
                const {
                    $el: e,
                    slides: s,
                    progress: a,
                    snapGrid: r
                } = t;
                e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e => {
                    i(e, a)
                })), s.each(((e, s) => {
                    let n = e.progress;
                    t.params.slidesPerGroup > 1 && "auto" !== t.params.slidesPerView && (n += Math.ceil(s / 2) - a * (r.length - 1)), n = Math.min(Math.max(n, -1), 1), d(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e => {
                        i(e, n)
                    }))
                }))
            };
        a("beforeInit", (() => {
            t.params.parallax.enabled && (t.params.watchSlidesProgress = !0, t.originalParams.watchSlidesProgress = !0)
        })), a("init", (() => {
            t.params.parallax.enabled && r()
        })), a("setTranslate", (() => {
            t.params.parallax.enabled && r()
        })), a("setTransition", ((e, s) => {
            t.params.parallax.enabled && function(e) {
                void 0 === e && (e = t.params.speed);
                const {
                    $el: s
                } = t;
                s.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((t => {
                    const s = d(t);
                    let a = parseInt(s.attr("data-swiper-parallax-duration"), 10) || e;
                    0 === e && (a = 0), s.transition(a)
                }))
            }(s)
        }))
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;
        const n = r();
        s({
            zoom: {
                enabled: !1,
                maxRatio: 3,
                minRatio: 1,
                toggle: !0,
                containerClass: "swiper-zoom-container",
                zoomedSlideClass: "swiper-slide-zoomed"
            }
        }), t.zoom = {
            enabled: !1
        };
        let l, o, c, p = 1,
            u = !1;
        const m = {
                $slideEl: void 0,
                slideWidth: void 0,
                slideHeight: void 0,
                $imageEl: void 0,
                $imageWrapEl: void 0,
                maxRatio: 3
            },
            f = {
                isTouched: void 0,
                isMoved: void 0,
                currentX: void 0,
                currentY: void 0,
                minX: void 0,
                minY: void 0,
                maxX: void 0,
                maxY: void 0,
                width: void 0,
                height: void 0,
                startX: void 0,
                startY: void 0,
                touchesStart: {},
                touchesCurrent: {}
            },
            g = {
                x: void 0,
                y: void 0,
                prevPositionX: void 0,
                prevPositionY: void 0,
                prevTime: void 0
            };
        let v = 1;

        function w(e) {
            if (e.targetTouches.length < 2) return 1;
            const t = e.targetTouches[0].pageX,
                s = e.targetTouches[0].pageY,
                a = e.targetTouches[1].pageX,
                i = e.targetTouches[1].pageY;
            return Math.sqrt((a - t) ** 2 + (i - s) ** 2)
        }

        function b(e) {
            const s = t.support,
                a = t.params.zoom;
            if (o = !1, c = !1, !s.gestures) {
                if ("touchstart" !== e.type || "touchstart" === e.type && e.targetTouches.length < 2) return;
                o = !0, m.scaleStart = w(e)
            }
            m.$slideEl && m.$slideEl.length || (m.$slideEl = d(e.target).closest(`.${t.params.slideClass}`), 0 === m.$slideEl.length && (m.$slideEl = t.slides.eq(t.activeIndex)), m.$imageEl = m.$slideEl.find(`.${a.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0), m.$imageWrapEl = m.$imageEl.parent(`.${a.containerClass}`), m.maxRatio = m.$imageWrapEl.attr("data-swiper-zoom") || a.maxRatio, 0 !== m.$imageWrapEl.length) ? (m.$imageEl && m.$imageEl.transition(0), u = !0) : m.$imageEl = void 0
        }

        function x(e) {
            const s = t.support,
                a = t.params.zoom,
                i = t.zoom;
            if (!s.gestures) {
                if ("touchmove" !== e.type || "touchmove" === e.type && e.targetTouches.length < 2) return;
                c = !0, m.scaleMove = w(e)
            }
            m.$imageEl && 0 !== m.$imageEl.length ? (s.gestures ? i.scale = e.scale * p : i.scale = m.scaleMove / m.scaleStart * p, i.scale > m.maxRatio && (i.scale = m.maxRatio - 1 + (i.scale - m.maxRatio + 1) ** .5), i.scale < a.minRatio && (i.scale = a.minRatio + 1 - (a.minRatio - i.scale + 1) ** .5), m.$imageEl.transform(`translate3d(0,0,0) scale(${i.scale})`)) : "gesturechange" === e.type && b(e)
        }

        function y(e) {
            const s = t.device,
                a = t.support,
                i = t.params.zoom,
                r = t.zoom;
            if (!a.gestures) {
                if (!o || !c) return;
                if ("touchend" !== e.type || "touchend" === e.type && e.changedTouches.length < 2 && !s.android) return;
                o = !1, c = !1
            }
            m.$imageEl && 0 !== m.$imageEl.length && (r.scale = Math.max(Math.min(r.scale, m.maxRatio), i.minRatio), m.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${r.scale})`), p = r.scale, u = !1, 1 === r.scale && (m.$slideEl = void 0))
        }

        function E(e) {
            const s = t.zoom;
            if (!m.$imageEl || 0 === m.$imageEl.length) return;
            if (t.allowClick = !1, !f.isTouched || !m.$slideEl) return;
            f.isMoved || (f.width = m.$imageEl[0].offsetWidth, f.height = m.$imageEl[0].offsetHeight, f.startX = h(m.$imageWrapEl[0], "x") || 0, f.startY = h(m.$imageWrapEl[0], "y") || 0, m.slideWidth = m.$slideEl[0].offsetWidth, m.slideHeight = m.$slideEl[0].offsetHeight, m.$imageWrapEl.transition(0));
            const a = f.width * s.scale,
                i = f.height * s.scale;
            if (!(a < m.slideWidth && i < m.slideHeight)) {
                if (f.minX = Math.min(m.slideWidth / 2 - a / 2, 0), f.maxX = -f.minX, f.minY = Math.min(m.slideHeight / 2 - i / 2, 0), f.maxY = -f.minY, f.touchesCurrent.x = "touchmove" === e.type ? e.targetTouches[0].pageX : e.pageX, f.touchesCurrent.y = "touchmove" === e.type ? e.targetTouches[0].pageY : e.pageY, !f.isMoved && !u) {
                    if (t.isHorizontal() && (Math.floor(f.minX) === Math.floor(f.startX) && f.touchesCurrent.x < f.touchesStart.x || Math.floor(f.maxX) === Math.floor(f.startX) && f.touchesCurrent.x > f.touchesStart.x)) return void(f.isTouched = !1);
                    if (!t.isHorizontal() && (Math.floor(f.minY) === Math.floor(f.startY) && f.touchesCurrent.y < f.touchesStart.y || Math.floor(f.maxY) === Math.floor(f.startY) && f.touchesCurrent.y > f.touchesStart.y)) return void(f.isTouched = !1)
                }
                e.cancelable && e.preventDefault(), e.stopPropagation(), f.isMoved = !0, f.currentX = f.touchesCurrent.x - f.touchesStart.x + f.startX, f.currentY = f.touchesCurrent.y - f.touchesStart.y + f.startY, f.currentX < f.minX && (f.currentX = f.minX + 1 - (f.minX - f.currentX + 1) ** .8), f.currentX > f.maxX && (f.currentX = f.maxX - 1 + (f.currentX - f.maxX + 1) ** .8), f.currentY < f.minY && (f.currentY = f.minY + 1 - (f.minY - f.currentY + 1) ** .8), f.currentY > f.maxY && (f.currentY = f.maxY - 1 + (f.currentY - f.maxY + 1) ** .8), g.prevPositionX || (g.prevPositionX = f.touchesCurrent.x), g.prevPositionY || (g.prevPositionY = f.touchesCurrent.y), g.prevTime || (g.prevTime = Date.now()), g.x = (f.touchesCurrent.x - g.prevPositionX) / (Date.now() - g.prevTime) / 2, g.y = (f.touchesCurrent.y - g.prevPositionY) / (Date.now() - g.prevTime) / 2, Math.abs(f.touchesCurrent.x - g.prevPositionX) < 2 && (g.x = 0), Math.abs(f.touchesCurrent.y - g.prevPositionY) < 2 && (g.y = 0), g.prevPositionX = f.touchesCurrent.x, g.prevPositionY = f.touchesCurrent.y, g.prevTime = Date.now(), m.$imageWrapEl.transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)
            }
        }

        function T() {
            const e = t.zoom;
            m.$slideEl && t.previousIndex !== t.activeIndex && (m.$imageEl && m.$imageEl.transform("translate3d(0,0,0) scale(1)"), m.$imageWrapEl && m.$imageWrapEl.transform("translate3d(0,0,0)"), e.scale = 1, p = 1, m.$slideEl = void 0, m.$imageEl = void 0, m.$imageWrapEl = void 0)
        }

        function C(e) {
            const s = t.zoom,
                a = t.params.zoom;
            if (m.$slideEl || (e && e.target && (m.$slideEl = d(e.target).closest(`.${t.params.slideClass}`)), m.$slideEl || (t.params.virtual && t.params.virtual.enabled && t.virtual ? m.$slideEl = t.$wrapperEl.children(`.${t.params.slideActiveClass}`) : m.$slideEl = t.slides.eq(t.activeIndex)), m.$imageEl = m.$slideEl.find(`.${a.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0), m.$imageWrapEl = m.$imageEl.parent(`.${a.containerClass}`)), !m.$imageEl || 0 === m.$imageEl.length || !m.$imageWrapEl || 0 === m.$imageWrapEl.length) return;
            let i, r, l, o, c, u, h, g, v, w, b, x, y, E, T, C, $, S;
            t.params.cssMode && (t.wrapperEl.style.overflow = "hidden", t.wrapperEl.style.touchAction = "none"), m.$slideEl.addClass(`${a.zoomedSlideClass}`), void 0 === f.touchesStart.x && e ? (i = "touchend" === e.type ? e.changedTouches[0].pageX : e.pageX, r = "touchend" === e.type ? e.changedTouches[0].pageY : e.pageY) : (i = f.touchesStart.x, r = f.touchesStart.y), s.scale = m.$imageWrapEl.attr("data-swiper-zoom") || a.maxRatio, p = m.$imageWrapEl.attr("data-swiper-zoom") || a.maxRatio, e ? ($ = m.$slideEl[0].offsetWidth, S = m.$slideEl[0].offsetHeight, l = m.$slideEl.offset().left + n.scrollX, o = m.$slideEl.offset().top + n.scrollY, c = l + $ / 2 - i, u = o + S / 2 - r, v = m.$imageEl[0].offsetWidth, w = m.$imageEl[0].offsetHeight, b = v * s.scale, x = w * s.scale, y = Math.min($ / 2 - b / 2, 0), E = Math.min(S / 2 - x / 2, 0), T = -y, C = -E, h = c * s.scale, g = u * s.scale, h < y && (h = y), h > T && (h = T), g < E && (g = E), g > C && (g = C)) : (h = 0, g = 0), m.$imageWrapEl.transition(300).transform(`translate3d(${h}px, ${g}px,0)`), m.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${s.scale})`)
        }

        function $() {
            const e = t.zoom,
                s = t.params.zoom;
            m.$slideEl || (t.params.virtual && t.params.virtual.enabled && t.virtual ? m.$slideEl = t.$wrapperEl.children(`.${t.params.slideActiveClass}`) : m.$slideEl = t.slides.eq(t.activeIndex), m.$imageEl = m.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0), m.$imageWrapEl = m.$imageEl.parent(`.${s.containerClass}`)), m.$imageEl && 0 !== m.$imageEl.length && m.$imageWrapEl && 0 !== m.$imageWrapEl.length && (t.params.cssMode && (t.wrapperEl.style.overflow = "", t.wrapperEl.style.touchAction = ""), e.scale = 1, p = 1, m.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"), m.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"), m.$slideEl.removeClass(`${s.zoomedSlideClass}`), m.$slideEl = void 0)
        }

        function S(e) {
            const s = t.zoom;
            s.scale && 1 !== s.scale ? $() : C(e)
        }

        function M() {
            const e = t.support;
            return {
                passiveListener: !("touchstart" !== t.touchEvents.start || !e.passiveListener || !t.params.passiveListeners) && {
                    passive: !0,
                    capture: !1
                },
                activeListenerWithCapture: !e.passiveListener || {
                    passive: !1,
                    capture: !0
                }
            }
        }

        function P() {
            return `.${t.params.slideClass}`
        }

        function k(e) {
            const {
                passiveListener: s
            } = M(), a = P();
            t.$wrapperEl[e]("gesturestart", a, b, s), t.$wrapperEl[e]("gesturechange", a, x, s), t.$wrapperEl[e]("gestureend", a, y, s)
        }

        function z() {
            l || (l = !0, k("on"))
        }

        function O() {
            l && (l = !1, k("off"))
        }

        function I() {
            const e = t.zoom;
            if (e.enabled) return;
            e.enabled = !0;
            const s = t.support,
                {
                    passiveListener: a,
                    activeListenerWithCapture: i
                } = M(),
                r = P();
            s.gestures ? (t.$wrapperEl.on(t.touchEvents.start, z, a), t.$wrapperEl.on(t.touchEvents.end, O, a)) : "touchstart" === t.touchEvents.start && (t.$wrapperEl.on(t.touchEvents.start, r, b, a), t.$wrapperEl.on(t.touchEvents.move, r, x, i), t.$wrapperEl.on(t.touchEvents.end, r, y, a), t.touchEvents.cancel && t.$wrapperEl.on(t.touchEvents.cancel, r, y, a)), t.$wrapperEl.on(t.touchEvents.move, `.${t.params.zoom.containerClass}`, E, i)
        }

        function L() {
            const e = t.zoom;
            if (!e.enabled) return;
            const s = t.support;
            e.enabled = !1;
            const {
                passiveListener: a,
                activeListenerWithCapture: i
            } = M(), r = P();
            s.gestures ? (t.$wrapperEl.off(t.touchEvents.start, z, a), t.$wrapperEl.off(t.touchEvents.end, O, a)) : "touchstart" === t.touchEvents.start && (t.$wrapperEl.off(t.touchEvents.start, r, b, a), t.$wrapperEl.off(t.touchEvents.move, r, x, i), t.$wrapperEl.off(t.touchEvents.end, r, y, a), t.touchEvents.cancel && t.$wrapperEl.off(t.touchEvents.cancel, r, y, a)), t.$wrapperEl.off(t.touchEvents.move, `.${t.params.zoom.containerClass}`, E, i)
        }
        Object.defineProperty(t.zoom, "scale", {
            get: () => v,
            set(e) {
                if (v !== e) {
                    const t = m.$imageEl ? m.$imageEl[0] : void 0,
                        s = m.$slideEl ? m.$slideEl[0] : void 0;
                    i("zoomChange", e, t, s)
                }
                v = e
            }
        }), a("init", (() => {
            t.params.zoom.enabled && I()
        })), a("destroy", (() => {
            L()
        })), a("touchStart", ((e, s) => {
            t.zoom.enabled && function(e) {
                const s = t.device;
                m.$imageEl && 0 !== m.$imageEl.length && (f.isTouched || (s.android && e.cancelable && e.preventDefault(), f.isTouched = !0, f.touchesStart.x = "touchstart" === e.type ? e.targetTouches[0].pageX : e.pageX, f.touchesStart.y = "touchstart" === e.type ? e.targetTouches[0].pageY : e.pageY))
            }(s)
        })), a("touchEnd", ((e, s) => {
            t.zoom.enabled && function() {
                const e = t.zoom;
                if (!m.$imageEl || 0 === m.$imageEl.length) return;
                if (!f.isTouched || !f.isMoved) return f.isTouched = !1, void(f.isMoved = !1);
                f.isTouched = !1, f.isMoved = !1;
                let s = 300,
                    a = 300;
                const i = g.x * s,
                    r = f.currentX + i,
                    n = g.y * a,
                    l = f.currentY + n;
                0 !== g.x && (s = Math.abs((r - f.currentX) / g.x)), 0 !== g.y && (a = Math.abs((l - f.currentY) / g.y));
                const o = Math.max(s, a);
                f.currentX = r, f.currentY = l;
                const d = f.width * e.scale,
                    c = f.height * e.scale;
                f.minX = Math.min(m.slideWidth / 2 - d / 2, 0), f.maxX = -f.minX, f.minY = Math.min(m.slideHeight / 2 - c / 2, 0), f.maxY = -f.minY, f.currentX = Math.max(Math.min(f.currentX, f.maxX), f.minX), f.currentY = Math.max(Math.min(f.currentY, f.maxY), f.minY), m.$imageWrapEl.transition(o).transform(`translate3d(${f.currentX}px, ${f.currentY}px,0)`)
            }()
        })), a("doubleTap", ((e, s) => {
            !t.animating && t.params.zoom.enabled && t.zoom.enabled && t.params.zoom.toggle && S(s)
        })), a("transitionEnd", (() => {
            t.zoom.enabled && t.params.zoom.enabled && T()
        })), a("slideChange", (() => {
            t.zoom.enabled && t.params.zoom.enabled && t.params.cssMode && T()
        })), Object.assign(t.zoom, {
            enable: I,
            disable: L,
            in: C,
            out: $,
            toggle: S
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a,
            emit: i
        } = e;
        s({
            lazy: {
                checkInView: !1,
                enabled: !1,
                loadPrevNext: !1,
                loadPrevNextAmount: 1,
                loadOnTransitionStart: !1,
                scrollingElement: "",
                elementClass: "swiper-lazy",
                loadingClass: "swiper-lazy-loading",
                loadedClass: "swiper-lazy-loaded",
                preloaderClass: "swiper-lazy-preloader"
            }
        }), t.lazy = {};
        let n = !1,
            l = !1;

        function o(e, s) {
            void 0 === s && (s = !0);
            const a = t.params.lazy;
            if (void 0 === e) return;
            if (0 === t.slides.length) return;
            const r = t.virtual && t.params.virtual.enabled ? t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`) : t.slides.eq(e),
                n = r.find(`.${a.elementClass}:not(.${a.loadedClass}):not(.${a.loadingClass})`);
            !r.hasClass(a.elementClass) || r.hasClass(a.loadedClass) || r.hasClass(a.loadingClass) || n.push(r[0]), 0 !== n.length && n.each((e => {
                const n = d(e);
                n.addClass(a.loadingClass);
                const l = n.attr("data-background"),
                    c = n.attr("data-src"),
                    p = n.attr("data-srcset"),
                    u = n.attr("data-sizes"),
                    h = n.parent("picture");
                t.loadImage(n[0], c || l, p, u, !1, (() => {
                    if (null != t && t && (!t || t.params) && !t.destroyed) {
                        if (l ? (n.css("background-image", `url("${l}")`), n.removeAttr("data-background")) : (p && (n.attr("srcset", p), n.removeAttr("data-srcset")), u && (n.attr("sizes", u), n.removeAttr("data-sizes")), h.length && h.children("source").each((e => {
                                const t = d(e);
                                t.attr("data-srcset") && (t.attr("srcset", t.attr("data-srcset")), t.removeAttr("data-srcset"))
                            })), c && (n.attr("src", c), n.removeAttr("data-src"))), n.addClass(a.loadedClass).removeClass(a.loadingClass), r.find(`.${a.preloaderClass}`).remove(), t.params.loop && s) {
                            const e = r.attr("data-swiper-slide-index");
                            if (r.hasClass(t.params.slideDuplicateClass)) {
                                o(t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`).index(), !1)
                            } else {
                                o(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`).index(), !1)
                            }
                        }
                        i("lazyImageReady", r[0], n[0]), t.params.autoHeight && t.updateAutoHeight()
                    }
                })), i("lazyImageLoad", r[0], n[0])
            }))
        }

        function c() {
            const {
                $wrapperEl: e,
                params: s,
                slides: a,
                activeIndex: i
            } = t, r = t.virtual && s.virtual.enabled, n = s.lazy;
            let c = s.slidesPerView;

            function p(t) {
                if (r) {
                    if (e.children(`.${s.slideClass}[data-swiper-slide-index="${t}"]`).length) return !0
                } else if (a[t]) return !0;
                return !1
            }

            function u(e) {
                return r ? d(e).attr("data-swiper-slide-index") : d(e).index()
            }
            if ("auto" === c && (c = 0), l || (l = !0), t.params.watchSlidesProgress) e.children(`.${s.slideVisibleClass}`).each((e => {
                o(r ? d(e).attr("data-swiper-slide-index") : d(e).index())
            }));
            else if (c > 1)
                for (let e = i; e < i + c; e += 1) p(e) && o(e);
            else o(i);
            if (n.loadPrevNext)
                if (c > 1 || n.loadPrevNextAmount && n.loadPrevNextAmount > 1) {
                    const e = n.loadPrevNextAmount,
                        t = c,
                        s = Math.min(i + t + Math.max(e, t), a.length),
                        r = Math.max(i - Math.max(t, e), 0);
                    for (let e = i + c; e < s; e += 1) p(e) && o(e);
                    for (let e = r; e < i; e += 1) p(e) && o(e)
                } else {
                    const t = e.children(`.${s.slideNextClass}`);
                    t.length > 0 && o(u(t));
                    const a = e.children(`.${s.slidePrevClass}`);
                    a.length > 0 && o(u(a))
                }
        }

        function p() {
            const e = r();
            if (!t || t.destroyed) return;
            const s = t.params.lazy.scrollingElement ? d(t.params.lazy.scrollingElement) : d(e),
                a = s[0] === e,
                i = a ? e.innerWidth : s[0].offsetWidth,
                l = a ? e.innerHeight : s[0].offsetHeight,
                o = t.$el.offset(),
                {
                    rtlTranslate: u
                } = t;
            let h = !1;
            u && (o.left -= t.$el[0].scrollLeft);
            const m = [
                [o.left, o.top],
                [o.left + t.width, o.top],
                [o.left, o.top + t.height],
                [o.left + t.width, o.top + t.height]
            ];
            for (let e = 0; e < m.length; e += 1) {
                const t = m[e];
                if (t[0] >= 0 && t[0] <= i && t[1] >= 0 && t[1] <= l) {
                    if (0 === t[0] && 0 === t[1]) continue;
                    h = !0
                }
            }
            const f = !("touchstart" !== t.touchEvents.start || !t.support.passiveListener || !t.params.passiveListeners) && {
                passive: !0,
                capture: !1
            };
            h ? (c(), s.off("scroll", p, f)) : n || (n = !0, s.on("scroll", p, f))
        }
        a("beforeInit", (() => {
            t.params.lazy.enabled && t.params.preloadImages && (t.params.preloadImages = !1)
        })), a("init", (() => {
            t.params.lazy.enabled && (t.params.lazy.checkInView ? p() : c())
        })), a("scroll", (() => {
            t.params.freeMode && t.params.freeMode.enabled && !t.params.freeMode.sticky && c()
        })), a("scrollbarDragMove resize _freeModeNoMomentumRelease", (() => {
            t.params.lazy.enabled && (t.params.lazy.checkInView ? p() : c())
        })), a("transitionStart", (() => {
            t.params.lazy.enabled && (t.params.lazy.loadOnTransitionStart || !t.params.lazy.loadOnTransitionStart && !l) && (t.params.lazy.checkInView ? p() : c())
        })), a("transitionEnd", (() => {
            t.params.lazy.enabled && !t.params.lazy.loadOnTransitionStart && (t.params.lazy.checkInView ? p() : c())
        })), a("slideChange", (() => {
            const {
                lazy: e,
                cssMode: s,
                watchSlidesProgress: a,
                touchReleaseOnEdges: i,
                resistanceRatio: r
            } = t.params;
            e.enabled && (s || a && (i || 0 === r)) && c()
        })), Object.assign(t.lazy, {
            load: c,
            loadInSlide: o
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;

        function i(e, t) {
            const s = function() {
                let e, t, s;
                return (a, i) => {
                    for (t = -1, e = a.length; e - t > 1;) s = e + t >> 1, a[s] <= i ? t = s : e = s;
                    return e
                }
            }();
            let a, i;
            return this.x = e, this.y = t, this.lastIndex = e.length - 1, this.interpolate = function(e) {
                return e ? (i = s(this.x, e), a = i - 1, (e - this.x[a]) * (this.y[i] - this.y[a]) / (this.x[i] - this.x[a]) + this.y[a]) : 0
            }, this
        }

        function r() {
            t.controller.control && t.controller.spline && (t.controller.spline = void 0, delete t.controller.spline)
        }
        s({
            controller: {
                control: void 0,
                inverse: !1,
                by: "slide"
            }
        }), t.controller = {
            control: void 0
        }, a("beforeInit", (() => {
            t.controller.control = t.params.controller.control
        })), a("update", (() => {
            r()
        })), a("resize", (() => {
            r()
        })), a("observerUpdate", (() => {
            r()
        })), a("setTranslate", ((e, s, a) => {
            t.controller.control && t.controller.setTranslate(s, a)
        })), a("setTransition", ((e, s, a) => {
            t.controller.control && t.controller.setTransition(s, a)
        })), Object.assign(t.controller, {
            setTranslate: function(e, s) {
                const a = t.controller.control;
                let r, n;
                const l = t.constructor;

                function o(e) {
                    const s = t.rtlTranslate ? -t.translate : t.translate;
                    "slide" === t.params.controller.by && (! function(e) {
                        t.controller.spline || (t.controller.spline = t.params.loop ? new i(t.slidesGrid, e.slidesGrid) : new i(t.snapGrid, e.snapGrid))
                    }(e), n = -t.controller.spline.interpolate(-s)), n && "container" !== t.params.controller.by || (r = (e.maxTranslate() - e.minTranslate()) / (t.maxTranslate() - t.minTranslate()), n = (s - t.minTranslate()) * r + e.minTranslate()), t.params.controller.inverse && (n = e.maxTranslate() - n), e.updateProgress(n), e.setTranslate(n, t), e.updateActiveIndex(), e.updateSlidesClasses()
                }
                if (Array.isArray(a))
                    for (let e = 0; e < a.length; e += 1) a[e] !== s && a[e] instanceof l && o(a[e]);
                else a instanceof l && s !== a && o(a)
            },
            setTransition: function(e, s) {
                const a = t.constructor,
                    i = t.controller.control;
                let r;

                function n(s) {
                    s.setTransition(e, t), 0 !== e && (s.transitionStart(), s.params.autoHeight && p((() => {
                        s.updateAutoHeight()
                    })), s.$wrapperEl.transitionEnd((() => {
                        i && (s.params.loop && "slide" === t.params.controller.by && s.loopFix(), s.transitionEnd())
                    })))
                }
                if (Array.isArray(i))
                    for (r = 0; r < i.length; r += 1) i[r] !== s && i[r] instanceof a && n(i[r]);
                else i instanceof a && s !== i && n(i)
            }
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            a11y: {
                enabled: !0,
                notificationClass: "swiper-notification",
                prevSlideMessage: "Previous slide",
                nextSlideMessage: "Next slide",
                firstSlideMessage: "This is the first slide",
                lastSlideMessage: "This is the last slide",
                paginationBulletMessage: "Go to slide {{index}}",
                slideLabelMessage: "{{index}} / {{slidesLength}}",
                containerMessage: null,
                containerRoleDescriptionMessage: null,
                itemRoleDescriptionMessage: null,
                slideRole: "group"
            }
        });
        let i = null;

        function r(e) {
            const t = i;
            0 !== t.length && (t.html(""), t.html(e))
        }

        function n(e) {
            e.attr("tabIndex", "0")
        }

        function l(e) {
            e.attr("tabIndex", "-1")
        }

        function o(e, t) {
            e.attr("role", t)
        }

        function c(e, t) {
            e.attr("aria-roledescription", t)
        }

        function p(e, t) {
            e.attr("aria-label", t)
        }

        function u(e) {
            e.attr("aria-disabled", !0)
        }

        function h(e) {
            e.attr("aria-disabled", !1)
        }

        function m(e) {
            if (13 !== e.keyCode && 32 !== e.keyCode) return;
            const s = t.params.a11y,
                a = d(e.target);
            t.navigation && t.navigation.$nextEl && a.is(t.navigation.$nextEl) && (t.isEnd && !t.params.loop || t.slideNext(), t.isEnd ? r(s.lastSlideMessage) : r(s.nextSlideMessage)), t.navigation && t.navigation.$prevEl && a.is(t.navigation.$prevEl) && (t.isBeginning && !t.params.loop || t.slidePrev(), t.isBeginning ? r(s.firstSlideMessage) : r(s.prevSlideMessage)), t.pagination && a.is(U(t.params.pagination.bulletClass)) && a[0].click()
        }

        function f() {
            return t.pagination && t.pagination.bullets && t.pagination.bullets.length
        }

        function g() {
            return f() && t.params.pagination.clickable
        }
        const v = (e, t, s) => {
                n(e), "BUTTON" !== e[0].tagName && (o(e, "button"), e.on("keydown", m)), p(e, s),
                    function(e, t) {
                        e.attr("aria-controls", t)
                    }(e, t)
            },
            w = e => {
                const s = e.target.closest(`.${t.params.slideClass}`);
                if (!s || !t.slides.includes(s)) return;
                const a = t.slides.indexOf(s) === t.activeIndex,
                    i = t.params.watchSlidesProgress && t.visibleSlides && t.visibleSlides.includes(s);
                a || i || t.slideTo(t.slides.indexOf(s), 0)
            };

        function b() {
            const e = t.params.a11y;
            t.$el.append(i);
            const s = t.$el;
            e.containerRoleDescriptionMessage && c(s, e.containerRoleDescriptionMessage), e.containerMessage && p(s, e.containerMessage);
            const a = t.$wrapperEl,
                r = a.attr("id") || `swiper-wrapper-${n=16,void 0===n&&(n=16),"x".repeat(n).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;
            var n;
            const l = t.params.autoplay && t.params.autoplay.enabled ? "off" : "polite";
            var u;
            u = r, a.attr("id", u),
                function(e, t) {
                    e.attr("aria-live", t)
                }(a, l), e.itemRoleDescriptionMessage && c(d(t.slides), e.itemRoleDescriptionMessage), o(d(t.slides), e.slideRole);
            const h = t.params.loop ? t.slides.filter((e => !e.classList.contains(t.params.slideDuplicateClass))).length : t.slides.length;
            let f, b;
            t.slides.each(((s, a) => {
                const i = d(s),
                    r = t.params.loop ? parseInt(i.attr("data-swiper-slide-index"), 10) : a;
                p(i, e.slideLabelMessage.replace(/\{\{index\}\}/, r + 1).replace(/\{\{slidesLength\}\}/, h))
            })), t.navigation && t.navigation.$nextEl && (f = t.navigation.$nextEl), t.navigation && t.navigation.$prevEl && (b = t.navigation.$prevEl), f && f.length && v(f, r, e.nextSlideMessage), b && b.length && v(b, r, e.prevSlideMessage), g() && t.pagination.$el.on("keydown", U(t.params.pagination.bulletClass), m), t.$el.on("focus", w, !0)
        }
        a("beforeInit", (() => {
            i = d(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)
        })), a("afterInit", (() => {
            t.params.a11y.enabled && b()
        })), a("fromEdge toEdge afterInit lock unlock", (() => {
            t.params.a11y.enabled && function() {
                if (t.params.loop || t.params.rewind || !t.navigation) return;
                const {
                    $nextEl: e,
                    $prevEl: s
                } = t.navigation;
                s && s.length > 0 && (t.isBeginning ? (u(s), l(s)) : (h(s), n(s))), e && e.length > 0 && (t.isEnd ? (u(e), l(e)) : (h(e), n(e)))
            }()
        })), a("paginationUpdate", (() => {
            t.params.a11y.enabled && function() {
                const e = t.params.a11y;
                f() && t.pagination.bullets.each((s => {
                    const a = d(s);
                    t.params.pagination.clickable && (n(a), t.params.pagination.renderBullet || (o(a, "button"), p(a, e.paginationBulletMessage.replace(/\{\{index\}\}/, a.index() + 1)))), a.is(`.${t.params.pagination.bulletActiveClass}`) ? a.attr("aria-current", "true") : a.removeAttr("aria-current")
                }))
            }()
        })), a("destroy", (() => {
            t.params.a11y.enabled && function() {
                let e, s;
                i && i.length > 0 && i.remove(), t.navigation && t.navigation.$nextEl && (e = t.navigation.$nextEl), t.navigation && t.navigation.$prevEl && (s = t.navigation.$prevEl), e && e.off("keydown", m), s && s.off("keydown", m), g() && t.pagination.$el.off("keydown", U(t.params.pagination.bulletClass), m), t.$el.off("focus", w, !0)
            }()
        }))
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            history: {
                enabled: !1,
                root: "",
                replaceState: !1,
                key: "slides"
            }
        });
        let i = !1,
            n = {};
        const l = e => e.toString().replace(/\s+/g, "-").replace(/[^\w-]+/g, "").replace(/--+/g, "-").replace(/^-+/, "").replace(/-+$/, ""),
            o = e => {
                const t = r();
                let s;
                s = e ? new URL(e) : t.location;
                const a = s.pathname.slice(1).split("/").filter((e => "" !== e)),
                    i = a.length;
                return {
                    key: a[i - 2],
                    value: a[i - 1]
                }
            },
            d = (e, s) => {
                const a = r();
                if (!i || !t.params.history.enabled) return;
                let n;
                n = t.params.url ? new URL(t.params.url) : a.location;
                const o = t.slides.eq(s);
                let d = l(o.attr("data-history"));
                if (t.params.history.root.length > 0) {
                    let s = t.params.history.root;
                    "/" === s[s.length - 1] && (s = s.slice(0, s.length - 1)), d = `${s}/${e}/${d}`
                } else n.pathname.includes(e) || (d = `${e}/${d}`);
                const c = a.history.state;
                c && c.value === d || (t.params.history.replaceState ? a.history.replaceState({
                    value: d
                }, null, d) : a.history.pushState({
                    value: d
                }, null, d))
            },
            c = (e, s, a) => {
                if (s)
                    for (let i = 0, r = t.slides.length; i < r; i += 1) {
                        const r = t.slides.eq(i);
                        if (l(r.attr("data-history")) === s && !r.hasClass(t.params.slideDuplicateClass)) {
                            const s = r.index();
                            t.slideTo(s, e, a)
                        }
                    } else t.slideTo(0, e, a)
            },
            p = () => {
                n = o(t.params.url), c(t.params.speed, t.paths.value, !1)
            };
        a("init", (() => {
            t.params.history.enabled && (() => {
                const e = r();
                if (t.params.history) {
                    if (!e.history || !e.history.pushState) return t.params.history.enabled = !1, void(t.params.hashNavigation.enabled = !0);
                    i = !0, n = o(t.params.url), (n.key || n.value) && (c(0, n.value, t.params.runCallbacksOnInit), t.params.history.replaceState || e.addEventListener("popstate", p))
                }
            })()
        })), a("destroy", (() => {
            t.params.history.enabled && (() => {
                const e = r();
                t.params.history.replaceState || e.removeEventListener("popstate", p)
            })()
        })), a("transitionEnd _freeModeNoMomentumRelease", (() => {
            i && d(t.params.history.key, t.activeIndex)
        })), a("slideChange", (() => {
            i && t.params.cssMode && d(t.params.history.key, t.activeIndex)
        }))
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            emit: i,
            on: n
        } = e, l = !1;
        const o = a(),
            c = r();
        s({
            hashNavigation: {
                enabled: !1,
                replaceState: !1,
                watchState: !1
            }
        });
        const p = () => {
                i("hashChange");
                const e = o.location.hash.replace("#", "");
                if (e !== t.slides.eq(t.activeIndex).attr("data-hash")) {
                    const s = t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();
                    if (void 0 === s) return;
                    t.slideTo(s)
                }
            },
            u = () => {
                if (l && t.params.hashNavigation.enabled)
                    if (t.params.hashNavigation.replaceState && c.history && c.history.replaceState) c.history.replaceState(null, null, `#${t.slides.eq(t.activeIndex).attr("data-hash")}` || ""), i("hashSet");
                    else {
                        const e = t.slides.eq(t.activeIndex),
                            s = e.attr("data-hash") || e.attr("data-history");
                        o.location.hash = s || "", i("hashSet")
                    }
            };
        n("init", (() => {
            t.params.hashNavigation.enabled && (() => {
                if (!t.params.hashNavigation.enabled || t.params.history && t.params.history.enabled) return;
                l = !0;
                const e = o.location.hash.replace("#", "");
                if (e) {
                    const s = 0;
                    for (let a = 0, i = t.slides.length; a < i; a += 1) {
                        const i = t.slides.eq(a);
                        if ((i.attr("data-hash") || i.attr("data-history")) === e && !i.hasClass(t.params.slideDuplicateClass)) {
                            const e = i.index();
                            t.slideTo(e, s, t.params.runCallbacksOnInit, !0)
                        }
                    }
                }
                t.params.hashNavigation.watchState && d(c).on("hashchange", p)
            })()
        })), n("destroy", (() => {
            t.params.hashNavigation.enabled && t.params.hashNavigation.watchState && d(c).off("hashchange", p)
        })), n("transitionEnd _freeModeNoMomentumRelease", (() => {
            l && u()
        })), n("slideChange", (() => {
            l && t.params.cssMode && u()
        }))
    }, function(e) {
        let t, {
            swiper: s,
            extendParams: i,
            on: r,
            emit: n
        } = e;

        function l() {
            const e = s.slides.eq(s.activeIndex);
            let a = s.params.autoplay.delay;
            e.attr("data-swiper-autoplay") && (a = e.attr("data-swiper-autoplay") || s.params.autoplay.delay), clearTimeout(t), t = p((() => {
                let e;
                s.params.autoplay.reverseDirection ? s.params.loop ? (s.loopFix(), e = s.slidePrev(s.params.speed, !0, !0), n("autoplay")) : s.isBeginning ? s.params.autoplay.stopOnLastSlide ? d() : (e = s.slideTo(s.slides.length - 1, s.params.speed, !0, !0), n("autoplay")) : (e = s.slidePrev(s.params.speed, !0, !0), n("autoplay")) : s.params.loop ? (s.loopFix(), e = s.slideNext(s.params.speed, !0, !0), n("autoplay")) : s.isEnd ? s.params.autoplay.stopOnLastSlide ? d() : (e = s.slideTo(0, s.params.speed, !0, !0), n("autoplay")) : (e = s.slideNext(s.params.speed, !0, !0), n("autoplay")), (s.params.cssMode && s.autoplay.running || !1 === e) && l()
            }), a)
        }

        function o() {
            return void 0 === t && (!s.autoplay.running && (s.autoplay.running = !0, n("autoplayStart"), l(), !0))
        }

        function d() {
            return !!s.autoplay.running && (void 0 !== t && (t && (clearTimeout(t), t = void 0), s.autoplay.running = !1, n("autoplayStop"), !0))
        }

        function c(e) {
            s.autoplay.running && (s.autoplay.paused || (t && clearTimeout(t), s.autoplay.paused = !0, 0 !== e && s.params.autoplay.waitForTransition ? ["transitionend", "webkitTransitionEnd"].forEach((e => {
                s.$wrapperEl[0].addEventListener(e, h)
            })) : (s.autoplay.paused = !1, l())))
        }

        function u() {
            const e = a();
            "hidden" === e.visibilityState && s.autoplay.running && c(), "visible" === e.visibilityState && s.autoplay.paused && (l(), s.autoplay.paused = !1)
        }

        function h(e) {
            s && !s.destroyed && s.$wrapperEl && e.target === s.$wrapperEl[0] && (["transitionend", "webkitTransitionEnd"].forEach((e => {
                s.$wrapperEl[0].removeEventListener(e, h)
            })), s.autoplay.paused = !1, s.autoplay.running ? l() : d())
        }

        function m() {
            s.params.autoplay.disableOnInteraction ? d() : (n("autoplayPause"), c()), ["transitionend", "webkitTransitionEnd"].forEach((e => {
                s.$wrapperEl[0].removeEventListener(e, h)
            }))
        }

        function f() {
            s.params.autoplay.disableOnInteraction || (s.autoplay.paused = !1, n("autoplayResume"), l())
        }
        s.autoplay = {
            running: !1,
            paused: !1
        }, i({
            autoplay: {
                enabled: !1,
                delay: 3e3,
                waitForTransition: !0,
                disableOnInteraction: !0,
                stopOnLastSlide: !1,
                reverseDirection: !1,
                pauseOnMouseEnter: !1
            }
        }), r("init", (() => {
            if (s.params.autoplay.enabled) {
                o();
                a().addEventListener("visibilitychange", u), s.params.autoplay.pauseOnMouseEnter && (s.$el.on("mouseenter", m), s.$el.on("mouseleave", f))
            }
        })), r("beforeTransitionStart", ((e, t, a) => {
            s.autoplay.running && (a || !s.params.autoplay.disableOnInteraction ? s.autoplay.pause(t) : d())
        })), r("sliderFirstMove", (() => {
            s.autoplay.running && (s.params.autoplay.disableOnInteraction ? d() : c())
        })), r("touchEnd", (() => {
            s.params.cssMode && s.autoplay.paused && !s.params.autoplay.disableOnInteraction && l()
        })), r("destroy", (() => {
            s.$el.off("mouseenter", m), s.$el.off("mouseleave", f), s.autoplay.running && d();
            a().removeEventListener("visibilitychange", u)
        })), Object.assign(s.autoplay, {
            pause: c,
            run: l,
            start: o,
            stop: d
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            thumbs: {
                swiper: null,
                multipleActiveThumbs: !0,
                autoScrollOffset: 0,
                slideThumbActiveClass: "swiper-slide-thumb-active",
                thumbsContainerClass: "swiper-thumbs"
            }
        });
        let i = !1,
            r = !1;

        function n() {
            const e = t.thumbs.swiper;
            if (!e) return;
            const s = e.clickedIndex,
                a = e.clickedSlide;
            if (a && d(a).hasClass(t.params.thumbs.slideThumbActiveClass)) return;
            if (null == s) return;
            let i;
            if (i = e.params.loop ? parseInt(d(e.clickedSlide).attr("data-swiper-slide-index"), 10) : s, t.params.loop) {
                let e = t.activeIndex;
                t.slides.eq(e).hasClass(t.params.slideDuplicateClass) && (t.loopFix(), t._clientLeft = t.$wrapperEl[0].clientLeft, e = t.activeIndex);
                const s = t.slides.eq(e).prevAll(`[data-swiper-slide-index="${i}"]`).eq(0).index(),
                    a = t.slides.eq(e).nextAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();
                i = void 0 === s ? a : void 0 === a ? s : a - e < e - s ? a : s
            }
            t.slideTo(i)
        }

        function l() {
            const {
                thumbs: e
            } = t.params;
            if (i) return !1;
            i = !0;
            const s = t.constructor;
            if (e.swiper instanceof s) t.thumbs.swiper = e.swiper, Object.assign(t.thumbs.swiper.originalParams, {
                watchSlidesProgress: !0,
                slideToClickedSlide: !1
            }), Object.assign(t.thumbs.swiper.params, {
                watchSlidesProgress: !0,
                slideToClickedSlide: !1
            });
            else if (m(e.swiper)) {
                const a = Object.assign({}, e.swiper);
                Object.assign(a, {
                    watchSlidesProgress: !0,
                    slideToClickedSlide: !1
                }), t.thumbs.swiper = new s(a), r = !0
            }
            return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass), t.thumbs.swiper.on("tap", n), !0
        }

        function o(e) {
            const s = t.thumbs.swiper;
            if (!s) return;
            const a = "auto" === s.params.slidesPerView ? s.slidesPerViewDynamic() : s.params.slidesPerView,
                i = t.params.thumbs.autoScrollOffset,
                r = i && !s.params.loop;
            if (t.realIndex !== s.realIndex || r) {
                let n, l, o = s.activeIndex;
                if (s.params.loop) {
                    s.slides.eq(o).hasClass(s.params.slideDuplicateClass) && (s.loopFix(), s._clientLeft = s.$wrapperEl[0].clientLeft, o = s.activeIndex);
                    const e = s.slides.eq(o).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),
                        a = s.slides.eq(o).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();
                    n = void 0 === e ? a : void 0 === a ? e : a - o == o - e ? s.params.slidesPerGroup > 1 ? a : o : a - o < o - e ? a : e, l = t.activeIndex > t.previousIndex ? "next" : "prev"
                } else n = t.realIndex, l = n > t.previousIndex ? "next" : "prev";
                r && (n += "next" === l ? i : -1 * i), s.visibleSlidesIndexes && s.visibleSlidesIndexes.indexOf(n) < 0 && (s.params.centeredSlides ? n = n > o ? n - Math.floor(a / 2) + 1 : n + Math.floor(a / 2) - 1 : n > o && s.params.slidesPerGroup, s.slideTo(n, e ? 0 : void 0))
            }
            let n = 1;
            const l = t.params.thumbs.slideThumbActiveClass;
            if (t.params.slidesPerView > 1 && !t.params.centeredSlides && (n = t.params.slidesPerView), t.params.thumbs.multipleActiveThumbs || (n = 1), n = Math.floor(n), s.slides.removeClass(l), s.params.loop || s.params.virtual && s.params.virtual.enabled)
                for (let e = 0; e < n; e += 1) s.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+e}"]`).addClass(l);
            else
                for (let e = 0; e < n; e += 1) s.slides.eq(t.realIndex + e).addClass(l)
        }
        t.thumbs = {
            swiper: null
        }, a("beforeInit", (() => {
            const {
                thumbs: e
            } = t.params;
            e && e.swiper && (l(), o(!0))
        })), a("slideChange update resize observerUpdate", (() => {
            t.thumbs.swiper && o()
        })), a("setTransition", ((e, s) => {
            const a = t.thumbs.swiper;
            a && a.setTransition(s)
        })), a("beforeDestroy", (() => {
            const e = t.thumbs.swiper;
            e && r && e && e.destroy()
        })), Object.assign(t.thumbs, {
            init: l,
            update: o
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            emit: a,
            once: i
        } = e;
        s({
            freeMode: {
                enabled: !1,
                momentum: !0,
                momentumRatio: 1,
                momentumBounce: !0,
                momentumBounceRatio: 1,
                momentumVelocityRatio: 1,
                sticky: !1,
                minimumVelocity: .02
            }
        }), Object.assign(t, {
            freeMode: {
                onTouchStart: function() {
                    const e = t.getTranslate();
                    t.setTranslate(e), t.setTransition(0), t.touchEventsData.velocities.length = 0, t.freeMode.onTouchEnd({
                        currentPos: t.rtl ? t.translate : -t.translate
                    })
                },
                onTouchMove: function() {
                    const {
                        touchEventsData: e,
                        touches: s
                    } = t;
                    0 === e.velocities.length && e.velocities.push({
                        position: s[t.isHorizontal() ? "startX" : "startY"],
                        time: e.touchStartTime
                    }), e.velocities.push({
                        position: s[t.isHorizontal() ? "currentX" : "currentY"],
                        time: u()
                    })
                },
                onTouchEnd: function(e) {
                    let {
                        currentPos: s
                    } = e;
                    const {
                        params: r,
                        $wrapperEl: n,
                        rtlTranslate: l,
                        snapGrid: o,
                        touchEventsData: d
                    } = t, c = u() - d.touchStartTime;
                    if (s < -t.minTranslate()) t.slideTo(t.activeIndex);
                    else if (s > -t.maxTranslate()) t.slides.length < o.length ? t.slideTo(o.length - 1) : t.slideTo(t.slides.length - 1);
                    else {
                        if (r.freeMode.momentum) {
                            if (d.velocities.length > 1) {
                                const e = d.velocities.pop(),
                                    s = d.velocities.pop(),
                                    a = e.position - s.position,
                                    i = e.time - s.time;
                                t.velocity = a / i, t.velocity /= 2, Math.abs(t.velocity) < r.freeMode.minimumVelocity && (t.velocity = 0), (i > 150 || u() - e.time > 300) && (t.velocity = 0)
                            } else t.velocity = 0;
                            t.velocity *= r.freeMode.momentumVelocityRatio, d.velocities.length = 0;
                            let e = 1e3 * r.freeMode.momentumRatio;
                            const s = t.velocity * e;
                            let c = t.translate + s;
                            l && (c = -c);
                            let p, h = !1;
                            const m = 20 * Math.abs(t.velocity) * r.freeMode.momentumBounceRatio;
                            let f;
                            if (c < t.maxTranslate()) r.freeMode.momentumBounce ? (c + t.maxTranslate() < -m && (c = t.maxTranslate() - m), p = t.maxTranslate(), h = !0, d.allowMomentumBounce = !0) : c = t.maxTranslate(), r.loop && r.centeredSlides && (f = !0);
                            else if (c > t.minTranslate()) r.freeMode.momentumBounce ? (c - t.minTranslate() > m && (c = t.minTranslate() + m), p = t.minTranslate(), h = !0, d.allowMomentumBounce = !0) : c = t.minTranslate(), r.loop && r.centeredSlides && (f = !0);
                            else if (r.freeMode.sticky) {
                                let e;
                                for (let t = 0; t < o.length; t += 1)
                                    if (o[t] > -c) {
                                        e = t;
                                        break
                                    }
                                c = Math.abs(o[e] - c) < Math.abs(o[e - 1] - c) || "next" === t.swipeDirection ? o[e] : o[e - 1], c = -c
                            }
                            if (f && i("transitionEnd", (() => {
                                    t.loopFix()
                                })), 0 !== t.velocity) {
                                if (e = l ? Math.abs((-c - t.translate) / t.velocity) : Math.abs((c - t.translate) / t.velocity), r.freeMode.sticky) {
                                    const s = Math.abs((l ? -c : c) - t.translate),
                                        a = t.slidesSizesGrid[t.activeIndex];
                                    e = s < a ? r.speed : s < 2 * a ? 1.5 * r.speed : 2.5 * r.speed
                                }
                            } else if (r.freeMode.sticky) return void t.slideToClosest();
                            r.freeMode.momentumBounce && h ? (t.updateProgress(p), t.setTransition(e), t.setTranslate(c), t.transitionStart(!0, t.swipeDirection), t.animating = !0, n.transitionEnd((() => {
                                t && !t.destroyed && d.allowMomentumBounce && (a("momentumBounce"), t.setTransition(r.speed), setTimeout((() => {
                                    t.setTranslate(p), n.transitionEnd((() => {
                                        t && !t.destroyed && t.transitionEnd()
                                    }))
                                }), 0))
                            }))) : t.velocity ? (a("_freeModeNoMomentumRelease"), t.updateProgress(c), t.setTransition(e), t.setTranslate(c), t.transitionStart(!0, t.swipeDirection), t.animating || (t.animating = !0, n.transitionEnd((() => {
                                t && !t.destroyed && t.transitionEnd()
                            })))) : t.updateProgress(c), t.updateActiveIndex(), t.updateSlidesClasses()
                        } else {
                            if (r.freeMode.sticky) return void t.slideToClosest();
                            r.freeMode && a("_freeModeNoMomentumRelease")
                        }(!r.freeMode.momentum || c >= r.longSwipesMs) && (t.updateProgress(), t.updateActiveIndex(), t.updateSlidesClasses())
                    }
                }
            }
        })
    }, function(e) {
        let t, s, a, {
            swiper: i,
            extendParams: r
        } = e;
        r({
            grid: {
                rows: 1,
                fill: "column"
            }
        }), i.grid = {
            initSlides: e => {
                const {
                    slidesPerView: r
                } = i.params, {
                    rows: n,
                    fill: l
                } = i.params.grid;
                s = t / n, a = Math.floor(e / n), t = Math.floor(e / n) === e / n ? e : Math.ceil(e / n) * n, "auto" !== r && "row" === l && (t = Math.max(t, r * n))
            },
            updateSlide: (e, r, n, l) => {
                const {
                    slidesPerGroup: o,
                    spaceBetween: d
                } = i.params, {
                    rows: c,
                    fill: p
                } = i.params.grid;
                let u, h, m;
                if ("row" === p && o > 1) {
                    const s = Math.floor(e / (o * c)),
                        a = e - c * o * s,
                        i = 0 === s ? o : Math.min(Math.ceil((n - s * c * o) / c), o);
                    m = Math.floor(a / i), h = a - m * i + s * o, u = h + m * t / c, r.css({
                        "-webkit-order": u,
                        order: u
                    })
                } else "column" === p ? (h = Math.floor(e / c), m = e - h * c, (h > a || h === a && m === c - 1) && (m += 1, m >= c && (m = 0, h += 1))) : (m = Math.floor(e / s), h = e - m * s);
                r.css(l("margin-top"), 0 !== m ? d && `${d}px` : "")
            },
            updateWrapperSize: (e, s, a) => {
                const {
                    spaceBetween: r,
                    centeredSlides: n,
                    roundLengths: l
                } = i.params, {
                    rows: o
                } = i.params.grid;
                if (i.virtualSize = (e + r) * t, i.virtualSize = Math.ceil(i.virtualSize / o) - r, i.$wrapperEl.css({
                        [a("width")]: `${i.virtualSize+r}px`
                    }), n) {
                    s.splice(0, s.length);
                    const e = [];
                    for (let t = 0; t < s.length; t += 1) {
                        let a = s[t];
                        l && (a = Math.floor(a)), s[t] < i.virtualSize + s[0] && e.push(a)
                    }
                    s.push(...e)
                }
            }
        }
    }, function(e) {
        let {
            swiper: t
        } = e;
        Object.assign(t, {
            appendSlide: K.bind(t),
            prependSlide: Z.bind(t),
            addSlide: J.bind(t),
            removeSlide: Q.bind(t),
            removeAllSlides: ee.bind(t)
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            fadeEffect: {
                crossFade: !1,
                transformEl: null
            }
        }), te({
            effect: "fade",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    slides: e
                } = t, s = t.params.fadeEffect;
                for (let a = 0; a < e.length; a += 1) {
                    const e = t.slides.eq(a);
                    let i = -e[0].swiperSlideOffset;
                    t.params.virtualTranslate || (i -= t.translate);
                    let r = 0;
                    t.isHorizontal() || (r = i, i = 0);
                    const n = t.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(e[0].progress), 0) : 1 + Math.min(Math.max(e[0].progress, -1), 0);
                    se(s, e).css({
                        opacity: n
                    }).transform(`translate3d(${i}px, ${r}px, 0px)`)
                }
            },
            setTransition: e => {
                const {
                    transformEl: s
                } = t.params.fadeEffect;
                (s ? t.slides.find(s) : t.slides).transition(e), ae({
                    swiper: t,
                    duration: e,
                    transformEl: s,
                    allSlides: !0
                })
            },
            overwriteParams: () => ({
                slidesPerView: 1,
                slidesPerGroup: 1,
                watchSlidesProgress: !0,
                spaceBetween: 0,
                virtualTranslate: !t.params.cssMode
            })
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            cubeEffect: {
                slideShadows: !0,
                shadow: !0,
                shadowOffset: 20,
                shadowScale: .94
            }
        }), te({
            effect: "cube",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    $el: e,
                    $wrapperEl: s,
                    slides: a,
                    width: i,
                    height: r,
                    rtlTranslate: n,
                    size: l,
                    browser: o
                } = t, c = t.params.cubeEffect, p = t.isHorizontal(), u = t.virtual && t.params.virtual.enabled;
                let h, m = 0;
                c.shadow && (p ? (h = s.find(".swiper-cube-shadow"), 0 === h.length && (h = d('<div class="swiper-cube-shadow"></div>'), s.append(h)), h.css({
                    height: `${i}px`
                })) : (h = e.find(".swiper-cube-shadow"), 0 === h.length && (h = d('<div class="swiper-cube-shadow"></div>'), e.append(h))));
                for (let e = 0; e < a.length; e += 1) {
                    const t = a.eq(e);
                    let s = e;
                    u && (s = parseInt(t.attr("data-swiper-slide-index"), 10));
                    let i = 90 * s,
                        r = Math.floor(i / 360);
                    n && (i = -i, r = Math.floor(-i / 360));
                    const o = Math.max(Math.min(t[0].progress, 1), -1);
                    let h = 0,
                        f = 0,
                        g = 0;
                    s % 4 == 0 ? (h = 4 * -r * l, g = 0) : (s - 1) % 4 == 0 ? (h = 0, g = 4 * -r * l) : (s - 2) % 4 == 0 ? (h = l + 4 * r * l, g = l) : (s - 3) % 4 == 0 && (h = -l, g = 3 * l + 4 * l * r), n && (h = -h), p || (f = h, h = 0);
                    const v = `rotateX(${p?0:-i}deg) rotateY(${p?i:0}deg) translate3d(${h}px, ${f}px, ${g}px)`;
                    if (o <= 1 && o > -1 && (m = 90 * s + 90 * o, n && (m = 90 * -s - 90 * o)), t.transform(v), c.slideShadows) {
                        let e = p ? t.find(".swiper-slide-shadow-left") : t.find(".swiper-slide-shadow-top"),
                            s = p ? t.find(".swiper-slide-shadow-right") : t.find(".swiper-slide-shadow-bottom");
                        0 === e.length && (e = d(`<div class="swiper-slide-shadow-${p?"left":"top"}"></div>`), t.append(e)), 0 === s.length && (s = d(`<div class="swiper-slide-shadow-${p?"right":"bottom"}"></div>`), t.append(s)), e.length && (e[0].style.opacity = Math.max(-o, 0)), s.length && (s[0].style.opacity = Math.max(o, 0))
                    }
                }
                if (s.css({
                        "-webkit-transform-origin": `50% 50% -${l/2}px`,
                        "transform-origin": `50% 50% -${l/2}px`
                    }), c.shadow)
                    if (p) h.transform(`translate3d(0px, ${i/2+c.shadowOffset}px, ${-i/2}px) rotateX(90deg) rotateZ(0deg) scale(${c.shadowScale})`);
                    else {
                        const e = Math.abs(m) - 90 * Math.floor(Math.abs(m) / 90),
                            t = 1.5 - (Math.sin(2 * e * Math.PI / 360) / 2 + Math.cos(2 * e * Math.PI / 360) / 2),
                            s = c.shadowScale,
                            a = c.shadowScale / t,
                            i = c.shadowOffset;
                        h.transform(`scale3d(${s}, 1, ${a}) translate3d(0px, ${r/2+i}px, ${-r/2/a}px) rotateX(-90deg)`)
                    }
                const f = o.isSafari || o.isWebView ? -l / 2 : 0;
                s.transform(`translate3d(0px,0,${f}px) rotateX(${t.isHorizontal()?0:m}deg) rotateY(${t.isHorizontal()?-m:0}deg)`)
            },
            setTransition: e => {
                const {
                    $el: s,
                    slides: a
                } = t;
                a.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), t.params.cubeEffect.shadow && !t.isHorizontal() && s.find(".swiper-cube-shadow").transition(e)
            },
            perspective: () => !0,
            overwriteParams: () => ({
                slidesPerView: 1,
                slidesPerGroup: 1,
                watchSlidesProgress: !0,
                resistanceRatio: 0,
                spaceBetween: 0,
                centeredSlides: !1,
                virtualTranslate: !0
            })
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            flipEffect: {
                slideShadows: !0,
                limitRotation: !0,
                transformEl: null
            }
        }), te({
            effect: "flip",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    slides: e,
                    rtlTranslate: s
                } = t, a = t.params.flipEffect;
                for (let i = 0; i < e.length; i += 1) {
                    const r = e.eq(i);
                    let n = r[0].progress;
                    t.params.flipEffect.limitRotation && (n = Math.max(Math.min(r[0].progress, 1), -1));
                    const l = r[0].swiperSlideOffset;
                    let o = -180 * n,
                        d = 0,
                        c = t.params.cssMode ? -l - t.translate : -l,
                        p = 0;
                    if (t.isHorizontal() ? s && (o = -o) : (p = c, c = 0, d = -o, o = 0), r[0].style.zIndex = -Math.abs(Math.round(n)) + e.length, a.slideShadows) {
                        let e = t.isHorizontal() ? r.find(".swiper-slide-shadow-left") : r.find(".swiper-slide-shadow-top"),
                            s = t.isHorizontal() ? r.find(".swiper-slide-shadow-right") : r.find(".swiper-slide-shadow-bottom");
                        0 === e.length && (e = ie(a, r, t.isHorizontal() ? "left" : "top")), 0 === s.length && (s = ie(a, r, t.isHorizontal() ? "right" : "bottom")), e.length && (e[0].style.opacity = Math.max(-n, 0)), s.length && (s[0].style.opacity = Math.max(n, 0))
                    }
                    const u = `translate3d(${c}px, ${p}px, 0px) rotateX(${d}deg) rotateY(${o}deg)`;
                    se(a, r).transform(u)
                }
            },
            setTransition: e => {
                const {
                    transformEl: s
                } = t.params.flipEffect;
                (s ? t.slides.find(s) : t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e), ae({
                    swiper: t,
                    duration: e,
                    transformEl: s
                })
            },
            perspective: () => !0,
            overwriteParams: () => ({
                slidesPerView: 1,
                slidesPerGroup: 1,
                watchSlidesProgress: !0,
                spaceBetween: 0,
                virtualTranslate: !t.params.cssMode
            })
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            coverflowEffect: {
                rotate: 50,
                stretch: 0,
                depth: 100,
                scale: 1,
                modifier: 1,
                slideShadows: !0,
                transformEl: null
            }
        }), te({
            effect: "coverflow",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    width: e,
                    height: s,
                    slides: a,
                    slidesSizesGrid: i
                } = t, r = t.params.coverflowEffect, n = t.isHorizontal(), l = t.translate, o = n ? e / 2 - l : s / 2 - l, d = n ? r.rotate : -r.rotate, c = r.depth;
                for (let e = 0, t = a.length; e < t; e += 1) {
                    const t = a.eq(e),
                        s = i[e],
                        l = (o - t[0].swiperSlideOffset - s / 2) / s * r.modifier;
                    let p = n ? d * l : 0,
                        u = n ? 0 : d * l,
                        h = -c * Math.abs(l),
                        m = r.stretch;
                    "string" == typeof m && -1 !== m.indexOf("%") && (m = parseFloat(r.stretch) / 100 * s);
                    let f = n ? 0 : m * l,
                        g = n ? m * l : 0,
                        v = 1 - (1 - r.scale) * Math.abs(l);
                    Math.abs(g) < .001 && (g = 0), Math.abs(f) < .001 && (f = 0), Math.abs(h) < .001 && (h = 0), Math.abs(p) < .001 && (p = 0), Math.abs(u) < .001 && (u = 0), Math.abs(v) < .001 && (v = 0);
                    const w = `translate3d(${g}px,${f}px,${h}px)  rotateX(${u}deg) rotateY(${p}deg) scale(${v})`;
                    if (se(r, t).transform(w), t[0].style.zIndex = 1 - Math.abs(Math.round(l)), r.slideShadows) {
                        let e = n ? t.find(".swiper-slide-shadow-left") : t.find(".swiper-slide-shadow-top"),
                            s = n ? t.find(".swiper-slide-shadow-right") : t.find(".swiper-slide-shadow-bottom");
                        0 === e.length && (e = ie(r, t, n ? "left" : "top")), 0 === s.length && (s = ie(r, t, n ? "right" : "bottom")), e.length && (e[0].style.opacity = l > 0 ? l : 0), s.length && (s[0].style.opacity = -l > 0 ? -l : 0)
                    }
                }
            },
            setTransition: e => {
                const {
                    transformEl: s
                } = t.params.coverflowEffect;
                (s ? t.slides.find(s) : t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)
            },
            perspective: () => !0,
            overwriteParams: () => ({
                watchSlidesProgress: !0
            })
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            creativeEffect: {
                transformEl: null,
                limitProgress: 1,
                shadowPerProgress: !1,
                progressMultiplier: 1,
                perspective: !0,
                prev: {
                    translate: [0, 0, 0],
                    rotate: [0, 0, 0],
                    opacity: 1,
                    scale: 1
                },
                next: {
                    translate: [0, 0, 0],
                    rotate: [0, 0, 0],
                    opacity: 1,
                    scale: 1
                }
            }
        });
        const i = e => "string" == typeof e ? e : `${e}px`;
        te({
            effect: "creative",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    slides: e,
                    $wrapperEl: s,
                    slidesSizesGrid: a
                } = t, r = t.params.creativeEffect, {
                    progressMultiplier: n
                } = r, l = t.params.centeredSlides;
                if (l) {
                    const e = a[0] / 2 - t.params.slidesOffsetBefore || 0;
                    s.transform(`translateX(calc(50% - ${e}px))`)
                }
                for (let s = 0; s < e.length; s += 1) {
                    const a = e.eq(s),
                        o = a[0].progress,
                        d = Math.min(Math.max(a[0].progress, -r.limitProgress), r.limitProgress);
                    let c = d;
                    l || (c = Math.min(Math.max(a[0].originalProgress, -r.limitProgress), r.limitProgress));
                    const p = a[0].swiperSlideOffset,
                        u = [t.params.cssMode ? -p - t.translate : -p, 0, 0],
                        h = [0, 0, 0];
                    let m = !1;
                    t.isHorizontal() || (u[1] = u[0], u[0] = 0);
                    let f = {
                        translate: [0, 0, 0],
                        rotate: [0, 0, 0],
                        scale: 1,
                        opacity: 1
                    };
                    d < 0 ? (f = r.next, m = !0) : d > 0 && (f = r.prev, m = !0), u.forEach(((e, t) => {
                        u[t] = `calc(${e}px + (${i(f.translate[t])} * ${Math.abs(d*n)}))`
                    })), h.forEach(((e, t) => {
                        h[t] = f.rotate[t] * Math.abs(d * n)
                    })), a[0].style.zIndex = -Math.abs(Math.round(o)) + e.length;
                    const g = u.join(", "),
                        v = `rotateX(${h[0]}deg) rotateY(${h[1]}deg) rotateZ(${h[2]}deg)`,
                        w = c < 0 ? `scale(${1+(1-f.scale)*c*n})` : `scale(${1-(1-f.scale)*c*n})`,
                        b = c < 0 ? 1 + (1 - f.opacity) * c * n : 1 - (1 - f.opacity) * c * n,
                        x = `translate3d(${g}) ${v} ${w}`;
                    if (m && f.shadow || !m) {
                        let e = a.children(".swiper-slide-shadow");
                        if (0 === e.length && f.shadow && (e = ie(r, a)), e.length) {
                            const t = r.shadowPerProgress ? d * (1 / r.limitProgress) : d;
                            e[0].style.opacity = Math.min(Math.max(Math.abs(t), 0), 1)
                        }
                    }
                    const y = se(r, a);
                    y.transform(x).css({
                        opacity: b
                    }), f.origin && y.css("transform-origin", f.origin)
                }
            },
            setTransition: e => {
                const {
                    transformEl: s
                } = t.params.creativeEffect;
                (s ? t.slides.find(s) : t.slides).transition(e).find(".swiper-slide-shadow").transition(e), ae({
                    swiper: t,
                    duration: e,
                    transformEl: s,
                    allSlides: !0
                })
            },
            perspective: () => t.params.creativeEffect.perspective,
            overwriteParams: () => ({
                watchSlidesProgress: !0,
                virtualTranslate: !t.params.cssMode
            })
        })
    }, function(e) {
        let {
            swiper: t,
            extendParams: s,
            on: a
        } = e;
        s({
            cardsEffect: {
                slideShadows: !0,
                transformEl: null
            }
        }), te({
            effect: "cards",
            swiper: t,
            on: a,
            setTranslate: () => {
                const {
                    slides: e,
                    activeIndex: s
                } = t, a = t.params.cardsEffect, {
                    startTranslate: i,
                    isTouched: r
                } = t.touchEventsData, n = t.translate;
                for (let l = 0; l < e.length; l += 1) {
                    const o = e.eq(l),
                        d = o[0].progress,
                        c = Math.min(Math.max(d, -4), 4);
                    let p = o[0].swiperSlideOffset;
                    t.params.centeredSlides && !t.params.cssMode && t.$wrapperEl.transform(`translateX(${t.minTranslate()}px)`), t.params.centeredSlides && t.params.cssMode && (p -= e[0].swiperSlideOffset);
                    let u = t.params.cssMode ? -p - t.translate : -p,
                        h = 0;
                    const m = -100 * Math.abs(c);
                    let f = 1,
                        g = -2 * c,
                        v = 8 - .75 * Math.abs(c);
                    const w = (l === s || l === s - 1) && c > 0 && c < 1 && (r || t.params.cssMode) && n < i,
                        b = (l === s || l === s + 1) && c < 0 && c > -1 && (r || t.params.cssMode) && n > i;
                    if (w || b) {
                        const e = (1 - Math.abs((Math.abs(c) - .5) / .5)) ** .5;
                        g += -28 * c * e, f += -.5 * e, v += 96 * e, h = -25 * e * Math.abs(c) + "%"
                    }
                    if (u = c < 0 ? `calc(${u}px + (${v*Math.abs(c)}%))` : c > 0 ? `calc(${u}px + (-${v*Math.abs(c)}%))` : `${u}px`, !t.isHorizontal()) {
                        const e = h;
                        h = u, u = e
                    }
                    const x = `\n        translate3d(${u}, ${h}, ${m}px)\n        rotateZ(${g}deg)\n        scale(${c<0?""+(1+(1-f)*c):""+(1-(1-f)*c)})\n      `;
                    if (a.slideShadows) {
                        let e = o.find(".swiper-slide-shadow");
                        0 === e.length && (e = ie(a, o)), e.length && (e[0].style.opacity = Math.min(Math.max((Math.abs(c) - .5) / .5, 0), 1))
                    }
                    o[0].style.zIndex = -Math.abs(Math.round(d)) + e.length;
                    se(a, o).transform(x)
                }
            },
            setTransition: e => {
                const {
                    transformEl: s
                } = t.params.cardsEffect;
                (s ? t.slides.find(s) : t.slides).transition(e).find(".swiper-slide-shadow").transition(e), ae({
                    swiper: t,
                    duration: e,
                    transformEl: s
                })
            },
            perspective: () => !0,
            overwriteParams: () => ({
                watchSlidesProgress: !0,
                virtualTranslate: !t.params.cssMode
            })
        })
    }];
    return q.use(re), q
}));
/*!
 * imagesLoaded PACKAGED v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(global, factory) {
    if (typeof define == 'function' && define.amd) {
        define('ev-emitter/ev-emitter', factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory();
    } else {
        global.EvEmitter = factory();
    }
}(typeof window != 'undefined' ? window : this, function() {
    function EvEmitter() {}
    var proto = EvEmitter.prototype;
    proto.on = function(eventName, listener) {
        if (!eventName || !listener) {
            return;
        }
        var events = this._events = this._events || {};
        var listeners = events[eventName] = events[eventName] || [];
        if (listeners.indexOf(listener) == -1) {
            listeners.push(listener);
        }
        return this;
    };
    proto.once = function(eventName, listener) {
        if (!eventName || !listener) {
            return;
        }
        this.on(eventName, listener);
        var onceEvents = this._onceEvents = this._onceEvents || {};
        var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};
        onceListeners[listener] = true;
        return this;
    };
    proto.off = function(eventName, listener) {
        var listeners = this._events && this._events[eventName];
        if (!listeners || !listeners.length) {
            return;
        }
        var index = listeners.indexOf(listener);
        if (index != -1) {
            listeners.splice(index, 1);
        }
        return this;
    };
    proto.emitEvent = function(eventName, args) {
        var listeners = this._events && this._events[eventName];
        if (!listeners || !listeners.length) {
            return;
        }
        listeners = listeners.slice(0);
        args = args || [];
        var onceListeners = this._onceEvents && this._onceEvents[eventName];
        for (var i = 0; i < listeners.length; i++) {
            var listener = listeners[i]
            var isOnce = onceListeners && onceListeners[listener];
            if (isOnce) {
                this.off(eventName, listener);
                delete onceListeners[listener];
            }
            listener.apply(this, args);
        }
        return this;
    };
    proto.allOff = function() {
        delete this._events;
        delete this._onceEvents;
    };
    return EvEmitter;
}));
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(window, factory) {
    'use strict';
    if (typeof define == 'function' && define.amd) {
        define(['ev-emitter/ev-emitter'], function(EvEmitter) {
            return factory(window, EvEmitter);
        });
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(window, require('ev-emitter'));
    } else {
        window.imagesLoaded = factory(window, window.EvEmitter);
    }
})(typeof window !== 'undefined' ? window : this, function factory(window, EvEmitter) {
    var $ = window.jQuery;
    var console = window.console;

    function extend(a, b) {
        for (var prop in b) {
            a[prop] = b[prop];
        }
        return a;
    }
    var arraySlice = Array.prototype.slice;

    function makeArray(obj) {
        if (Array.isArray(obj)) {
            return obj;
        }
        var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';
        if (isArrayLike) {
            return arraySlice.call(obj);
        }
        return [obj];
    }

    function ImagesLoaded(elem, options, onAlways) {
        if (!(this instanceof ImagesLoaded)) {
            return new ImagesLoaded(elem, options, onAlways);
        }
        var queryElem = elem;
        if (typeof elem == 'string') {
            queryElem = document.querySelectorAll(elem);
        }
        if (!queryElem) {
            console.error('Bad element for imagesLoaded ' + (queryElem || elem));
            return;
        }
        this.elements = makeArray(queryElem);
        this.options = extend({}, this.options);
        if (typeof options == 'function') {
            onAlways = options;
        } else {
            extend(this.options, options);
        }
        if (onAlways) {
            this.on('always', onAlways);
        }
        this.getImages();
        if ($) {
            this.jqDeferred = new $.Deferred();
        }
        setTimeout(this.check.bind(this));
    }
    ImagesLoaded.prototype = Object.create(EvEmitter.prototype);
    ImagesLoaded.prototype.options = {};
    ImagesLoaded.prototype.getImages = function() {
        this.images = [];
        this.elements.forEach(this.addElementImages, this);
    };
    ImagesLoaded.prototype.addElementImages = function(elem) {
        if (elem.nodeName == 'IMG') {
            this.addImage(elem);
        }
        if (this.options.background === true) {
            this.addElementBackgroundImages(elem);
        }
        var nodeType = elem.nodeType;
        if (!nodeType || !elementNodeTypes[nodeType]) {
            return;
        }
        var childImgs = elem.querySelectorAll('img');
        for (var i = 0; i < childImgs.length; i++) {
            var img = childImgs[i];
            this.addImage(img);
        }
        if (typeof this.options.background == 'string') {
            var children = elem.querySelectorAll(this.options.background);
            for (i = 0; i < children.length; i++) {
                var child = children[i];
                this.addElementBackgroundImages(child);
            }
        }
    };
    var elementNodeTypes = {
        1: true,
        9: true,
        11: true
    };
    ImagesLoaded.prototype.addElementBackgroundImages = function(elem) {
        var style = getComputedStyle(elem);
        if (!style) {
            return;
        }
        var reURL = /url\((['"])?(.*?)\1\)/gi;
        var matches = reURL.exec(style.backgroundImage);
        while (matches !== null) {
            var url = matches && matches[2];
            if (url) {
                this.addBackground(url, elem);
            }
            matches = reURL.exec(style.backgroundImage);
        }
    };
    ImagesLoaded.prototype.addImage = function(img) {
        var loadingImage = new LoadingImage(img);
        this.images.push(loadingImage);
    };
    ImagesLoaded.prototype.addBackground = function(url, elem) {
        var background = new Background(url, elem);
        this.images.push(background);
    };
    ImagesLoaded.prototype.check = function() {
        var _this = this;
        this.progressedCount = 0;
        this.hasAnyBroken = false;
        if (!this.images.length) {
            this.complete();
            return;
        }

        function onProgress(image, elem, message) {
            setTimeout(function() {
                _this.progress(image, elem, message);
            });
        }
        this.images.forEach(function(loadingImage) {
            loadingImage.once('progress', onProgress);
            loadingImage.check();
        });
    };
    ImagesLoaded.prototype.progress = function(image, elem, message) {
        this.progressedCount++;
        this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;
        this.emitEvent('progress', [this, image, elem]);
        if (this.jqDeferred && this.jqDeferred.notify) {
            this.jqDeferred.notify(this, image);
        }
        if (this.progressedCount == this.images.length) {
            this.complete();
        }
        if (this.options.debug && console) {
            console.log('progress: ' + message, image, elem);
        }
    };
    ImagesLoaded.prototype.complete = function() {
        var eventName = this.hasAnyBroken ? 'fail' : 'done';
        this.isComplete = true;
        this.emitEvent(eventName, [this]);
        this.emitEvent('always', [this]);
        if (this.jqDeferred) {
            var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';
            this.jqDeferred[jqMethod](this);
        }
    };

    function LoadingImage(img) {
        this.img = img;
    }
    LoadingImage.prototype = Object.create(EvEmitter.prototype);
    LoadingImage.prototype.check = function() {
        var isComplete = this.getIsImageComplete();
        if (isComplete) {
            this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');
            return;
        }
        this.proxyImage = new Image();
        this.proxyImage.addEventListener('load', this);
        this.proxyImage.addEventListener('error', this);
        this.img.addEventListener('load', this);
        this.img.addEventListener('error', this);
        this.proxyImage.src = this.img.src;
    };
    LoadingImage.prototype.getIsImageComplete = function() {
        return this.img.complete && this.img.naturalWidth;
    };
    LoadingImage.prototype.confirm = function(isLoaded, message) {
        this.isLoaded = isLoaded;
        this.emitEvent('progress', [this, this.img, message]);
    };
    LoadingImage.prototype.handleEvent = function(event) {
        var method = 'on' + event.type;
        if (this[method]) {
            this[method](event);
        }
    };
    LoadingImage.prototype.onload = function() {
        this.confirm(true, 'onload');
        this.unbindEvents();
    };
    LoadingImage.prototype.onerror = function() {
        this.confirm(false, 'onerror');
        this.unbindEvents();
    };
    LoadingImage.prototype.unbindEvents = function() {
        this.proxyImage.removeEventListener('load', this);
        this.proxyImage.removeEventListener('error', this);
        this.img.removeEventListener('load', this);
        this.img.removeEventListener('error', this);
    };

    function Background(url, element) {
        this.url = url;
        this.element = element;
        this.img = new Image();
    }
    Background.prototype = Object.create(LoadingImage.prototype);
    Background.prototype.check = function() {
        this.img.addEventListener('load', this);
        this.img.addEventListener('error', this);
        this.img.src = this.url;
        var isComplete = this.getIsImageComplete();
        if (isComplete) {
            this.confirm(this.img.naturalWidth !== 0, 'naturalWidth');
            this.unbindEvents();
        }
    };
    Background.prototype.unbindEvents = function() {
        this.img.removeEventListener('load', this);
        this.img.removeEventListener('error', this);
    };
    Background.prototype.confirm = function(isLoaded, message) {
        this.isLoaded = isLoaded;
        this.emitEvent('progress', [this, this.element, message]);
    };
    ImagesLoaded.makeJQueryPlugin = function(jQuery) {
        jQuery = jQuery || window.jQuery;
        if (!jQuery) {
            return;
        }
        $ = jQuery;
        $.fn.imagesLoaded = function(options, callback) {
            var instance = new ImagesLoaded(this, options, callback);
            return instance.jqDeferred.promise($(this));
        };
    };
    ImagesLoaded.makeJQueryPlugin();
    return ImagesLoaded;
});
/*!
 * Isotope PACKAGED v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('jquery-bridget/jquery-bridget', ['jquery'], function(jQuery) {
            return factory(window, jQuery);
        });
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(window, require('jquery'));
    } else {
        window.jQueryBridget = factory(window, window.jQuery);
    }
}(window, function factory(window, jQuery) {
    'use strict';
    var arraySlice = Array.prototype.slice;
    var console = window.console;
    var logError = typeof console == 'undefined' ? function() {} : function(message) {
        console.error(message);
    };

    function jQueryBridget(namespace, PluginClass, $) {
        $ = $ || jQuery || window.jQuery;
        if (!$) {
            return;
        }
        if (!PluginClass.prototype.option) {
            PluginClass.prototype.option = function(opts) {
                if (!$.isPlainObject(opts)) {
                    return;
                }
                this.options = $.extend(true, this.options, opts);
            };
        }
        $.fn[namespace] = function(arg0) {
            if (typeof arg0 == 'string') {
                var args = arraySlice.call(arguments, 1);
                return methodCall(this, arg0, args);
            }
            plainCall(this, arg0);
            return this;
        };

        function methodCall($elems, methodName, args) {
            var returnValue;
            var pluginMethodStr = '$().' + namespace + '("' + methodName + '")';
            $elems.each(function(i, elem) {
                var instance = $.data(elem, namespace);
                if (!instance) {
                    logError(namespace + ' not initialized. Cannot call methods, i.e. ' +
                        pluginMethodStr);
                    return;
                }
                var method = instance[methodName];
                if (!method || methodName.charAt(0) == '_') {
                    logError(pluginMethodStr + ' is not a valid method');
                    return;
                }
                var value = method.apply(instance, args);
                returnValue = returnValue === undefined ? value : returnValue;
            });
            return returnValue !== undefined ? returnValue : $elems;
        }

        function plainCall($elems, options) {
            $elems.each(function(i, elem) {
                var instance = $.data(elem, namespace);
                if (instance) {
                    instance.option(options);
                    instance._init();
                } else {
                    instance = new PluginClass(elem, options);
                    $.data(elem, namespace, instance);
                }
            });
        }
        updateJQuery($);
    }

    function updateJQuery($) {
        if (!$ || ($ && $.bridget)) {
            return;
        }
        $.bridget = jQueryBridget;
    }
    updateJQuery(jQuery || window.jQuery);
    return jQueryBridget;
}));
(function(global, factory) {
    if (typeof define == 'function' && define.amd) {
        define('ev-emitter/ev-emitter', factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory();
    } else {
        global.EvEmitter = factory();
    }
}(typeof window != 'undefined' ? window : this, function() {
    function EvEmitter() {}
    var proto = EvEmitter.prototype;
    proto.on = function(eventName, listener) {
        if (!eventName || !listener) {
            return;
        }
        var events = this._events = this._events || {};
        var listeners = events[eventName] = events[eventName] || [];
        if (listeners.indexOf(listener) == -1) {
            listeners.push(listener);
        }
        return this;
    };
    proto.once = function(eventName, listener) {
        if (!eventName || !listener) {
            return;
        }
        this.on(eventName, listener);
        var onceEvents = this._onceEvents = this._onceEvents || {};
        var onceListeners = onceEvents[eventName] = onceEvents[eventName] || {};
        onceListeners[listener] = true;
        return this;
    };
    proto.off = function(eventName, listener) {
        var listeners = this._events && this._events[eventName];
        if (!listeners || !listeners.length) {
            return;
        }
        var index = listeners.indexOf(listener);
        if (index != -1) {
            listeners.splice(index, 1);
        }
        return this;
    };
    proto.emitEvent = function(eventName, args) {
        var listeners = this._events && this._events[eventName];
        if (!listeners || !listeners.length) {
            return;
        }
        listeners = listeners.slice(0);
        args = args || [];
        var onceListeners = this._onceEvents && this._onceEvents[eventName];
        for (var i = 0; i < listeners.length; i++) {
            var listener = listeners[i]
            var isOnce = onceListeners && onceListeners[listener];
            if (isOnce) {
                this.off(eventName, listener);
                delete onceListeners[listener];
            }
            listener.apply(this, args);
        }
        return this;
    };
    proto.allOff = function() {
        delete this._events;
        delete this._onceEvents;
    };
    return EvEmitter;
}));
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('get-size/get-size', factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory();
    } else {
        window.getSize = factory();
    }
})(window, function factory() {
    'use strict';

    function getStyleSize(value) {
        var num = parseFloat(value);
        var isValid = value.indexOf('%') == -1 && !isNaN(num);
        return isValid && num;
    }

    function noop() {}
    var logError = typeof console == 'undefined' ? noop : function(message) {
        console.error(message);
    };
    var measurements = ['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom', 'marginLeft', 'marginRight', 'marginTop', 'marginBottom', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'borderBottomWidth'];
    var measurementsLength = measurements.length;

    function getZeroSize() {
        var size = {
            width: 0,
            height: 0,
            innerWidth: 0,
            innerHeight: 0,
            outerWidth: 0,
            outerHeight: 0
        };
        for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            size[measurement] = 0;
        }
        return size;
    }

    function getStyle(elem) {
        var style = getComputedStyle(elem);
        if (!style) {
            logError('Style returned ' + style + '. Are you running this code in a hidden iframe on Firefox? ' + 'See https://bit.ly/getsizebug1');
        }
        return style;
    }
    var isSetup = false;
    var isBoxSizeOuter;

    function setup() {
        if (isSetup) {
            return;
        }
        isSetup = true;
        var div = document.createElement('div');
        div.style.width = '200px';
        div.style.padding = '1px 2px 3px 4px';
        div.style.borderStyle = 'solid';
        div.style.borderWidth = '1px 2px 3px 4px';
        div.style.boxSizing = 'border-box';
        var body = document.body || document.documentElement;
        body.appendChild(div);
        var style = getStyle(div);
        isBoxSizeOuter = Math.round(getStyleSize(style.width)) == 200;
        getSize.isBoxSizeOuter = isBoxSizeOuter;
        body.removeChild(div);
    }

    function getSize(elem) {
        setup();
        if (typeof elem == 'string') {
            elem = document.querySelector(elem);
        }
        if (!elem || typeof elem != 'object' || !elem.nodeType) {
            return;
        }
        var style = getStyle(elem);
        if (style.display == 'none') {
            return getZeroSize();
        }
        var size = {};
        size.width = elem.offsetWidth;
        size.height = elem.offsetHeight;
        var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';
        for (var i = 0; i < measurementsLength; i++) {
            var measurement = measurements[i];
            var value = style[measurement];
            var num = parseFloat(value);
            size[measurement] = !isNaN(num) ? num : 0;
        }
        var paddingWidth = size.paddingLeft + size.paddingRight;
        var paddingHeight = size.paddingTop + size.paddingBottom;
        var marginWidth = size.marginLeft + size.marginRight;
        var marginHeight = size.marginTop + size.marginBottom;
        var borderWidth = size.borderLeftWidth + size.borderRightWidth;
        var borderHeight = size.borderTopWidth + size.borderBottomWidth;
        var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;
        var styleWidth = getStyleSize(style.width);
        if (styleWidth !== false) {
            size.width = styleWidth +
                (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);
        }
        var styleHeight = getStyleSize(style.height);
        if (styleHeight !== false) {
            size.height = styleHeight +
                (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);
        }
        size.innerWidth = size.width - (paddingWidth + borderWidth);
        size.innerHeight = size.height - (paddingHeight + borderHeight);
        size.outerWidth = size.width + marginWidth;
        size.outerHeight = size.height + marginHeight;
        return size;
    }
    return getSize;
});
(function(window, factory) {
    'use strict';
    if (typeof define == 'function' && define.amd) {
        define('desandro-matches-selector/matches-selector', factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory();
    } else {
        window.matchesSelector = factory();
    }
}(window, function factory() {
    'use strict';
    var matchesMethod = (function() {
        var ElemProto = window.Element.prototype;
        if (ElemProto.matches) {
            return 'matches';
        }
        if (ElemProto.matchesSelector) {
            return 'matchesSelector';
        }
        var prefixes = ['webkit', 'moz', 'ms', 'o'];
        for (var i = 0; i < prefixes.length; i++) {
            var prefix = prefixes[i];
            var method = prefix + 'MatchesSelector';
            if (ElemProto[method]) {
                return method;
            }
        }
    })();
    return function matchesSelector(elem, selector) {
        return elem[matchesMethod](selector);
    };
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('fizzy-ui-utils/utils', ['desandro-matches-selector/matches-selector'], function(matchesSelector) {
            return factory(window, matchesSelector);
        });
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(window, require('desandro-matches-selector'));
    } else {
        window.fizzyUIUtils = factory(window, window.matchesSelector);
    }
}(window, function factory(window, matchesSelector) {
    var utils = {};
    utils.extend = function(a, b) {
        for (var prop in b) {
            a[prop] = b[prop];
        }
        return a;
    };
    utils.modulo = function(num, div) {
        return ((num % div) + div) % div;
    };
    var arraySlice = Array.prototype.slice;
    utils.makeArray = function(obj) {
        if (Array.isArray(obj)) {
            return obj;
        }
        if (obj === null || obj === undefined) {
            return [];
        }
        var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';
        if (isArrayLike) {
            return arraySlice.call(obj);
        }
        return [obj];
    };
    utils.removeFrom = function(ary, obj) {
        var index = ary.indexOf(obj);
        if (index != -1) {
            ary.splice(index, 1);
        }
    };
    utils.getParent = function(elem, selector) {
        while (elem.parentNode && elem != document.body) {
            elem = elem.parentNode;
            if (matchesSelector(elem, selector)) {
                return elem;
            }
        }
    };
    utils.getQueryElement = function(elem) {
        if (typeof elem == 'string') {
            return document.querySelector(elem);
        }
        return elem;
    };
    utils.handleEvent = function(event) {
        var method = 'on' + event.type;
        if (this[method]) {
            this[method](event);
        }
    };
    utils.filterFindElements = function(elems, selector) {
        elems = utils.makeArray(elems);
        var ffElems = [];
        elems.forEach(function(elem) {
            if (!(elem instanceof HTMLElement)) {
                return;
            }
            if (!selector) {
                ffElems.push(elem);
                return;
            }
            if (matchesSelector(elem, selector)) {
                ffElems.push(elem);
            }
            var childElems = elem.querySelectorAll(selector);
            for (var i = 0; i < childElems.length; i++) {
                ffElems.push(childElems[i]);
            }
        });
        return ffElems;
    };
    utils.debounceMethod = function(_class, methodName, threshold) {
        threshold = threshold || 100;
        var method = _class.prototype[methodName];
        var timeoutName = methodName + 'Timeout';
        _class.prototype[methodName] = function() {
            var timeout = this[timeoutName];
            clearTimeout(timeout);
            var args = arguments;
            var _this = this;
            this[timeoutName] = setTimeout(function() {
                method.apply(_this, args);
                delete _this[timeoutName];
            }, threshold);
        };
    };
    utils.docReady = function(callback) {
        var readyState = document.readyState;
        if (readyState == 'complete' || readyState == 'interactive') {
            setTimeout(callback);
        } else {
            document.addEventListener('DOMContentLoaded', callback);
        }
    };
    utils.toDashed = function(str) {
        return str.replace(/(.)([A-Z])/g, function(match, $1, $2) {
            return $1 + '-' + $2;
        }).toLowerCase();
    };
    var console = window.console;
    utils.htmlInit = function(WidgetClass, namespace) {
        utils.docReady(function() {
            var dashedNamespace = utils.toDashed(namespace);
            var dataAttr = 'data-' + dashedNamespace;
            var dataAttrElems = document.querySelectorAll('[' + dataAttr + ']');
            var jsDashElems = document.querySelectorAll('.js-' + dashedNamespace);
            var elems = utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems));
            var dataOptionsAttr = dataAttr + '-options';
            var jQuery = window.jQuery;
            elems.forEach(function(elem) {
                var attr = elem.getAttribute(dataAttr) || elem.getAttribute(dataOptionsAttr);
                var options;
                try {
                    options = attr && JSON.parse(attr);
                } catch (error) {
                    if (console) {
                        console.error('Error parsing ' + dataAttr + ' on ' + elem.className + ': ' + error);
                    }
                    return;
                }
                var instance = new WidgetClass(elem, options);
                if (jQuery) {
                    jQuery.data(elem, namespace, instance);
                }
            });
        });
    };
    return utils;
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('outlayer/item', ['ev-emitter/ev-emitter', 'get-size/get-size'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('ev-emitter'), require('get-size'));
    } else {
        window.Outlayer = {};
        window.Outlayer.Item = factory(window.EvEmitter, window.getSize);
    }
}(window, function factory(EvEmitter, getSize) {
    'use strict';

    function isEmptyObj(obj) {
        for (var prop in obj) {
            return false;
        }
        prop = null;
        return true;
    }
    var docElemStyle = document.documentElement.style;
    var transitionProperty = typeof docElemStyle.transition == 'string' ? 'transition' : 'WebkitTransition';
    var transformProperty = typeof docElemStyle.transform == 'string' ? 'transform' : 'WebkitTransform';
    var transitionEndEvent = {
        WebkitTransition: 'webkitTransitionEnd',
        transition: 'transitionend'
    }[transitionProperty];
    var vendorProperties = {
        transform: transformProperty,
        transition: transitionProperty,
        transitionDuration: transitionProperty + 'Duration',
        transitionProperty: transitionProperty + 'Property',
        transitionDelay: transitionProperty + 'Delay'
    };

    function Item(element, layout) {
        if (!element) {
            return;
        }
        this.element = element;
        this.layout = layout;
        this.position = {
            x: 0,
            y: 0
        };
        this._create();
    }
    var proto = Item.prototype = Object.create(EvEmitter.prototype);
    proto.constructor = Item;
    proto._create = function() {
        this._transn = {
            ingProperties: {},
            clean: {},
            onEnd: {}
        };
        this.css({
            position: 'absolute'
        });
    };
    proto.handleEvent = function(event) {
        var method = 'on' + event.type;
        if (this[method]) {
            this[method](event);
        }
    };
    proto.getSize = function() {
        this.size = getSize(this.element);
    };
    proto.css = function(style) {
        var elemStyle = this.element.style;
        for (var prop in style) {
            var supportedProp = vendorProperties[prop] || prop;
            elemStyle[supportedProp] = style[prop];
        }
    };
    proto.getPosition = function() {
        var style = getComputedStyle(this.element);
        var isOriginLeft = this.layout._getOption('originLeft');
        var isOriginTop = this.layout._getOption('originTop');
        var xValue = style[isOriginLeft ? 'left' : 'right'];
        var yValue = style[isOriginTop ? 'top' : 'bottom'];
        var x = parseFloat(xValue);
        var y = parseFloat(yValue);
        var layoutSize = this.layout.size;
        if (xValue.indexOf('%') != -1) {
            x = (x / 100) * layoutSize.width;
        }
        if (yValue.indexOf('%') != -1) {
            y = (y / 100) * layoutSize.height;
        }
        x = isNaN(x) ? 0 : x;
        y = isNaN(y) ? 0 : y;
        x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;
        y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;
        this.position.x = x;
        this.position.y = y;
    };
    proto.layoutPosition = function() {
        var layoutSize = this.layout.size;
        var style = {};
        var isOriginLeft = this.layout._getOption('originLeft');
        var isOriginTop = this.layout._getOption('originTop');
        var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';
        var xProperty = isOriginLeft ? 'left' : 'right';
        var xResetProperty = isOriginLeft ? 'right' : 'left';
        var x = this.position.x + layoutSize[xPadding];
        style[xProperty] = this.getXValue(x);
        style[xResetProperty] = '';
        var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';
        var yProperty = isOriginTop ? 'top' : 'bottom';
        var yResetProperty = isOriginTop ? 'bottom' : 'top';
        var y = this.position.y + layoutSize[yPadding];
        style[yProperty] = this.getYValue(y);
        style[yResetProperty] = '';
        this.css(style);
        this.emitEvent('layout', [this]);
    };
    proto.getXValue = function(x) {
        var isHorizontal = this.layout._getOption('horizontal');
        return this.layout.options.percentPosition && !isHorizontal ? ((x / this.layout.size.width) * 100) + '%' : x + 'px';
    };
    proto.getYValue = function(y) {
        var isHorizontal = this.layout._getOption('horizontal');
        return this.layout.options.percentPosition && isHorizontal ? ((y / this.layout.size.height) * 100) + '%' : y + 'px';
    };
    proto._transitionTo = function(x, y) {
        this.getPosition();
        var curX = this.position.x;
        var curY = this.position.y;
        var didNotMove = x == this.position.x && y == this.position.y;
        this.setPosition(x, y);
        if (didNotMove && !this.isTransitioning) {
            this.layoutPosition();
            return;
        }
        var transX = x - curX;
        var transY = y - curY;
        var transitionStyle = {};
        transitionStyle.transform = this.getTranslate(transX, transY);
        this.transition({
            to: transitionStyle,
            onTransitionEnd: {
                transform: this.layoutPosition
            },
            isCleaning: true
        });
    };
    proto.getTranslate = function(x, y) {
        var isOriginLeft = this.layout._getOption('originLeft');
        var isOriginTop = this.layout._getOption('originTop');
        x = isOriginLeft ? x : -x;
        y = isOriginTop ? y : -y;
        return 'translate3d(' + x + 'px, ' + y + 'px, 0)';
    };
    proto.goTo = function(x, y) {
        this.setPosition(x, y);
        this.layoutPosition();
    };
    proto.moveTo = proto._transitionTo;
    proto.setPosition = function(x, y) {
        this.position.x = parseFloat(x);
        this.position.y = parseFloat(y);
    };
    proto._nonTransition = function(args) {
        this.css(args.to);
        if (args.isCleaning) {
            this._removeStyles(args.to);
        }
        for (var prop in args.onTransitionEnd) {
            args.onTransitionEnd[prop].call(this);
        }
    };
    proto.transition = function(args) {
        if (!parseFloat(this.layout.options.transitionDuration)) {
            this._nonTransition(args);
            return;
        }
        var _transition = this._transn;
        for (var prop in args.onTransitionEnd) {
            _transition.onEnd[prop] = args.onTransitionEnd[prop];
        }
        for (prop in args.to) {
            _transition.ingProperties[prop] = true;
            if (args.isCleaning) {
                _transition.clean[prop] = true;
            }
        }
        if (args.from) {
            this.css(args.from);
            var h = this.element.offsetHeight;
            h = null;
        }
        this.enableTransition(args.to);
        this.css(args.to);
        this.isTransitioning = true;
    };

    function toDashedAll(str) {
        return str.replace(/([A-Z])/g, function($1) {
            return '-' + $1.toLowerCase();
        });
    }
    var transitionProps = 'opacity,' + toDashedAll(transformProperty);
    proto.enableTransition = function() {
        if (this.isTransitioning) {
            return;
        }
        var duration = this.layout.options.transitionDuration;
        duration = typeof duration == 'number' ? duration + 'ms' : duration;
        this.css({
            transitionProperty: transitionProps,
            transitionDuration: duration,
            transitionDelay: this.staggerDelay || 0
        });
        this.element.addEventListener(transitionEndEvent, this, false);
    };
    proto.onwebkitTransitionEnd = function(event) {
        this.ontransitionend(event);
    };
    proto.onotransitionend = function(event) {
        this.ontransitionend(event);
    };
    var dashedVendorProperties = {
        '-webkit-transform': 'transform'
    };
    proto.ontransitionend = function(event) {
        if (event.target !== this.element) {
            return;
        }
        var _transition = this._transn;
        var propertyName = dashedVendorProperties[event.propertyName] || event.propertyName;
        delete _transition.ingProperties[propertyName];
        if (isEmptyObj(_transition.ingProperties)) {
            this.disableTransition();
        }
        if (propertyName in _transition.clean) {
            this.element.style[event.propertyName] = '';
            delete _transition.clean[propertyName];
        }
        if (propertyName in _transition.onEnd) {
            var onTransitionEnd = _transition.onEnd[propertyName];
            onTransitionEnd.call(this);
            delete _transition.onEnd[propertyName];
        }
        this.emitEvent('transitionEnd', [this]);
    };
    proto.disableTransition = function() {
        this.removeTransitionStyles();
        this.element.removeEventListener(transitionEndEvent, this, false);
        this.isTransitioning = false;
    };
    proto._removeStyles = function(style) {
        var cleanStyle = {};
        for (var prop in style) {
            cleanStyle[prop] = '';
        }
        this.css(cleanStyle);
    };
    var cleanTransitionStyle = {
        transitionProperty: '',
        transitionDuration: '',
        transitionDelay: ''
    };
    proto.removeTransitionStyles = function() {
        this.css(cleanTransitionStyle);
    };
    proto.stagger = function(delay) {
        delay = isNaN(delay) ? 0 : delay;
        this.staggerDelay = delay + 'ms';
    };
    proto.removeElem = function() {
        this.element.parentNode.removeChild(this.element);
        this.css({
            display: ''
        });
        this.emitEvent('remove', [this]);
    };
    proto.remove = function() {
        if (!transitionProperty || !parseFloat(this.layout.options.transitionDuration)) {
            this.removeElem();
            return;
        }
        this.once('transitionEnd', function() {
            this.removeElem();
        });
        this.hide();
    };
    proto.reveal = function() {
        delete this.isHidden;
        this.css({
            display: ''
        });
        var options = this.layout.options;
        var onTransitionEnd = {};
        var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');
        onTransitionEnd[transitionEndProperty] = this.onRevealTransitionEnd;
        this.transition({
            from: options.hiddenStyle,
            to: options.visibleStyle,
            isCleaning: true,
            onTransitionEnd: onTransitionEnd
        });
    };
    proto.onRevealTransitionEnd = function() {
        if (!this.isHidden) {
            this.emitEvent('reveal');
        }
    };
    proto.getHideRevealTransitionEndProperty = function(styleProperty) {
        var optionStyle = this.layout.options[styleProperty];
        if (optionStyle.opacity) {
            return 'opacity';
        }
        for (var prop in optionStyle) {
            return prop;
        }
    };
    proto.hide = function() {
        this.isHidden = true;
        this.css({
            display: ''
        });
        var options = this.layout.options;
        var onTransitionEnd = {};
        var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');
        onTransitionEnd[transitionEndProperty] = this.onHideTransitionEnd;
        this.transition({
            from: options.visibleStyle,
            to: options.hiddenStyle,
            isCleaning: true,
            onTransitionEnd: onTransitionEnd
        });
    };
    proto.onHideTransitionEnd = function() {
        if (this.isHidden) {
            this.css({
                display: 'none'
            });
            this.emitEvent('hide');
        }
    };
    proto.destroy = function() {
        this.css({
            position: '',
            left: '',
            right: '',
            top: '',
            bottom: '',
            transition: '',
            transform: ''
        });
    };
    return Item;
}));
/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */
(function(window, factory) {
    'use strict';
    if (typeof define == 'function' && define.amd) {
        define('outlayer/outlayer', ['ev-emitter/ev-emitter', 'get-size/get-size', 'fizzy-ui-utils/utils', './item'], function(EvEmitter, getSize, utils, Item) {
            return factory(window, EvEmitter, getSize, utils, Item);
        });
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(window, require('ev-emitter'), require('get-size'), require('fizzy-ui-utils'), require('./item'));
    } else {
        window.Outlayer = factory(window, window.EvEmitter, window.getSize, window.fizzyUIUtils, window.Outlayer.Item);
    }
}(window, function factory(window, EvEmitter, getSize, utils, Item) {
    'use strict';
    var console = window.console;
    var jQuery = window.jQuery;
    var noop = function() {};
    var GUID = 0;
    var instances = {};

    function Outlayer(element, options) {
        var queryElement = utils.getQueryElement(element);
        if (!queryElement) {
            if (console) {
                console.error('Bad element for ' + this.constructor.namespace + ': ' + (queryElement || element));
            }
            return;
        }
        this.element = queryElement;
        if (jQuery) {
            this.$element = jQuery(this.element);
        }
        this.options = utils.extend({}, this.constructor.defaults);
        this.option(options);
        var id = ++GUID;
        this.element.outlayerGUID = id;
        instances[id] = this;
        this._create();
        var isInitLayout = this._getOption('initLayout');
        if (isInitLayout) {
            this.layout();
        }
    }
    Outlayer.namespace = 'outlayer';
    Outlayer.Item = Item;
    Outlayer.defaults = {
        containerStyle: {
            position: 'relative'
        },
        initLayout: true,
        originLeft: true,
        originTop: true,
        resize: true,
        resizeContainer: true,
        transitionDuration: '0.4s',
        hiddenStyle: {
            opacity: 0,
            transform: 'scale(0.001)'
        },
        visibleStyle: {
            opacity: 1,
            transform: 'scale(1)'
        }
    };
    var proto = Outlayer.prototype;
    utils.extend(proto, EvEmitter.prototype);
    proto.option = function(opts) {
        utils.extend(this.options, opts);
    };
    proto._getOption = function(option) {
        var oldOption = this.constructor.compatOptions[option];
        return oldOption && this.options[oldOption] !== undefined ? this.options[oldOption] : this.options[option];
    };
    Outlayer.compatOptions = {
        initLayout: 'isInitLayout',
        horizontal: 'isHorizontal',
        layoutInstant: 'isLayoutInstant',
        originLeft: 'isOriginLeft',
        originTop: 'isOriginTop',
        resize: 'isResizeBound',
        resizeContainer: 'isResizingContainer'
    };
    proto._create = function() {
        this.reloadItems();
        this.stamps = [];
        this.stamp(this.options.stamp);
        utils.extend(this.element.style, this.options.containerStyle);
        var canBindResize = this._getOption('resize');
        if (canBindResize) {
            this.bindResize();
        }
    };
    proto.reloadItems = function() {
        this.items = this._itemize(this.element.children);
    };
    proto._itemize = function(elems) {
        var itemElems = this._filterFindItemElements(elems);
        var Item = this.constructor.Item;
        var items = [];
        for (var i = 0; i < itemElems.length; i++) {
            var elem = itemElems[i];
            var item = new Item(elem, this);
            items.push(item);
        }
        return items;
    };
    proto._filterFindItemElements = function(elems) {
        return utils.filterFindElements(elems, this.options.itemSelector);
    };
    proto.getItemElements = function() {
        return this.items.map(function(item) {
            return item.element;
        });
    };
    proto.layout = function() {
        this._resetLayout();
        this._manageStamps();
        var layoutInstant = this._getOption('layoutInstant');
        var isInstant = layoutInstant !== undefined ? layoutInstant : !this._isLayoutInited;
        this.layoutItems(this.items, isInstant);
        this._isLayoutInited = true;
    };
    proto._init = proto.layout;
    proto._resetLayout = function() {
        this.getSize();
    };
    proto.getSize = function() {
        this.size = getSize(this.element);
    };
    proto._getMeasurement = function(measurement, size) {
        var option = this.options[measurement];
        var elem;
        if (!option) {
            this[measurement] = 0;
        } else {
            if (typeof option == 'string') {
                elem = this.element.querySelector(option);
            } else if (option instanceof HTMLElement) {
                elem = option;
            }
            this[measurement] = elem ? getSize(elem)[size] : option;
        }
    };
    proto.layoutItems = function(items, isInstant) {
        items = this._getItemsForLayout(items);
        this._layoutItems(items, isInstant);
        this._postLayout();
    };
    proto._getItemsForLayout = function(items) {
        return items.filter(function(item) {
            return !item.isIgnored;
        });
    };
    proto._layoutItems = function(items, isInstant) {
        this._emitCompleteOnItems('layout', items);
        if (!items || !items.length) {
            return;
        }
        var queue = [];
        items.forEach(function(item) {
            var position = this._getItemLayoutPosition(item);
            position.item = item;
            position.isInstant = isInstant || item.isLayoutInstant;
            queue.push(position);
        }, this);
        this._processLayoutQueue(queue);
    };
    proto._getItemLayoutPosition = function() {
        return {
            x: 0,
            y: 0
        };
    };
    proto._processLayoutQueue = function(queue) {
        this.updateStagger();
        queue.forEach(function(obj, i) {
            this._positionItem(obj.item, obj.x, obj.y, obj.isInstant, i);
        }, this);
    };
    proto.updateStagger = function() {
        var stagger = this.options.stagger;
        if (stagger === null || stagger === undefined) {
            this.stagger = 0;
            return;
        }
        this.stagger = getMilliseconds(stagger);
        return this.stagger;
    };
    proto._positionItem = function(item, x, y, isInstant, i) {
        if (isInstant) {
            item.goTo(x, y);
        } else {
            item.stagger(i * this.stagger);
            item.moveTo(x, y);
        }
    };
    proto._postLayout = function() {
        this.resizeContainer();
    };
    proto.resizeContainer = function() {
        var isResizingContainer = this._getOption('resizeContainer');
        if (!isResizingContainer) {
            return;
        }
        var size = this._getContainerSize();
        if (size) {
            this._setContainerMeasure(size.width, true);
            this._setContainerMeasure(size.height, false);
        }
    };
    proto._getContainerSize = noop;
    proto._setContainerMeasure = function(measure, isWidth) {
        if (measure === undefined) {
            return;
        }
        var elemSize = this.size;
        if (elemSize.isBorderBox) {
            measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +
                elemSize.borderLeftWidth + elemSize.borderRightWidth : elemSize.paddingBottom + elemSize.paddingTop +
                elemSize.borderTopWidth + elemSize.borderBottomWidth;
        }
        measure = Math.max(measure, 0);
        this.element.style[isWidth ? 'width' : 'height'] = measure + 'px';
    };
    proto._emitCompleteOnItems = function(eventName, items) {
        var _this = this;

        function onComplete() {
            _this.dispatchEvent(eventName + 'Complete', null, [items]);
        }
        var count = items.length;
        if (!items || !count) {
            onComplete();
            return;
        }
        var doneCount = 0;

        function tick() {
            doneCount++;
            if (doneCount == count) {
                onComplete();
            }
        }
        items.forEach(function(item) {
            item.once(eventName, tick);
        });
    };
    proto.dispatchEvent = function(type, event, args) {
        var emitArgs = event ? [event].concat(args) : args;
        this.emitEvent(type, emitArgs);
        if (jQuery) {
            this.$element = this.$element || jQuery(this.element);
            if (event) {
                var $event = jQuery.Event(event);
                $event.type = type;
                this.$element.trigger($event, args);
            } else {
                this.$element.trigger(type, args);
            }
        }
    };
    proto.ignore = function(elem) {
        var item = this.getItem(elem);
        if (item) {
            item.isIgnored = true;
        }
    };
    proto.unignore = function(elem) {
        var item = this.getItem(elem);
        if (item) {
            delete item.isIgnored;
        }
    };
    proto.stamp = function(elems) {
        elems = this._find(elems);
        if (!elems) {
            return;
        }
        this.stamps = this.stamps.concat(elems);
        elems.forEach(this.ignore, this);
    };
    proto.unstamp = function(elems) {
        elems = this._find(elems);
        if (!elems) {
            return;
        }
        elems.forEach(function(elem) {
            utils.removeFrom(this.stamps, elem);
            this.unignore(elem);
        }, this);
    };
    proto._find = function(elems) {
        if (!elems) {
            return;
        }
        if (typeof elems == 'string') {
            elems = this.element.querySelectorAll(elems);
        }
        elems = utils.makeArray(elems);
        return elems;
    };
    proto._manageStamps = function() {
        if (!this.stamps || !this.stamps.length) {
            return;
        }
        this._getBoundingRect();
        this.stamps.forEach(this._manageStamp, this);
    };
    proto._getBoundingRect = function() {
        var boundingRect = this.element.getBoundingClientRect();
        var size = this.size;
        this._boundingRect = {
            left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,
            top: boundingRect.top + size.paddingTop + size.borderTopWidth,
            right: boundingRect.right - (size.paddingRight + size.borderRightWidth),
            bottom: boundingRect.bottom - (size.paddingBottom + size.borderBottomWidth)
        };
    };
    proto._manageStamp = noop;
    proto._getElementOffset = function(elem) {
        var boundingRect = elem.getBoundingClientRect();
        var thisRect = this._boundingRect;
        var size = getSize(elem);
        var offset = {
            left: boundingRect.left - thisRect.left - size.marginLeft,
            top: boundingRect.top - thisRect.top - size.marginTop,
            right: thisRect.right - boundingRect.right - size.marginRight,
            bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom
        };
        return offset;
    };
    proto.handleEvent = utils.handleEvent;
    proto.bindResize = function() {
        window.addEventListener('resize', this);
        this.isResizeBound = true;
    };
    proto.unbindResize = function() {
        window.removeEventListener('resize', this);
        this.isResizeBound = false;
    };
    proto.onresize = function() {
        this.resize();
    };
    utils.debounceMethod(Outlayer, 'onresize', 100);
    proto.resize = function() {
        if (!this.isResizeBound || !this.needsResizeLayout()) {
            return;
        }
        this.layout();
    };
    proto.needsResizeLayout = function() {
        var size = getSize(this.element);
        var hasSizes = this.size && size;
        return hasSizes && size.innerWidth !== this.size.innerWidth;
    };
    proto.addItems = function(elems) {
        var items = this._itemize(elems);
        if (items.length) {
            this.items = this.items.concat(items);
        }
        return items;
    };
    proto.appended = function(elems) {
        var items = this.addItems(elems);
        if (!items.length) {
            return;
        }
        this.layoutItems(items, true);
        this.reveal(items);
    };
    proto.prepended = function(elems) {
        var items = this._itemize(elems);
        if (!items.length) {
            return;
        }
        var previousItems = this.items.slice(0);
        this.items = items.concat(previousItems);
        this._resetLayout();
        this._manageStamps();
        this.layoutItems(items, true);
        this.reveal(items);
        this.layoutItems(previousItems);
    };
    proto.reveal = function(items) {
        this._emitCompleteOnItems('reveal', items);
        if (!items || !items.length) {
            return;
        }
        var stagger = this.updateStagger();
        items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.reveal();
        });
    };
    proto.hide = function(items) {
        this._emitCompleteOnItems('hide', items);
        if (!items || !items.length) {
            return;
        }
        var stagger = this.updateStagger();
        items.forEach(function(item, i) {
            item.stagger(i * stagger);
            item.hide();
        });
    };
    proto.revealItemElements = function(elems) {
        var items = this.getItems(elems);
        this.reveal(items);
    };
    proto.hideItemElements = function(elems) {
        var items = this.getItems(elems);
        this.hide(items);
    };
    proto.getItem = function(elem) {
        for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            if (item.element == elem) {
                return item;
            }
        }
    };
    proto.getItems = function(elems) {
        elems = utils.makeArray(elems);
        var items = [];
        elems.forEach(function(elem) {
            var item = this.getItem(elem);
            if (item) {
                items.push(item);
            }
        }, this);
        return items;
    };
    proto.remove = function(elems) {
        var removeItems = this.getItems(elems);
        this._emitCompleteOnItems('remove', removeItems);
        if (!removeItems || !removeItems.length) {
            return;
        }
        removeItems.forEach(function(item) {
            item.remove();
            utils.removeFrom(this.items, item);
        }, this);
    };
    proto.destroy = function() {
        var style = this.element.style;
        style.height = '';
        style.position = '';
        style.width = '';
        this.items.forEach(function(item) {
            item.destroy();
        });
        this.unbindResize();
        var id = this.element.outlayerGUID;
        delete instances[id];
        delete this.element.outlayerGUID;
        if (jQuery) {
            jQuery.removeData(this.element, this.constructor.namespace);
        }
    };
    Outlayer.data = function(elem) {
        elem = utils.getQueryElement(elem);
        var id = elem && elem.outlayerGUID;
        return id && instances[id];
    };
    Outlayer.create = function(namespace, options) {
        var Layout = subclass(Outlayer);
        Layout.defaults = utils.extend({}, Outlayer.defaults);
        utils.extend(Layout.defaults, options);
        Layout.compatOptions = utils.extend({}, Outlayer.compatOptions);
        Layout.namespace = namespace;
        Layout.data = Outlayer.data;
        Layout.Item = subclass(Item);
        utils.htmlInit(Layout, namespace);
        if (jQuery && jQuery.bridget) {
            jQuery.bridget(namespace, Layout);
        }
        return Layout;
    };

    function subclass(Parent) {
        function SubClass() {
            Parent.apply(this, arguments);
        }
        SubClass.prototype = Object.create(Parent.prototype);
        SubClass.prototype.constructor = SubClass;
        return SubClass;
    }
    var msUnits = {
        ms: 1,
        s: 1000
    };

    function getMilliseconds(time) {
        if (typeof time == 'number') {
            return time;
        }
        var matches = time.match(/(^\d*\.?\d*)(\w*)/);
        var num = matches && matches[1];
        var unit = matches && matches[2];
        if (!num.length) {
            return 0;
        }
        num = parseFloat(num);
        var mult = msUnits[unit] || 1;
        return num * mult;
    }
    Outlayer.Item = Item;
    return Outlayer;
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('isotope-layout/js/item', ['outlayer/outlayer'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('outlayer'));
    } else {
        window.Isotope = window.Isotope || {};
        window.Isotope.Item = factory(window.Outlayer);
    }
}(window, function factory(Outlayer) {
    'use strict';

    function Item() {
        Outlayer.Item.apply(this, arguments);
    }
    var proto = Item.prototype = Object.create(Outlayer.Item.prototype);
    var _create = proto._create;
    proto._create = function() {
        this.id = this.layout.itemGUID++;
        _create.call(this);
        this.sortData = {};
    };
    proto.updateSortData = function() {
        if (this.isIgnored) {
            return;
        }
        this.sortData.id = this.id;
        this.sortData['original-order'] = this.id;
        this.sortData.random = Math.random();
        var getSortData = this.layout.options.getSortData;
        var sorters = this.layout._sorters;
        for (var key in getSortData) {
            var sorter = sorters[key];
            this.sortData[key] = sorter(this.element, this);
        }
    };
    var _destroy = proto.destroy;
    proto.destroy = function() {
        _destroy.apply(this, arguments);
        this.css({
            display: ''
        });
    };
    return Item;
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('isotope-layout/js/layout-mode', ['get-size/get-size', 'outlayer/outlayer'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('get-size'), require('outlayer'));
    } else {
        window.Isotope = window.Isotope || {};
        window.Isotope.LayoutMode = factory(window.getSize, window.Outlayer);
    }
}(window, function factory(getSize, Outlayer) {
    'use strict';

    function LayoutMode(isotope) {
        this.isotope = isotope;
        if (isotope) {
            this.options = isotope.options[this.namespace];
            this.element = isotope.element;
            this.items = isotope.filteredItems;
            this.size = isotope.size;
        }
    }
    var proto = LayoutMode.prototype;
    var facadeMethods = ['_resetLayout', '_getItemLayoutPosition', '_manageStamp', '_getContainerSize', '_getElementOffset', 'needsResizeLayout', '_getOption'];
    facadeMethods.forEach(function(methodName) {
        proto[methodName] = function() {
            return Outlayer.prototype[methodName].apply(this.isotope, arguments);
        };
    });
    proto.needsVerticalResizeLayout = function() {
        var size = getSize(this.isotope.element);
        var hasSizes = this.isotope.size && size;
        return hasSizes && size.innerHeight != this.isotope.size.innerHeight;
    };
    proto._getMeasurement = function() {
        this.isotope._getMeasurement.apply(this, arguments);
    };
    proto.getColumnWidth = function() {
        this.getSegmentSize('column', 'Width');
    };
    proto.getRowHeight = function() {
        this.getSegmentSize('row', 'Height');
    };
    proto.getSegmentSize = function(segment, size) {
        var segmentName = segment + size;
        var outerSize = 'outer' + size;
        this._getMeasurement(segmentName, outerSize);
        if (this[segmentName]) {
            return;
        }
        var firstItemSize = this.getFirstItemSize();
        this[segmentName] = firstItemSize && firstItemSize[outerSize] || this.isotope.size['inner' + size];
    };
    proto.getFirstItemSize = function() {
        var firstItem = this.isotope.filteredItems[0];
        return firstItem && firstItem.element && getSize(firstItem.element);
    };
    proto.layout = function() {
        this.isotope.layout.apply(this.isotope, arguments);
    };
    proto.getSize = function() {
        this.isotope.getSize();
        this.size = this.isotope.size;
    };
    LayoutMode.modes = {};
    LayoutMode.create = function(namespace, options) {
        function Mode() {
            LayoutMode.apply(this, arguments);
        }
        Mode.prototype = Object.create(proto);
        Mode.prototype.constructor = Mode;
        if (options) {
            Mode.options = options;
        }
        Mode.prototype.namespace = namespace;
        LayoutMode.modes[namespace] = Mode;
        return Mode;
    };
    return LayoutMode;
}));
/*!
 * Masonry v4.2.1
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('masonry-layout/masonry', ['outlayer/outlayer', 'get-size/get-size'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('outlayer'), require('get-size'));
    } else {
        window.Masonry = factory(window.Outlayer, window.getSize);
    }
}(window, function factory(Outlayer, getSize) {
    var Masonry = Outlayer.create('masonry');
    Masonry.compatOptions.fitWidth = 'isFitWidth';
    var proto = Masonry.prototype;
    proto._resetLayout = function() {
        this.getSize();
        this._getMeasurement('columnWidth', 'outerWidth');
        this._getMeasurement('gutter', 'outerWidth');
        this.measureColumns();
        this.colYs = [];
        for (var i = 0; i < this.cols; i++) {
            this.colYs.push(0);
        }
        this.maxY = 0;
        this.horizontalColIndex = 0;
    };
    proto.measureColumns = function() {
        this.getContainerWidth();
        if (!this.columnWidth) {
            var firstItem = this.items[0];
            var firstItemElem = firstItem && firstItem.element;
            this.columnWidth = firstItemElem && getSize(firstItemElem).outerWidth || this.containerWidth;
        }
        var columnWidth = this.columnWidth += this.gutter;
        var containerWidth = this.containerWidth + this.gutter;
        var cols = containerWidth / columnWidth;
        var excess = columnWidth - containerWidth % columnWidth;
        var mathMethod = excess && excess < 1 ? 'round' : 'floor';
        cols = Math[mathMethod](cols);
        this.cols = Math.max(cols, 1);
    };
    proto.getContainerWidth = function() {
        var isFitWidth = this._getOption('fitWidth');
        var container = isFitWidth ? this.element.parentNode : this.element;
        var size = getSize(container);
        this.containerWidth = size && size.innerWidth;
    };
    proto._getItemLayoutPosition = function(item) {
        item.getSize();
        var remainder = item.size.outerWidth % this.columnWidth;
        var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';
        var colSpan = Math[mathMethod](item.size.outerWidth / this.columnWidth);
        colSpan = Math.min(colSpan, this.cols);
        var colPosMethod = this.options.horizontalOrder ? '_getHorizontalColPosition' : '_getTopColPosition';
        var colPosition = this[colPosMethod](colSpan, item);
        var position = {
            x: this.columnWidth * colPosition.col,
            y: colPosition.y
        };
        var setHeight = colPosition.y + item.size.outerHeight;
        var setMax = colSpan + colPosition.col;
        for (var i = colPosition.col; i < setMax; i++) {
            this.colYs[i] = setHeight;
        }
        return position;
    };
    proto._getTopColPosition = function(colSpan) {
        var colGroup = this._getTopColGroup(colSpan);
        var minimumY = Math.min.apply(Math, colGroup);
        return {
            col: colGroup.indexOf(minimumY),
            y: minimumY,
        };
    };
    proto._getTopColGroup = function(colSpan) {
        if (colSpan < 2) {
            return this.colYs;
        }
        var colGroup = [];
        var groupCount = this.cols + 1 - colSpan;
        for (var i = 0; i < groupCount; i++) {
            colGroup[i] = this._getColGroupY(i, colSpan);
        }
        return colGroup;
    };
    proto._getColGroupY = function(col, colSpan) {
        if (colSpan < 2) {
            return this.colYs[col];
        }
        var groupColYs = this.colYs.slice(col, col + colSpan);
        return Math.max.apply(Math, groupColYs);
    };
    proto._getHorizontalColPosition = function(colSpan, item) {
        var col = this.horizontalColIndex % this.cols;
        var isOver = colSpan > 1 && col + colSpan > this.cols;
        col = isOver ? 0 : col;
        var hasSize = item.size.outerWidth && item.size.outerHeight;
        this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;
        return {
            col: col,
            y: this._getColGroupY(col, colSpan),
        };
    };
    proto._manageStamp = function(stamp) {
        var stampSize = getSize(stamp);
        var offset = this._getElementOffset(stamp);
        var isOriginLeft = this._getOption('originLeft');
        var firstX = isOriginLeft ? offset.left : offset.right;
        var lastX = firstX + stampSize.outerWidth;
        var firstCol = Math.floor(firstX / this.columnWidth);
        firstCol = Math.max(0, firstCol);
        var lastCol = Math.floor(lastX / this.columnWidth);
        lastCol -= lastX % this.columnWidth ? 0 : 1;
        lastCol = Math.min(this.cols - 1, lastCol);
        var isOriginTop = this._getOption('originTop');
        var stampMaxY = (isOriginTop ? offset.top : offset.bottom) +
            stampSize.outerHeight;
        for (var i = firstCol; i <= lastCol; i++) {
            this.colYs[i] = Math.max(stampMaxY, this.colYs[i]);
        }
    };
    proto._getContainerSize = function() {
        this.maxY = Math.max.apply(Math, this.colYs);
        var size = {
            height: this.maxY
        };
        if (this._getOption('fitWidth')) {
            size.width = this._getContainerFitWidth();
        }
        return size;
    };
    proto._getContainerFitWidth = function() {
        var unusedCols = 0;
        var i = this.cols;
        while (--i) {
            if (this.colYs[i] !== 0) {
                break;
            }
            unusedCols++;
        }
        return (this.cols - unusedCols) * this.columnWidth - this.gutter;
    };
    proto.needsResizeLayout = function() {
        var previousWidth = this.containerWidth;
        this.getContainerWidth();
        return previousWidth != this.containerWidth;
    };
    return Masonry;
}));
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * https://masonry.desandro.com
 */
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('isotope-layout/js/layout-modes/masonry', ['../layout-mode', 'masonry-layout/masonry'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('../layout-mode'), require('masonry-layout'));
    } else {
        factory(window.Isotope.LayoutMode, window.Masonry);
    }
}(window, function factory(LayoutMode, Masonry) {
    'use strict';
    var MasonryMode = LayoutMode.create('masonry');
    var proto = MasonryMode.prototype;
    var keepModeMethods = {
        _getElementOffset: true,
        layout: true,
        _getMeasurement: true
    };
    for (var method in Masonry.prototype) {
        if (!keepModeMethods[method]) {
            proto[method] = Masonry.prototype[method];
        }
    }
    var measureColumns = proto.measureColumns;
    proto.measureColumns = function() {
        this.items = this.isotope.filteredItems;
        measureColumns.call(this);
    };
    var _getOption = proto._getOption;
    proto._getOption = function(option) {
        if (option == 'fitWidth') {
            return this.options.isFitWidth !== undefined ? this.options.isFitWidth : this.options.fitWidth;
        }
        return _getOption.apply(this.isotope, arguments);
    };
    return MasonryMode;
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('isotope-layout/js/layout-modes/fit-rows', ['../layout-mode'], factory);
    } else if (typeof exports == 'object') {
        module.exports = factory(require('../layout-mode'));
    } else {
        factory(window.Isotope.LayoutMode);
    }
}(window, function factory(LayoutMode) {
    'use strict';
    var FitRows = LayoutMode.create('fitRows');
    var proto = FitRows.prototype;
    proto._resetLayout = function() {
        this.x = 0;
        this.y = 0;
        this.maxY = 0;
        this._getMeasurement('gutter', 'outerWidth');
    };
    proto._getItemLayoutPosition = function(item) {
        item.getSize();
        var itemWidth = item.size.outerWidth + this.gutter;
        var containerWidth = this.isotope.size.innerWidth + this.gutter;
        if (this.x !== 0 && itemWidth + this.x > containerWidth) {
            this.x = 0;
            this.y = this.maxY;
        }
        var position = {
            x: this.x,
            y: this.y
        };
        this.maxY = Math.max(this.maxY, this.y + item.size.outerHeight);
        this.x += itemWidth;
        return position;
    };
    proto._getContainerSize = function() {
        return {
            height: this.maxY
        };
    };
    return FitRows;
}));
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define('isotope-layout/js/layout-modes/vertical', ['../layout-mode'], factory);
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(require('../layout-mode'));
    } else {
        factory(window.Isotope.LayoutMode);
    }
}(window, function factory(LayoutMode) {
    'use strict';
    var Vertical = LayoutMode.create('vertical', {
        horizontalAlignment: 0
    });
    var proto = Vertical.prototype;
    proto._resetLayout = function() {
        this.y = 0;
    };
    proto._getItemLayoutPosition = function(item) {
        item.getSize();
        var x = (this.isotope.size.innerWidth - item.size.outerWidth) * this.options.horizontalAlignment;
        var y = this.y;
        this.y += item.size.outerHeight;
        return {
            x: x,
            y: y
        };
    };
    proto._getContainerSize = function() {
        return {
            height: this.y
        };
    };
    return Vertical;
}));
/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */
(function(window, factory) {
    if (typeof define == 'function' && define.amd) {
        define(['outlayer/outlayer', 'get-size/get-size', 'desandro-matches-selector/matches-selector', 'fizzy-ui-utils/utils', 'isotope-layout/js/item', 'isotope-layout/js/layout-mode', 'isotope-layout/js/layout-modes/masonry', 'isotope-layout/js/layout-modes/fit-rows', 'isotope-layout/js/layout-modes/vertical'], function(Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
            return factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode);
        });
    } else if (typeof module == 'object' && module.exports) {
        module.exports = factory(window, require('outlayer'), require('get-size'), require('desandro-matches-selector'), require('fizzy-ui-utils'), require('isotope-layout/js/item'), require('isotope-layout/js/layout-mode'), require('isotope-layout/js/layout-modes/masonry'), require('isotope-layout/js/layout-modes/fit-rows'), require('isotope-layout/js/layout-modes/vertical'));
    } else {
        window.Isotope = factory(window, window.Outlayer, window.getSize, window.matchesSelector, window.fizzyUIUtils, window.Isotope.Item, window.Isotope.LayoutMode);
    }
}(window, function factory(window, Outlayer, getSize, matchesSelector, utils, Item, LayoutMode) {
    var jQuery = window.jQuery;
    var trim = String.prototype.trim ? function(str) {
        return str.trim();
    } : function(str) {
        return str.replace(/^\s+|\s+$/g, '');
    };
    var Isotope = Outlayer.create('isotope', {
        layoutMode: 'masonry',
        isJQueryFiltering: true,
        sortAscending: true
    });
    Isotope.Item = Item;
    Isotope.LayoutMode = LayoutMode;
    var proto = Isotope.prototype;
    proto._create = function() {
        this.itemGUID = 0;
        this._sorters = {};
        this._getSorters();
        Outlayer.prototype._create.call(this);
        this.modes = {};
        this.filteredItems = this.items;
        this.sortHistory = ['original-order'];
        for (var name in LayoutMode.modes) {
            this._initLayoutMode(name);
        }
    };
    proto.reloadItems = function() {
        this.itemGUID = 0;
        Outlayer.prototype.reloadItems.call(this);
    };
    proto._itemize = function() {
        var items = Outlayer.prototype._itemize.apply(this, arguments);
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.id = this.itemGUID++;
        }
        this._updateItemsSortData(items);
        return items;
    };
    proto._initLayoutMode = function(name) {
        var Mode = LayoutMode.modes[name];
        var initialOpts = this.options[name] || {};
        this.options[name] = Mode.options ? utils.extend(Mode.options, initialOpts) : initialOpts;
        this.modes[name] = new Mode(this);
    };
    proto.layout = function() {
        if (!this._isLayoutInited && this._getOption('initLayout')) {
            this.arrange();
            return;
        }
        this._layout();
    };
    proto._layout = function() {
        var isInstant = this._getIsInstant();
        this._resetLayout();
        this._manageStamps();
        this.layoutItems(this.filteredItems, isInstant);
        this._isLayoutInited = true;
    };
    proto.arrange = function(opts) {
        this.option(opts);
        this._getIsInstant();
        var filtered = this._filter(this.items);
        this.filteredItems = filtered.matches;
        this._bindArrangeComplete();
        if (this._isInstant) {
            this._noTransition(this._hideReveal, [filtered]);
        } else {
            this._hideReveal(filtered);
        }
        this._sort();
        this._layout();
    };
    proto._init = proto.arrange;
    proto._hideReveal = function(filtered) {
        this.reveal(filtered.needReveal);
        this.hide(filtered.needHide);
    };
    proto._getIsInstant = function() {
        var isLayoutInstant = this._getOption('layoutInstant');
        var isInstant = isLayoutInstant !== undefined ? isLayoutInstant : !this._isLayoutInited;
        this._isInstant = isInstant;
        return isInstant;
    };
    proto._bindArrangeComplete = function() {
        var isLayoutComplete, isHideComplete, isRevealComplete;
        var _this = this;

        function arrangeParallelCallback() {
            if (isLayoutComplete && isHideComplete && isRevealComplete) {
                _this.dispatchEvent('arrangeComplete', null, [_this.filteredItems]);
            }
        }
        this.once('layoutComplete', function() {
            isLayoutComplete = true;
            arrangeParallelCallback();
        });
        this.once('hideComplete', function() {
            isHideComplete = true;
            arrangeParallelCallback();
        });
        this.once('revealComplete', function() {
            isRevealComplete = true;
            arrangeParallelCallback();
        });
    };
    proto._filter = function(items) {
        var filter = this.options.filter;
        filter = filter || '*';
        var matches = [];
        var hiddenMatched = [];
        var visibleUnmatched = [];
        var test = this._getFilterTest(filter);
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (item.isIgnored) {
                continue;
            }
            var isMatched = test(item);
            if (isMatched) {
                matches.push(item);
            }
            if (isMatched && item.isHidden) {
                hiddenMatched.push(item);
            } else if (!isMatched && !item.isHidden) {
                visibleUnmatched.push(item);
            }
        }
        return {
            matches: matches,
            needReveal: hiddenMatched,
            needHide: visibleUnmatched
        };
    };
    proto._getFilterTest = function(filter) {
        if (jQuery && this.options.isJQueryFiltering) {
            return function(item) {
                return jQuery(item.element).is(filter);
            };
        }
        if (typeof filter == 'function') {
            return function(item) {
                return filter(item.element);
            };
        }
        return function(item) {
            return matchesSelector(item.element, filter);
        };
    };
    proto.updateSortData = function(elems) {
        var items;
        if (elems) {
            elems = utils.makeArray(elems);
            items = this.getItems(elems);
        } else {
            items = this.items;
        }
        this._getSorters();
        this._updateItemsSortData(items);
    };
    proto._getSorters = function() {
        var getSortData = this.options.getSortData;
        for (var key in getSortData) {
            var sorter = getSortData[key];
            this._sorters[key] = mungeSorter(sorter);
        }
    };
    proto._updateItemsSortData = function(items) {
        var len = items && items.length;
        for (var i = 0; len && i < len; i++) {
            var item = items[i];
            item.updateSortData();
        }
    };
    var mungeSorter = (function() {
        function mungeSorter(sorter) {
            if (typeof sorter != 'string') {
                return sorter;
            }
            var args = trim(sorter).split(' ');
            var query = args[0];
            var attrMatch = query.match(/^\[(.+)\]$/);
            var attr = attrMatch && attrMatch[1];
            var getValue = getValueGetter(attr, query);
            var parser = Isotope.sortDataParsers[args[1]];
            sorter = parser ? function(elem) {
                return elem && parser(getValue(elem));
            } : function(elem) {
                return elem && getValue(elem);
            };
            return sorter;
        }

        function getValueGetter(attr, query) {
            if (attr) {
                return function getAttribute(elem) {
                    return elem.getAttribute(attr);
                };
            }
            return function getChildText(elem) {
                var child = elem.querySelector(query);
                return child && child.textContent;
            };
        }
        return mungeSorter;
    })();
    Isotope.sortDataParsers = {
        'parseInt': function(val) {
            return parseInt(val, 10);
        },
        'parseFloat': function(val) {
            return parseFloat(val);
        }
    };
    proto._sort = function() {
        if (!this.options.sortBy) {
            return;
        }
        var sortBys = utils.makeArray(this.options.sortBy);
        if (!this._getIsSameSortBy(sortBys)) {
            this.sortHistory = sortBys.concat(this.sortHistory);
        }
        var itemSorter = getItemSorter(this.sortHistory, this.options.sortAscending);
        this.filteredItems.sort(itemSorter);
    };
    proto._getIsSameSortBy = function(sortBys) {
        for (var i = 0; i < sortBys.length; i++) {
            if (sortBys[i] != this.sortHistory[i]) {
                return false;
            }
        }
        return true;
    };

    function getItemSorter(sortBys, sortAsc) {
        return function sorter(itemA, itemB) {
            for (var i = 0; i < sortBys.length; i++) {
                var sortBy = sortBys[i];
                var a = itemA.sortData[sortBy];
                var b = itemB.sortData[sortBy];
                if (a > b || a < b) {
                    var isAscending = sortAsc[sortBy] !== undefined ? sortAsc[sortBy] : sortAsc;
                    var direction = isAscending ? 1 : -1;
                    return (a > b ? 1 : -1) * direction;
                }
            }
            return 0;
        };
    }
    proto._mode = function() {
        var layoutMode = this.options.layoutMode;
        var mode = this.modes[layoutMode];
        if (!mode) {
            throw new Error('No layout mode: ' + layoutMode);
        }
        mode.options = this.options[layoutMode];
        return mode;
    };
    proto._resetLayout = function() {
        Outlayer.prototype._resetLayout.call(this);
        this._mode()._resetLayout();
    };
    proto._getItemLayoutPosition = function(item) {
        return this._mode()._getItemLayoutPosition(item);
    };
    proto._manageStamp = function(stamp) {
        this._mode()._manageStamp(stamp);
    };
    proto._getContainerSize = function() {
        return this._mode()._getContainerSize();
    };
    proto.needsResizeLayout = function() {
        return this._mode().needsResizeLayout();
    };
    proto.appended = function(elems) {
        var items = this.addItems(elems);
        if (!items.length) {
            return;
        }
        var filteredItems = this._filterRevealAdded(items);
        this.filteredItems = this.filteredItems.concat(filteredItems);
    };
    proto.prepended = function(elems) {
        var items = this._itemize(elems);
        if (!items.length) {
            return;
        }
        this._resetLayout();
        this._manageStamps();
        var filteredItems = this._filterRevealAdded(items);
        this.layoutItems(this.filteredItems);
        this.filteredItems = filteredItems.concat(this.filteredItems);
        this.items = items.concat(this.items);
    };
    proto._filterRevealAdded = function(items) {
        var filtered = this._filter(items);
        this.hide(filtered.needHide);
        this.reveal(filtered.matches);
        this.layoutItems(filtered.matches, true);
        return filtered.matches;
    };
    proto.insert = function(elems) {
        var items = this.addItems(elems);
        if (!items.length) {
            return;
        }
        var i, item;
        var len = items.length;
        for (i = 0; i < len; i++) {
            item = items[i];
            this.element.appendChild(item.element);
        }
        var filteredInsertItems = this._filter(items).matches;
        for (i = 0; i < len; i++) {
            items[i].isLayoutInstant = true;
        }
        this.arrange();
        for (i = 0; i < len; i++) {
            delete items[i].isLayoutInstant;
        }
        this.reveal(filteredInsertItems);
    };
    var _remove = proto.remove;
    proto.remove = function(elems) {
        elems = utils.makeArray(elems);
        var removeItems = this.getItems(elems);
        _remove.call(this, elems);
        var len = removeItems && removeItems.length;
        for (var i = 0; len && i < len; i++) {
            var item = removeItems[i];
            utils.removeFrom(this.filteredItems, item);
        }
    };
    proto.shuffle = function() {
        for (var i = 0; i < this.items.length; i++) {
            var item = this.items[i];
            item.sortData.random = Math.random();
        }
        this.options.sortBy = 'random';
        this._sort();
        this._layout();
    };
    proto._noTransition = function(fn, args) {
        var transitionDuration = this.options.transitionDuration;
        this.options.transitionDuration = 0;
        var returnValue = fn.apply(this, args);
        this.options.transitionDuration = transitionDuration;
        return returnValue;
    };
    proto.getFilteredItemElements = function() {
        return this.filteredItems.map(function(item) {
            return item.element;
        });
    };
    return Isotope;
}));
class Sticky {
    constructor(selector = '', options = {}) {
        this.selector = selector;
        this.elements = [];
        this.version = '1.3.0';
        this.vp = this.getViewportSize();
        this.body = document.querySelector('body');
        this.options = {
            wrap: options.wrap || false,
            wrapWith: options.wrapWith || '<span></span>',
            marginTop: options.marginTop || 0,
            marginBottom: options.marginBottom || 0,
            stickyFor: options.stickyFor || 0,
            stickyClass: options.stickyClass || null,
            stickyContainer: options.stickyContainer || 'body',
        };
        this.updateScrollTopPosition = this.updateScrollTopPosition.bind(this);
        this.updateScrollTopPosition();
        window.addEventListener('load', this.updateScrollTopPosition);
        window.addEventListener('scroll', this.updateScrollTopPosition);
        this.run();
    }
    run() {
        const pageLoaded = setInterval(() => {
            if (document.readyState === 'complete') {
                clearInterval(pageLoaded);
                const elements = document.querySelectorAll(this.selector);
                this.forEach(elements, (element) => this.renderElement(element));
            }
        }, 10);
    }
    renderElement(element) {
        element.sticky = {};
        element.sticky.active = false;
        element.sticky.marginTop = parseInt(element.getAttribute('data-margin-top')) || this.options.marginTop;
        element.sticky.marginBottom = parseInt(element.getAttribute('data-margin-bottom')) || this.options.marginBottom;
        element.sticky.stickyFor = parseInt(element.getAttribute('data-sticky-for')) || this.options.stickyFor;
        element.sticky.stickyClass = element.getAttribute('data-sticky-class') || this.options.stickyClass;
        element.sticky.wrap = element.hasAttribute('data-sticky-wrap') ? true : this.options.wrap;
        element.sticky.stickyContainer = this.options.stickyContainer;
        element.sticky.container = this.getStickyContainer(element);
        element.sticky.container.rect = this.getRectangle(element.sticky.container);
        element.sticky.rect = this.getRectangle(element);
        if (element.tagName.toLowerCase() === 'img') {
            element.onload = () => element.sticky.rect = this.getRectangle(element);
        }
        if (element.sticky.wrap) {
            this.wrapElement(element);
        }
        this.activate(element);
    }
    wrapElement(element) {
        element.insertAdjacentHTML('beforebegin', element.getAttribute('data-sticky-wrapWith') || this.options.wrapWith);
        element.previousSibling.appendChild(element);
    }
    activate(element) {
        if (((element.sticky.rect.top + element.sticky.rect.height) < (element.sticky.container.rect.top + element.sticky.container.rect.height)) && (element.sticky.stickyFor < this.vp.width) && !element.sticky.active) {
            element.sticky.active = true;
        }
        if (this.elements.indexOf(element) < 0) {
            this.elements.push(element);
        }
        if (!element.sticky.resizeEvent) {
            this.initResizeEvents(element);
            element.sticky.resizeEvent = true;
        }
        if (!element.sticky.scrollEvent) {
            this.initScrollEvents(element);
            element.sticky.scrollEvent = true;
        }
        this.setPosition(element);
    }
    initResizeEvents(element) {
        element.sticky.resizeListener = () => this.onResizeEvents(element);
        window.addEventListener('resize', element.sticky.resizeListener);
    }
    destroyResizeEvents(element) {
        window.removeEventListener('resize', element.sticky.resizeListener);
    }
    onResizeEvents(element) {
        this.vp = this.getViewportSize();
        element.sticky.rect = this.getRectangle(element);
        element.sticky.container.rect = this.getRectangle(element.sticky.container);
        if (((element.sticky.rect.top + element.sticky.rect.height) < (element.sticky.container.rect.top + element.sticky.container.rect.height)) && (element.sticky.stickyFor < this.vp.width) && !element.sticky.active) {
            element.sticky.active = true;
        } else if (((element.sticky.rect.top + element.sticky.rect.height) >= (element.sticky.container.rect.top + element.sticky.container.rect.height)) || element.sticky.stickyFor >= this.vp.width && element.sticky.active) {
            element.sticky.active = false;
        }
        this.setPosition(element);
    }
    initScrollEvents(element) {
        element.sticky.scrollListener = () => this.onScrollEvents(element);
        window.addEventListener('scroll', element.sticky.scrollListener);
    }
    destroyScrollEvents(element) {
        window.removeEventListener('scroll', element.sticky.scrollListener);
    }
    onScrollEvents(element) {
        if (element.sticky && element.sticky.active) {
            this.setPosition(element);
        }
    }
    setPosition(element) {
        this.css(element, {
            position: '',
            width: '',
            top: '',
            left: ''
        });
        if ((this.vp.height < element.sticky.rect.height) || !element.sticky.active) {
            return;
        }
        if (!element.sticky.rect.width) {
            element.sticky.rect = this.getRectangle(element);
        }
        if (element.sticky.wrap) {
            this.css(element.parentNode, {
                display: 'block',
                width: element.sticky.rect.width + 'px',
                height: element.sticky.rect.height + 'px',
            });
        }
        if (element.sticky.rect.top === 0 && element.sticky.container === this.body) {
            this.css(element, {
                position: 'fixed',
                top: element.sticky.rect.top + 'px',
                left: element.sticky.rect.left + 'px',
                width: element.sticky.rect.width + 'px',
            });
            if (element.sticky.stickyClass) {
                element.classList.add(element.sticky.stickyClass);
            }
        } else if (this.scrollTop > (element.sticky.rect.top - element.sticky.marginTop)) {
            this.css(element, {
                position: 'fixed',
                width: element.sticky.rect.width + 'px',
                left: element.sticky.rect.left + 'px',
            });
            if ((this.scrollTop + element.sticky.rect.height + element.sticky.marginTop) > (element.sticky.container.rect.top + element.sticky.container.offsetHeight - element.sticky.marginBottom)) {
                if (element.sticky.stickyClass) {
                    element.classList.remove(element.sticky.stickyClass);
                }
                this.css(element, {
                    top: (element.sticky.container.rect.top + element.sticky.container.offsetHeight) - (this.scrollTop + element.sticky.rect.height + element.sticky.marginBottom) + 'px'
                });
            } else {
                if (element.sticky.stickyClass) {
                    element.classList.add(element.sticky.stickyClass);
                }
                this.css(element, {
                    top: element.sticky.marginTop + 'px'
                });
            }
        } else {
            if (element.sticky.stickyClass) {
                element.classList.remove(element.sticky.stickyClass);
            }
            this.css(element, {
                position: '',
                width: '',
                top: '',
                left: ''
            });
            if (element.sticky.wrap) {
                this.css(element.parentNode, {
                    display: '',
                    width: '',
                    height: ''
                });
            }
        }
    }
    update() {
        this.forEach(this.elements, (element) => {
            element.sticky.rect = this.getRectangle(element);
            element.sticky.container.rect = this.getRectangle(element.sticky.container);
            this.activate(element);
            this.setPosition(element);
        });
    }
    destroy() {
        window.removeEventListener('load', this.updateScrollTopPosition);
        window.removeEventListener('scroll', this.updateScrollTopPosition);
        this.forEach(this.elements, (element) => {
            this.destroyResizeEvents(element);
            this.destroyScrollEvents(element);
            delete element.sticky;
        });
    }
    getStickyContainer(element) {
        let container = element.parentNode;
        while (!container.hasAttribute('data-sticky-container') && !container.parentNode.querySelector(element.sticky.stickyContainer) && container !== this.body) {
            container = container.parentNode;
        }
        return container;
    }
    getRectangle(element) {
        this.css(element, {
            position: '',
            width: '',
            top: '',
            left: ''
        });
        const width = Math.max(element.offsetWidth, element.clientWidth, element.scrollWidth);
        const height = Math.max(element.offsetHeight, element.clientHeight, element.scrollHeight);
        let top = 0;
        let left = 0;
        do {
            top += element.offsetTop || 0;
            left += element.offsetLeft || 0;
            element = element.offsetParent;
        } while (element);
        return {
            top,
            left,
            width,
            height
        };
    }
    getViewportSize() {
        return {
            width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),
            height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),
        };
    }
    updateScrollTopPosition() {
        this.scrollTop = (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) || 0;
    }
    forEach(array, callback) {
        for (let i = 0, len = array.length; i < len; i++) {
            callback(array[i]);
        }
    }
    css(element, properties) {
        for (let property in properties) {
            if (properties.hasOwnProperty(property)) {
                element.style[property] = properties[property];
            }
        }
    }
}
((root, factory) => {
    if (typeof exports !== 'undefined') {
        module.exports = factory;
    } else if (typeof define === 'function' && define.amd) {
        define([], function() {
            return factory;
        });
    } else {
        root.Sticky = factory;
    }
})(this, Sticky);
(function($) {
    'use strict';
    var elementor = 0;
    if (window.location.href.indexOf('/?elementor-preview=') > -1) {
        elementor = 1;
    }
    $('.set-sticky-container').attr('data-sticky-container', '');
    $('.set-sticky-margintop100').attr('data-margin-top', '100');
    $('.login-remember label').append('<span></span>');
    $('.mphb_sc_account .mphb-account-menu ul li a').each(function() {
        if ($(this).attr('href') === location.href) {
            $(this).parent('li').addClass('active');
        }
    })
    $(document).ready(function() {
        $(".knsl-preloader").animate({
            opacity: 1
        }, {
            duration: 400,
        });
        setTimeout(function() {
            $('.knsl-preloader-number').each(function() {
                var $this = $(this),
                    countTo = $this.attr('data-count');
                $({
                    countNum: $this.text()
                }).animate({
                    countNum: countTo
                }, {
                    duration: 800,
                    easing: 'swing',
                    step: function() {
                        $this.text(Math.floor(this.countNum));
                    },
                });
            });
            $(".knsl-preloader-bar").animate({
                width: '100%'
            }, {
                duration: 800,
                complete: function() {
                    $(".knsl-preloader-frame").addClass('knsl-hidden')
                }
            });
        }, 1000);
    });

    function moveHeaderBtnMobile() {
        if (document.documentElement.clientWidth <= 992) {
            if (!$('.elementor-widget-kinsley-header-menu .knsl-btn').length) {
                $('.elementor-widget-kinsley-header-menu .elementor-widget-container').append($('.elementor-widget-kinsley-header-buttons .knsl-btn').prop('outerHTML'));
            }
        } else {
            if ($('.elementor-widget-kinsley-header-menu .knsl-btn').length) {
                $('.elementor-widget-kinsley-header-menu .knsl-btn').remove();
            }
        }
    }
    moveHeaderBtnMobile();
    window.addEventListener("resize", function() {
        moveHeaderBtnMobile();
    });
    $('.knsl-btn-book').on("click", function() {
        $('.knsl-popup-frame-1').toggleClass('knsl-active');
        return false;
    });
    var popup_id = $('.knsl-popup-frame-2').attr('id');
    $('a[href="#' + popup_id + '"]').on("click", function() {
        $('.knsl-popup-frame-2').toggleClass('knsl-active');
        return false;
    });
    $('.knsl-close-popup').on("click", function() {
        $('.knsl-popup-frame').removeClass('knsl-active')
    });
    $('.knsl-side-menu a , .knsk-s-s').on("click", function() {
        $(".knsl-active").removeClass("knsl-active");
        $(this).closest('li a').addClass("knsl-active");
        var theClass = $(this).attr("class");
        $('.' + theClass).parent('li a').addClass('knsl-active');
        $('html, body').stop().animate({
            scrollTop: $($(this).attr('href')).offset().top - 170
        }, 600);
        return false;
    });
    $(window).on('scroll', parallax)

    function parallax() {
        var s = $(window).scrollTop();

        function parallaxDown(e, t) {
            $(e).css({
                'position': 'relative',
                'top': (s * t) + 'px'
            });
        }
        parallaxDown('.knsl-parallax', .4);
    }
    $('.knsl-menu-btn').on('click', function() {
        $('.knsl-menu-btn , .knsl-right-side, .elementor-widget-kinsley-header-menu').toggleClass('knsl-active');
    });
    $('.knsl-menu ul li a').on('click', function() {
        $('.knsl-menu-btn , .knsl-right-side, .elementor-widget-kinsley-header-menu').removeClass('knsl-active');
    });
    $("<i></i>").insertAfter('.knsl-menu nav > ul > li.menu-item-has-children > a');
    $('.knsl-menu ul li a').on('click', function() {
        $('.knsl-menu-btn , .knsl-right-side, .elementor-widget-kinsley-header-menu').removeClass('knsl-active');
    });
    $(window).on('scroll', function() {
        if ($(this).scrollTop() > 100) {
            $('.knsl-top-bar').addClass('fixed');
        } else {
            $('.knsl-top-bar').removeClass('fixed');
        }
    });
    if ($(window).width() < 992) {
        $('.knsl-menu ul li i').on('click', function() {
            if ($(this).hasClass('active')) {
                $(this).removeClass('active');
                $(this).closest('li').removeClass('active');
                $(this).closest('li').find('> ul').slideUp();
            } else {
                $(this).addClass('active');
                $(this).closest('li').addClass('active');
                $(this).closest('li').find('> ul').slideDown();
            }
        });
    }
    $('.knsl-cart').on('click', function() {
        $('.knsl-minicart-window').toggleClass('knsl-active');
        $('.knsl-menu-btn, .knsl-right-side, .elementor-widget-kinsley-header-menu, .knsl-popup-frame').removeClass('knsl-active');
    });
    $('.woocommerce-mini-cart__buttons a').on('click', function() {
        $('.knsl-minicart-window').removeClass('knsl-active');
    });
    $(document).ready(function() {
        $('select').not('[class^="datepick"]').select2();
    });
    $("<span></span>").insertAfter($(".mphb-checkbox-label input[type='checkbox'], .mphb-terms-and-conditions-accept label input[type='checkbox']"));
    $('.datepicker-here').datepicker({
        language: 'en',
        minDate: new Date()
    })
    var swiper = new Swiper('.knsl-about-slider', {
        slidesPerView: 2,
        spaceBetween: 20,
        parallax: true,
        autoHeight: true,
        updateOnWindowResize: true,
        initialSlide: 1,
        centeredSlides: true,
        speed: 800,
        pagination: {
            el: '.knsl-about-slider-1-pagination',
            type: "fraction",
        },
        navigation: {
            prevEl: '.knsl-about-slider-1-prev',
            nextEl: '.knsl-about-slider-1-next',
        },
        breakpoints: {
            0: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
            1600: {
                slidesPerView: 3,
            },
        },
    });
    var swiper = new Swiper('.knsl-testimonials-slider', {
        slidesPerView: 1,
        spaceBetween: 20,
        parallax: true,
        autoHeight: true,
        updateOnWindowResize: true,
        initialSlide: 1,
        centeredSlides: true,
        speed: 800,
        pagination: {
            el: '.knsl-testimonials-slider-1-pagination',
            type: "fraction",
        },
        navigation: {
            prevEl: '.knsl-testimonials-slider-1-prev',
            nextEl: '.knsl-testimonials-slider-1-next',
        },
    });
    var swiper = new Swiper('.knsl-uni-slider', {
        slidesPerView: 3,
        spaceBetween: 20,
        parallax: true,
        autoHeight: true,
        updateOnWindowResize: true,
        speed: 800,
        pagination: {
            el: '.knsl-uni-slider-pagination',
            type: "fraction",
        },
        navigation: {
            prevEl: '.knsl-uni-slider-prev',
            nextEl: '.knsl-uni-slider-next',
        },
        breakpoints: {
            0: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
            1200: {
                slidesPerView: 3,
            },
        },
    });
    var swiper1 = new Swiper(".knsl-rd-slider-1", {
        loop: true,
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesVisibility: true,
        watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".knsl-rd-slider-2", {
        loop: true,
        effect: 'fade',
        parallax: true,
        thumbs: {
            swiper: swiper1,
        },
    });
    $(window).scroll(function() {
        $('.knsl-scroll-animation').each(function(i) {
            var bottom_of_object = $(this).offset().top - 380 + $(this).outerHeight();
            var bottom_of_window = $(window).scrollTop() + $(window).height();
            if (bottom_of_window > bottom_of_object) {
                $(this).addClass('knsl-active-el');
            }
            if (bottom_of_window < bottom_of_object) {
                $(this).removeClass('knsl-active-el');
            }
        });
    });
    var count = 0;
    if ($('.knsl-counters-card').length) {
        $(window).scroll(function() {
            var oTop = $('.knsl-counters-card').offset().top - window.innerHeight;
            if (count == 0 && $(window).scrollTop() > oTop) {
                $('.knsl-counter-number').each(function() {
                    var $this = $(this),
                        countTo = $this.attr('data-count');
                    $({
                        countNum: $this.text()
                    }).animate({
                        countNum: countTo
                    }, {
                        duration: 3000,
                        easing: 'swing',
                        step: function() {
                            $this.text(Math.floor(this.countNum));
                        },
                        complete: function() {
                            $this.text(this.countNum);
                        }
                    });
                });
                count = 1;
            }
        });
    }
    var sticky = new Sticky('.knsl-sticky');
    if ($(window).width() < 992) {
        sticky.destroy();
    }
    $(".knsl-lock").on('click', function() {
        $('.knsl-map').toggleClass('knsl-active');
        $('.knsl-lock').toggleClass('knsl-active');
        $('.knsl-lock .fas').toggleClass('fa-unlock');
    });
    if ($("div").is("#map")) {
        var map_zoom = $('#map').data('zoom');
        var map_lng = $('#map').data('lng');
        var map_lat = $('#map').data('lat');
        mapboxgl.accessToken = 'pk.eyJ1Ijoic3Rvc2NhciIsImEiOiJja2VpbDE4b2UwbDg3MnNwY2d3YzlvcDV5In0.e26tLedpKwxrkOmPkWhQlg';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/stoscar/ckr3l0wj625iz17mhhfrwf7oo',
            center: [map_lng, map_lat],
            zoom: map_zoom
        });
        var marker = new mapboxgl.Marker().setLngLat([map_lng, map_lat]).addTo(map);
    }
    $('.knsl-filter a').on('click', function() {
        $('.knsl-filter .knsl-current').removeClass('knsl-current');
        $(this).addClass('knsl-current');
        var selector = $(this).data('filter');
        $('.knsl-masonry-grid').isotope({
            filter: selector
        });
        return false;
    });
    var $masonryGrid = $('.knsl-masonry-grid').isotope({
        filter: '*',
        itemSelector: '.knsl-masonry-grid-item',
        percentPosition: true,
        masonry: {
            columnWidth: '.knsl-grid-sizer'
        }
    });
    $masonryGrid.imagesLoaded().progress(function() {
        $masonryGrid.isotope({
            columnWidth: '.knsl-grid-sizer',
            isAnimated: true
        });
    });
    if ($('img.lazyload').length) {
        $(document).on('lazyloaded', function(e) {
            $masonryGrid.isotope('layout');
        });
    }
    if (!$('body').hasClass('elementor-default')) {
        if (/\.(?:jpg|jpeg|gif|png)$/i.test($('.wp-block-gallery .blocks-gallery-item:first a').attr('href'))) {
            $('.wp-block-gallery a').magnificPopup({
                gallery: {
                    enabled: true
                },
                type: 'image',
                closeOnContentClick: false,
                fixedContentPos: false,
                closeBtnInside: false,
                callbacks: {
                    beforeOpen: function() {
                        this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                        this.st.mainClass = 'mfp-zoom-in';
                    }
                },
            });
        }
    }
    $('[data-magnific-inline]').magnificPopup({
        type: 'inline',
        overflowY: 'auto',
        preloader: false,
        callbacks: {
            beforeOpen: function() {
                this.st.mainClass = 'mfp-zoom-in';
            }
        },
    });
    $('[data-magnific-content]').magnificPopup({
        type: 'inline',
        overflowY: 'auto',
        preloader: true,
        callbacks: {
            beforeOpen: function() {
                this.st.mainClass = 'popup-box-inline mfp-zoom-in';
            }
        },
    });
    $('[data-magnific-image]').magnificPopup({
        type: 'image',
        closeOnContentClick: true,
        fixedContentPos: false,
        closeBtnInside: false,
        callbacks: {
            beforeOpen: function() {
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                this.st.mainClass = 'mfp-zoom-in';
            }
        },
    });
    $('[data-magnific-video]').magnificPopup({
        type: 'iframe',
        iframe: {
            patterns: {
                youtube_short: {
                    index: 'youtu.be/',
                    id: 'youtu.be/',
                    src: 'https://www.youtube.com/embed/%id%?autoplay=1'
                }
            }
        },
        preloader: false,
        fixedContentPos: false,
        callbacks: {
            markupParse: function(template, values, item) {
                template.find('iframe').attr('allow', 'autoplay');
            },
            beforeOpen: function() {
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                this.st.mainClass = 'mfp-zoom-in';
            }
        },
    });
    $('[data-magnific-gallery]').magnificPopup({
        gallery: {
            enabled: true
        },
        type: 'image',
        closeOnContentClick: false,
        fixedContentPos: false,
        closeBtnInside: false,
        callbacks: {
            beforeOpen: function() {
                this.st.image.markup = this.st.image.markup.replace('mfp-figure', 'mfp-figure mfp-with-anim');
                this.st.mainClass = 'mfp-zoom-in';
            }
        },
    });
    $('[data-magnific-open-gallery]').on('click', function() {
        var gallery = $(this).attr('href');
        $(gallery).magnificPopup({
            delegate: 'a',
            type: 'image',
            closeOnContentClick: false,
            mainClass: 'mfp-fade',
            removalDelay: 160,
            fixedContentPos: false,
            gallery: {
                enabled: true
            }
        }).magnificPopup('open');
        return false;
    });
    if (!$('.knsl-pagination > *').length) {
        $('.knsl-pagination').hide();
    }
})(jQuery);
/*! elementor - v3.20.0 - 26-03-2024 */
(() => {
    "use strict";
    var e, r, _, t, a, i = {},
        n = {};

    function __webpack_require__(e) {
        var r = n[e];
        if (void 0 !== r) return r.exports;
        var _ = n[e] = {
            exports: {}
        };
        return i[e].call(_.exports, _, _.exports, __webpack_require__), _.exports
    }
    __webpack_require__.m = i, e = [], __webpack_require__.O = (r, _, t, a) => {
        if (!_) {
            var i = 1 / 0;
            for (u = 0; u < e.length; u++) {
                for (var [_, t, a] = e[u], n = !0, c = 0; c < _.length; c++)(!1 & a || i >= a) && Object.keys(__webpack_require__.O).every((e => __webpack_require__.O[e](_[c]))) ? _.splice(c--, 1) : (n = !1, a < i && (i = a));
                if (n) {
                    e.splice(u--, 1);
                    var o = t();
                    void 0 !== o && (r = o)
                }
            }
            return r
        }
        a = a || 0;
        for (var u = e.length; u > 0 && e[u - 1][2] > a; u--) e[u] = e[u - 1];
        e[u] = [_, t, a]
    }, _ = Object.getPrototypeOf ? e => Object.getPrototypeOf(e) : e => e.__proto__, __webpack_require__.t = function(e, t) {
        if (1 & t && (e = this(e)), 8 & t) return e;
        if ("object" == typeof e && e) {
            if (4 & t && e.__esModule) return e;
            if (16 & t && "function" == typeof e.then) return e
        }
        var a = Object.create(null);
        __webpack_require__.r(a);
        var i = {};
        r = r || [null, _({}), _([]), _(_)];
        for (var n = 2 & t && e;
            "object" == typeof n && !~r.indexOf(n); n = _(n)) Object.getOwnPropertyNames(n).forEach((r => i[r] = () => e[r]));
        return i.default = () => e, __webpack_require__.d(a, i), a
    }, __webpack_require__.d = (e, r) => {
        for (var _ in r) __webpack_require__.o(r, _) && !__webpack_require__.o(e, _) && Object.defineProperty(e, _, {
            enumerable: !0,
            get: r[_]
        })
    }, __webpack_require__.f = {}, __webpack_require__.e = e => Promise.all(Object.keys(__webpack_require__.f).reduce(((r, _) => (__webpack_require__.f[_](e, r), r)), [])), __webpack_require__.u = e => 723 === e ? "lightbox.94b920846d1e37cafb78.bundle.min.js" : 48 === e ? "text-path.2bc8a9cd0e50cf1a5a9c.bundle.min.js" : 209 === e ? "accordion.8799675460c73eb48972.bundle.min.js" : 745 === e ? "alert.cbc2a0fee74ee3ed0419.bundle.min.js" : 120 === e ? "counter.02cef29c589e742d4c8c.bundle.min.js" : 192 === e ? "progress.ca55d33bb06cee4e6f02.bundle.min.js" : 520 === e ? "tabs.c2af5be7f9cb3cdcf3d5.bundle.min.js" : 181 === e ? "toggle.31881477c45ff5cf9d4d.bundle.min.js" : 791 === e ? "video.fea4f8dfdf17262f23e8.bundle.min.js" : 268 === e ? "image-carousel.4455c6362492d9067512.bundle.min.js" : 357 === e ? "text-editor.2c35aafbe5bf0e127950.bundle.min.js" : 52 === e ? "wp-audio.75f0ced143febb8cd31a.bundle.min.js" : 413 === e ? "container.c65a2a923085e1120e75.bundle.min.js" : void 0, __webpack_require__.g = function() {
        if ("object" == typeof globalThis) return globalThis;
        try {
            return this || new Function("return this")()
        } catch (e) {
            if ("object" == typeof window) return window
        }
    }(), __webpack_require__.o = (e, r) => Object.prototype.hasOwnProperty.call(e, r), t = {}, a = "elementor:", __webpack_require__.l = (e, r, _, i) => {
        if (t[e]) t[e].push(r);
        else {
            var n, c;
            if (void 0 !== _)
                for (var o = document.getElementsByTagName("script"), u = 0; u < o.length; u++) {
                    var b = o[u];
                    if (b.getAttribute("src") == e || b.getAttribute("data-webpack") == a + _) {
                        n = b;
                        break
                    }
                }
            n || (c = !0, (n = document.createElement("script")).charset = "utf-8", n.timeout = 120, __webpack_require__.nc && n.setAttribute("nonce", __webpack_require__.nc), n.setAttribute("data-webpack", a + _), n.src = e), t[e] = [r];
            var onScriptComplete = (r, _) => {
                    n.onerror = n.onload = null, clearTimeout(p);
                    var a = t[e];
                    if (delete t[e], n.parentNode && n.parentNode.removeChild(n), a && a.forEach((e => e(_))), r) return r(_)
                },
                p = setTimeout(onScriptComplete.bind(null, void 0, {
                    type: "timeout",
                    target: n
                }), 12e4);
            n.onerror = onScriptComplete.bind(null, n.onerror), n.onload = onScriptComplete.bind(null, n.onload), c && document.head.appendChild(n)
        }
    }, __webpack_require__.r = e => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, (() => {
        var e;
        __webpack_require__.g.importScripts && (e = __webpack_require__.g.location + "");
        var r = __webpack_require__.g.document;
        if (!e && r && (r.currentScript && (e = r.currentScript.src), !e)) {
            var _ = r.getElementsByTagName("script");
            if (_.length)
                for (var t = _.length - 1; t > -1 && !e;) e = _[t--].src
        }
        if (!e) throw new Error("Automatic publicPath is not supported in this browser");
        e = e.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/"), __webpack_require__.p = e
    })(), (() => {
        var e = {
            162: 0
        };
        __webpack_require__.f.j = (r, _) => {
            var t = __webpack_require__.o(e, r) ? e[r] : void 0;
            if (0 !== t)
                if (t) _.push(t[2]);
                else if (162 != r) {
                var a = new Promise(((_, a) => t = e[r] = [_, a]));
                _.push(t[2] = a);
                var i = __webpack_require__.p + __webpack_require__.u(r),
                    n = new Error;
                __webpack_require__.l(i, (_ => {
                    if (__webpack_require__.o(e, r) && (0 !== (t = e[r]) && (e[r] = void 0), t)) {
                        var a = _ && ("load" === _.type ? "missing" : _.type),
                            i = _ && _.target && _.target.src;
                        n.message = "Loading chunk " + r + " failed.\n(" + a + ": " + i + ")", n.name = "ChunkLoadError", n.type = a, n.request = i, t[1](n)
                    }
                }), "chunk-" + r, r)
            } else e[r] = 0
        }, __webpack_require__.O.j = r => 0 === e[r];
        var webpackJsonpCallback = (r, _) => {
                var t, a, [i, n, c] = _,
                    o = 0;
                if (i.some((r => 0 !== e[r]))) {
                    for (t in n) __webpack_require__.o(n, t) && (__webpack_require__.m[t] = n[t]);
                    if (c) var u = c(__webpack_require__)
                }
                for (r && r(_); o < i.length; o++) a = i[o], __webpack_require__.o(e, a) && e[a] && e[a][0](), e[a] = 0;
                return __webpack_require__.O(u)
            },
            r = self.webpackChunkelementor = self.webpackChunkelementor || [];
        r.forEach(webpackJsonpCallback.bind(null, 0)), r.push = webpackJsonpCallback.bind(null, r.push.bind(r))
    })()
})();
/*! elementor - v3.20.0 - 26-03-2024 */
(self.webpackChunkelementor = self.webpackChunkelementor || []).push([
    [354], {
        381: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            t.default = (e, t) => {
                t = Array.isArray(t) ? t : [t];
                for (const n of t)
                    if (e.constructor.name === n.prototype[Symbol.toStringTag]) return !0;
                return !1
            }
        },
        8135: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class _default extends elementorModules.ViewModule {
                getDefaultSettings() {
                    return {
                        selectors: {
                            elements: ".elementor-element",
                            nestedDocumentElements: ".elementor .elementor-element"
                        },
                        classes: {
                            editMode: "elementor-edit-mode"
                        }
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors");
                    return {
                        $elements: this.$element.find(e.elements).not(this.$element.find(e.nestedDocumentElements))
                    }
                }
                getDocumentSettings(e) {
                    let t;
                    if (this.isEdit) {
                        t = {};
                        const e = elementor.settings.page.model;
                        jQuery.each(e.getActiveControls(), (n => {
                            t[n] = e.attributes[n]
                        }))
                    } else t = this.$element.data("elementor-settings") || {};
                    return this.getItems(t, e)
                }
                runElementsHandlers() {
                    this.elements.$elements.each(((e, t) => setTimeout((() => elementorFrontend.elementsHandler.runReadyTrigger(t)))))
                }
                onInit() {
                    this.$element = this.getSettings("$element"), super.onInit(), this.isEdit = this.$element.hasClass(this.getSettings("classes.editMode")), this.isEdit ? elementor.on("document:loaded", (() => {
                        elementor.settings.page.model.on("change", this.onSettingsChange.bind(this))
                    })) : this.runElementsHandlers()
                }
                onSettingsChange() {}
            }
            t.default = _default
        },
        6752: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(3090));
            class NestedTitleKeyboardHandler extends r.default {
                __construct(e) {
                    super.__construct(e), this.directionNext = "next", this.directionPrevious = "previous", this.focusableElementSelector = 'audio, button, canvas, details, iframe, input, select, summary, textarea, video, [accesskey], [contenteditable], [href], [tabindex]:not([tabindex="-1"])'
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            itemTitle: ".e-n-tab-title",
                            itemContainer: ".e-n-tabs-content > .e-con"
                        },
                        ariaAttributes: {
                            titleStateAttribute: "aria-selected",
                            activeTitleSelector: '[aria-selected="true"]'
                        },
                        datasets: {
                            titleIndex: "data-tab-index"
                        },
                        keyDirection: {
                            ArrowLeft: elementorFrontendConfig.is_rtl ? this.directionNext : this.directionPrevious,
                            ArrowUp: this.directionPrevious,
                            ArrowRight: elementorFrontendConfig.is_rtl ? this.directionPrevious : this.directionNext,
                            ArrowDown: this.directionNext
                        }
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors");
                    return {
                        $itemTitles: this.findElement(e.itemTitle),
                        $itemContainers: this.findElement(e.itemContainer),
                        $focusableContainerElements: this.getFocusableElements(this.findElement(e.itemContainer))
                    }
                }
                getFocusableElements(e) {
                    return e.find(this.focusableElementSelector).not("[disabled], [inert]")
                }
                getKeyDirectionValue(e) {
                    const t = this.getSettings("keyDirection")[e.key];
                    return this.directionNext === t ? 1 : -1
                }
                getTitleIndex(e) {
                    const {
                        titleIndex: t
                    } = this.getSettings("datasets");
                    return e.getAttribute(t)
                }
                getTitleFilterSelector(e) {
                    const {
                        titleIndex: t
                    } = this.getSettings("datasets");
                    return `[${t}="${e}"]`
                }
                getActiveTitleElement() {
                    const e = this.getSettings("ariaAttributes").activeTitleSelector;
                    return this.elements.$itemTitles.filter(e)
                }
                onInit() {
                    super.onInit(...arguments)
                }
                bindEvents() {
                    this.elements.$itemTitles.on(this.getTitleEvents()), this.elements.$focusableContainerElements.on(this.getContentElementEvents())
                }
                unbindEvents() {
                    this.elements.$itemTitles.off(), this.elements.$itemContainers.children().off()
                }
                getTitleEvents() {
                    return {
                        keydown: this.handleTitleKeyboardNavigation.bind(this)
                    }
                }
                getContentElementEvents() {
                    return {
                        keydown: this.handleContentElementKeyboardNavigation.bind(this)
                    }
                }
                isDirectionKey(e) {
                    return ["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Home", "End"].includes(e.key)
                }
                isActivationKey(e) {
                    return ["Enter", " "].includes(e.key)
                }
                handleTitleKeyboardNavigation(e) {
                    if (this.isDirectionKey(e)) {
                        e.preventDefault();
                        const t = parseInt(this.getTitleIndex(e.currentTarget)) || 1,
                            n = this.elements.$itemTitles.length,
                            i = this.getTitleIndexFocusUpdated(e, t, n);
                        this.changeTitleFocus(i), e.stopPropagation()
                    } else if (this.isActivationKey(e)) {
                        if (e.preventDefault(), this.handeTitleLinkEnterOrSpaceEvent(e)) return;
                        const t = this.getTitleIndex(e.currentTarget);
                        elementorFrontend.elements.$window.trigger("elementor/nested-elements/activate-by-keyboard", {
                            widgetId: this.getID(),
                            titleIndex: t
                        })
                    } else "Escape" === e.key && this.handleTitleEscapeKeyEvents(e)
                }
                handeTitleLinkEnterOrSpaceEvent(e) {
                    const t = "a" === e ? .currentTarget ? .tagName ? .toLowerCase();
                    return !elementorFrontend.isEditMode() && t && (e ? .currentTarget ? .click(), e.stopPropagation()), t
                }
                getTitleIndexFocusUpdated(e, t, n) {
                    let i = 0;
                    switch (e.key) {
                        case "Home":
                            i = 1;
                            break;
                        case "End":
                            i = n;
                            break;
                        default:
                            const r = this.getKeyDirectionValue(e);
                            i = n < t + r ? 1 : 0 === t + r ? n : t + r
                    }
                    return i
                }
                changeTitleFocus(e) {
                    const t = this.elements.$itemTitles.filter(this.getTitleFilterSelector(e));
                    this.setTitleTabindex(e), t.trigger("focus")
                }
                setTitleTabindex(e) {
                    this.elements.$itemTitles.attr("tabindex", "-1");
                    this.elements.$itemTitles.filter(this.getTitleFilterSelector(e)).attr("tabindex", "0")
                }
                handleTitleEscapeKeyEvents() {}
                handleContentElementKeyboardNavigation(e) {
                    "Tab" !== e.key || e.shiftKey ? "Escape" === e.key && (e.preventDefault(), e.stopPropagation(), this.handleContentElementEscapeEvents(e)) : this.handleContentElementTabEvents(e)
                }
                handleContentElementEscapeEvents() {
                    this.getActiveTitleElement().trigger("focus")
                }
                handleContentElementTabEvents() {}
            }
            t.default = NestedTitleKeyboardHandler
        },
        1292: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(2821));
            class CarouselHandlerBase extends r.default {
                getDefaultSettings() {
                    return {
                        selectors: {
                            carousel: `.${elementorFrontend.config.swiperClass}`,
                            swiperWrapper: ".swiper-wrapper",
                            slideContent: ".swiper-slide",
                            swiperArrow: ".elementor-swiper-button",
                            paginationWrapper: ".swiper-pagination",
                            paginationBullet: ".swiper-pagination-bullet",
                            paginationBulletWrapper: ".swiper-pagination-bullets"
                        }
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors"),
                        t = {
                            $swiperContainer: this.$element.find(e.carousel),
                            $swiperWrapper: this.$element.find(e.swiperWrapper),
                            $swiperArrows: this.$element.find(e.swiperArrow),
                            $paginationWrapper: this.$element.find(e.paginationWrapper),
                            $paginationBullets: this.$element.find(e.paginationBullet),
                            $paginationBulletWrapper: this.$element.find(e.paginationBulletWrapper)
                        };
                    return t.$slides = t.$swiperContainer.find(e.slideContent), t
                }
                getSwiperSettings() {
                    const e = this.getElementSettings(),
                        t = +e.slides_to_show || 3,
                        n = 1 === t,
                        i = elementorFrontend.config.responsive.activeBreakpoints,
                        r = {
                            mobile: 1,
                            tablet: n ? 1 : 2
                        },
                        s = {
                            slidesPerView: t,
                            loop: "yes" === e.infinite,
                            speed: e.speed,
                            handleElementorBreakpoints: !0,
                            breakpoints: {}
                        };
                    let o = t;
                    Object.keys(i).reverse().forEach((t => {
                        const n = r[t] ? r[t] : o;
                        s.breakpoints[i[t].value] = {
                            slidesPerView: +e["slides_to_show_" + t] || n,
                            slidesPerGroup: +e["slides_to_scroll_" + t] || 1
                        }, e.image_spacing_custom && (s.breakpoints[i[t].value].spaceBetween = this.getSpaceBetween(t)), o = +e["slides_to_show_" + t] || n
                    })), "yes" === e.autoplay && (s.autoplay = {
                        delay: e.autoplay_speed,
                        disableOnInteraction: "yes" === e.pause_on_interaction
                    }), n ? (s.effect = e.effect, "fade" === e.effect && (s.fadeEffect = {
                        crossFade: !0
                    })) : s.slidesPerGroup = +e.slides_to_scroll || 1, e.image_spacing_custom && (s.spaceBetween = this.getSpaceBetween());
                    const a = "arrows" === e.navigation || "both" === e.navigation,
                        l = "dots" === e.navigation || "both" === e.navigation || e.pagination;
                    return a && (s.navigation = {
                        prevEl: ".elementor-swiper-button-prev",
                        nextEl: ".elementor-swiper-button-next"
                    }), l && (s.pagination = {
                        el: `.elementor-element-${this.getID()} .swiper-pagination`,
                        type: e.pagination ? e.pagination : "bullets",
                        clickable: !0,
                        renderBullet: (e, t) => `<span class="${t}" data-bullet-index="${e}" aria-label="${elementorFrontend.config.i18n.a11yCarouselPaginationBulletMessage} ${e+1}"></span>`
                    }), "yes" === e.lazyload && (s.lazy = {
                        loadPrevNext: !0,
                        loadPrevNextAmount: 1
                    }), s.a11y = {
                        enabled: !0,
                        prevSlideMessage: elementorFrontend.config.i18n.a11yCarouselPrevSlideMessage,
                        nextSlideMessage: elementorFrontend.config.i18n.a11yCarouselNextSlideMessage,
                        firstSlideMessage: elementorFrontend.config.i18n.a11yCarouselFirstSlideMessage,
                        lastSlideMessage: elementorFrontend.config.i18n.a11yCarouselLastSlideMessage
                    }, s.on = {
                        slideChangeTransitionEnd: () => {
                            this.a11ySetSlideAriaHidden()
                        },
                        slideChange: () => {
                            this.a11ySetPaginationTabindex(), this.handleElementHandlers()
                        },
                        init: () => {
                            this.a11ySetWidgetAriaDetails(), this.a11ySetPaginationTabindex(), this.a11ySetSlideAriaHidden("initialisation")
                        }
                    }, this.applyOffsetSettings(e, s, t), s
                }
                getOffsetWidth() {
                    const e = elementorFrontend.getCurrentDeviceMode();
                    return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(), "offset_width", "size", e) || 0
                }
                applyOffsetSettings(e, t, n) {
                    const i = e.offset_sides;
                    if (!(elementorFrontend.isEditMode() && "NestedCarousel" === this.constructor.name) && i && "none" !== i) switch (i) {
                        case "right":
                            this.forceSliderToShowNextSlideWhenOnLast(t, n), this.addClassToSwiperContainer("offset-right");
                            break;
                        case "left":
                            this.addClassToSwiperContainer("offset-left");
                            break;
                        case "both":
                            this.forceSliderToShowNextSlideWhenOnLast(t, n), this.addClassToSwiperContainer("offset-both")
                    }
                }
                forceSliderToShowNextSlideWhenOnLast(e, t) {
                    e.slidesPerView = t + .001
                }
                addClassToSwiperContainer(e) {
                    this.getDefaultElements().$swiperContainer[0].classList.add(e)
                }
                async onInit() {
                    if (super.onInit(...arguments), !this.elements.$swiperContainer.length || 2 > this.elements.$slides.length) return;
                    const e = elementorFrontend.utils.swiper;
                    this.swiper = await new e(this.elements.$swiperContainer, this.getSwiperSettings()), this.elements.$swiperContainer.data("swiper", this.swiper);
                    "yes" === this.getElementSettings().pause_on_hover && this.togglePauseOnHover(!0)
                }
                bindEvents() {
                    this.elements.$swiperArrows.on("keydown", this.onDirectionArrowKeydown.bind(this)), this.elements.$paginationWrapper.on("keydown", ".swiper-pagination-bullet", this.onDirectionArrowKeydown.bind(this)), this.elements.$swiperContainer.on("keydown", ".swiper-slide", this.onDirectionArrowKeydown.bind(this)), this.$element.find(":focusable").on("focus", this.onFocusDisableAutoplay.bind(this)), elementorFrontend.elements.$window.on("resize", this.getSwiperSettings.bind(this))
                }
                unbindEvents() {
                    this.elements.$swiperArrows.off(), this.elements.$paginationWrapper.off(), this.elements.$swiperContainer.off(), this.$element.find(":focusable").off(), elementorFrontend.elements.$window.off("resize")
                }
                onDirectionArrowKeydown(e) {
                    const t = elementorFrontend.config.is_rtl,
                        n = e.originalEvent.code,
                        i = t ? "ArrowLeft" : "ArrowRight";
                    if (!(-1 !== ["ArrowLeft", "ArrowRight"].indexOf(n))) return !0;
                    (t ? "ArrowRight" : "ArrowLeft") === n ? this.swiper.slidePrev() : i === n && this.swiper.slideNext()
                }
                onFocusDisableAutoplay() {
                    this.swiper.autoplay.stop()
                }
                updateSwiperOption(e) {
                    const t = this.getElementSettings()[e],
                        n = this.swiper.params;
                    switch (e) {
                        case "autoplay_speed":
                            n.autoplay.delay = t;
                            break;
                        case "speed":
                            n.speed = t
                    }
                    this.swiper.update()
                }
                getChangeableProperties() {
                    return {
                        pause_on_hover: "pauseOnHover",
                        autoplay_speed: "delay",
                        speed: "speed",
                        arrows_position: "arrows_position"
                    }
                }
                onElementChange(e) {
                    if (0 === e.indexOf("image_spacing_custom")) return void this.updateSpaceBetween(e);
                    if (this.getChangeableProperties()[e])
                        if ("pause_on_hover" === e) {
                            const e = this.getElementSettings("pause_on_hover");
                            this.togglePauseOnHover("yes" === e)
                        } else this.updateSwiperOption(e)
                }
                onEditSettingsChange(e) {
                    "activeItemIndex" === e && this.swiper.slideToLoop(this.getEditSettings("activeItemIndex") - 1)
                }
                getSpaceBetween() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(), "image_spacing_custom", "size", e) || 0
                }
                updateSpaceBetween(e) {
                    const t = e.match("image_spacing_custom_(.*)"),
                        n = t ? t[1] : "desktop",
                        i = this.getSpaceBetween(n);
                    "desktop" !== n && (this.swiper.params.breakpoints[elementorFrontend.config.responsive.activeBreakpoints[n].value].spaceBetween = i), this.swiper.params.spaceBetween = i, this.swiper.update()
                }
                getPaginationBullets() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "array";
                    const t = this.$element.find(this.getSettings("selectors").paginationBullet);
                    return "array" === e ? Array.from(t) : t
                }
                a11ySetWidgetAriaDetails() {
                    const e = this.$element;
                    e.attr("aria-roledescription", "carousel"), e.attr("aria-label", elementorFrontend.config.i18n.a11yCarouselWrapperAriaLabel)
                }
                a11ySetPaginationTabindex() {
                    const e = this.swiper ? .params.pagination.bulletClass,
                        t = this.swiper ? .params.pagination.bulletActiveClass;
                    this.getPaginationBullets().forEach((e => {
                        e.classList ? .contains(t) || e.removeAttribute("tabindex")
                    }));
                    const n = "ArrowLeft" === event ? .code || "ArrowRight" === event ? .code;
                    event ? .target ? .classList ? .contains(e) && n && this.$element.find(`.${t}`).trigger("focus")
                }
                getSwiperWrapperTranformXValue() {
                    let e = this.elements.$swiperWrapper[0] ? .style.transform;
                    return e = e.replace("translate3d(", ""), e = e.split(","), e = parseInt(e[0].replace("px", "")), e || 0
                }
                a11ySetSlideAriaHidden() {
                    if ("number" != typeof("initialisation" === (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "") ? 0 : this.swiper ? .activeIndex)) return;
                    const e = this.getSwiperWrapperTranformXValue(),
                        t = this.elements.$swiperWrapper[0].clientWidth;
                    this.elements.$swiperContainer.find(this.getSettings("selectors").slideContent).each(((n, i) => {
                        0 <= i.offsetLeft + e && t > i.offsetLeft + e ? (i.removeAttribute("aria-hidden"), i.removeAttribute("inert")) : (i.setAttribute("aria-hidden", !0), i.setAttribute("inert", ""))
                    }))
                }
                handleElementHandlers() {}
            }
            t.default = CarouselHandlerBase
        },
        2821: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(3090));
            class SwiperHandlerBase extends r.default {
                getInitialSlide() {
                    const e = this.getEditSettings();
                    return e.activeItemIndex ? e.activeItemIndex - 1 : 0
                }
                getSlidesCount() {
                    return this.elements.$slides.length
                }
                togglePauseOnHover(e) {
                    e ? this.elements.$swiperContainer.on({
                        mouseenter: () => {
                            this.swiper.autoplay.stop()
                        },
                        mouseleave: () => {
                            this.swiper.autoplay.start()
                        }
                    }) : this.elements.$swiperContainer.off("mouseenter mouseleave")
                }
                handleKenBurns() {
                    const e = this.getSettings();
                    this.$activeImageBg && this.$activeImageBg.removeClass(e.classes.kenBurnsActive), this.activeItemIndex = this.swiper ? this.swiper.activeIndex : this.getInitialSlide(), this.swiper ? this.$activeImageBg = jQuery(this.swiper.slides[this.activeItemIndex]).children("." + e.classes.slideBackground) : this.$activeImageBg = jQuery(this.elements.$slides[0]).children("." + e.classes.slideBackground), this.$activeImageBg.addClass(e.classes.kenBurnsActive)
                }
            }
            t.default = SwiperHandlerBase
        },
        3090: e => {
            "use strict";
            e.exports = elementorModules.ViewModule.extend({
                $element: null,
                editorListeners: null,
                onElementChange: null,
                onEditSettingsChange: null,
                onPageSettingsChange: null,
                isEdit: null,
                __construct(e) {
                    this.isActive(e) && (this.$element = e.$element, this.isEdit = this.$element.hasClass("elementor-element-edit-mode"), this.isEdit && this.addEditorListeners())
                },
                isActive: () => !0,
                isElementInTheCurrentDocument() {
                    return !!elementorFrontend.isEditMode() && elementor.documents.currentDocument.id.toString() === this.$element[0].closest(".elementor").dataset.elementorId
                },
                findElement(e) {
                    var t = this.$element;
                    return t.find(e).filter((function() {
                        return jQuery(this).parent().closest(".elementor-element").is(t)
                    }))
                },
                getUniqueHandlerID(e, t) {
                    return e || (e = this.getModelCID()), t || (t = this.$element), e + t.attr("data-element_type") + this.getConstructorID()
                },
                initEditorListeners() {
                    var e = this;
                    if (e.editorListeners = [{
                            event: "element:destroy",
                            to: elementor.channels.data,
                            callback(t) {
                                t.cid === e.getModelCID() && e.onDestroy()
                            }
                        }], e.onElementChange) {
                        const t = e.getWidgetType() || e.getElementType();
                        let n = "change";
                        "global" !== t && (n += ":" + t), e.editorListeners.push({
                            event: n,
                            to: elementor.channels.editor,
                            callback(t, n) {
                                e.getUniqueHandlerID(n.model.cid, n.$el) === e.getUniqueHandlerID() && e.onElementChange(t.model.get("name"), t, n)
                            }
                        })
                    }
                    e.onEditSettingsChange && e.editorListeners.push({
                        event: "change:editSettings",
                        to: elementor.channels.editor,
                        callback(t, n) {
                            if (n.model.cid !== e.getModelCID()) return;
                            const i = Object.keys(t.changed)[0];
                            e.onEditSettingsChange(i, t.changed[i])
                        }
                    }), ["page"].forEach((function(t) {
                        var n = "on" + t[0].toUpperCase() + t.slice(1) + "SettingsChange";
                        e[n] && e.editorListeners.push({
                            event: "change",
                            to: elementor.settings[t].model,
                            callback(t) {
                                e[n](t.changed)
                            }
                        })
                    }))
                },
                getEditorListeners() {
                    return this.editorListeners || this.initEditorListeners(), this.editorListeners
                },
                addEditorListeners() {
                    var e = this.getUniqueHandlerID();
                    this.getEditorListeners().forEach((function(t) {
                        elementorFrontend.addListenerOnce(e, t.event, t.callback, t.to)
                    }))
                },
                removeEditorListeners() {
                    var e = this.getUniqueHandlerID();
                    this.getEditorListeners().forEach((function(t) {
                        elementorFrontend.removeListeners(e, t.event, null, t.to)
                    }))
                },
                getElementType() {
                    return this.$element.data("element_type")
                },
                getWidgetType() {
                    const e = this.$element.data("widget_type");
                    if (e) return e.split(".")[0]
                },
                getID() {
                    return this.$element.data("id")
                },
                getModelCID() {
                    return this.$element.data("model-cid")
                },
                getElementSettings(e) {
                    let t = {};
                    const n = this.getModelCID();
                    if (this.isEdit && n) {
                        const e = elementorFrontend.config.elements.data[n],
                            i = e.attributes;
                        let r = i.widgetType || i.elType;
                        i.isInner && (r = "inner-" + r);
                        let s = elementorFrontend.config.elements.keys[r];
                        s || (s = elementorFrontend.config.elements.keys[r] = [], jQuery.each(e.controls, ((e, t) => {
                            (t.frontend_available || t.editor_available) && s.push(e)
                        }))), jQuery.each(e.getActiveControls(), (function(e) {
                            if (-1 !== s.indexOf(e)) {
                                let n = i[e];
                                n.toJSON && (n = n.toJSON()), t[e] = n
                            }
                        }))
                    } else t = this.$element.data("settings") || {};
                    return this.getItems(t, e)
                },
                getEditSettings(e) {
                    var t = {};
                    return this.isEdit && (t = elementorFrontend.config.elements.editSettings[this.getModelCID()].attributes), this.getItems(t, e)
                },
                getCurrentDeviceSetting(e) {
                    return elementorFrontend.getCurrentDeviceSetting(this.getElementSettings(), e)
                },
                onInit() {
                    this.isActive(this.getSettings()) && elementorModules.ViewModule.prototype.onInit.apply(this, arguments)
                },
                onDestroy() {
                    this.isEdit && this.removeEditorListeners(), this.unbindEvents && this.unbindEvents()
                }
            })
        },
        2263: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(3090));
            class StretchedElement extends r.default {
                getStretchedClass() {
                    return "e-stretched"
                }
                getStretchSettingName() {
                    return "stretch_element"
                }
                getStretchActiveValue() {
                    return "yes"
                }
                bindEvents() {
                    const e = this.getUniqueHandlerID();
                    elementorFrontend.addListenerOnce(e, "resize", this.stretch), elementorFrontend.addListenerOnce(e, "sticky:stick", this.stretch, this.$element), elementorFrontend.addListenerOnce(e, "sticky:unstick", this.stretch, this.$element), elementorFrontend.isEditMode() && (this.onKitChangeStretchContainerChange = this.onKitChangeStretchContainerChange.bind(this), elementor.channels.editor.on("kit:change:stretchContainer", this.onKitChangeStretchContainerChange))
                }
                unbindEvents() {
                    elementorFrontend.removeListeners(this.getUniqueHandlerID(), "resize", this.stretch), elementorFrontend.isEditMode() && elementor.channels.editor.off("kit:change:stretchContainer", this.onKitChangeStretchContainerChange)
                }
                isActive(e) {
                    return elementorFrontend.isEditMode() || e.$element.hasClass(this.getStretchedClass())
                }
                getStretchElementForConfig() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    return e ? this.$element.find(e) : this.$element
                }
                getStretchElementConfig() {
                    return {
                        element: this.getStretchElementForConfig(),
                        selectors: {
                            container: this.getStretchContainer()
                        },
                        considerScrollbar: elementorFrontend.isEditMode() && elementorFrontend.config.is_rtl
                    }
                }
                initStretch() {
                    this.stretch = this.stretch.bind(this), this.stretchElement = new elementorModules.frontend.tools.StretchElement(this.getStretchElementConfig())
                }
                getStretchContainer() {
                    return elementorFrontend.getKitSettings("stretched_section_container") || window
                }
                isStretchSettingEnabled() {
                    return this.getElementSettings(this.getStretchSettingName()) === this.getStretchActiveValue()
                }
                stretch() {
                    this.isStretchSettingEnabled() && this.stretchElement.stretch()
                }
                onInit() {
                    this.isActive(this.getSettings()) && (this.initStretch(), super.onInit(...arguments), this.stretch())
                }
                onElementChange(e) {
                    this.getStretchSettingName() === e && (this.isStretchSettingEnabled() ? this.stretch() : this.stretchElement.reset())
                }
                onKitChangeStretchContainerChange() {
                    this.stretchElement.setSettings("selectors.container", this.getStretchContainer()), this.stretch()
                }
            }
            t.default = StretchedElement
        },
        6412: (e, t, n) => {
            "use strict";
            var i = n(3203),
                r = i(n(5955)),
                s = i(n(8135)),
                o = i(n(5658)),
                a = i(n(2263)),
                l = i(n(3090)),
                c = i(n(2821)),
                u = i(n(1292)),
                d = i(n(7323)),
                h = i(n(32)),
                g = i(n(6752));
            r.default.frontend = {
                Document: s.default,
                tools: {
                    StretchElement: o.default
                },
                handlers: {
                    Base: l.default,
                    StretchedElement: a.default,
                    SwiperBase: c.default,
                    CarouselBase: u.default,
                    NestedTabs: d.default,
                    NestedAccordion: h.default,
                    NestedTitleKeyboardHandler: g.default
                }
            }
        },
        5658: e => {
            "use strict";
            e.exports = elementorModules.ViewModule.extend({
                getDefaultSettings: () => ({
                    element: null,
                    direction: elementorFrontend.config.is_rtl ? "right" : "left",
                    selectors: {
                        container: window
                    },
                    considerScrollbar: !1,
                    cssOutput: "inline"
                }),
                getDefaultElements() {
                    return {
                        $element: jQuery(this.getSettings("element"))
                    }
                },
                stretch() {
                    const e = this.getSettings();
                    let t;
                    try {
                        t = jQuery(e.selectors.container)
                    } catch (e) {}
                    t && t.length || (t = jQuery(this.getDefaultSettings().selectors.container)), this.reset();
                    var n = this.elements.$element,
                        i = t.innerWidth(),
                        r = n.offset().left,
                        s = "fixed" === n.css("position"),
                        o = s ? 0 : r,
                        a = window === t[0];
                    if (!a) {
                        var l = t.offset().left;
                        s && (o = l), r > l && (o = r - l)
                    }
                    if (e.considerScrollbar && a) {
                        o -= window.innerWidth - i
                    }
                    s || (elementorFrontend.config.is_rtl && (o = i - (n.outerWidth() + o)), o = -o), e.margin && (o += e.margin);
                    var c = {};
                    let u = i;
                    e.margin && (u -= 2 * e.margin), c.width = u + "px", c[e.direction] = o + "px", "variables" !== e.cssOutput ? n.css(c) : this.applyCssVariables(n, c)
                },
                reset() {
                    const e = {},
                        t = this.getSettings(),
                        n = this.elements.$element;
                    "variables" !== t.cssOutput ? (e.width = "", e[t.direction] = "", n.css(e)) : this.resetCssVariables(n)
                },
                applyCssVariables(e, t) {
                    e.css("--stretch-width", t.width), t.left ? e.css("--stretch-left", t.left) : e.css("--stretch-right", t.right)
                },
                resetCssVariables(e) {
                    e.css({
                        "--stretch-width": "",
                        "--stretch-left": "",
                        "--stretch-right": ""
                    })
                }
            })
        },
        6630: (e, t) => {
            "use strict";

            function getChildrenWidth(e) {
                let t = 0;
                const n = e[0].parentNode,
                    i = getComputedStyle(n),
                    r = parseFloat(i.gap) || 0;
                for (let n = 0; n < e.length; n++) t += e[n].offsetWidth + r;
                return t
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.changeScrollStatus = function changeScrollStatus(e, t) {
                "mousedown" === t.type ? (e.classList.add("e-scroll"), e.dataset.pageX = t.pageX) : (e.classList.remove("e-scroll", "e-scroll-active"), e.dataset.pageX = "")
            }, t.setHorizontalScrollAlignment = function setHorizontalScrollAlignment(e) {
                let {
                    element: t,
                    direction: n,
                    justifyCSSVariable: i,
                    horizontalScrollStatus: r
                } = e;
                if (!t) return;
                ! function isHorizontalScroll(e, t) {
                    return e.clientWidth < getChildrenWidth(e.children) && "enable" === t
                }(t, r) ? t.style.setProperty(i, ""): function initialScrollPosition(e, t, n) {
                    const i = elementorFrontend.config.is_rtl;
                    if ("end" === t) e.style.setProperty(n, "start"), e.scrollLeft = i ? -1 * getChildrenWidth(e.children) : getChildrenWidth(e.children);
                    else e.style.setProperty(n, "start"), e.scrollLeft = 0
                }(t, n, i)
            }, t.setHorizontalTitleScrollValues = function setHorizontalTitleScrollValues(e, t, n) {
                const i = e.classList.contains("e-scroll"),
                    r = "enable" === t,
                    s = e.scrollWidth > e.clientWidth;
                if (!i || !r || !s) return;
                n.preventDefault();
                const o = parseFloat(e.dataset.pageX),
                    a = n.pageX - o;
                let l = 0;
                l = 20 < a ? 5 : -20 > a ? -5 : a;
                e.scrollLeft = e.scrollLeft - l, e.classList.add("e-scroll-active")
            }
        },
        2618: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0, n(740);
            var r = i(n(7597)),
                s = i(n(381));
            class ArgsObject extends r.default {
                static getInstanceType() {
                    return "ArgsObject"
                }
                constructor(e) {
                    super(), this.args = e
                }
                requireArgument(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.args;
                    if (!Object.prototype.hasOwnProperty.call(t, e)) throw Error(`${e} is required.`)
                }
                requireArgumentType(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.args;
                    if (this.requireArgument(e, n), typeof n[e] !== t) throw Error(`${e} invalid type: ${t}.`)
                }
                requireArgumentInstance(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.args;
                    if (this.requireArgument(e, n), !(n[e] instanceof t || (0, s.default)(n[e], t))) throw Error(`${e} invalid instance.`)
                }
                requireArgumentConstructor(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this.args;
                    if (this.requireArgument(e, n), n[e].constructor.toString() !== t.prototype.constructor.toString()) throw Error(`${e} invalid constructor type.`)
                }
            }
            t.default = ArgsObject
        },
        869: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ForceMethodImplementation = void 0, n(740);
            class ForceMethodImplementation extends Error {
                constructor() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    super(`${e.isStatic?"static ":""}${e.fullName}() should be implemented, please provide '${e.functionName||e.fullName}' functionality.`, t), Object.keys(t).length && console.error(t), Error.captureStackTrace(this, ForceMethodImplementation)
                }
            }
            t.ForceMethodImplementation = ForceMethodImplementation;
            t.default = e => {
                const t = Error().stack.split("\n")[2].trim(),
                    n = t.startsWith("at new") ? "constructor" : t.split(" ")[1],
                    i = {};
                if (i.functionName = n, i.fullName = n, i.functionName.includes(".")) {
                    const e = i.functionName.split(".");
                    i.className = e[0], i.functionName = e[1]
                } else i.isStatic = !0;
                throw new ForceMethodImplementation(i, e)
            }
        },
        7597: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class InstanceType {
                static[Symbol.hasInstance](e) {
                    let t = super[Symbol.hasInstance](e);
                    if (e && !e.constructor.getInstanceType) return t;
                    if (e && (e.instanceTypes || (e.instanceTypes = []), t || this.getInstanceType() === e.constructor.getInstanceType() && (t = !0), t)) {
                        const t = this.getInstanceType === InstanceType.getInstanceType ? "BaseInstanceType" : this.getInstanceType(); - 1 === e.instanceTypes.indexOf(t) && e.instanceTypes.push(t)
                    }
                    return !t && e && (t = e.instanceTypes && Array.isArray(e.instanceTypes) && -1 !== e.instanceTypes.indexOf(this.getInstanceType())), t
                }
                static getInstanceType() {
                    elementorModules.ForceMethodImplementation()
                }
                constructor() {
                    let e = new.target;
                    const t = [];
                    for (; e.__proto__ && e.__proto__.name;) t.push(e.__proto__), e = e.__proto__;
                    t.reverse().forEach((e => this instanceof e))
                }
            }
            t.default = InstanceType
        },
        1192: (e, t, n) => {
            "use strict";
            n(740);
            const Module = function() {
                const e = jQuery,
                    t = arguments,
                    n = this,
                    i = {};
                let r;
                this.getItems = function(e, t) {
                        if (t) {
                            const n = t.split("."),
                                i = n.splice(0, 1);
                            if (!n.length) return e[i];
                            if (!e[i]) return;
                            return this.getItems(e[i], n.join("."))
                        }
                        return e
                    }, this.getSettings = function(e) {
                        return this.getItems(r, e)
                    }, this.setSettings = function(t, i, s) {
                        if (s || (s = r), "object" == typeof t) return e.extend(s, t), n;
                        const o = t.split("."),
                            a = o.splice(0, 1);
                        return o.length ? (s[a] || (s[a] = {}), n.setSettings(o.join("."), i, s[a])) : (s[a] = i, n)
                    }, this.getErrorMessage = function(e, t) {
                        let n;
                        if ("forceMethodImplementation" === e) n = `The method '${t}' must to be implemented in the inheritor child.`;
                        else n = "An error occurs";
                        return n
                    }, this.forceMethodImplementation = function(e) {
                        throw new Error(this.getErrorMessage("forceMethodImplementation", e))
                    }, this.on = function(t, r) {
                        if ("object" == typeof t) return e.each(t, (function(e) {
                            n.on(e, this)
                        })), n;
                        return t.split(" ").forEach((function(e) {
                            i[e] || (i[e] = []), i[e].push(r)
                        })), n
                    }, this.off = function(e, t) {
                        if (!i[e]) return n;
                        if (!t) return delete i[e], n;
                        const r = i[e].indexOf(t);
                        return -1 !== r && (delete i[e][r], i[e] = i[e].filter((e => e))), n
                    }, this.trigger = function(t) {
                        const r = "on" + t[0].toUpperCase() + t.slice(1),
                            s = Array.prototype.slice.call(arguments, 1);
                        n[r] && n[r].apply(n, s);
                        const o = i[t];
                        return o ? (e.each(o, (function(e, t) {
                            t.apply(n, s)
                        })), n) : n
                    }, n.__construct.apply(n, t), e.each(n, (function(e) {
                        const t = n[e];
                        "function" == typeof t && (n[e] = function() {
                            return t.apply(n, arguments)
                        })
                    })),
                    function() {
                        r = n.getDefaultSettings();
                        const i = t[0];
                        i && e.extend(!0, r, i)
                    }(), n.trigger("init")
            };
            Module.prototype.__construct = function() {}, Module.prototype.getDefaultSettings = function() {
                return {}
            }, Module.prototype.getConstructorID = function() {
                return this.constructor.name
            }, Module.extend = function(e) {
                const t = jQuery,
                    n = this,
                    child = function() {
                        return n.apply(this, arguments)
                    };
                return t.extend(child, n), (child.prototype = Object.create(t.extend({}, n.prototype, e))).constructor = child, child.__super__ = n.prototype, child
            }, e.exports = Module
        },
        6516: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(2640)).default.extend({
                getDefaultSettings: () => ({
                    container: null,
                    items: null,
                    columnsCount: 3,
                    verticalSpaceBetween: 30
                }),
                getDefaultElements() {
                    return {
                        $container: jQuery(this.getSettings("container")),
                        $items: jQuery(this.getSettings("items"))
                    }
                },
                run() {
                    var e = [],
                        t = this.elements.$container.position().top,
                        n = this.getSettings(),
                        i = n.columnsCount;
                    t += parseInt(this.elements.$container.css("margin-top"), 10), this.elements.$items.each((function(r) {
                        var s = Math.floor(r / i),
                            o = jQuery(this),
                            a = o[0].getBoundingClientRect().height + n.verticalSpaceBetween;
                        if (s) {
                            var l = o.position(),
                                c = r % i,
                                u = l.top - t - e[c];
                            u -= parseInt(o.css("margin-top"), 10), u *= -1, o.css("margin-top", u + "px"), e[c] += a
                        } else e.push(a)
                    }))
                }
            });
            t.default = r
        },
        400: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            t.default = class Scroll {
                static scrollObserver(e) {
                    let t = 0;
                    const n = {
                        root: e.root || null,
                        rootMargin: e.offset || "0px",
                        threshold: function() {
                            let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                            const t = [];
                            if (e > 0 && e <= 100) {
                                const n = 100 / e;
                                for (let e = 0; e <= 100; e += n) t.push(e / 100)
                            } else t.push(0);
                            return t
                        }(e.sensitivity)
                    };
                    return new IntersectionObserver((function handleIntersect(n) {
                        const i = n[0].boundingClientRect.y,
                            r = n[0].isIntersecting,
                            s = i < t ? "down" : "up",
                            o = Math.abs(parseFloat((100 * n[0].intersectionRatio).toFixed(2)));
                        e.callback({
                            sensitivity: e.sensitivity,
                            isInViewport: r,
                            scrollPercentage: o,
                            intersectionScrollDirection: s
                        }), t = i
                    }), n)
                }
                static getElementViewportPercentage(e) {
                    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    const n = e[0].getBoundingClientRect(),
                        i = t.start || 0,
                        r = t.end || 0,
                        s = window.innerHeight * i / 100,
                        o = window.innerHeight * r / 100,
                        a = n.top - window.innerHeight,
                        l = 0 - a + s,
                        c = n.top + s + e.height() - a + o,
                        u = Math.max(0, Math.min(l / c, 1));
                    return parseFloat((100 * u).toFixed(2))
                }
                static getPageScrollPercentage() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = arguments.length > 1 ? arguments[1] : void 0;
                    const n = e.start || 0,
                        i = e.end || 0,
                        r = t || document.documentElement.scrollHeight - document.documentElement.clientHeight,
                        s = r * n / 100,
                        o = r + s + r * i / 100;
                    return (document.documentElement.scrollTop + document.body.scrollTop + s) / o * 100
                }
            }
        },
        2640: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(1192)).default.extend({
                elements: null,
                getDefaultElements: () => ({}),
                bindEvents() {},
                onInit() {
                    this.initElements(), this.bindEvents()
                },
                initElements() {
                    this.elements = this.getDefaultElements()
                }
            });
            t.default = r
        },
        5955: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(1192)),
                s = i(n(2640)),
                o = i(n(2618)),
                a = i(n(6516)),
                l = i(n(400)),
                c = i(n(869)),
                u = window.elementorModules = {
                    Module: r.default,
                    ViewModule: s.default,
                    ArgsObject: o.default,
                    ForceMethodImplementation: c.default,
                    utils: {
                        Masonry: a.default,
                        Scroll: l.default
                    }
                };
            t.default = u
        },
        7148: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(6752));
            class NestedAccordionTitleKeyboardHandler extends r.default {
                __construct() {
                    super.__construct(...arguments);
                    const e = arguments.length <= 0 ? void 0 : arguments[0];
                    this.toggleTitle = e.toggleTitle
                }
                getDefaultSettings() {
                    return { ...super.getDefaultSettings(),
                        selectors: {
                            itemTitle: ".e-n-accordion-item-title",
                            itemContainer: ".e-n-accordion-item > .e-con"
                        },
                        ariaAttributes: {
                            titleStateAttribute: "aria-expanded",
                            activeTitleSelector: '[aria-expanded="true"]'
                        },
                        datasets: {
                            titleIndex: "data-accordion-index"
                        }
                    }
                }
                handeTitleLinkEnterOrSpaceEvent(e) {
                    this.toggleTitle(e)
                }
                handleContentElementEscapeEvents(e) {
                    this.getActiveTitleElement().trigger("focus"), this.toggleTitle(e)
                }
                handleTitleEscapeKeyEvents(e) {
                    const t = e ? .currentTarget ? .parentElement,
                        n = t ? .open;
                    n && this.toggleTitle(e)
                }
            }
            t.default = NestedAccordionTitleKeyboardHandler
        },
        32: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(3090)),
                s = i(n(7148));
            class NestedAccordion extends r.default {
                constructor() {
                    super(...arguments), this.animations = new Map
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            accordion: ".e-n-accordion",
                            accordionContentContainers: ".e-n-accordion > .e-con",
                            accordionItems: ".e-n-accordion-item",
                            accordionItemTitles: ".e-n-accordion-item-title",
                            accordionContent: ".e-n-accordion-item > .e-con",
                            accordionWrapper: ".e-n-accordion-item"
                        },
                        default_state: "expanded"
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors");
                    return {
                        $accordion: this.findElement(e.accordion),
                        $contentContainers: this.findElement(e.accordionContentContainers),
                        $accordionItems: this.findElement(e.accordionItems),
                        $accordionTitles: this.findElement(e.accordionItemTitles),
                        $accordionContent: this.findElement(e.accordionContent)
                    }
                }
                onInit() {
                    super.onInit(...arguments), elementorFrontend.isEditMode() && this.interlaceContainers(), this.injectKeyboardHandler()
                }
                injectKeyboardHandler() {
                    "nested-accordion.default" === this.getSettings("elementName") && new s.default({
                        $element: this.$element,
                        toggleTitle: this.clickListener.bind(this)
                    })
                }
                interlaceContainers() {
                    const {
                        $contentContainers: e,
                        $accordionItems: t
                    } = this.getDefaultElements();
                    e.each(((e, n) => {
                        t[e].appendChild(n)
                    }))
                }
                bindEvents() {
                    this.elements.$accordionTitles.on("click", this.clickListener.bind(this))
                }
                unbindEvents() {
                    this.elements.$accordionTitles.off()
                }
                clickListener(e) {
                    e.preventDefault();
                    const t = this.getSettings(),
                        n = e ? .currentTarget ? .closest(t.selectors.accordionWrapper),
                        i = n.querySelector(t.selectors.accordionItemTitles),
                        r = n.querySelector(t.selectors.accordionContent),
                        {
                            max_items_expended: s
                        } = this.getElementSettings(),
                        {
                            $accordionTitles: o,
                            $accordionItems: a
                        } = this.elements;
                    "one" === s && this.closeAllItems(a, o), n.open ? this.closeAccordionItem(n, i) : this.prepareOpenAnimation(n, i, r)
                }
                animateItem(e, t, n, i) {
                    e.style.overflow = "hidden";
                    let r = this.animations.get(e);
                    r && r.cancel(), r = e.animate({
                        height: [t, n]
                    }, {
                        duration: this.getAnimationDuration()
                    }), r.onfinish = () => this.onAnimationFinish(e, i), this.animations.set(e, r), e.querySelector("summary") ? .setAttribute("aria-expanded", i)
                }
                closeAccordionItem(e, t) {
                    const n = `${e.offsetHeight}px`,
                        i = `${t.offsetHeight}px`;
                    this.animateItem(e, n, i, !1)
                }
                prepareOpenAnimation(e, t, n) {
                    e.style.overflow = "hidden", e.style.height = `${e.offsetHeight}px`, e.open = !0, window.requestAnimationFrame((() => this.openAccordionItem(e, t, n)))
                }
                openAccordionItem(e, t, n) {
                    const i = `${e.offsetHeight}px`,
                        r = `${t.offsetHeight+n.offsetHeight}px`;
                    this.animateItem(e, i, r, !0)
                }
                onAnimationFinish(e, t) {
                    e.open = t, this.animations.set(e, null), e.style.height = e.style.overflow = ""
                }
                closeAllItems(e, t) {
                    t.each(((t, n) => {
                        this.closeAccordionItem(e[t], n)
                    }))
                }
                getAnimationDuration() {
                    const {
                        size: e,
                        unit: t
                    } = this.getElementSettings("n_accordion_animation_duration");
                    return e * ("ms" === t ? 1 : 1e3)
                }
            }
            t.default = NestedAccordion
        },
        7323: (e, t, n) => {
            "use strict";
            var i = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = i(n(3090)),
                s = n(6630);
            class NestedTabs extends r.default {
                constructor() {
                    super(...arguments), this.resizeListenerNestedTabs = null
                }
                getTabTitleFilterSelector(e) {
                    return `[data-tab-index="${e}"]`
                }
                getTabContentFilterSelector(e) {
                    return `*:nth-child(${e})`
                }
                getTabIndex(e) {
                    return e.getAttribute("data-tab-index")
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            widgetContainer: ".e-n-tabs",
                            tabTitle: ".e-n-tab-title",
                            tabContent: ".e-n-tabs-content > .e-con",
                            headingContainer: ".e-n-tabs-heading",
                            activeTabContentContainers: ".e-con.e-active"
                        },
                        classes: {
                            active: "e-active"
                        },
                        ariaAttributes: {
                            titleStateAttribute: "aria-selected",
                            activeTitleSelector: '[aria-selected="true"]'
                        },
                        showTabFn: "show",
                        hideTabFn: "hide",
                        toggleSelf: !1,
                        hidePrevious: !0,
                        autoExpand: !0
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors");
                    return {
                        $tabTitles: this.findElement(e.tabTitle),
                        $tabContents: this.findElement(e.tabContent),
                        $headingContainer: this.findElement(e.headingContainer)
                    }
                }
                getKeyboardNavigationSettings() {
                    return this.getSettings()
                }
                activateDefaultTab() {
                    const e = this.getSettings(),
                        t = this.getEditSettings("activeItemIndex") || 1,
                        n = {
                            showTabFn: e.showTabFn,
                            hideTabFn: e.hideTabFn
                        };
                    this.setSettings({
                        showTabFn: "show",
                        hideTabFn: "hide"
                    }), this.changeActiveTab(t), this.setSettings(n)
                }
                deactivateActiveTab(e) {
                    const t = this.getSettings(),
                        n = t.classes.active,
                        i = t.ariaAttributes.activeTitleSelector,
                        r = "." + n,
                        s = this.elements.$tabTitles.filter(i),
                        o = this.elements.$tabContents.filter(r);
                    return this.setTabDeactivationAttributes(s, e), o.removeClass(n), o[t.hideTabFn](0, (() => this.onHideTabContent(o))), o
                }
                getTitleActivationAttributes() {
                    return {
                        tabindex: "0",
                        [this.getSettings("ariaAttributes").titleStateAttribute]: "true"
                    }
                }
                setTabDeactivationAttributes(e) {
                    const t = this.getSettings("ariaAttributes").titleStateAttribute;
                    e.attr({
                        tabindex: "-1",
                        [t]: "false"
                    })
                }
                onHideTabContent() {}
                activateTab(e) {
                    const t = this.getSettings(),
                        n = t.classes.active,
                        i = "show" === t.showTabFn ? 0 : 400;
                    let r = this.elements.$tabTitles.filter(this.getTabTitleFilterSelector(e)),
                        s = this.elements.$tabContents.filter(this.getTabContentFilterSelector(e));
                    if (!r.length) {
                        const t = Math.max(e - 1, 1);
                        r = this.elements.$tabTitles.filter(this.getTabTitleFilterSelector(t)), s = this.elements.$tabContents.filter(this.getTabContentFilterSelector(t))
                    }
                    r.attr(this.getTitleActivationAttributes()), s.addClass(n), s[t.showTabFn](i, (() => this.onShowTabContent(s)))
                }
                onShowTabContent(e) {
                    elementorFrontend.elements.$window.trigger("elementor-pro/motion-fx/recalc"), elementorFrontend.elements.$window.trigger("elementor/nested-tabs/activate", e), elementorFrontend.elements.$window.trigger("elementor/bg-video/recalc")
                }
                isActiveTab(e) {
                    return "true" === this.elements.$tabTitles.filter('[data-tab-index="' + e + '"]').attr(this.getSettings("ariaAttributes").titleStateAttribute)
                }
                onTabClick(e) {
                    e.preventDefault(), this.changeActiveTab(e.currentTarget ? .getAttribute("data-tab-index"), !0)
                }
                getTabEvents() {
                    return {
                        click: this.onTabClick.bind(this)
                    }
                }
                getHeadingEvents() {
                    const e = this.elements.$headingContainer[0];
                    return {
                        mousedown: s.changeScrollStatus.bind(this, e),
                        mouseup: s.changeScrollStatus.bind(this, e),
                        mouseleave: s.changeScrollStatus.bind(this, e),
                        mousemove: s.setHorizontalTitleScrollValues.bind(this, e, this.getHorizontalScrollSetting())
                    }
                }
                bindEvents() {
                    this.elements.$tabTitles.on(this.getTabEvents()), this.elements.$headingContainer.on(this.getHeadingEvents());
                    const e = {
                        element: this.elements.$headingContainer[0],
                        direction: this.getTabsDirection(),
                        justifyCSSVariable: "--n-tabs-heading-justify-content",
                        horizontalScrollStatus: this.getHorizontalScrollSetting()
                    };
                    this.resizeListenerNestedTabs = s.setHorizontalScrollAlignment.bind(this, e), elementorFrontend.elements.$window.on("resize", this.resizeListenerNestedTabs), elementorFrontend.elements.$window.on("resize", this.setTouchMode.bind(this)), elementorFrontend.elements.$window.on("elementor/nested-tabs/activate", this.reInitSwipers), elementorFrontend.elements.$window.on("elementor/nested-elements/activate-by-keyboard", this.changeActiveTabByKeyboard.bind(this))
                }
                unbindEvents() {
                    this.elements.$tabTitles.off(), this.elements.$headingContainer.off(), this.elements.$tabContents.children().off(), elementorFrontend.elements.$window.off("resize"), elementorFrontend.elements.$window.off("elementor/nested-tabs/activate")
                }
                reInitSwipers(e, t) {
                    const n = t.querySelectorAll(`.${elementorFrontend.config.swiperClass}`);
                    for (const e of n) {
                        if (!e.swiper) return;
                        e.swiper.initialized = !1, e.swiper.init()
                    }
                }
                onInit() {
                    super.onInit(...arguments), this.getSettings("autoExpand") && this.activateDefaultTab();
                    const e = {
                        element: this.elements.$headingContainer[0],
                        direction: this.getTabsDirection(),
                        justifyCSSVariable: "--n-tabs-heading-justify-content",
                        horizontalScrollStatus: this.getHorizontalScrollSetting()
                    };
                    (0, s.setHorizontalScrollAlignment)(e), this.setTouchMode(), "nested-tabs.default" === this.getSettings("elementName") && new elementorModules.frontend.handlers.NestedTitleKeyboardHandler(this.getKeyboardNavigationSettings())
                }
                onEditSettingsChange(e, t) {
                    "activeItemIndex" === e && this.changeActiveTab(t, !1)
                }
                onElementChange(e) {
                    if (this.checkSliderPropsToWatch(e)) {
                        const e = {
                            element: this.elements.$headingContainer[0],
                            direction: this.getTabsDirection(),
                            justifyCSSVariable: "--n-tabs-heading-justify-content",
                            horizontalScrollStatus: this.getHorizontalScrollSetting()
                        };
                        (0, s.setHorizontalScrollAlignment)(e)
                    }
                }
                checkSliderPropsToWatch(e) {
                    return 0 === e.indexOf("horizontal_scroll") || "breakpoint_selector" === e || 0 === e.indexOf("tabs_justify_horizontal") || 0 === e.indexOf("tabs_title_space_between")
                }
                changeActiveTab(e) {
                    if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1] && this.isEdit && this.isElementInTheCurrentDocument()) return window.top.$e.run("document/repeater/select", {
                        container: elementor.getContainer(this.$element.attr("data-id")),
                        index: parseInt(e)
                    });
                    const t = this.isActiveTab(e),
                        n = this.getSettings();
                    if (!n.toggleSelf && t || !n.hidePrevious || this.deactivateActiveTab(e), !n.hidePrevious && t && this.deactivateActiveTab(e), !t) {
                        if (this.isAccordionVersion()) return void this.activateMobileTab(e);
                        this.activateTab(e)
                    }
                }
                changeActiveTabByKeyboard(e, t) {
                    t.widgetId.toString() === this.getID().toString() && this.changeActiveTab(t.titleIndex, !0)
                }
                activateMobileTab(e) {
                    setTimeout((() => {
                        this.activateTab(e), this.forceActiveTabToBeInViewport(e)
                    }), 10)
                }
                forceActiveTabToBeInViewport(e) {
                    if (!elementorFrontend.isEditMode()) return;
                    const t = this.elements.$tabTitles.filter(this.getTabTitleFilterSelector(e));
                    elementor.helpers.isInViewport(t[0]) || t[0].scrollIntoView({
                        block: "center"
                    })
                }
                getActiveClass() {
                    return this.getSettings().classes.active
                }
                getTabsDirection() {
                    const e = elementorFrontend.getCurrentDeviceMode();
                    return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(), "tabs_justify_horizontal", "", e)
                }
                getHorizontalScrollSetting() {
                    const e = elementorFrontend.getCurrentDeviceMode();
                    return elementorFrontend.utils.controls.getResponsiveControlValue(this.getElementSettings(), "horizontal_scroll", "", e)
                }
                isAccordionVersion() {
                    return "contents" === this.elements.$headingContainer.css("display")
                }
                setTouchMode() {
                    const e = this.getSettings("selectors").widgetContainer;
                    if (elementorFrontend.isEditMode() || "resize" === event ? .type) {
                        const t = ["mobile", "mobile_extra", "tablet", "tablet_extra"],
                            n = elementorFrontend.getCurrentDeviceMode();
                        if (-1 !== t.indexOf(n)) return void this.$element.find(e).attr("data-touch-mode", "true")
                    } else if ("ontouchstart" in window) return void this.$element.find(e).attr("data-touch-mode", "true");
                    this.$element.find(e).attr("data-touch-mode", "false")
                }
            }
            t.default = NestedTabs
        },
        5089: (e, t, n) => {
            "use strict";
            var i = n(930),
                r = n(9268),
                s = TypeError;
            e.exports = function(e) {
                if (i(e)) return e;
                throw s(r(e) + " is not a function")
            }
        },
        1378: (e, t, n) => {
            "use strict";
            var i = n(930),
                r = String,
                s = TypeError;
            e.exports = function(e) {
                if ("object" == typeof e || i(e)) return e;
                throw s("Can't set " + r(e) + " as a prototype")
            }
        },
        6112: (e, t, n) => {
            "use strict";
            var i = n(8759),
                r = String,
                s = TypeError;
            e.exports = function(e) {
                if (i(e)) return e;
                throw s(r(e) + " is not an object")
            }
        },
        6198: (e, t, n) => {
            "use strict";
            var i = n(4088),
                r = n(7740),
                s = n(2871),
                createMethod = function(e) {
                    return function(t, n, o) {
                        var a, l = i(t),
                            c = s(l),
                            u = r(o, c);
                        if (e && n != n) {
                            for (; c > u;)
                                if ((a = l[u++]) != a) return !0
                        } else
                            for (; c > u; u++)
                                if ((e || u in l) && l[u] === n) return e || u || 0;
                        return !e && -1
                    }
                };
            e.exports = {
                includes: createMethod(!0),
                indexOf: createMethod(!1)
            }
        },
        2306: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = i({}.toString),
                s = i("".slice);
            e.exports = function(e) {
                return s(r(e), 8, -1)
            }
        },
        375: (e, t, n) => {
            "use strict";
            var i = n(2371),
                r = n(930),
                s = n(2306),
                o = n(211)("toStringTag"),
                a = Object,
                l = "Arguments" == s(function() {
                    return arguments
                }());
            e.exports = i ? s : function(e) {
                var t, n, i;
                return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof(n = function(e, t) {
                    try {
                        return e[t]
                    } catch (e) {}
                }(t = a(e), o)) ? n : l ? s(t) : "Object" == (i = s(t)) && r(t.callee) ? "Arguments" : i
            }
        },
        8474: (e, t, n) => {
            "use strict";
            var i = n(9606),
                r = n(6095),
                s = n(4399),
                o = n(7826);
            e.exports = function(e, t, n) {
                for (var a = r(t), l = o.f, c = s.f, u = 0; u < a.length; u++) {
                    var d = a[u];
                    i(e, d) || n && i(n, d) || l(e, d, c(t, d))
                }
            }
        },
        2585: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(7826),
                s = n(5736);
            e.exports = i ? function(e, t, n) {
                return r.f(e, t, s(1, n))
            } : function(e, t, n) {
                return e[t] = n, e
            }
        },
        5736: e => {
            "use strict";
            e.exports = function(e, t) {
                return {
                    enumerable: !(1 & e),
                    configurable: !(2 & e),
                    writable: !(4 & e),
                    value: t
                }
            }
        },
        1343: (e, t, n) => {
            "use strict";
            var i = n(930),
                r = n(7826),
                s = n(3712),
                o = n(9444);
            e.exports = function(e, t, n, a) {
                a || (a = {});
                var l = a.enumerable,
                    c = void 0 !== a.name ? a.name : t;
                if (i(n) && s(n, c, a), a.global) l ? e[t] = n : o(t, n);
                else {
                    try {
                        a.unsafe ? e[t] && (l = !0) : delete e[t]
                    } catch (e) {}
                    l ? e[t] = n : r.f(e, t, {
                        value: n,
                        enumerable: !1,
                        configurable: !a.nonConfigurable,
                        writable: !a.nonWritable
                    })
                }
                return e
            }
        },
        9444: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = Object.defineProperty;
            e.exports = function(e, t) {
                try {
                    r(i, e, {
                        value: t,
                        configurable: !0,
                        writable: !0
                    })
                } catch (n) {
                    i[e] = t
                }
                return t
            }
        },
        5283: (e, t, n) => {
            "use strict";
            var i = n(3677);
            e.exports = !i((function() {
                return 7 != Object.defineProperty({}, 1, {
                    get: function() {
                        return 7
                    }
                })[1]
            }))
        },
        7886: e => {
            "use strict";
            var t = "object" == typeof document && document.all,
                n = void 0 === t && void 0 !== t;
            e.exports = {
                all: t,
                IS_HTMLDDA: n
            }
        },
        821: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(8759),
                s = i.document,
                o = r(s) && r(s.createElement);
            e.exports = function(e) {
                return o ? s.createElement(e) : {}
            }
        },
        4999: e => {
            "use strict";
            e.exports = "undefined" != typeof navigator && String(navigator.userAgent) || ""
        },
        1448: (e, t, n) => {
            "use strict";
            var i, r, s = n(2086),
                o = n(4999),
                a = s.process,
                l = s.Deno,
                c = a && a.versions || l && l.version,
                u = c && c.v8;
            u && (r = (i = u.split("."))[0] > 0 && i[0] < 4 ? 1 : +(i[0] + i[1])), !r && o && (!(i = o.match(/Edge\/(\d+)/)) || i[1] >= 74) && (i = o.match(/Chrome\/(\d+)/)) && (r = +i[1]), e.exports = r
        },
        8684: e => {
            "use strict";
            e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"]
        },
        79: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = Error,
                s = i("".replace),
                o = String(r("zxcasd").stack),
                a = /\n\s*at [^:]*:[^\n]*/,
                l = a.test(o);
            e.exports = function(e, t) {
                if (l && "string" == typeof e && !r.prepareStackTrace)
                    for (; t--;) e = s(e, a, "");
                return e
            }
        },
        8395: (e, t, n) => {
            "use strict";
            var i = n(2585),
                r = n(79),
                s = n(2114),
                o = Error.captureStackTrace;
            e.exports = function(e, t, n, a) {
                s && (o ? o(e, t) : i(e, "stack", r(n, a)))
            }
        },
        2114: (e, t, n) => {
            "use strict";
            var i = n(3677),
                r = n(5736);
            e.exports = !i((function() {
                var e = Error("a");
                return !("stack" in e) || (Object.defineProperty(e, "stack", r(1, 7)), 7 !== e.stack)
            }))
        },
        1695: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(4399).f,
                s = n(2585),
                o = n(1343),
                a = n(9444),
                l = n(8474),
                c = n(7189);
            e.exports = function(e, t) {
                var n, u, d, h, g, p = e.target,
                    f = e.global,
                    m = e.stat;
                if (n = f ? i : m ? i[p] || a(p, {}) : (i[p] || {}).prototype)
                    for (u in t) {
                        if (h = t[u], d = e.dontCallGetSet ? (g = r(n, u)) && g.value : n[u], !c(f ? u : p + (m ? "." : "#") + u, e.forced) && void 0 !== d) {
                            if (typeof h == typeof d) continue;
                            l(h, d)
                        }(e.sham || d && d.sham) && s(h, "sham", !0), o(n, u, h, e)
                    }
            }
        },
        3677: e => {
            "use strict";
            e.exports = function(e) {
                try {
                    return !!e()
                } catch (e) {
                    return !0
                }
            }
        },
        7258: (e, t, n) => {
            "use strict";
            var i = n(6059),
                r = Function.prototype,
                s = r.apply,
                o = r.call;
            e.exports = "object" == typeof Reflect && Reflect.apply || (i ? o.bind(s) : function() {
                return o.apply(s, arguments)
            })
        },
        6059: (e, t, n) => {
            "use strict";
            var i = n(3677);
            e.exports = !i((function() {
                var e = function() {}.bind();
                return "function" != typeof e || e.hasOwnProperty("prototype")
            }))
        },
        9413: (e, t, n) => {
            "use strict";
            var i = n(6059),
                r = Function.prototype.call;
            e.exports = i ? r.bind(r) : function() {
                return r.apply(r, arguments)
            }
        },
        4398: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(9606),
                s = Function.prototype,
                o = i && Object.getOwnPropertyDescriptor,
                a = r(s, "name"),
                l = a && "something" === function something() {}.name,
                c = a && (!i || i && o(s, "name").configurable);
            e.exports = {
                EXISTS: a,
                PROPER: l,
                CONFIGURABLE: c
            }
        },
        1518: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(5089);
            e.exports = function(e, t, n) {
                try {
                    return i(r(Object.getOwnPropertyDescriptor(e, t)[n]))
                } catch (e) {}
            }
        },
        8240: (e, t, n) => {
            "use strict";
            var i = n(6059),
                r = Function.prototype,
                s = r.call,
                o = i && r.bind.bind(s, s);
            e.exports = i ? o : function(e) {
                return function() {
                    return s.apply(e, arguments)
                }
            }
        },
        563: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(930);
            e.exports = function(e, t) {
                return arguments.length < 2 ? (n = i[e], r(n) ? n : void 0) : i[e] && i[e][t];
                var n
            }
        },
        2964: (e, t, n) => {
            "use strict";
            var i = n(5089),
                r = n(1858);
            e.exports = function(e, t) {
                var n = e[t];
                return r(n) ? void 0 : i(n)
            }
        },
        2086: function(e, t, n) {
            "use strict";
            var check = function(e) {
                return e && e.Math == Math && e
            };
            e.exports = check("object" == typeof globalThis && globalThis) || check("object" == typeof window && window) || check("object" == typeof self && self) || check("object" == typeof n.g && n.g) || function() {
                return this
            }() || this || Function("return this")()
        },
        9606: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(3060),
                s = i({}.hasOwnProperty);
            e.exports = Object.hasOwn || function hasOwn(e, t) {
                return s(r(e), t)
            }
        },
        7153: e => {
            "use strict";
            e.exports = {}
        },
        6761: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(3677),
                s = n(821);
            e.exports = !i && !r((function() {
                return 7 != Object.defineProperty(s("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            }))
        },
        5974: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(3677),
                s = n(2306),
                o = Object,
                a = i("".split);
            e.exports = r((function() {
                return !o("z").propertyIsEnumerable(0)
            })) ? function(e) {
                return "String" == s(e) ? a(e, "") : o(e)
            } : o
        },
        5070: (e, t, n) => {
            "use strict";
            var i = n(930),
                r = n(8759),
                s = n(7530);
            e.exports = function(e, t, n) {
                var o, a;
                return s && i(o = t.constructor) && o !== n && r(a = o.prototype) && a !== n.prototype && s(e, a), e
            }
        },
        9277: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(930),
                s = n(4489),
                o = i(Function.toString);
            r(s.inspectSource) || (s.inspectSource = function(e) {
                return o(e)
            }), e.exports = s.inspectSource
        },
        8945: (e, t, n) => {
            "use strict";
            var i = n(8759),
                r = n(2585);
            e.exports = function(e, t) {
                i(t) && "cause" in t && r(e, "cause", t.cause)
            }
        },
        3278: (e, t, n) => {
            "use strict";
            var i, r, s, o = n(640),
                a = n(2086),
                l = n(8759),
                c = n(2585),
                u = n(9606),
                d = n(4489),
                h = n(8944),
                g = n(7153),
                p = "Object already initialized",
                f = a.TypeError,
                m = a.WeakMap;
            if (o || d.state) {
                var v = d.state || (d.state = new m);
                v.get = v.get, v.has = v.has, v.set = v.set, i = function(e, t) {
                    if (v.has(e)) throw f(p);
                    return t.facade = e, v.set(e, t), t
                }, r = function(e) {
                    return v.get(e) || {}
                }, s = function(e) {
                    return v.has(e)
                }
            } else {
                var b = h("state");
                g[b] = !0, i = function(e, t) {
                    if (u(e, b)) throw f(p);
                    return t.facade = e, c(e, b, t), t
                }, r = function(e) {
                    return u(e, b) ? e[b] : {}
                }, s = function(e) {
                    return u(e, b)
                }
            }
            e.exports = {
                set: i,
                get: r,
                has: s,
                enforce: function(e) {
                    return s(e) ? r(e) : i(e, {})
                },
                getterFor: function(e) {
                    return function(t) {
                        var n;
                        if (!l(t) || (n = r(t)).type !== e) throw f("Incompatible receiver, " + e + " required");
                        return n
                    }
                }
            }
        },
        930: (e, t, n) => {
            "use strict";
            var i = n(7886),
                r = i.all;
            e.exports = i.IS_HTMLDDA ? function(e) {
                return "function" == typeof e || e === r
            } : function(e) {
                return "function" == typeof e
            }
        },
        7189: (e, t, n) => {
            "use strict";
            var i = n(3677),
                r = n(930),
                s = /#|\.prototype\./,
                isForced = function(e, t) {
                    var n = a[o(e)];
                    return n == c || n != l && (r(t) ? i(t) : !!t)
                },
                o = isForced.normalize = function(e) {
                    return String(e).replace(s, ".").toLowerCase()
                },
                a = isForced.data = {},
                l = isForced.NATIVE = "N",
                c = isForced.POLYFILL = "P";
            e.exports = isForced
        },
        1858: e => {
            "use strict";
            e.exports = function(e) {
                return null == e
            }
        },
        8759: (e, t, n) => {
            "use strict";
            var i = n(930),
                r = n(7886),
                s = r.all;
            e.exports = r.IS_HTMLDDA ? function(e) {
                return "object" == typeof e ? null !== e : i(e) || e === s
            } : function(e) {
                return "object" == typeof e ? null !== e : i(e)
            }
        },
        3296: e => {
            "use strict";
            e.exports = !1
        },
        2071: (e, t, n) => {
            "use strict";
            var i = n(563),
                r = n(930),
                s = n(5516),
                o = n(1876),
                a = Object;
            e.exports = o ? function(e) {
                return "symbol" == typeof e
            } : function(e) {
                var t = i("Symbol");
                return r(t) && s(t.prototype, a(e))
            }
        },
        2871: (e, t, n) => {
            "use strict";
            var i = n(4005);
            e.exports = function(e) {
                return i(e.length)
            }
        },
        3712: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(3677),
                s = n(930),
                o = n(9606),
                a = n(5283),
                l = n(4398).CONFIGURABLE,
                c = n(9277),
                u = n(3278),
                d = u.enforce,
                h = u.get,
                g = String,
                p = Object.defineProperty,
                f = i("".slice),
                m = i("".replace),
                v = i([].join),
                b = a && !r((function() {
                    return 8 !== p((function() {}), "length", {
                        value: 8
                    }).length
                })),
                y = String(String).split("String"),
                S = e.exports = function(e, t, n) {
                    "Symbol(" === f(g(t), 0, 7) && (t = "[" + m(g(t), /^Symbol\(([^)]*)\)/, "$1") + "]"), n && n.getter && (t = "get " + t), n && n.setter && (t = "set " + t), (!o(e, "name") || l && e.name !== t) && (a ? p(e, "name", {
                        value: t,
                        configurable: !0
                    }) : e.name = t), b && n && o(n, "arity") && e.length !== n.arity && p(e, "length", {
                        value: n.arity
                    });
                    try {
                        n && o(n, "constructor") && n.constructor ? a && p(e, "prototype", {
                            writable: !1
                        }) : e.prototype && (e.prototype = void 0)
                    } catch (e) {}
                    var i = d(e);
                    return o(i, "source") || (i.source = v(y, "string" == typeof t ? t : "")), e
                };
            Function.prototype.toString = S((function toString() {
                return s(this) && h(this).source || c(this)
            }), "toString")
        },
        5681: e => {
            "use strict";
            var t = Math.ceil,
                n = Math.floor;
            e.exports = Math.trunc || function trunc(e) {
                var i = +e;
                return (i > 0 ? n : t)(i)
            }
        },
        1879: (e, t, n) => {
            "use strict";
            var i = n(4059);
            e.exports = function(e, t) {
                return void 0 === e ? arguments.length < 2 ? "" : t : i(e)
            }
        },
        7826: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(6761),
                s = n(8202),
                o = n(6112),
                a = n(2258),
                l = TypeError,
                c = Object.defineProperty,
                u = Object.getOwnPropertyDescriptor,
                d = "enumerable",
                h = "configurable",
                g = "writable";
            t.f = i ? s ? function defineProperty(e, t, n) {
                if (o(e), t = a(t), o(n), "function" == typeof e && "prototype" === t && "value" in n && g in n && !n[g]) {
                    var i = u(e, t);
                    i && i[g] && (e[t] = n.value, n = {
                        configurable: h in n ? n[h] : i[h],
                        enumerable: d in n ? n[d] : i[d],
                        writable: !1
                    })
                }
                return c(e, t, n)
            } : c : function defineProperty(e, t, n) {
                if (o(e), t = a(t), o(n), r) try {
                    return c(e, t, n)
                } catch (e) {}
                if ("get" in n || "set" in n) throw l("Accessors not supported");
                return "value" in n && (e[t] = n.value), e
            }
        },
        4399: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(9413),
                s = n(7446),
                o = n(5736),
                a = n(4088),
                l = n(2258),
                c = n(9606),
                u = n(6761),
                d = Object.getOwnPropertyDescriptor;
            t.f = i ? d : function getOwnPropertyDescriptor(e, t) {
                if (e = a(e), t = l(t), u) try {
                    return d(e, t)
                } catch (e) {}
                if (c(e, t)) return o(!r(s.f, e, t), e[t])
            }
        },
        62: (e, t, n) => {
            "use strict";
            var i = n(1352),
                r = n(8684).concat("length", "prototype");
            t.f = Object.getOwnPropertyNames || function getOwnPropertyNames(e) {
                return i(e, r)
            }
        },
        6952: (e, t) => {
            "use strict";
            t.f = Object.getOwnPropertySymbols
        },
        5516: (e, t, n) => {
            "use strict";
            var i = n(8240);
            e.exports = i({}.isPrototypeOf)
        },
        1352: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = n(9606),
                s = n(4088),
                o = n(6198).indexOf,
                a = n(7153),
                l = i([].push);
            e.exports = function(e, t) {
                var n, i = s(e),
                    c = 0,
                    u = [];
                for (n in i) !r(a, n) && r(i, n) && l(u, n);
                for (; t.length > c;) r(i, n = t[c++]) && (~o(u, n) || l(u, n));
                return u
            }
        },
        7446: (e, t) => {
            "use strict";
            var n = {}.propertyIsEnumerable,
                i = Object.getOwnPropertyDescriptor,
                r = i && !n.call({
                    1: 2
                }, 1);
            t.f = r ? function propertyIsEnumerable(e) {
                var t = i(this, e);
                return !!t && t.enumerable
            } : n
        },
        7530: (e, t, n) => {
            "use strict";
            var i = n(1518),
                r = n(6112),
                s = n(1378);
            e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
                var e, t = !1,
                    n = {};
                try {
                    (e = i(Object.prototype, "__proto__", "set"))(n, []), t = n instanceof Array
                } catch (e) {}
                return function setPrototypeOf(n, i) {
                    return r(n), s(i), t ? e(n, i) : n.__proto__ = i, n
                }
            }() : void 0)
        },
        7999: (e, t, n) => {
            "use strict";
            var i = n(9413),
                r = n(930),
                s = n(8759),
                o = TypeError;
            e.exports = function(e, t) {
                var n, a;
                if ("string" === t && r(n = e.toString) && !s(a = i(n, e))) return a;
                if (r(n = e.valueOf) && !s(a = i(n, e))) return a;
                if ("string" !== t && r(n = e.toString) && !s(a = i(n, e))) return a;
                throw o("Can't convert object to primitive value")
            }
        },
        6095: (e, t, n) => {
            "use strict";
            var i = n(563),
                r = n(8240),
                s = n(62),
                o = n(6952),
                a = n(6112),
                l = r([].concat);
            e.exports = i("Reflect", "ownKeys") || function ownKeys(e) {
                var t = s.f(a(e)),
                    n = o.f;
                return n ? l(t, n(e)) : t
            }
        },
        1632: (e, t, n) => {
            "use strict";
            var i = n(7826).f;
            e.exports = function(e, t, n) {
                n in e || i(e, n, {
                    configurable: !0,
                    get: function() {
                        return t[n]
                    },
                    set: function(e) {
                        t[n] = e
                    }
                })
            }
        },
        9586: (e, t, n) => {
            "use strict";
            var i = n(1858),
                r = TypeError;
            e.exports = function(e) {
                if (i(e)) throw r("Can't call method on " + e);
                return e
            }
        },
        8944: (e, t, n) => {
            "use strict";
            var i = n(9197),
                r = n(5422),
                s = i("keys");
            e.exports = function(e) {
                return s[e] || (s[e] = r(e))
            }
        },
        4489: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(9444),
                s = "__core-js_shared__",
                o = i[s] || r(s, {});
            e.exports = o
        },
        9197: (e, t, n) => {
            "use strict";
            var i = n(3296),
                r = n(4489);
            (e.exports = function(e, t) {
                return r[e] || (r[e] = void 0 !== t ? t : {})
            })("versions", []).push({
                version: "3.32.0",
                mode: i ? "pure" : "global",
                copyright: "© 2014-2023 Denis Pushkarev (zloirock.ru)",
                license: "https://github.com/zloirock/core-js/blob/v3.32.0/LICENSE",
                source: "https://github.com/zloirock/core-js"
            })
        },
        5558: (e, t, n) => {
            "use strict";
            var i = n(1448),
                r = n(3677),
                s = n(2086).String;
            e.exports = !!Object.getOwnPropertySymbols && !r((function() {
                var e = Symbol();
                return !s(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && i && i < 41
            }))
        },
        7740: (e, t, n) => {
            "use strict";
            var i = n(9502),
                r = Math.max,
                s = Math.min;
            e.exports = function(e, t) {
                var n = i(e);
                return n < 0 ? r(n + t, 0) : s(n, t)
            }
        },
        4088: (e, t, n) => {
            "use strict";
            var i = n(5974),
                r = n(9586);
            e.exports = function(e) {
                return i(r(e))
            }
        },
        9502: (e, t, n) => {
            "use strict";
            var i = n(5681);
            e.exports = function(e) {
                var t = +e;
                return t != t || 0 === t ? 0 : i(t)
            }
        },
        4005: (e, t, n) => {
            "use strict";
            var i = n(9502),
                r = Math.min;
            e.exports = function(e) {
                return e > 0 ? r(i(e), 9007199254740991) : 0
            }
        },
        3060: (e, t, n) => {
            "use strict";
            var i = n(9586),
                r = Object;
            e.exports = function(e) {
                return r(i(e))
            }
        },
        1288: (e, t, n) => {
            "use strict";
            var i = n(9413),
                r = n(8759),
                s = n(2071),
                o = n(2964),
                a = n(7999),
                l = n(211),
                c = TypeError,
                u = l("toPrimitive");
            e.exports = function(e, t) {
                if (!r(e) || s(e)) return e;
                var n, l = o(e, u);
                if (l) {
                    if (void 0 === t && (t = "default"), n = i(l, e, t), !r(n) || s(n)) return n;
                    throw c("Can't convert object to primitive value")
                }
                return void 0 === t && (t = "number"), a(e, t)
            }
        },
        2258: (e, t, n) => {
            "use strict";
            var i = n(1288),
                r = n(2071);
            e.exports = function(e) {
                var t = i(e, "string");
                return r(t) ? t : t + ""
            }
        },
        2371: (e, t, n) => {
            "use strict";
            var i = {};
            i[n(211)("toStringTag")] = "z", e.exports = "[object z]" === String(i)
        },
        4059: (e, t, n) => {
            "use strict";
            var i = n(375),
                r = String;
            e.exports = function(e) {
                if ("Symbol" === i(e)) throw TypeError("Cannot convert a Symbol value to a string");
                return r(e)
            }
        },
        9268: e => {
            "use strict";
            var t = String;
            e.exports = function(e) {
                try {
                    return t(e)
                } catch (e) {
                    return "Object"
                }
            }
        },
        5422: (e, t, n) => {
            "use strict";
            var i = n(8240),
                r = 0,
                s = Math.random(),
                o = i(1..toString);
            e.exports = function(e) {
                return "Symbol(" + (void 0 === e ? "" : e) + ")_" + o(++r + s, 36)
            }
        },
        1876: (e, t, n) => {
            "use strict";
            var i = n(5558);
            e.exports = i && !Symbol.sham && "symbol" == typeof Symbol.iterator
        },
        8202: (e, t, n) => {
            "use strict";
            var i = n(5283),
                r = n(3677);
            e.exports = i && r((function() {
                return 42 != Object.defineProperty((function() {}), "prototype", {
                    value: 42,
                    writable: !1
                }).prototype
            }))
        },
        640: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(930),
                s = i.WeakMap;
            e.exports = r(s) && /native code/.test(String(s))
        },
        211: (e, t, n) => {
            "use strict";
            var i = n(2086),
                r = n(9197),
                s = n(9606),
                o = n(5422),
                a = n(5558),
                l = n(1876),
                c = i.Symbol,
                u = r("wks"),
                d = l ? c.for || c : c && c.withoutSetter || o;
            e.exports = function(e) {
                return s(u, e) || (u[e] = a && s(c, e) ? c[e] : d("Symbol." + e)), u[e]
            }
        },
        1557: (e, t, n) => {
            "use strict";
            var i = n(563),
                r = n(9606),
                s = n(2585),
                o = n(5516),
                a = n(7530),
                l = n(8474),
                c = n(1632),
                u = n(5070),
                d = n(1879),
                h = n(8945),
                g = n(8395),
                p = n(5283),
                f = n(3296);
            e.exports = function(e, t, n, m) {
                var v = "stackTraceLimit",
                    b = m ? 2 : 1,
                    y = e.split("."),
                    S = y[y.length - 1],
                    w = i.apply(null, y);
                if (w) {
                    var E = w.prototype;
                    if (!f && r(E, "cause") && delete E.cause, !n) return w;
                    var T = i("Error"),
                        C = t((function(e, t) {
                            var n = d(m ? t : e, void 0),
                                i = m ? new w(e) : new w;
                            return void 0 !== n && s(i, "message", n), g(i, C, i.stack, 2), this && o(E, this) && u(i, this, C), arguments.length > b && h(i, arguments[b]), i
                        }));
                    if (C.prototype = E, "Error" !== S ? a ? a(C, T) : l(C, T, {
                            name: !0
                        }) : p && v in w && (c(C, w, v), c(C, w, "prepareStackTrace")), l(C, w), !f) try {
                        E.name !== S && s(E, "name", S), E.constructor = C
                    } catch (e) {}
                    return C
                }
            }
        },
        740: (e, t, n) => {
            "use strict";
            var i = n(1695),
                r = n(2086),
                s = n(7258),
                o = n(1557),
                a = "WebAssembly",
                l = r[a],
                c = 7 !== Error("e", {
                    cause: 7
                }).cause,
                exportGlobalErrorCauseWrapper = function(e, t) {
                    var n = {};
                    n[e] = o(e, t, c), i({
                        global: !0,
                        constructor: !0,
                        arity: 1,
                        forced: c
                    }, n)
                },
                exportWebAssemblyErrorCauseWrapper = function(e, t) {
                    if (l && l[e]) {
                        var n = {};
                        n[e] = o(a + "." + e, t, c), i({
                            target: a,
                            stat: !0,
                            constructor: !0,
                            arity: 1,
                            forced: c
                        }, n)
                    }
                };
            exportGlobalErrorCauseWrapper("Error", (function(e) {
                return function Error(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("EvalError", (function(e) {
                return function EvalError(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("RangeError", (function(e) {
                return function RangeError(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("ReferenceError", (function(e) {
                return function ReferenceError(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("SyntaxError", (function(e) {
                return function SyntaxError(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("TypeError", (function(e) {
                return function TypeError(t) {
                    return s(e, this, arguments)
                }
            })), exportGlobalErrorCauseWrapper("URIError", (function(e) {
                return function URIError(t) {
                    return s(e, this, arguments)
                }
            })), exportWebAssemblyErrorCauseWrapper("CompileError", (function(e) {
                return function CompileError(t) {
                    return s(e, this, arguments)
                }
            })), exportWebAssemblyErrorCauseWrapper("LinkError", (function(e) {
                return function LinkError(t) {
                    return s(e, this, arguments)
                }
            })), exportWebAssemblyErrorCauseWrapper("RuntimeError", (function(e) {
                return function RuntimeError(t) {
                    return s(e, this, arguments)
                }
            }))
        },
        3203: e => {
            e.exports = function _interopRequireDefault(e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }, e.exports.__esModule = !0, e.exports.default = e.exports
        }
    },
    e => {
        var t;
        t = 6412, e(e.s = t)
    }
]);
! function() {
    "use strict";

    function Waypoint(options) {
        if (!options) throw new Error("No options passed to Waypoint constructor");
        if (!options.element) throw new Error("No element option passed to Waypoint constructor");
        if (!options.handler) throw new Error("No handler option passed to Waypoint constructor");
        this.key = "waypoint-" + keyCounter, this.options = Waypoint.Adapter.extend({}, Waypoint.defaults, options), this.element = this.options.element, this.adapter = new Waypoint.Adapter(this.element), this.callback = options.handler, this.axis = this.options.horizontal ? "horizontal" : "vertical", this.enabled = this.options.enabled, this.triggerPoint = null, this.group = Waypoint.Group.findOrCreate({
            name: this.options.group,
            axis: this.axis
        }), this.context = Waypoint.Context.findOrCreateByElement(this.options.context), Waypoint.offsetAliases[this.options.offset] && (this.options.offset = Waypoint.offsetAliases[this.options.offset]), this.group.add(this), this.context.add(this), allWaypoints[this.key] = this, keyCounter += 1
    }
    var keyCounter = 0,
        allWaypoints = {};
    Waypoint.prototype.queueTrigger = function(direction) {
        this.group.queueTrigger(this, direction)
    }, Waypoint.prototype.trigger = function(args) {
        this.enabled && this.callback && this.callback.apply(this, args)
    }, Waypoint.prototype.destroy = function() {
        this.context.remove(this), this.group.remove(this), delete allWaypoints[this.key]
    }, Waypoint.prototype.disable = function() {
        return this.enabled = !1, this
    }, Waypoint.prototype.enable = function() {
        return this.context.refresh(), this.enabled = !0, this
    }, Waypoint.prototype.next = function() {
        return this.group.next(this)
    }, Waypoint.prototype.previous = function() {
        return this.group.previous(this)
    }, Waypoint.invokeAll = function(method) {
        var allWaypointsArray = [];
        for (var waypointKey in allWaypoints) allWaypointsArray.push(allWaypoints[waypointKey]);
        for (var i = 0, end = allWaypointsArray.length; i < end; i++) allWaypointsArray[i][method]()
    }, Waypoint.destroyAll = function() {
        Waypoint.invokeAll("destroy")
    }, Waypoint.disableAll = function() {
        Waypoint.invokeAll("disable")
    }, Waypoint.enableAll = function() {
        Waypoint.Context.refreshAll();
        for (var waypointKey in allWaypoints) allWaypoints[waypointKey].enabled = !0;
        return this
    }, Waypoint.refreshAll = function() {
        Waypoint.Context.refreshAll()
    }, Waypoint.viewportHeight = function() {
        return window.innerHeight || document.documentElement.clientHeight
    }, Waypoint.viewportWidth = function() {
        return document.documentElement.clientWidth
    }, Waypoint.adapters = [], Waypoint.defaults = {
        context: window,
        continuous: !0,
        enabled: !0,
        group: "default",
        horizontal: !1,
        offset: 0
    }, Waypoint.offsetAliases = {
        "bottom-in-view": function() {
            return this.context.innerHeight() - this.adapter.outerHeight()
        },
        "right-in-view": function() {
            return this.context.innerWidth() - this.adapter.outerWidth()
        }
    }, window.Waypoint = Waypoint
}(),
function() {
    "use strict";

    function requestAnimationFrameShim(callback) {
        window.setTimeout(callback, 1e3 / 60)
    }

    function Context(element) {
        this.element = element, this.Adapter = Waypoint.Adapter, this.adapter = new this.Adapter(element), this.key = "waypoint-context-" + keyCounter, this.didScroll = !1, this.didResize = !1, this.oldScroll = {
            x: this.adapter.scrollLeft(),
            y: this.adapter.scrollTop()
        }, this.waypoints = {
            vertical: {},
            horizontal: {}
        }, element.waypointContextKey = this.key, contexts[element.waypointContextKey] = this, keyCounter += 1, Waypoint.windowContext || (Waypoint.windowContext = !0, Waypoint.windowContext = new Context(window)), this.createThrottledScrollHandler(), this.createThrottledResizeHandler()
    }
    var keyCounter = 0,
        contexts = {},
        Waypoint = window.Waypoint,
        oldWindowLoad = window.onload;
    Context.prototype.add = function(waypoint) {
        var axis = waypoint.options.horizontal ? "horizontal" : "vertical";
        this.waypoints[axis][waypoint.key] = waypoint, this.refresh()
    }, Context.prototype.checkEmpty = function() {
        var horizontalEmpty = this.Adapter.isEmptyObject(this.waypoints.horizontal),
            verticalEmpty = this.Adapter.isEmptyObject(this.waypoints.vertical),
            isWindow = this.element == this.element.window;
        horizontalEmpty && verticalEmpty && !isWindow && (this.adapter.off(".waypoints"), delete contexts[this.key])
    }, Context.prototype.createThrottledResizeHandler = function() {
        function resizeHandler() {
            self.handleResize(), self.didResize = !1
        }
        var self = this;
        this.adapter.on("resize.waypoints", function() {
            self.didResize || (self.didResize = !0, Waypoint.requestAnimationFrame(resizeHandler))
        })
    }, Context.prototype.createThrottledScrollHandler = function() {
        function scrollHandler() {
            self.handleScroll(), self.didScroll = !1
        }
        var self = this;
        this.adapter.on("scroll.waypoints", function() {
            self.didScroll && !Waypoint.isTouch || (self.didScroll = !0, Waypoint.requestAnimationFrame(scrollHandler))
        })
    }, Context.prototype.handleResize = function() {
        Waypoint.Context.refreshAll()
    }, Context.prototype.handleScroll = function() {
        var triggeredGroups = {},
            axes = {
                horizontal: {
                    newScroll: this.adapter.scrollLeft(),
                    oldScroll: this.oldScroll.x,
                    forward: "right",
                    backward: "left"
                },
                vertical: {
                    newScroll: this.adapter.scrollTop(),
                    oldScroll: this.oldScroll.y,
                    forward: "down",
                    backward: "up"
                }
            };
        for (var axisKey in axes) {
            var axis = axes[axisKey],
                isForward = axis.newScroll > axis.oldScroll,
                direction = isForward ? axis.forward : axis.backward;
            for (var waypointKey in this.waypoints[axisKey]) {
                var waypoint = this.waypoints[axisKey][waypointKey];
                if (null !== waypoint.triggerPoint) {
                    var wasBeforeTriggerPoint = axis.oldScroll < waypoint.triggerPoint,
                        nowAfterTriggerPoint = axis.newScroll >= waypoint.triggerPoint,
                        crossedForward = wasBeforeTriggerPoint && nowAfterTriggerPoint,
                        crossedBackward = !wasBeforeTriggerPoint && !nowAfterTriggerPoint;
                    (crossedForward || crossedBackward) && (waypoint.queueTrigger(direction), triggeredGroups[waypoint.group.id] = waypoint.group)
                }
            }
        }
        for (var groupKey in triggeredGroups) triggeredGroups[groupKey].flushTriggers();
        this.oldScroll = {
            x: axes.horizontal.newScroll,
            y: axes.vertical.newScroll
        }
    }, Context.prototype.innerHeight = function() {
        return this.element == this.element.window ? Waypoint.viewportHeight() : this.adapter.innerHeight()
    }, Context.prototype.remove = function(waypoint) {
        delete this.waypoints[waypoint.axis][waypoint.key], this.checkEmpty()
    }, Context.prototype.innerWidth = function() {
        return this.element == this.element.window ? Waypoint.viewportWidth() : this.adapter.innerWidth()
    }, Context.prototype.destroy = function() {
        var allWaypoints = [];
        for (var axis in this.waypoints)
            for (var waypointKey in this.waypoints[axis]) allWaypoints.push(this.waypoints[axis][waypointKey]);
        for (var i = 0, end = allWaypoints.length; i < end; i++) allWaypoints[i].destroy()
    }, Context.prototype.refresh = function() {
        var axes, isWindow = this.element == this.element.window,
            contextOffset = isWindow ? void 0 : this.adapter.offset(),
            triggeredGroups = {};
        this.handleScroll(), axes = {
            horizontal: {
                contextOffset: isWindow ? 0 : contextOffset.left,
                contextScroll: isWindow ? 0 : this.oldScroll.x,
                contextDimension: this.innerWidth(),
                oldScroll: this.oldScroll.x,
                forward: "right",
                backward: "left",
                offsetProp: "left"
            },
            vertical: {
                contextOffset: isWindow ? 0 : contextOffset.top,
                contextScroll: isWindow ? 0 : this.oldScroll.y,
                contextDimension: this.innerHeight(),
                oldScroll: this.oldScroll.y,
                forward: "down",
                backward: "up",
                offsetProp: "top"
            }
        };
        for (var axisKey in axes) {
            var axis = axes[axisKey];
            for (var waypointKey in this.waypoints[axisKey]) {
                var contextModifier, wasBeforeScroll, nowAfterScroll, triggeredBackward, triggeredForward, waypoint = this.waypoints[axisKey][waypointKey],
                    adjustment = waypoint.options.offset,
                    oldTriggerPoint = waypoint.triggerPoint,
                    elementOffset = 0,
                    freshWaypoint = null == oldTriggerPoint;
                waypoint.element !== waypoint.element.window && (elementOffset = waypoint.adapter.offset()[axis.offsetProp]), "function" == typeof adjustment ? adjustment = adjustment.apply(waypoint) : "string" == typeof adjustment && (adjustment = parseFloat(adjustment), waypoint.options.offset.indexOf("%") > -1 && (adjustment = Math.ceil(axis.contextDimension * adjustment / 100))), contextModifier = axis.contextScroll - axis.contextOffset, waypoint.triggerPoint = Math.floor(elementOffset + contextModifier - adjustment), wasBeforeScroll = oldTriggerPoint < axis.oldScroll, nowAfterScroll = waypoint.triggerPoint >= axis.oldScroll, triggeredBackward = wasBeforeScroll && nowAfterScroll, triggeredForward = !wasBeforeScroll && !nowAfterScroll, !freshWaypoint && triggeredBackward ? (waypoint.queueTrigger(axis.backward), triggeredGroups[waypoint.group.id] = waypoint.group) : !freshWaypoint && triggeredForward ? (waypoint.queueTrigger(axis.forward), triggeredGroups[waypoint.group.id] = waypoint.group) : freshWaypoint && axis.oldScroll >= waypoint.triggerPoint && (waypoint.queueTrigger(axis.forward), triggeredGroups[waypoint.group.id] = waypoint.group)
            }
        }
        return Waypoint.requestAnimationFrame(function() {
            for (var groupKey in triggeredGroups) triggeredGroups[groupKey].flushTriggers()
        }), this
    }, Context.findOrCreateByElement = function(element) {
        return Context.findByElement(element) || new Context(element)
    }, Context.refreshAll = function() {
        for (var contextId in contexts) contexts[contextId].refresh()
    }, Context.findByElement = function(element) {
        return contexts[element.waypointContextKey]
    }, window.onload = function() {
        oldWindowLoad && oldWindowLoad(), Context.refreshAll()
    }, Waypoint.requestAnimationFrame = function(callback) {
        var requestFn = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || requestAnimationFrameShim;
        requestFn.call(window, callback)
    }, Waypoint.Context = Context
}(),
function() {
    "use strict";

    function byTriggerPoint(a, b) {
        return a.triggerPoint - b.triggerPoint
    }

    function byReverseTriggerPoint(a, b) {
        return b.triggerPoint - a.triggerPoint
    }

    function Group(options) {
        this.name = options.name, this.axis = options.axis, this.id = this.name + "-" + this.axis, this.waypoints = [], this.clearTriggerQueues(), groups[this.axis][this.name] = this
    }
    var groups = {
            vertical: {},
            horizontal: {}
        },
        Waypoint = window.Waypoint;
    Group.prototype.add = function(waypoint) {
        this.waypoints.push(waypoint)
    }, Group.prototype.clearTriggerQueues = function() {
        this.triggerQueues = {
            up: [],
            down: [],
            left: [],
            right: []
        }
    }, Group.prototype.flushTriggers = function() {
        for (var direction in this.triggerQueues) {
            var waypoints = this.triggerQueues[direction],
                reverse = "up" === direction || "left" === direction;
            waypoints.sort(reverse ? byReverseTriggerPoint : byTriggerPoint);
            for (var i = 0, end = waypoints.length; i < end; i += 1) {
                var waypoint = waypoints[i];
                (waypoint.options.continuous || i === waypoints.length - 1) && waypoint.trigger([direction])
            }
        }
        this.clearTriggerQueues()
    }, Group.prototype.next = function(waypoint) {
        this.waypoints.sort(byTriggerPoint);
        var index = Waypoint.Adapter.inArray(waypoint, this.waypoints),
            isLast = index === this.waypoints.length - 1;
        return isLast ? null : this.waypoints[index + 1]
    }, Group.prototype.previous = function(waypoint) {
        this.waypoints.sort(byTriggerPoint);
        var index = Waypoint.Adapter.inArray(waypoint, this.waypoints);
        return index ? this.waypoints[index - 1] : null
    }, Group.prototype.queueTrigger = function(waypoint, direction) {
        this.triggerQueues[direction].push(waypoint)
    }, Group.prototype.remove = function(waypoint) {
        var index = Waypoint.Adapter.inArray(waypoint, this.waypoints);
        index > -1 && this.waypoints.splice(index, 1)
    }, Group.prototype.first = function() {
        return this.waypoints[0]
    }, Group.prototype.last = function() {
        return this.waypoints[this.waypoints.length - 1]
    }, Group.findOrCreate = function(options) {
        return groups[options.axis][options.name] || new Group(options)
    }, Waypoint.Group = Group
}(),
function() {
    "use strict";

    function JQueryAdapter(element) {
        this.$element = $(element)
    }
    var $ = window.jQuery,
        Waypoint = window.Waypoint;
    $.each(["innerHeight", "innerWidth", "off", "offset", "on", "outerHeight", "outerWidth", "scrollLeft", "scrollTop"], function(i, method) {
        JQueryAdapter.prototype[method] = function() {
            var args = Array.prototype.slice.call(arguments);
            return this.$element[method].apply(this.$element, args)
        }
    }), $.each(["extend", "inArray", "isEmptyObject"], function(i, method) {
        JQueryAdapter[method] = $[method]
    }), Waypoint.adapters.push({
        name: "jquery",
        Adapter: JQueryAdapter
    }), Waypoint.Adapter = JQueryAdapter
}(),
function() {
    "use strict";

    function createExtension(framework) {
        return function() {
            var waypoints = [],
                overrides = arguments[0];
            return framework.isFunction(arguments[0]) && (overrides = framework.extend({}, arguments[1]), overrides.handler = arguments[0]), this.each(function() {
                var options = framework.extend({}, overrides, {
                    element: this
                });
                "string" == typeof options.context && (options.context = framework(this).closest(options.context)[0]), waypoints.push(new Waypoint(options))
            }), waypoints
        }
    }
    var Waypoint = window.Waypoint;
    window.jQuery && (window.jQuery.fn.elementorWaypoint = createExtension(window.jQuery)), window.Zepto && (window.Zepto.fn.elementorWaypoint = createExtension(window.Zepto))
}();
/*! jQuery UI - v1.13.2 - 2022-07-14
 * http://jqueryui.com
 * Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
 * Copyright jQuery Foundation and other contributors; Licensed MIT */
! function(t) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(x) {
    "use strict";
    var t, e, i, n, W, C, o, s, r, l, a, h, u;

    function E(t, e, i) {
        return [parseFloat(t[0]) * (a.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (a.test(t[1]) ? i / 100 : 1)]
    }

    function L(t, e) {
        return parseInt(x.css(t, e), 10) || 0
    }

    function N(t) {
        return null != t && t === t.window
    }
    x.ui = x.ui || {}, x.ui.version = "1.13.2",
        /*!
         * jQuery UI :data 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.extend(x.expr.pseudos, {
            data: x.expr.createPseudo ? x.expr.createPseudo(function(e) {
                return function(t) {
                    return !!x.data(t, e)
                }
            }) : function(t, e, i) {
                return !!x.data(t, i[3])
            }
        }),
        /*!
         * jQuery UI Disable Selection 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.fn.extend({
            disableSelection: (t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown", function() {
                return this.on(t + ".ui-disableSelection", function(t) {
                    t.preventDefault()
                })
            }),
            enableSelection: function() {
                return this.off(".ui-disableSelection")
            }
        }),
        /*!
         * jQuery UI Focusable 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.ui.focusable = function(t, e) {
            var i, n, o, s = t.nodeName.toLowerCase();
            return "area" === s ? (o = (i = t.parentNode).name, !(!t.href || !o || "map" !== i.nodeName.toLowerCase()) && 0 < (i = x("img[usemap='#" + o + "']")).length && i.is(":visible")) : (/^(input|select|textarea|button|object)$/.test(s) ? (n = !t.disabled) && (o = x(t).closest("fieldset")[0]) && (n = !o.disabled) : n = "a" === s && t.href || e, n && x(t).is(":visible") && function(t) {
                var e = t.css("visibility");
                for (;
                    "inherit" === e;) t = t.parent(), e = t.css("visibility");
                return "visible" === e
            }(x(t)))
        }, x.extend(x.expr.pseudos, {
            focusable: function(t) {
                return x.ui.focusable(t, null != x.attr(t, "tabindex"))
            }
        }), x.fn._form = function() {
            return "string" == typeof this[0].form ? this.closest("form") : x(this[0].form)
        },
        /*!
         * jQuery UI Form Reset Mixin 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.ui.formResetMixin = {
            _formResetHandler: function() {
                var e = x(this);
                setTimeout(function() {
                    var t = e.data("ui-form-reset-instances");
                    x.each(t, function() {
                        this.refresh()
                    })
                })
            },
            _bindFormResetHandler: function() {
                var t;
                this.form = this.element._form(), this.form.length && ((t = this.form.data("ui-form-reset-instances") || []).length || this.form.on("reset.ui-form-reset", this._formResetHandler), t.push(this), this.form.data("ui-form-reset-instances", t))
            },
            _unbindFormResetHandler: function() {
                var t;
                this.form.length && ((t = this.form.data("ui-form-reset-instances")).splice(x.inArray(this, t), 1), t.length ? this.form.data("ui-form-reset-instances", t) : this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))
            }
        }, x.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
        /*!
         * jQuery UI Support for jQuery core 1.8.x and newer 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         *
         */
        x.expr.pseudos || (x.expr.pseudos = x.expr[":"]), x.uniqueSort || (x.uniqueSort = x.unique), x.escapeSelector || (e = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g, i = function(t, e) {
            return e ? "\0" === t ? "�" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t
        }, x.escapeSelector = function(t) {
            return (t + "").replace(e, i)
        }), x.fn.even && x.fn.odd || x.fn.extend({
            even: function() {
                return this.filter(function(t) {
                    return t % 2 == 0
                })
            },
            odd: function() {
                return this.filter(function(t) {
                    return t % 2 == 1
                })
            }
        }),
        /*!
         * jQuery UI Keycode 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.ui.keyCode = {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        },
        /*!
         * jQuery UI Labels 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.fn.labels = function() {
            var t, e, i;
            return this.length ? this[0].labels && this[0].labels.length ? this.pushStack(this[0].labels) : (e = this.eq(0).parents("label"), (t = this.attr("id")) && (i = (i = this.eq(0).parents().last()).add((i.length ? i : this).siblings()), t = "label[for='" + x.escapeSelector(t) + "']", e = e.add(i.find(t).addBack(t))), this.pushStack(e)) : this.pushStack([])
        }, x.ui.plugin = {
            add: function(t, e, i) {
                var n, o = x.ui[t].prototype;
                for (n in i) o.plugins[n] = o.plugins[n] || [], o.plugins[n].push([e, i[n]])
            },
            call: function(t, e, i, n) {
                var o, s = t.plugins[e];
                if (s && (n || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
                    for (o = 0; o < s.length; o++) t.options[s[o][0]] && s[o][1].apply(t.element, i)
            }
        },
        /*!
         * jQuery UI Position 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         *
         * http://api.jqueryui.com/position/
         */
        W = Math.max, C = Math.abs, o = /left|center|right/, s = /top|center|bottom/, r = /[\+\-]\d+(\.[\d]+)?%?/, l = /^\w+/, a = /%$/, h = x.fn.position, x.position = {
            scrollbarWidth: function() {
                var t, e, i;
                return void 0 !== n ? n : (i = (e = x("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")).children()[0], x("body").append(e), t = i.offsetWidth, e.css("overflow", "scroll"), t === (i = i.offsetWidth) && (i = e[0].clientWidth), e.remove(), n = t - i)
            },
            getScrollInfo: function(t) {
                var e = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"),
                    i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"),
                    e = "scroll" === e || "auto" === e && t.width < t.element[0].scrollWidth;
                return {
                    width: "scroll" === i || "auto" === i && t.height < t.element[0].scrollHeight ? x.position.scrollbarWidth() : 0,
                    height: e ? x.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(t) {
                var e = x(t || window),
                    i = N(e[0]),
                    n = !!e[0] && 9 === e[0].nodeType;
                return {
                    element: e,
                    isWindow: i,
                    isDocument: n,
                    offset: !i && !n ? x(t).offset() : {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: e.scrollLeft(),
                    scrollTop: e.scrollTop(),
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }
            }
        }, x.fn.position = function(f) {
            var c, d, p, g, m, v, y, w, b, _, t, e;
            return f && f.of ? (v = "string" == typeof(f = x.extend({}, f)).of ? x(document).find(f.of) : x(f.of), y = x.position.getWithinInfo(f.within), w = x.position.getScrollInfo(y), b = (f.collision || "flip").split(" "), _ = {}, e = 9 === (e = (t = v)[0]).nodeType ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : N(e) ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            } : e.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: e.pageY,
                    left: e.pageX
                }
            } : {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }, v[0].preventDefault && (f.at = "left top"), d = e.width, p = e.height, m = x.extend({}, g = e.offset), x.each(["my", "at"], function() {
                var t, e, i = (f[this] || "").split(" ");
                (i = 1 === i.length ? o.test(i[0]) ? i.concat(["center"]) : s.test(i[0]) ? ["center"].concat(i) : ["center", "center"] : i)[0] = o.test(i[0]) ? i[0] : "center", i[1] = s.test(i[1]) ? i[1] : "center", t = r.exec(i[0]), e = r.exec(i[1]), _[this] = [t ? t[0] : 0, e ? e[0] : 0], f[this] = [l.exec(i[0])[0], l.exec(i[1])[0]]
            }), 1 === b.length && (b[1] = b[0]), "right" === f.at[0] ? m.left += d : "center" === f.at[0] && (m.left += d / 2), "bottom" === f.at[1] ? m.top += p : "center" === f.at[1] && (m.top += p / 2), c = E(_.at, d, p), m.left += c[0], m.top += c[1], this.each(function() {
                var i, t, r = x(this),
                    l = r.outerWidth(),
                    a = r.outerHeight(),
                    e = L(this, "marginLeft"),
                    n = L(this, "marginTop"),
                    o = l + e + L(this, "marginRight") + w.width,
                    s = a + n + L(this, "marginBottom") + w.height,
                    h = x.extend({}, m),
                    u = E(_.my, r.outerWidth(), r.outerHeight());
                "right" === f.my[0] ? h.left -= l : "center" === f.my[0] && (h.left -= l / 2), "bottom" === f.my[1] ? h.top -= a : "center" === f.my[1] && (h.top -= a / 2), h.left += u[0], h.top += u[1], i = {
                    marginLeft: e,
                    marginTop: n
                }, x.each(["left", "top"], function(t, e) {
                    x.ui.position[b[t]] && x.ui.position[b[t]][e](h, {
                        targetWidth: d,
                        targetHeight: p,
                        elemWidth: l,
                        elemHeight: a,
                        collisionPosition: i,
                        collisionWidth: o,
                        collisionHeight: s,
                        offset: [c[0] + u[0], c[1] + u[1]],
                        my: f.my,
                        at: f.at,
                        within: y,
                        elem: r
                    })
                }), f.using && (t = function(t) {
                    var e = g.left - h.left,
                        i = e + d - l,
                        n = g.top - h.top,
                        o = n + p - a,
                        s = {
                            target: {
                                element: v,
                                left: g.left,
                                top: g.top,
                                width: d,
                                height: p
                            },
                            element: {
                                element: r,
                                left: h.left,
                                top: h.top,
                                width: l,
                                height: a
                            },
                            horizontal: i < 0 ? "left" : 0 < e ? "right" : "center",
                            vertical: o < 0 ? "top" : 0 < n ? "bottom" : "middle"
                        };
                    d < l && C(e + i) < d && (s.horizontal = "center"), p < a && C(n + o) < p && (s.vertical = "middle"), W(C(e), C(i)) > W(C(n), C(o)) ? s.important = "horizontal" : s.important = "vertical", f.using.call(this, t, s)
                }), r.offset(x.extend(h, {
                    using: t
                }))
            })) : h.apply(this, arguments)
        }, x.ui.position = {
            fit: {
                left: function(t, e) {
                    var i, n = e.within,
                        o = n.isWindow ? n.scrollLeft : n.offset.left,
                        n = n.width,
                        s = t.left - e.collisionPosition.marginLeft,
                        r = o - s,
                        l = s + e.collisionWidth - n - o;
                    e.collisionWidth > n ? 0 < r && l <= 0 ? (i = t.left + r + e.collisionWidth - n - o, t.left += r - i) : t.left = !(0 < l && r <= 0) && l < r ? o + n - e.collisionWidth : o : 0 < r ? t.left += r : 0 < l ? t.left -= l : t.left = W(t.left - s, t.left)
                },
                top: function(t, e) {
                    var i, n = e.within,
                        n = n.isWindow ? n.scrollTop : n.offset.top,
                        o = e.within.height,
                        s = t.top - e.collisionPosition.marginTop,
                        r = n - s,
                        l = s + e.collisionHeight - o - n;
                    e.collisionHeight > o ? 0 < r && l <= 0 ? (i = t.top + r + e.collisionHeight - o - n, t.top += r - i) : t.top = !(0 < l && r <= 0) && l < r ? n + o - e.collisionHeight : n : 0 < r ? t.top += r : 0 < l ? t.top -= l : t.top = W(t.top - s, t.top)
                }
            },
            flip: {
                left: function(t, e) {
                    var i = e.within,
                        n = i.offset.left + i.scrollLeft,
                        o = i.width,
                        i = i.isWindow ? i.scrollLeft : i.offset.left,
                        s = t.left - e.collisionPosition.marginLeft,
                        r = s - i,
                        s = s + e.collisionWidth - o - i,
                        l = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        a = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        h = -2 * e.offset[0];
                    r < 0 ? ((o = t.left + l + a + h + e.collisionWidth - o - n) < 0 || o < C(r)) && (t.left += l + a + h) : 0 < s && (0 < (n = t.left - e.collisionPosition.marginLeft + l + a + h - i) || C(n) < s) && (t.left += l + a + h)
                },
                top: function(t, e) {
                    var i = e.within,
                        n = i.offset.top + i.scrollTop,
                        o = i.height,
                        i = i.isWindow ? i.scrollTop : i.offset.top,
                        s = t.top - e.collisionPosition.marginTop,
                        r = s - i,
                        s = s + e.collisionHeight - o - i,
                        l = "top" === e.my[1] ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        a = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        h = -2 * e.offset[1];
                    r < 0 ? ((o = t.top + l + a + h + e.collisionHeight - o - n) < 0 || o < C(r)) && (t.top += l + a + h) : 0 < s && (0 < (n = t.top - e.collisionPosition.marginTop + l + a + h - i) || C(n) < s) && (t.top += l + a + h)
                }
            },
            flipfit: {
                left: function() {
                    x.ui.position.flip.left.apply(this, arguments), x.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    x.ui.position.flip.top.apply(this, arguments), x.ui.position.fit.top.apply(this, arguments)
                }
            }
        }, x.ui.safeActiveElement = function(e) {
            var i;
            try {
                i = e.activeElement
            } catch (t) {
                i = e.body
            }
            return i = (i = i || e.body).nodeName ? i : e.body
        }, x.ui.safeBlur = function(t) {
            t && "body" !== t.nodeName.toLowerCase() && x(t).trigger("blur")
        },
        /*!
         * jQuery UI Scroll Parent 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.fn.scrollParent = function(t) {
            var e = this.css("position"),
                i = "absolute" === e,
                n = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                t = this.parents().filter(function() {
                    var t = x(this);
                    return (!i || "static" !== t.css("position")) && n.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
                }).eq(0);
            return "fixed" !== e && t.length ? t : x(this[0].ownerDocument || document)
        },
        /*!
         * jQuery UI Tabbable 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.extend(x.expr.pseudos, {
            tabbable: function(t) {
                var e = x.attr(t, "tabindex"),
                    i = null != e;
                return (!i || 0 <= e) && x.ui.focusable(t, i)
            }
        }),
        /*!
         * jQuery UI Unique ID 1.13.2
         * http://jqueryui.com
         *
         * Copyright jQuery Foundation and other contributors
         * Released under the MIT license.
         * http://jquery.org/license
         */
        x.fn.extend({
            uniqueId: (u = 0, function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++u)
                })
            }),
            removeUniqueId: function() {
                return this.each(function() {
                    /^ui-id-\d+$/.test(this.id) && x(this).removeAttr("id")
                })
            }
        });
    /*!
     * jQuery UI Widget 1.13.2
     * http://jqueryui.com
     *
     * Copyright jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
    var f, c = 0,
        d = Array.prototype.hasOwnProperty,
        p = Array.prototype.slice;
    x.cleanData = (f = x.cleanData, function(t) {
        for (var e, i, n = 0; null != (i = t[n]); n++)(e = x._data(i, "events")) && e.remove && x(i).triggerHandler("remove");
        f(t)
    }), x.widget = function(t, i, e) {
        var n, o, s, r = {},
            l = t.split(".")[0],
            a = l + "-" + (t = t.split(".")[1]);
        return e || (e = i, i = x.Widget), Array.isArray(e) && (e = x.extend.apply(null, [{}].concat(e))), x.expr.pseudos[a.toLowerCase()] = function(t) {
            return !!x.data(t, a)
        }, x[l] = x[l] || {}, n = x[l][t], o = x[l][t] = function(t, e) {
            if (!this || !this._createWidget) return new o(t, e);
            arguments.length && this._createWidget(t, e)
        }, x.extend(o, n, {
            version: e.version,
            _proto: x.extend({}, e),
            _childConstructors: []
        }), (s = new i).options = x.widget.extend({}, s.options), x.each(e, function(e, n) {
            function o() {
                return i.prototype[e].apply(this, arguments)
            }

            function s(t) {
                return i.prototype[e].apply(this, t)
            }
            r[e] = "function" != typeof n ? n : function() {
                var t, e = this._super,
                    i = this._superApply;
                return this._super = o, this._superApply = s, t = n.apply(this, arguments), this._super = e, this._superApply = i, t
            }
        }), o.prototype = x.widget.extend(s, {
            widgetEventPrefix: n && s.widgetEventPrefix || t
        }, r, {
            constructor: o,
            namespace: l,
            widgetName: t,
            widgetFullName: a
        }), n ? (x.each(n._childConstructors, function(t, e) {
            var i = e.prototype;
            x.widget(i.namespace + "." + i.widgetName, o, e._proto)
        }), delete n._childConstructors) : i._childConstructors.push(o), x.widget.bridge(t, o), o
    }, x.widget.extend = function(t) {
        for (var e, i, n = p.call(arguments, 1), o = 0, s = n.length; o < s; o++)
            for (e in n[o]) i = n[o][e], d.call(n[o], e) && void 0 !== i && (x.isPlainObject(i) ? t[e] = x.isPlainObject(t[e]) ? x.widget.extend({}, t[e], i) : x.widget.extend({}, i) : t[e] = i);
        return t
    }, x.widget.bridge = function(s, e) {
        var r = e.prototype.widgetFullName || s;
        x.fn[s] = function(i) {
            var t = "string" == typeof i,
                n = p.call(arguments, 1),
                o = this;
            return t ? this.length || "instance" !== i ? this.each(function() {
                var t, e = x.data(this, r);
                return "instance" === i ? (o = e, !1) : e ? "function" != typeof e[i] || "_" === i.charAt(0) ? x.error("no such method '" + i + "' for " + s + " widget instance") : (t = e[i].apply(e, n)) !== e && void 0 !== t ? (o = t && t.jquery ? o.pushStack(t.get()) : t, !1) : void 0 : x.error("cannot call methods on " + s + " prior to initialization; attempted to call method '" + i + "'")
            }) : o = void 0 : (n.length && (i = x.widget.extend.apply(null, [i].concat(n))), this.each(function() {
                var t = x.data(this, r);
                t ? (t.option(i || {}), t._init && t._init()) : x.data(this, r, new e(i, this))
            })), o
        }
    }, x.Widget = function() {}, x.Widget._childConstructors = [], x.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            classes: {},
            disabled: !1,
            create: null
        },
        _createWidget: function(t, e) {
            e = x(e || this.defaultElement || this)[0], this.element = x(e), this.uuid = c++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = x(), this.hoverable = x(), this.focusable = x(), this.classesElementLookup = {}, e !== this && (x.data(e, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(t) {
                    t.target === e && this.destroy()
                }
            }), this.document = x(e.style ? e.ownerDocument : e.document || e), this.window = x(this.document[0].defaultView || this.document[0].parentWindow)), this.options = x.widget.extend({}, this.options, this._getCreateOptions(), t), this._create(), this.options.disabled && this._setOptionDisabled(this.options.disabled), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: function() {
            return {}
        },
        _getCreateEventData: x.noop,
        _create: x.noop,
        _init: x.noop,
        destroy: function() {
            var i = this;
            this._destroy(), x.each(this.classesElementLookup, function(t, e) {
                i._removeClass(e, t)
            }), this.element.off(this.eventNamespace).removeData(this.widgetFullName), this.widget().off(this.eventNamespace).removeAttr("aria-disabled"), this.bindings.off(this.eventNamespace)
        },
        _destroy: x.noop,
        widget: function() {
            return this.element
        },
        option: function(t, e) {
            var i, n, o, s = t;
            if (0 === arguments.length) return x.widget.extend({}, this.options);
            if ("string" == typeof t)
                if (s = {}, t = (i = t.split(".")).shift(), i.length) {
                    for (n = s[t] = x.widget.extend({}, this.options[t]), o = 0; o < i.length - 1; o++) n[i[o]] = n[i[o]] || {}, n = n[i[o]];
                    if (t = i.pop(), 1 === arguments.length) return void 0 === n[t] ? null : n[t];
                    n[t] = e
                } else {
                    if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
                    s[t] = e
                }
            return this._setOptions(s), this
        },
        _setOptions: function(t) {
            for (var e in t) this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return "classes" === t && this._setOptionClasses(e), this.options[t] = e, "disabled" === t && this._setOptionDisabled(e), this
        },
        _setOptionClasses: function(t) {
            var e, i, n;
            for (e in t) n = this.classesElementLookup[e], t[e] !== this.options.classes[e] && n && n.length && (i = x(n.get()), this._removeClass(n, e), i.addClass(this._classes({
                element: i,
                keys: e,
                classes: t,
                add: !0
            })))
        },
        _setOptionDisabled: function(t) {
            this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!t), t && (this._removeClass(this.hoverable, null, "ui-state-hover"), this._removeClass(this.focusable, null, "ui-state-focus"))
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _classes: function(o) {
            var s = [],
                r = this;

            function t(t, e) {
                for (var i, n = 0; n < t.length; n++) i = r.classesElementLookup[t[n]] || x(), i = o.add ? (function() {
                    var i = [];
                    o.element.each(function(t, e) {
                        x.map(r.classesElementLookup, function(t) {
                            return t
                        }).some(function(t) {
                            return t.is(e)
                        }) || i.push(e)
                    }), r._on(x(i), {
                        remove: "_untrackClassesElement"
                    })
                }(), x(x.uniqueSort(i.get().concat(o.element.get())))) : x(i.not(o.element).get()), r.classesElementLookup[t[n]] = i, s.push(t[n]), e && o.classes[t[n]] && s.push(o.classes[t[n]])
            }
            return (o = x.extend({
                element: this.element,
                classes: this.options.classes || {}
            }, o)).keys && t(o.keys.match(/\S+/g) || [], !0), o.extra && t(o.extra.match(/\S+/g) || []), s.join(" ")
        },
        _untrackClassesElement: function(i) {
            var n = this;
            x.each(n.classesElementLookup, function(t, e) {
                -1 !== x.inArray(i.target, e) && (n.classesElementLookup[t] = x(e.not(i.target).get()))
            }), this._off(x(i.target))
        },
        _removeClass: function(t, e, i) {
            return this._toggleClass(t, e, i, !1)
        },
        _addClass: function(t, e, i) {
            return this._toggleClass(t, e, i, !0)
        },
        _toggleClass: function(t, e, i, n) {
            var o = "string" == typeof t || null === t,
                e = {
                    extra: o ? e : i,
                    keys: o ? t : e,
                    element: o ? this.element : t,
                    add: n = "boolean" == typeof n ? n : i
                };
            return e.element.toggleClass(this._classes(e), n), this
        },
        _on: function(o, s, t) {
            var r, l = this;
            "boolean" != typeof o && (t = s, s = o, o = !1), t ? (s = r = x(s), this.bindings = this.bindings.add(s)) : (t = s, s = this.element, r = this.widget()), x.each(t, function(t, e) {
                function i() {
                    if (o || !0 !== l.options.disabled && !x(this).hasClass("ui-state-disabled")) return ("string" == typeof e ? l[e] : e).apply(l, arguments)
                }
                "string" != typeof e && (i.guid = e.guid = e.guid || i.guid || x.guid++);
                var t = t.match(/^([\w:-]*)\s*(.*)$/),
                    n = t[1] + l.eventNamespace,
                    t = t[2];
                t ? r.on(n, t, i) : s.on(n, i)
            })
        },
        _off: function(t, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.off(e), this.bindings = x(this.bindings.not(t).get()), this.focusable = x(this.focusable.not(t).get()), this.hoverable = x(this.hoverable.not(t).get())
        },
        _delay: function(t, e) {
            var i = this;
            return setTimeout(function() {
                return ("string" == typeof t ? i[t] : t).apply(i, arguments)
            }, e || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t), this._on(t, {
                mouseenter: function(t) {
                    this._addClass(x(t.currentTarget), null, "ui-state-hover")
                },
                mouseleave: function(t) {
                    this._removeClass(x(t.currentTarget), null, "ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t), this._on(t, {
                focusin: function(t) {
                    this._addClass(x(t.currentTarget), null, "ui-state-focus")
                },
                focusout: function(t) {
                    this._removeClass(x(t.currentTarget), null, "ui-state-focus")
                }
            })
        },
        _trigger: function(t, e, i) {
            var n, o, s = this.options[t];
            if (i = i || {}, (e = x.Event(e)).type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), e.target = this.element[0], o = e.originalEvent)
                for (n in o) n in e || (e[n] = o[n]);
            return this.element.trigger(e, i), !("function" == typeof s && !1 === s.apply(this.element[0], [e].concat(i)) || e.isDefaultPrevented())
        }
    }, x.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(s, r) {
        x.Widget.prototype["_" + s] = function(e, t, i) {
            var n, o = (t = "string" == typeof t ? {
                effect: t
            } : t) ? !0 !== t && "number" != typeof t && t.effect || r : s;
            "number" == typeof(t = t || {}) ? t = {
                duration: t
            }: !0 === t && (t = {}), n = !x.isEmptyObject(t), t.complete = i, t.delay && e.delay(t.delay), n && x.effects && x.effects.effect[o] ? e[s](t) : o !== s && e[o] ? e[o](t.duration, t.easing, i) : e.queue(function(t) {
                x(this)[s](), i && i.call(e[0]), t()
            })
        }
    })
});
/*! elementor - v3.20.0 - 26-03-2024 */
"use strict";
(self.webpackChunkelementor = self.webpackChunkelementor || []).push([
    [819], {
        9220: (e, t, n) => {
            var o = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = o(n(8135));
            class _default extends elementorModules.ViewModule {
                constructor() {
                    super(...arguments), this.documents = {}, this.initDocumentClasses(), this.attachDocumentsClasses()
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            document: ".elementor"
                        }
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors");
                    return {
                        $documents: jQuery(e.document)
                    }
                }
                initDocumentClasses() {
                    this.documentClasses = {
                        base: i.default
                    }, elementorFrontend.hooks.doAction("elementor/frontend/documents-manager/init-classes", this)
                }
                addDocumentClass(e, t) {
                    this.documentClasses[e] = t
                }
                attachDocumentsClasses() {
                    this.elements.$documents.each(((e, t) => this.attachDocumentClass(jQuery(t))))
                }
                attachDocumentClass(e) {
                    const t = e.data(),
                        n = t.elementorId,
                        o = t.elementorType,
                        i = this.documentClasses[o] || this.documentClasses.base;
                    this.documents[n] = new i({
                        $element: e,
                        id: n
                    })
                }
            }
            t.default = _default
        },
        9804: (e, t, n) => {
            var o = n(3203),
                i = o(n(6397)),
                s = o(n(8704)),
                r = o(n(4985)),
                a = o(n(7537)),
                l = o(n(355)),
                d = o(n(2804)),
                c = o(n(3384));
            e.exports = function(e) {
                var t = this;
                const o = {};
                this.elementsHandlers = {
                    "accordion.default": () => n.e(209).then(n.bind(n, 8470)),
                    "alert.default": () => n.e(745).then(n.bind(n, 9269)),
                    "counter.default": () => n.e(120).then(n.bind(n, 7884)),
                    "progress.default": () => n.e(192).then(n.bind(n, 1351)),
                    "tabs.default": () => n.e(520).then(n.bind(n, 9459)),
                    "toggle.default": () => n.e(181).then(n.bind(n, 2)),
                    "video.default": () => n.e(791).then(n.bind(n, 5363)),
                    "image-carousel.default": () => n.e(268).then(n.bind(n, 5914)),
                    "text-editor.default": () => n.e(357).then(n.bind(n, 1327)),
                    "wp-widget-media_audio.default": () => n.e(52).then(n.bind(n, 7602))
                }, elementorFrontendConfig.experimentalFeatures["nested-elements"] && (this.elementsHandlers["nested-tabs.default"] = () => Promise.resolve().then(n.bind(n, 7323))), elementorFrontendConfig.experimentalFeatures["nested-elements"] && (this.elementsHandlers["nested-accordion.default"] = () => Promise.resolve().then(n.bind(n, 32)));
                const addElementsHandlers = () => {
                        this.elementsHandlers.section = [d.default, ...s.default, l.default, c.default], this.elementsHandlers.container = [...s.default], elementorFrontend.isEditMode() && this.elementsHandlers.container.push(...r.default), this.elementsHandlers.column = a.default, e.each(this.elementsHandlers, ((e, t) => {
                            const n = e.split(".");
                            e = n[0];
                            const o = n[1] || null;
                            this.attachHandler(e, t, o)
                        }))
                    },
                    isClassHandler = e => e.prototype ? .getUniqueHandlerID;
                this.addHandler = function(t, n) {
                    const i = n.$element.data("model-cid");
                    let s;
                    if (i) {
                        s = t.prototype.getConstructorID(), o[i] || (o[i] = {});
                        const e = o[i][s];
                        e && e.onDestroy()
                    }
                    const r = new t(n);
                    elementorFrontend.hooks.doAction(`frontend/element_handler_ready/${n.elementName}`, n.$element, e), i && (o[i][s] = r)
                }, this.attachHandler = (e, n, o) => {
                    Array.isArray(n) || (n = [n]), n.forEach((n => function(e, n) {
                        let o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "default";
                        o = o ? "." + o : "";
                        const i = e + o;
                        elementorFrontend.hooks.addAction(`frontend/element_ready/${i}`, (e => {
                            if (isClassHandler(n)) t.addHandler(n, {
                                $element: e,
                                elementName: i
                            }, !0);
                            else {
                                const o = n();
                                if (!o) return;
                                o instanceof Promise ? o.then((n => {
                                    let {
                                        default: o
                                    } = n;
                                    t.addHandler(o, {
                                        $element: e,
                                        elementName: i
                                    }, !0)
                                })) : t.addHandler(o, {
                                    $element: e,
                                    elementName: i
                                }, !0)
                            }
                        }))
                    }(e, n, o)))
                }, this.getHandler = function(e) {
                    const t = this.elementsHandlers[e];
                    return isClassHandler(t) ? t : new Promise((e => {
                        t().then((t => {
                            let {
                                default: n
                            } = t;
                            e(n)
                        }))
                    }))
                }, this.getHandlers = function(e) {
                    return elementorDevTools.deprecation.deprecated("getHandlers", "3.1.0", "elementorFrontend.elementsHandler.getHandler"), e ? this.getHandler(e) : this.elementsHandlers
                }, this.runReadyTrigger = function(t) {
                    if (elementorFrontend.config.is_static) return;
                    const n = jQuery(t),
                        o = n.attr("data-element_type");
                    if (o && (elementorFrontend.hooks.doAction("frontend/element_ready/global", n, e), elementorFrontend.hooks.doAction(`frontend/element_ready/${o}`, n, e), "widget" === o)) {
                        const t = n.attr("data-widget_type");
                        elementorFrontend.hooks.doAction(`frontend/element_ready/${t}`, n, e)
                    }
                }, this.init = () => {
                    elementorFrontend.hooks.addAction("frontend/element_ready/global", i.default), addElementsHandlers()
                }
            }
        },
        5654: (e, t, n) => {
            var o = n(3203);
            n(59);
            var i = o(n(9220)),
                s = o(n(5107)),
                r = o(n(3308)),
                a = o(n(1604)),
                l = o(n(1911)),
                d = o(n(4773)),
                c = o(n(2064)),
                u = o(n(8628)),
                h = o(n(8646)),
                m = o(n(6866)),
                g = o(n(4375)),
                p = o(n(6404)),
                f = o(n(6046)),
                v = o(n(1322)),
                b = n(6028);
            const _ = n(9469),
                y = n(9804),
                w = n(3346);
            class Frontend extends elementorModules.ViewModule {
                constructor() {
                    super(...arguments), this.config = elementorFrontendConfig, this.config.legacyMode = {
                        get elementWrappers() {
                            return elementorFrontend.isEditMode() && window.top.elementorDevTools.deprecation.deprecated("elementorFrontend.config.legacyMode.elementWrappers", "3.1.0"), !1
                        }
                    }, this.populateActiveBreakpointsConfig()
                }
                get Module() {
                    return this.isEditMode() && parent.elementorDevTools.deprecation.deprecated("elementorFrontend.Module", "2.5.0", "elementorModules.frontend.handlers.Base"), elementorModules.frontend.handlers.Base
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            elementor: ".elementor",
                            adminBar: "#wpadminbar"
                        }
                    }
                }
                getDefaultElements() {
                    const e = {
                        window,
                        $window: jQuery(window),
                        $document: jQuery(document),
                        $head: jQuery(document.head),
                        $body: jQuery(document.body),
                        $deviceMode: jQuery("<span>", {
                            id: "elementor-device-mode",
                            class: "elementor-screen-only"
                        })
                    };
                    return e.$body.append(e.$deviceMode), e
                }
                bindEvents() {
                    this.elements.$window.on("resize", (() => this.setDeviceModeData()))
                }
                getElements(e) {
                    return this.getItems(this.elements, e)
                }
                getPageSettings(e) {
                    const t = this.isEditMode() ? elementor.settings.page.model.attributes : this.config.settings.page;
                    return this.getItems(t, e)
                }
                getGeneralSettings(e) {
                    return this.isEditMode() && parent.elementorDevTools.deprecation.deprecated("getGeneralSettings()", "3.0.0", "getKitSettings() and remove the `elementor_` prefix"), this.getKitSettings(`elementor_${e}`)
                }
                getKitSettings(e) {
                    return this.getItems(this.config.kit, e)
                }
                getCurrentDeviceMode() {
                    return getComputedStyle(this.elements.$deviceMode[0], ":after").content.replace(/"/g, "")
                }
                getDeviceSetting(e, t, n) {
                    if ("widescreen" === e) return this.getWidescreenSetting(t, n);
                    const o = elementorFrontend.breakpoints.getActiveBreakpointsList({
                        largeToSmall: !0,
                        withDesktop: !0
                    });
                    let i = o.indexOf(e);
                    for (; i > 0;) {
                        const e = t[n + "_" + o[i]];
                        if (e || 0 === e) return e;
                        i--
                    }
                    return t[n]
                }
                getWidescreenSetting(e, t) {
                    const n = t + "_widescreen";
                    let o;
                    return o = e[n] ? e[n] : e[t], o
                }
                getCurrentDeviceSetting(e, t) {
                    return this.getDeviceSetting(elementorFrontend.getCurrentDeviceMode(), e, t)
                }
                isEditMode() {
                    return this.config.environmentMode.edit
                }
                isWPPreviewMode() {
                    return this.config.environmentMode.wpPreview
                }
                initDialogsManager() {
                    let e;
                    this.getDialogsManager = () => (e || (e = new DialogsManager.Instance), e)
                }
                initOnReadyComponents() {
                    this.utils = {
                        youtube: new a.default,
                        vimeo: new l.default,
                        baseVideoLoader: new d.default,
                        anchors: new w,
                        get lightbox() {
                            return h.default.getLightbox()
                        },
                        urlActions: new c.default,
                        swiper: u.default,
                        environment: r.default,
                        assetsLoader: new m.default,
                        escapeHTML: b.escapeHTML,
                        events: p.default,
                        controls: new v.default
                    }, this.modules = {
                        StretchElement: elementorModules.frontend.tools.StretchElement,
                        Masonry: elementorModules.utils.Masonry
                    }, this.elementsHandler.init(), this.isEditMode() ? elementor.once("document:loaded", (() => this.onDocumentLoaded())) : this.onDocumentLoaded()
                }
                initOnReadyElements() {
                    this.elements.$wpAdminBar = this.elements.$document.find(this.getSettings("selectors.adminBar"))
                }
                addUserAgentClasses() {
                    for (const [e, t] of Object.entries(r.default)) t && this.elements.$body.addClass("e--ua-" + e)
                }
                setDeviceModeData() {
                    this.elements.$body.attr("data-elementor-device-mode", this.getCurrentDeviceMode())
                }
                addListenerOnce(e, t, n, o) {
                    if (o || (o = this.elements.$window), this.isEditMode())
                        if (this.removeListeners(e, t, o), o instanceof jQuery) {
                            const i = t + "." + e;
                            o.on(i, n)
                        } else o.on(t, n, e);
                    else o.on(t, n)
                }
                removeListeners(e, t, n, o) {
                    if (o || (o = this.elements.$window), o instanceof jQuery) {
                        const i = t + "." + e;
                        o.off(i, n)
                    } else o.off(t, n, e)
                }
                debounce(e, t) {
                    let n;
                    return function() {
                        const o = this,
                            i = arguments,
                            s = !n;
                        clearTimeout(n), n = setTimeout((() => {
                            n = null, e.apply(o, i)
                        }), t), s && e.apply(o, i)
                    }
                }
                waypoint(e, t, n) {
                    n = jQuery.extend({
                        offset: "100%",
                        triggerOnce: !0
                    }, n);
                    return e.elementorWaypoint((function() {
                        const e = this.element || this,
                            o = t.apply(e, arguments);
                        return n.triggerOnce && this.destroy && this.destroy(), o
                    }), n)
                }
                muteMigrationTraces() {
                    jQuery.migrateMute = !0, jQuery.migrateTrace = !1
                }
                initModules() {
                    const e = {
                        shapes: f.default
                    };
                    elementorFrontend.trigger("elementor/modules/init:before"), elementorFrontend.trigger("elementor/modules/init/before"), Object.entries(e).forEach((e => {
                        let [t, n] = e;
                        this.modulesHandlers[t] = new n
                    }))
                }
                populateActiveBreakpointsConfig() {
                    this.config.responsive.activeBreakpoints = {}, Object.entries(this.config.responsive.breakpoints).forEach((e => {
                        let [t, n] = e;
                        n.is_enabled && (this.config.responsive.activeBreakpoints[t] = n)
                    }))
                }
                init() {
                    this.hooks = new _, this.breakpoints = new g.default(this.config.responsive), this.storage = new s.default, this.elementsHandler = new y(jQuery), this.modulesHandlers = {}, this.addUserAgentClasses(), this.setDeviceModeData(), this.initDialogsManager(), this.isEditMode() && this.muteMigrationTraces(), p.default.dispatch(this.elements.$window, "elementor/frontend/init"), this.initModules(), this.initOnReadyElements(), this.initOnReadyComponents()
                }
                onDocumentLoaded() {
                    this.documentsManager = new i.default, this.trigger("components:init"), new h.default
                }
            }
            window.elementorFrontend = new Frontend, elementorFrontend.isEditMode() || jQuery((() => elementorFrontend.init()))
        },
        4058: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class BackgroundSlideshow extends elementorModules.frontend.handlers.SwiperBase {
                getDefaultSettings() {
                    return {
                        classes: {
                            swiperContainer: `elementor-background-slideshow ${elementorFrontend.config.swiperClass}`,
                            swiperWrapper: "swiper-wrapper",
                            swiperSlide: "elementor-background-slideshow__slide swiper-slide",
                            swiperPreloader: "swiper-lazy-preloader",
                            slideBackground: "elementor-background-slideshow__slide__image",
                            kenBurns: "elementor-ken-burns",
                            kenBurnsActive: "elementor-ken-burns--active",
                            kenBurnsIn: "elementor-ken-burns--in",
                            kenBurnsOut: "elementor-ken-burns--out"
                        }
                    }
                }
                getSwiperOptions() {
                    const e = this.getElementSettings(),
                        t = {
                            grabCursor: !1,
                            slidesPerView: 1,
                            slidesPerGroup: 1,
                            loop: "yes" === e.background_slideshow_loop,
                            speed: e.background_slideshow_transition_duration,
                            autoplay: {
                                delay: e.background_slideshow_slide_duration,
                                stopOnLastSlide: !e.background_slideshow_loop
                            },
                            handleElementorBreakpoints: !0,
                            on: {
                                slideChange: () => {
                                    e.background_slideshow_ken_burns && this.handleKenBurns()
                                }
                            }
                        };
                    switch ("yes" === e.background_slideshow_loop && (t.loopedSlides = this.getSlidesCount()), e.background_slideshow_slide_transition) {
                        case "fade":
                            t.effect = "fade", t.fadeEffect = {
                                crossFade: !0
                            };
                            break;
                        case "slide_down":
                            t.autoplay.reverseDirection = !0, t.direction = "vertical";
                            break;
                        case "slide_up":
                            t.direction = "vertical"
                    }
                    return "yes" === e.background_slideshow_lazyload && (t.lazy = {
                        loadPrevNext: !0,
                        loadPrevNextAmount: 1
                    }), t
                }
                buildSwiperElements() {
                    const e = this.getSettings("classes"),
                        t = this.getElementSettings(),
                        n = "slide_left" === t.background_slideshow_slide_transition ? "ltr" : "rtl",
                        o = jQuery("<div>", {
                            class: e.swiperContainer,
                            dir: n
                        }),
                        i = jQuery("<div>", {
                            class: e.swiperWrapper
                        }),
                        s = t.background_slideshow_ken_burns,
                        r = "yes" === t.background_slideshow_lazyload;
                    let a = e.slideBackground;
                    if (s) {
                        a += " " + e.kenBurns;
                        const n = "in" === t.background_slideshow_ken_burns_zoom_direction ? "kenBurnsIn" : "kenBurnsOut";
                        a += " " + e[n]
                    }
                    r && (a += " swiper-lazy"), this.elements.$slides = jQuery(), t.background_slideshow_gallery.forEach((t => {
                        const n = jQuery("<div>", {
                            class: e.swiperSlide
                        });
                        let o;
                        if (r) {
                            const n = jQuery("<div>", {
                                class: e.swiperPreloader
                            });
                            o = jQuery("<div>", {
                                class: a,
                                "data-background": t.url
                            }), o.append(n)
                        } else o = jQuery("<div>", {
                            class: a,
                            style: 'background-image: url("' + t.url + '");'
                        });
                        n.append(o), i.append(n), this.elements.$slides = this.elements.$slides.add(n)
                    })), o.append(i), this.$element.prepend(o), this.elements.$backgroundSlideShowContainer = o
                }
                async initSlider() {
                    if (1 >= this.getSlidesCount()) return;
                    const e = this.getElementSettings(),
                        t = elementorFrontend.utils.swiper;
                    this.swiper = await new t(this.elements.$backgroundSlideShowContainer, this.getSwiperOptions()), this.elements.$backgroundSlideShowContainer.data("swiper", this.swiper), e.background_slideshow_ken_burns && this.handleKenBurns()
                }
                activate() {
                    this.buildSwiperElements(), this.initSlider()
                }
                deactivate() {
                    this.swiper && (this.swiper.destroy(), this.elements.$backgroundSlideShowContainer.remove())
                }
                run() {
                    "slideshow" === this.getElementSettings("background_background") ? this.activate() : this.deactivate()
                }
                onInit() {
                    super.onInit(), this.getElementSettings("background_slideshow_gallery") && this.run()
                }
                onDestroy() {
                    super.onDestroy(), this.deactivate()
                }
                onElementChange(e) {
                    "background_background" === e && this.run()
                }
            }
            t.default = BackgroundSlideshow
        },
        9501: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class BackgroundVideo extends elementorModules.frontend.handlers.Base {
                getDefaultSettings() {
                    return {
                        selectors: {
                            backgroundVideoContainer: ".elementor-background-video-container",
                            backgroundVideoEmbed: ".elementor-background-video-embed",
                            backgroundVideoHosted: ".elementor-background-video-hosted"
                        }
                    }
                }
                getDefaultElements() {
                    const e = this.getSettings("selectors"),
                        t = {
                            $backgroundVideoContainer: this.$element.find(e.backgroundVideoContainer)
                        };
                    return t.$backgroundVideoEmbed = t.$backgroundVideoContainer.children(e.backgroundVideoEmbed), t.$backgroundVideoHosted = t.$backgroundVideoContainer.children(e.backgroundVideoHosted), t
                }
                calcVideosSize(e) {
                    let t = "16:9";
                    "vimeo" === this.videoType && (t = e[0].width + ":" + e[0].height);
                    const n = this.elements.$backgroundVideoContainer.outerWidth(),
                        o = this.elements.$backgroundVideoContainer.outerHeight(),
                        i = t.split(":"),
                        s = i[0] / i[1],
                        r = n / o > s;
                    return {
                        width: r ? n : o * s,
                        height: r ? n / s : o
                    }
                }
                changeVideoSize() {
                    if ("hosted" !== this.videoType && !this.player) return;
                    let e;
                    if ("youtube" === this.videoType ? e = jQuery(this.player.getIframe()) : "vimeo" === this.videoType ? e = jQuery(this.player.element) : "hosted" === this.videoType && (e = this.elements.$backgroundVideoHosted), !e) return;
                    const t = this.calcVideosSize(e);
                    e.width(t.width).height(t.height)
                }
                startVideoLoop(e) {
                    if (!this.player.getIframe().contentWindow) return;
                    const t = this.getElementSettings(),
                        n = t.background_video_start || 0,
                        o = t.background_video_end;
                    if (!t.background_play_once || e) {
                        if (this.player.seekTo(n), o) {
                            setTimeout((() => {
                                this.startVideoLoop(!1)
                            }), 1e3 * (o - n + 1))
                        }
                    } else this.player.stopVideo()
                }
                prepareVimeoVideo(e, t) {
                    const n = this.getElementSettings(),
                        o = {
                            url: t,
                            width: this.elements.$backgroundVideoContainer.outerWidth().width,
                            autoplay: !0,
                            loop: !n.background_play_once,
                            transparent: !0,
                            background: !0,
                            muted: !0
                        };
                    n.background_privacy_mode && (o.dnt = !0), this.player = new e.Player(this.elements.$backgroundVideoContainer, o), this.handleVimeoStartEndTimes(n), this.player.ready().then((() => {
                        jQuery(this.player.element).addClass("elementor-background-video-embed"), this.changeVideoSize()
                    }))
                }
                handleVimeoStartEndTimes(e) {
                    e.background_video_start && this.player.on("play", (t => {
                        0 === t.seconds && this.player.setCurrentTime(e.background_video_start)
                    })), this.player.on("timeupdate", (t => {
                        e.background_video_end && e.background_video_end < t.seconds && (e.background_play_once ? this.player.pause() : this.player.setCurrentTime(e.background_video_start)), this.player.getDuration().then((n => {
                            e.background_video_start && !e.background_video_end && t.seconds > n - .5 && this.player.setCurrentTime(e.background_video_start)
                        }))
                    }))
                }
                prepareYTVideo(e, t) {
                    const n = this.elements.$backgroundVideoContainer,
                        o = this.getElementSettings();
                    let i = e.PlayerState.PLAYING;
                    window.chrome && (i = e.PlayerState.UNSTARTED);
                    const s = {
                        videoId: t,
                        events: {
                            onReady: () => {
                                this.player.mute(), this.changeVideoSize(), this.startVideoLoop(!0), this.player.playVideo()
                            },
                            onStateChange: t => {
                                switch (t.data) {
                                    case i:
                                        n.removeClass("elementor-invisible elementor-loading");
                                        break;
                                    case e.PlayerState.ENDED:
                                        "function" == typeof this.player.seekTo && this.player.seekTo(o.background_video_start || 0), o.background_play_once && this.player.destroy()
                                }
                            }
                        },
                        playerVars: {
                            controls: 0,
                            rel: 0,
                            playsinline: 1
                        }
                    };
                    o.background_privacy_mode && (s.host = "https://www.youtube-nocookie.com", s.origin = window.location.hostname), n.addClass("elementor-loading elementor-invisible"), this.player = new e.Player(this.elements.$backgroundVideoEmbed[0], s)
                }
                activate() {
                    let e, t = this.getElementSettings("background_video_link");
                    const n = this.getElementSettings("background_play_once");
                    if (-1 !== t.indexOf("vimeo.com") ? (this.videoType = "vimeo", this.apiProvider = elementorFrontend.utils.vimeo) : t.match(/^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com)/) && (this.videoType = "youtube", this.apiProvider = elementorFrontend.utils.youtube), this.apiProvider) e = this.apiProvider.getVideoIDFromURL(t), this.apiProvider.onApiReady((n => {
                        "youtube" === this.videoType && this.prepareYTVideo(n, e), "vimeo" === this.videoType && this.prepareVimeoVideo(n, t)
                    }));
                    else {
                        this.videoType = "hosted";
                        const e = this.getElementSettings("background_video_start"),
                            o = this.getElementSettings("background_video_end");
                        (e || o) && (t += "#t=" + (e || 0) + (o ? "," + o : "")), this.elements.$backgroundVideoHosted.attr("src", t).one("canplay", this.changeVideoSize.bind(this)), n && this.elements.$backgroundVideoHosted.on("ended", (() => {
                            this.elements.$backgroundVideoHosted.hide()
                        }))
                    }
                    elementorFrontend.elements.$window.on("resize elementor/bg-video/recalc", this.changeVideoSize)
                }
                deactivate() {
                    "youtube" === this.videoType && this.player.getIframe() || "vimeo" === this.videoType ? this.player.destroy() : this.elements.$backgroundVideoHosted.removeAttr("src").off("ended"), elementorFrontend.elements.$window.off("resize", this.changeVideoSize)
                }
                run() {
                    const e = this.getElementSettings();
                    (e.background_play_on_mobile || "mobile" !== elementorFrontend.getCurrentDeviceMode()) && ("video" === e.background_background && e.background_video_link ? this.activate() : this.deactivate())
                }
                onInit() {
                    super.onInit(...arguments), this.changeVideoSize = this.changeVideoSize.bind(this), this.run()
                }
                onElementChange(e) {
                    "background_background" === e && this.run()
                }
            }
            t.default = BackgroundVideo
        },
        8704: (e, t, n) => {
            var o = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = o(n(4058)),
                s = o(n(9501)),
                r = [i.default, s.default];
            t.default = r
        },
        7537: (e, t, n) => {
            var o = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = [o(n(4058)).default];
            t.default = i
        },
        4985: (e, t, n) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var o = [() => n.e(413).then(n.bind(n, 2929)), () => n.e(413).then(n.bind(n, 343)), () => n.e(413).then(n.bind(n, 8073))];
            t.default = o
        },
        6397: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class GlobalHandler extends elementorModules.frontend.handlers.Base {
                getWidgetType() {
                    return "global"
                }
                animate() {
                    const e = this.$element,
                        t = this.getAnimation();
                    if ("none" === t) return void e.removeClass("elementor-invisible");
                    const n = this.getElementSettings(),
                        o = n._animation_delay || n.animation_delay || 0;
                    e.removeClass(t), this.currentAnimation && e.removeClass(this.currentAnimation), this.currentAnimation = t, setTimeout((() => {
                        e.removeClass("elementor-invisible").addClass("animated " + t)
                    }), o)
                }
                getAnimation() {
                    return this.getCurrentDeviceSetting("animation") || this.getCurrentDeviceSetting("_animation")
                }
                onInit() {
                    if (super.onInit(...arguments), this.getAnimation()) {
                        const e = elementorModules.utils.Scroll.scrollObserver({
                            callback: t => {
                                t.isInViewport && (this.animate(), e.unobserve(this.$element[0]))
                            }
                        });
                        e.observe(this.$element[0])
                    }
                }
                onElementChange(e) {
                    /^_?animation/.test(e) && this.animate()
                }
            }
            t.default = e => {
                elementorFrontend.elementsHandler.addHandler(GlobalHandler, {
                    $element: e
                })
            }
        },
        355: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class HandlesPosition extends elementorModules.frontend.handlers.Base {
                isActive() {
                    return elementorFrontend.isEditMode()
                }
                isFirstSection() {
                    return this.$element[0] === document.querySelector(".elementor-edit-mode .elementor-top-section")
                }
                isOverflowHidden() {
                    return "hidden" === this.$element.css("overflow")
                }
                getOffset() {
                    if ("body" === elementor.config.document.container) return this.$element.offset().top;
                    const e = jQuery(elementor.config.document.container);
                    return this.$element.offset().top - e.offset().top
                }
                setHandlesPosition() {
                    const e = elementor.documents.getCurrent();
                    if (!e || !e.container.isEditable()) return;
                    const t = "elementor-section--handles-inside";
                    if (elementor.settings.page.model.attributes.scroll_snap) return void this.$element.addClass(t);
                    const n = this.isOverflowHidden();
                    if (!n && !this.isFirstSection()) return;
                    const o = n ? 0 : this.getOffset();
                    if (o < 25) {
                        this.$element.addClass(t);
                        const e = this.$element.find("> .elementor-element-overlay > .elementor-editor-section-settings");
                        o < -5 ? e.css("top", -o) : e.css("top", "")
                    } else this.$element.removeClass(t)
                }
                onInit() {
                    this.isActive() && (this.setHandlesPosition(), this.$element.on("mouseenter", this.setHandlesPosition.bind(this)))
                }
            }
            t.default = HandlesPosition
        },
        3384: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class Shapes extends elementorModules.frontend.handlers.Base {
                getDefaultSettings() {
                    return {
                        selectors: {
                            container: "> .elementor-shape-%s"
                        },
                        svgURL: elementorFrontend.config.urls.assets + "shapes/"
                    }
                }
                getDefaultElements() {
                    const e = {},
                        t = this.getSettings("selectors");
                    return e.$topContainer = this.$element.find(t.container.replace("%s", "top")), e.$bottomContainer = this.$element.find(t.container.replace("%s", "bottom")), e
                }
                isActive() {
                    return elementorFrontend.isEditMode()
                }
                getSvgURL(e, t) {
                    let n = this.getSettings("svgURL") + t + ".svg";
                    return elementor.config.additional_shapes && e in elementor.config.additional_shapes && (n = elementor.config.additional_shapes[e], -1 < t.indexOf("-negative") && (n = n.replace(".svg", "-negative.svg"))), n
                }
                buildSVG(e) {
                    const t = "shape_divider_" + e,
                        n = this.getElementSettings(t),
                        o = this.elements["$" + e + "Container"];
                    if (o.attr("data-shape", n), !n) return void o.empty();
                    let i = n;
                    this.getElementSettings(t + "_negative") && (i += "-negative");
                    const s = this.getSvgURL(n, i);
                    jQuery.get(s, (e => {
                        o.empty().append(e.childNodes[0])
                    })), this.setNegative(e)
                }
                setNegative(e) {
                    this.elements["$" + e + "Container"].attr("data-negative", !!this.getElementSettings("shape_divider_" + e + "_negative"))
                }
                onInit() {
                    this.isActive(this.getSettings()) && (super.onInit(...arguments), ["top", "bottom"].forEach((e => {
                        this.getElementSettings("shape_divider_" + e) && this.buildSVG(e)
                    })))
                }
                onElementChange(e) {
                    const t = e.match(/^shape_divider_(top|bottom)$/);
                    if (t) return void this.buildSVG(t[1]);
                    const n = e.match(/^shape_divider_(top|bottom)_negative$/);
                    n && (this.buildSVG(n[1]), this.setNegative(n[1]))
                }
            }
            t.default = Shapes
        },
        2804: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class StretchedSection extends elementorModules.frontend.handlers.StretchedElement {
                getStretchedClass() {
                    return "elementor-section-stretched"
                }
                getStretchSettingName() {
                    return "stretch_section"
                }
                getStretchActiveValue() {
                    return "section-stretched"
                }
            }
            t.default = StretchedSection
        },
        3346: (e, t, n) => {
            var o = n(6028);
            e.exports = elementorModules.ViewModule.extend({
                getDefaultSettings: () => ({
                    scrollDuration: 500,
                    selectors: {
                        links: 'a[href*="#"]',
                        targets: ".elementor-element, .elementor-menu-anchor",
                        scrollable: (0, o.isScrollSnapActive)() ? "body" : "html, body"
                    }
                }),
                getDefaultElements() {
                    return {
                        $scrollable: jQuery(this.getSettings("selectors").scrollable)
                    }
                },
                bindEvents() {
                    elementorFrontend.elements.$document.on("click", this.getSettings("selectors.links"), this.handleAnchorLinks)
                },
                handleAnchorLinks(e) {
                    var t, n = e.currentTarget,
                        i = location.pathname === n.pathname;
                    if (location.hostname === n.hostname && i && !(n.hash.length < 2)) {
                        try {
                            t = jQuery(n.hash).filter(this.getSettings("selectors.targets"))
                        } catch (e) {
                            return
                        }
                        if (t.length) {
                            var s = t.offset().top,
                                r = elementorFrontend.elements.$wpAdminBar,
                                a = jQuery(".elementor-section.elementor-sticky--active:visible");
                            r.length > 0 && (s -= r.height()), a.length > 0 && (s -= Math.max.apply(null, a.map((function() {
                                return jQuery(this).outerHeight()
                            })).get())), e.preventDefault(), s = elementorFrontend.hooks.applyFilters("frontend/handlers/menu_anchor/scroll_top_distance", s), (0, o.isScrollSnapActive)() && elementorFrontend.elements.$body.css("scroll-snap-type", "none"), this.elements.$scrollable.animate({
                                scrollTop: s
                            }, this.getSettings("scrollDuration"), "linear", (() => {
                                (0, o.isScrollSnapActive)() && elementorFrontend.elements.$body.css("scroll-snap-type", "")
                            }))
                        }
                    }
                },
                onInit() {
                    elementorModules.ViewModule.prototype.onInit.apply(this, arguments)
                }
            })
        },
        6866: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class AssetsLoader {
                getScriptElement(e) {
                    const t = document.createElement("script");
                    return t.src = e, t
                }
                getStyleElement(e) {
                    const t = document.createElement("link");
                    return t.rel = "stylesheet", t.href = e, t
                }
                load(e, t) {
                    const n = AssetsLoader.assets[e][t];
                    return n.loader || (n.loader = new Promise((t => {
                        const o = "style" === e ? this.getStyleElement(n.src) : this.getScriptElement(n.src);
                        o.onload = () => t(!0);
                        const i = "head" === n.parent ? n.parent : "body";
                        document[i].appendChild(o)
                    }))), n.loader
                }
            }
            t.default = AssetsLoader;
            const n = elementorFrontendConfig.environmentMode.isScriptDebug ? "" : ".min",
                o = elementorFrontendConfig.experimentalFeatures.e_swiper_latest ? `${elementorFrontendConfig.urls.assets}lib/swiper/v8/swiper${n}.js?ver=8.4.5` : `${elementorFrontendConfig.urls.assets}lib/swiper/swiper${n}.js?ver=5.3.6`;
            AssetsLoader.assets = {
                script: {
                    dialog: {
                        src: `${elementorFrontendConfig.urls.assets}lib/dialog/dialog${n}.js?ver=4.9.0`
                    },
                    "share-link": {
                        src: `${elementorFrontendConfig.urls.assets}lib/share-link/share-link${n}.js?ver=${elementorFrontendConfig.version}`
                    },
                    swiper: {
                        src: o
                    }
                },
                style: {}
            }
        },
        1322: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            t.default = class Controls {
                getControlValue(e, t, n) {
                    let o;
                    return o = "object" == typeof e[t] && n ? e[t][n] : e[t], o
                }
                getResponsiveControlValue(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
                    const o = (arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null) || elementorFrontend.getCurrentDeviceMode(),
                        i = this.getControlValue(e, t, n);
                    if ("widescreen" === o) {
                        const o = this.getControlValue(e, `${t}_widescreen`, n);
                        return o || 0 === o ? o : i
                    }
                    const s = elementorFrontend.breakpoints.getActiveBreakpointsList({
                        withDesktop: !0
                    });
                    let r = o,
                        a = s.indexOf(o),
                        l = "";
                    for (; a <= s.length;) {
                        if ("desktop" === r) {
                            l = i;
                            break
                        }
                        const o = `${t}_${r}`,
                            d = this.getControlValue(e, o, n);
                        if (d || 0 === d) {
                            l = d;
                            break
                        }
                        a++, r = s[a]
                    }
                    return l
                }
            }
        },
        8646: (e, t, n) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class LightboxManager extends elementorModules.ViewModule {
                static getLightbox() {
                    const e = new Promise((e => {
                            n.e(723).then(n.t.bind(n, 3896, 23)).then((t => {
                                let {
                                    default: n
                                } = t;
                                return e(new n)
                            }))
                        })),
                        t = elementorFrontend.utils.assetsLoader.load("script", "dialog"),
                        o = elementorFrontend.utils.assetsLoader.load("script", "share-link");
                    return Promise.all([e, t, o]).then((() => e))
                }
                getDefaultSettings() {
                    return {
                        selectors: {
                            links: "a, [data-elementor-lightbox]"
                        }
                    }
                }
                getDefaultElements() {
                    return {
                        $links: jQuery(this.getSettings("selectors.links"))
                    }
                }
                isLightboxLink(e) {
                    if ("a" === e.tagName.toLowerCase() && (e.hasAttribute("download") || !/^[^?]+\.(png|jpe?g|gif|svg|webp)(\?.*)?$/i.test(e.href)) && !e.dataset.elementorLightboxVideo) return !1;
                    const t = elementorFrontend.getKitSettings("global_image_lightbox"),
                        n = e.dataset.elementorOpenLightbox;
                    return "yes" === n || t && "no" !== n
                }
                async onLinkClick(e) {
                    const t = e.currentTarget,
                        n = jQuery(e.target),
                        o = elementorFrontend.isEditMode(),
                        i = o && elementor.$previewContents.find("body").hasClass("elementor-editor__ui-state__color-picker"),
                        s = !!n.closest(".elementor-edit-area").length;
                    if (!this.isLightboxLink(t)) return void(o && s && e.preventDefault());
                    if (e.preventDefault(), o && !elementor.getPreferences("lightbox_in_editor")) return;
                    if (i) return;
                    (this.isOptimizedAssetsLoading() ? await LightboxManager.getLightbox() : elementorFrontend.utils.lightbox).createLightbox(t)
                }
                isOptimizedAssetsLoading() {
                    return elementorFrontend.config.experimentalFeatures.e_optimized_assets_loading
                }
                bindEvents() {
                    elementorFrontend.elements.$document.on("click", this.getSettings("selectors.links"), (e => this.onLinkClick(e)))
                }
                onInit() {
                    super.onInit(...arguments), this.isOptimizedAssetsLoading() && !elementorFrontend.isEditMode() && this.elements.$links.each(((e, t) => {
                        if (this.isLightboxLink(t)) return LightboxManager.getLightbox(), !1
                    }))
                }
            }
            t.default = LightboxManager
        },
        8628: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            t.default = class Swiper {
                constructor(e, t) {
                    return this.config = t, this.config.breakpoints && (this.config = this.adjustConfig(t)), e instanceof jQuery && (e = e[0]), e.closest(".elementor-widget-wrap") ? .classList.add("e-swiper-container"), e.closest(".elementor-widget") ? .classList.add("e-widget-swiper"), new Promise((t => {
                        if (!elementorFrontend.config.experimentalFeatures.e_optimized_assets_loading) return t(this.createSwiperInstance(e, this.config));
                        elementorFrontend.utils.assetsLoader.load("script", "swiper").then((() => t(this.createSwiperInstance(e, this.config))))
                    }))
                }
                createSwiperInstance(e, t) {
                    const n = window.Swiper;
                    return n.prototype.adjustConfig = this.adjustConfig, new n(e, t)
                }
                adjustConfig(e) {
                    if (!e.handleElementorBreakpoints) return e;
                    const t = elementorFrontend.config.responsive.activeBreakpoints,
                        n = elementorFrontend.breakpoints.getBreakpointValues();
                    return Object.keys(e.breakpoints).forEach((o => {
                        const i = parseInt(o);
                        let s;
                        if (i === t.mobile.value || i + 1 === t.mobile.value) s = 0;
                        else if (!t.widescreen || i !== t.widescreen.value && i + 1 !== t.widescreen.value) {
                            const e = n.findIndex((e => i === e || i + 1 === e));
                            s = n[e - 1]
                        } else s = i;
                        e.breakpoints[s] = e.breakpoints[o], e.breakpoints[o] = {
                            slidesPerView: e.slidesPerView,
                            slidesPerGroup: e.slidesPerGroup ? e.slidesPerGroup : 1
                        }
                    })), e
                }
            }
        },
        2064: (e, t, n) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0, n(5719);
            class _default extends elementorModules.ViewModule {
                getDefaultSettings() {
                    return {
                        selectors: {
                            links: 'a[href^="%23elementor-action"], a[href^="#elementor-action"]'
                        }
                    }
                }
                bindEvents() {
                    elementorFrontend.elements.$document.on("click", this.getSettings("selectors.links"), this.runLinkAction.bind(this))
                }
                initActions() {
                    this.actions = {
                        lightbox: async e => {
                            const t = await elementorFrontend.utils.lightbox;
                            e.slideshow ? t.openSlideshow(e.slideshow, e.url) : (e.id && (e.type = "image"), t.showModal(e))
                        }
                    }
                }
                addAction(e, t) {
                    this.actions[e] = t
                }
                runAction(e) {
                    const t = (e = decodeURIComponent(e)).match(/action=(.+?)&/);
                    if (!t) return;
                    const n = this.actions[t[1]];
                    if (!n) return;
                    let o = {};
                    const i = e.match(/settings=(.+)/);
                    i && (o = JSON.parse(atob(i[1])));
                    for (var s = arguments.length, r = new Array(s > 1 ? s - 1 : 0), a = 1; a < s; a++) r[a - 1] = arguments[a];
                    n(o, ...r)
                }
                runLinkAction(e) {
                    e.preventDefault(), this.runAction(jQuery(e.currentTarget).attr("href"), e)
                }
                runHashAction() {
                    if (!location.hash) return;
                    const e = document.querySelector(`[data-e-action-hash="${location.hash}"], a[href*="${location.hash}"]`);
                    e && this.runAction(e.getAttribute("data-e-action-hash"))
                }
                createActionHash(e, t) {
                    return encodeURIComponent(`#elementor-action:action=${e}&settings=${btoa(JSON.stringify(t))}`)
                }
                onInit() {
                    super.onInit(), this.initActions(), elementorFrontend.on("components:init", this.runHashAction.bind(this))
                }
            }
            t.default = _default
        },
        6028: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.isScrollSnapActive = t.escapeHTML = void 0;
            t.escapeHTML = e => {
                const t = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    "'": "&#39;",
                    '"': "&quot;"
                };
                return e.replace(/[&<>'"]/g, (e => t[e] || e))
            };
            t.isScrollSnapActive = () => "yes" === (elementorFrontend.isEditMode() ? elementor.settings.page.model.attributes ? .scroll_snap : elementorFrontend.config.settings.page ? .scroll_snap)
        },
        4773: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class BaseLoader extends elementorModules.ViewModule {
                getDefaultSettings() {
                    return {
                        isInserted: !1,
                        selectors: {
                            firstScript: "script:first"
                        }
                    }
                }
                getDefaultElements() {
                    return {
                        $firstScript: jQuery(this.getSettings("selectors.firstScript"))
                    }
                }
                insertAPI() {
                    this.elements.$firstScript.before(jQuery("<script>", {
                        src: this.getApiURL()
                    })), this.setSettings("isInserted", !0)
                }
                getVideoIDFromURL(e) {
                    const t = e.match(this.getURLRegex());
                    return t && t[1]
                }
                onApiReady(e) {
                    this.getSettings("isInserted") || this.insertAPI(), this.isApiLoaded() ? e(this.getApiObject()) : setTimeout((() => {
                        this.onApiReady(e)
                    }), 350)
                }
                getAutoplayURL(e) {
                    return e.replace("&autoplay=0", "") + "&autoplay=1"
                }
            }
            t.default = BaseLoader
        },
        1911: (e, t, n) => {
            var o = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = o(n(4773));
            class VimeoLoader extends i.default {
                getApiURL() {
                    return "https://player.vimeo.com/api/player.js"
                }
                getURLRegex() {
                    return /^(?:https?:\/\/)?(?:www|player\.)?(?:vimeo\.com\/)?(?:video\/|external\/)?(\d+)([^.?&#"'>]?)/
                }
                isApiLoaded() {
                    return window.Vimeo
                }
                getApiObject() {
                    return Vimeo
                }
                getAutoplayURL(e) {
                    const t = (e = super.getAutoplayURL(e)).match(/#t=[^&]*/);
                    return e.replace(t[0], "") + t
                }
            }
            t.default = VimeoLoader
        },
        1604: (e, t, n) => {
            var o = n(3203);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = o(n(4773));
            class YoutubeLoader extends i.default {
                getApiURL() {
                    return "https://www.youtube.com/iframe_api"
                }
                getURLRegex() {
                    return /^(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtu\.be\/|youtube\.com\/(?:(?:watch)?\?(?:.*&)?vi?=|(?:embed|v|vi|user)\/))([^?&"'>]+)/
                }
                isApiLoaded() {
                    return window.YT && YT.loaded
                }
                getApiObject() {
                    return YT
                }
            }
            t.default = YoutubeLoader
        },
        59: (e, t, n) => {
            n.p = elementorFrontendConfig.urls.assets + "js/"
        },
        4375: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class Breakpoints extends elementorModules.Module {
                constructor(e) {
                    super(), this.responsiveConfig = e
                }
                getActiveBreakpointsList() {
                    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    e = {
                        largeToSmall: !1,
                        withDesktop: !1,
                        ...e
                    };
                    const t = Object.keys(this.responsiveConfig.activeBreakpoints);
                    if (e.withDesktop) {
                        const e = -1 === t.indexOf("widescreen") ? t.length : t.length - 1;
                        t.splice(e, 0, "desktop")
                    }
                    return e.largeToSmall && t.reverse(), t
                }
                getBreakpointValues() {
                    const {
                        activeBreakpoints: e
                    } = this.responsiveConfig, t = [];
                    return Object.values(e).forEach((e => {
                        t.push(e.value)
                    })), t
                }
                getDesktopPreviousDeviceKey() {
                    let e = "";
                    const {
                        activeBreakpoints: t
                    } = this.responsiveConfig, n = Object.keys(t), o = n.length;
                    return e = "min" === t[n[o - 1]].direction ? n[o - 2] : n[o - 1], e
                }
                getDesktopMinPoint() {
                    const {
                        activeBreakpoints: e
                    } = this.responsiveConfig;
                    return e[this.getDesktopPreviousDeviceKey()].value + 1
                }
                getDeviceMinBreakpoint(e) {
                    if ("desktop" === e) return this.getDesktopMinPoint();
                    const {
                        activeBreakpoints: t
                    } = this.responsiveConfig, n = Object.keys(t);
                    let o;
                    if (n[0] === e) o = 320;
                    else if ("widescreen" === e) o = t[e] ? t[e].value : this.responsiveConfig.breakpoints.widescreen;
                    else {
                        const i = n.indexOf(e);
                        o = t[n[i - 1]].value + 1
                    }
                    return o
                }
                getActiveMatchRegex() {
                    return new RegExp(this.getActiveBreakpointsList().map((e => "_" + e)).join("|") + "$")
                }
            }
            t.default = Breakpoints
        },
        6404: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.Events = void 0;
            class Events {
                static dispatch(e, t) {
                    let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null,
                        o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;
                    e = e instanceof jQuery ? e[0] : e, o && e.dispatchEvent(new CustomEvent(o, {
                        detail: n
                    })), e.dispatchEvent(new CustomEvent(t, {
                        detail: n
                    }))
                }
            }
            t.Events = Events;
            var n = Events;
            t.default = n
        },
        9469: e => {
            e.exports = function() {
                var e, t = Array.prototype.slice,
                    n = {
                        actions: {},
                        filters: {}
                    };

                function _removeHook(e, t, o, i) {
                    var s, r, a;
                    if (n[e][t])
                        if (o)
                            if (s = n[e][t], i)
                                for (a = s.length; a--;)(r = s[a]).callback === o && r.context === i && s.splice(a, 1);
                            else
                                for (a = s.length; a--;) s[a].callback === o && s.splice(a, 1);
                    else n[e][t] = []
                }

                function _addHook(e, t, o, i, s) {
                    var r = {
                            callback: o,
                            priority: i,
                            context: s
                        },
                        a = n[e][t];
                    if (a) {
                        var l = !1;
                        if (jQuery.each(a, (function() {
                                if (this.callback === o) return l = !0, !1
                            })), l) return;
                        a.push(r), a = function _hookInsertSort(e) {
                            for (var t, n, o, i = 1, s = e.length; i < s; i++) {
                                for (t = e[i], n = i;
                                    (o = e[n - 1]) && o.priority > t.priority;) e[n] = e[n - 1], --n;
                                e[n] = t
                            }
                            return e
                        }(a)
                    } else a = [r];
                    n[e][t] = a
                }

                function _runHook(e, t, o) {
                    var i, s, r = n[e][t];
                    if (!r) return "filters" === e && o[0];
                    if (s = r.length, "filters" === e)
                        for (i = 0; i < s; i++) o[0] = r[i].callback.apply(r[i].context, o);
                    else
                        for (i = 0; i < s; i++) r[i].callback.apply(r[i].context, o);
                    return "filters" !== e || o[0]
                }
                return e = {
                    removeFilter: function removeFilter(t, n) {
                        return "string" == typeof t && _removeHook("filters", t, n), e
                    },
                    applyFilters: function applyFilters() {
                        var n = t.call(arguments),
                            o = n.shift();
                        return "string" == typeof o ? _runHook("filters", o, n) : e
                    },
                    addFilter: function addFilter(t, n, o, i) {
                        return "string" == typeof t && "function" == typeof n && _addHook("filters", t, n, o = parseInt(o || 10, 10), i), e
                    },
                    removeAction: function removeAction(t, n) {
                        return "string" == typeof t && _removeHook("actions", t, n), e
                    },
                    doAction: function doAction() {
                        var n = t.call(arguments),
                            o = n.shift();
                        return "string" == typeof o && _runHook("actions", o, n), e
                    },
                    addAction: function addAction(t, n, o, i) {
                        return "string" == typeof t && "function" == typeof n && _addHook("actions", t, n, o = parseInt(o || 10, 10), i), e
                    }
                }, e
            }
        },
        3308: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            const matchUserAgent = e => n.indexOf(e) >= 0,
                n = navigator.userAgent,
                o = !!window.opr && !!opr.addons || !!window.opera || matchUserAgent(" OPR/"),
                i = matchUserAgent("Firefox"),
                s = /^((?!chrome|android).)*safari/i.test(n) || /constructor/i.test(window.HTMLElement) || "[object SafariRemoteNotification]" === (!window.safari || "undefined" != typeof safari && safari.pushNotification).toString(),
                r = /Trident|MSIE/.test(n) && !!document.documentMode,
                a = !r && !!window.StyleMedia || matchUserAgent("Edg"),
                l = !!window.chrome && matchUserAgent("Chrome") && !(a || o),
                d = matchUserAgent("Chrome") && !!window.CSS,
                c = matchUserAgent("AppleWebKit") && !d;
            var u = {
                isTouchDevice: "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0,
                appleWebkit: c,
                blink: d,
                chrome: l,
                edge: a,
                firefox: i,
                ie: r,
                mac: matchUserAgent("Macintosh"),
                opera: o,
                safari: s,
                webkit: matchUserAgent("AppleWebKit")
            };
            t.default = u
        },
        5107: (e, t) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class _default extends elementorModules.Module {
                get(e, t) {
                    let n;
                    t = t || {};
                    try {
                        n = t.session ? sessionStorage : localStorage
                    } catch (t) {
                        return e ? void 0 : {}
                    }
                    let o = n.getItem("elementor");
                    o = o ? JSON.parse(o) : {}, o.__expiration || (o.__expiration = {});
                    const i = o.__expiration;
                    let s = [];
                    e ? i[e] && (s = [e]) : s = Object.keys(i);
                    let r = !1;
                    return s.forEach((e => {
                        new Date(i[e]) < new Date && (delete o[e], delete i[e], r = !0)
                    })), r && this.save(o, t.session), e ? o[e] : o
                }
                set(e, t, n) {
                    n = n || {};
                    const o = this.get(null, n);
                    if (o[e] = t, n.lifetimeInSeconds) {
                        const t = new Date;
                        t.setTime(t.getTime() + 1e3 * n.lifetimeInSeconds), o.__expiration[e] = t.getTime()
                    }
                    this.save(o, n.session)
                }
                save(e, t) {
                    let n;
                    try {
                        n = t ? sessionStorage : localStorage
                    } catch (e) {
                        return
                    }
                    n.setItem("elementor", JSON.stringify(e))
                }
            }
            t.default = _default
        },
        6046: (e, t, n) => {
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            class _default extends elementorModules.Module {
                constructor() {
                    super(), elementorFrontend.elementsHandler.attachHandler("text-path", (() => n.e(48).then(n.bind(n, 6468))))
                }
            }
            t.default = _default
        },
        1855: (e, t, n) => {
            var o = n(5516),
                i = TypeError;
            e.exports = function(e, t) {
                if (o(t, e)) return e;
                throw i("Incorrect invocation")
            }
        },
        3621: e => {
            e.exports = {
                IndexSizeError: {
                    s: "INDEX_SIZE_ERR",
                    c: 1,
                    m: 1
                },
                DOMStringSizeError: {
                    s: "DOMSTRING_SIZE_ERR",
                    c: 2,
                    m: 0
                },
                HierarchyRequestError: {
                    s: "HIERARCHY_REQUEST_ERR",
                    c: 3,
                    m: 1
                },
                WrongDocumentError: {
                    s: "WRONG_DOCUMENT_ERR",
                    c: 4,
                    m: 1
                },
                InvalidCharacterError: {
                    s: "INVALID_CHARACTER_ERR",
                    c: 5,
                    m: 1
                },
                NoDataAllowedError: {
                    s: "NO_DATA_ALLOWED_ERR",
                    c: 6,
                    m: 0
                },
                NoModificationAllowedError: {
                    s: "NO_MODIFICATION_ALLOWED_ERR",
                    c: 7,
                    m: 1
                },
                NotFoundError: {
                    s: "NOT_FOUND_ERR",
                    c: 8,
                    m: 1
                },
                NotSupportedError: {
                    s: "NOT_SUPPORTED_ERR",
                    c: 9,
                    m: 1
                },
                InUseAttributeError: {
                    s: "INUSE_ATTRIBUTE_ERR",
                    c: 10,
                    m: 1
                },
                InvalidStateError: {
                    s: "INVALID_STATE_ERR",
                    c: 11,
                    m: 1
                },
                SyntaxError: {
                    s: "SYNTAX_ERR",
                    c: 12,
                    m: 1
                },
                InvalidModificationError: {
                    s: "INVALID_MODIFICATION_ERR",
                    c: 13,
                    m: 1
                },
                NamespaceError: {
                    s: "NAMESPACE_ERR",
                    c: 14,
                    m: 1
                },
                InvalidAccessError: {
                    s: "INVALID_ACCESS_ERR",
                    c: 15,
                    m: 1
                },
                ValidationError: {
                    s: "VALIDATION_ERR",
                    c: 16,
                    m: 0
                },
                TypeMismatchError: {
                    s: "TYPE_MISMATCH_ERR",
                    c: 17,
                    m: 1
                },
                SecurityError: {
                    s: "SECURITY_ERR",
                    c: 18,
                    m: 1
                },
                NetworkError: {
                    s: "NETWORK_ERR",
                    c: 19,
                    m: 1
                },
                AbortError: {
                    s: "ABORT_ERR",
                    c: 20,
                    m: 1
                },
                URLMismatchError: {
                    s: "URL_MISMATCH_ERR",
                    c: 21,
                    m: 1
                },
                QuotaExceededError: {
                    s: "QUOTA_EXCEEDED_ERR",
                    c: 22,
                    m: 1
                },
                TimeoutError: {
                    s: "TIMEOUT_ERR",
                    c: 23,
                    m: 1
                },
                InvalidNodeTypeError: {
                    s: "INVALID_NODE_TYPE_ERR",
                    c: 24,
                    m: 1
                },
                DataCloneError: {
                    s: "DATA_CLONE_ERR",
                    c: 25,
                    m: 1
                }
            }
        },
        5719: (e, t, n) => {
            var o = n(1695),
                i = n(2086),
                s = n(563),
                r = n(5736),
                a = n(7826).f,
                l = n(9606),
                d = n(1855),
                c = n(5070),
                u = n(1879),
                h = n(3621),
                m = n(79),
                g = n(5283),
                p = n(3296),
                f = "DOMException",
                v = s("Error"),
                b = s(f),
                _ = function DOMException() {
                    d(this, y);
                    var e = arguments.length,
                        t = u(e < 1 ? void 0 : arguments[0]),
                        n = u(e < 2 ? void 0 : arguments[1], "Error"),
                        o = new b(t, n),
                        i = v(t);
                    return i.name = f, a(o, "stack", r(1, m(i.stack, 1))), c(o, this, _), o
                },
                y = _.prototype = b.prototype,
                w = "stack" in v(f),
                k = "stack" in new b(1, 2),
                S = b && g && Object.getOwnPropertyDescriptor(i, f),
                E = !(!S || S.writable && S.configurable),
                M = w && !E && !k;
            o({
                global: !0,
                constructor: !0,
                forced: p || M
            }, {
                DOMException: M ? _ : b
            });
            var C = s(f),
                A = C.prototype;
            if (A.constructor !== C)
                for (var D in p || a(A, "constructor", r(1, C)), h)
                    if (l(h, D)) {
                        var $ = h[D],
                            R = $.s;
                        l(C, R) || a(C, R, r(6, $.c))
                    }
        }
    },
    e => {
        e.O(0, [354], (() => {
            return t = 5654, e(e.s = t);
            var t
        }));
        e.O()
    }
]);